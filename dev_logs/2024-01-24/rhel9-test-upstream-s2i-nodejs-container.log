make[1]: Entering directory '/var/tmp/daily_scl_tests/rhel9-test-upstream/plans/nightly-container-rhel9/data/s2i-nodejs-container'
mkdir -p 14/root
go-md2man -in "14/README.md" -out "14/root/help.1"
chmod a+r "14/root/help.1"
VERSION="14" SKIP_SQUASH=1 OS=rhel9 CLEAN_AFTER= DOCKER_BUILD_CONTEXT=. OPENSHIFT_NAMESPACES="" CUSTOM_REPO="" REGISTRY="""" /usr/bin/env bash common/build.sh
Built versions are: 14
-> Dockerfile.rhel9 for version 14 does not exist, skipping build.
mkdir -p 14-minimal/root
go-md2man -in "14-minimal/README.md" -out "14-minimal/root/help.1"
chmod a+r "14-minimal/root/help.1"
VERSION="14-minimal" SKIP_SQUASH=1 OS=rhel9 CLEAN_AFTER= DOCKER_BUILD_CONTEXT=. OPENSHIFT_NAMESPACES="" CUSTOM_REPO="" REGISTRY="""" /usr/bin/env bash common/build.sh
Built versions are: 14-minimal
-> Dockerfile.rhel9 for version 14-minimal does not exist, skipping build.
mkdir -p 16/root
go-md2man -in "16/README.md" -out "16/root/help.1"
chmod a+r "16/root/help.1"
VERSION="16" SKIP_SQUASH=1 OS=rhel9 CLEAN_AFTER= DOCKER_BUILD_CONTEXT=. OPENSHIFT_NAMESPACES="" CUSTOM_REPO="" REGISTRY="""" /usr/bin/env bash common/build.sh
Built versions are: 16
-> Version 16: building image from 'Dockerfile.rhel9' ...
-> Pulling image ubi9/s2i-core:1 before building image from Dockerfile.rhel9.
Resolved "ubi9/s2i-core" as an alias (/etc/containers/registries.conf.d/004-tf-shortnames.conf)
Trying to pull registry.access.redhat.com/ubi9/s2i-core:1...
Getting image source signatures
Checking if image destination supports signatures
Copying blob sha256:ee0d219d67a95b985bbcb257a261adcf7b9f7a4f142b1a0a0a2f8c699a9e964d
Copying blob sha256:af8f1220909b07a1e5f84cdced7681921681484322afb359a03650d1bdee69dd
Copying config sha256:058b28a60fedd90bee857bb98b2dc6e40a1818601af12b45257d6a2ad32fea06
Writing manifest to image destination
Storing signatures
-> building using docker build  --label io.openshift.builder-version="863366c" -f "$dockerfile" "${DOCKER_BUILD_CONTEXT}"
STEP 1/12: FROM ubi9/s2i-core:1
STEP 2/12: EXPOSE 8080
--> 3ab0c1fc0050
STEP 3/12: ENV NODEJS_VERSION=16     NPM_RUN=start     NAME=nodejs     NPM_CONFIG_PREFIX=$HOME/.npm-global     PATH=$HOME/node_modules/.bin/:$HOME/.npm-global/bin/:$PATH     CNB_STACK_ID=com.redhat.stacks.ubi9-nodejs-16     CNB_USER_ID=1001     CNB_GROUP_ID=0
--> 25bf6f2a5377
STEP 4/12: ENV SUMMARY="Platform for building and running Node.js $NODEJS_VERSION applications"     DESCRIPTION="Node.js $NODEJS_VERSION available as container is a base platform for building and running various Node.js $NODEJS_VERSION applications and frameworks. Node.js is a platform built on Chrome's JavaScript runtime for easily building fast, scalable network applications. Node.js uses an event-driven, non-blocking I/O model that makes it lightweight and efficient, perfect for data-intensive real-time applications that run across distributed devices."
--> 8a598c0c31d2
STEP 5/12: LABEL summary="$SUMMARY"       description="$DESCRIPTION"       io.k8s.description="$DESCRIPTION"       io.k8s.display-name="Node.js $NODEJS_VERSION"       io.openshift.expose-services="8080:http"       io.openshift.tags="builder,$NAME,${NAME}${NODEJS_VERSION}"       io.openshift.s2i.scripts-url="image:///usr/libexec/s2i"       io.s2i.scripts-url="image:///usr/libexec/s2i"       io.buildpacks.stack.id="com.redhat.stacks.ubi9-nodejs-16"       com.redhat.dev-mode="DEV_MODE:false"       com.redhat.deployments-dir="${APP_ROOT}/src"       com.redhat.dev-mode.port="DEBUG_PORT:5858"       com.redhat.component="${NAME}-${NODEJS_VERSION}-container"       name="ubi9/$NAME-$NODEJS_VERSION"       version="1"       com.redhat.license_terms="https://www.redhat.com/en/about/red-hat-end-user-license-agreements#UBI"       maintainer="SoftwareCollections.org <sclorg@redhat.com>"       help="For more information visit https://github.com/sclorg/s2i-nodejs-container"       usage="s2i build <SOURCE-REPOSITORY> ubi9/$NAME-$NODEJS_VERSION:latest <APP-NAME>"
--> 362ea2b57e6f
STEP 6/12: RUN MODULE_DEPS="make gcc gcc-c++ git openssl-devel" &&     INSTALL_PKGS="$MODULE_DEPS nodejs npm nodejs-nodemon nss_wrapper which" &&     ln -s /usr/lib/node_modules/nodemon/bin/nodemon.js /usr/bin/nodemon &&     yum install -y --setopt=tsflags=nodocs $INSTALL_PKGS &&     rpm -V $INSTALL_PKGS &&     node -v | grep -qe "^v$NODEJS_VERSION\." && echo "Found VERSION $NODEJS_VERSION" &&     yum -y clean all --enablerepo='*'
Updating Subscription Management repositories.
Unable to read consumer identity
subscription-manager is operating in container mode.
Red Hat Enterprise Linux 9 for x86_64 - AppStre  54 MB/s |  28 MB     00:00    
Red Hat Enterprise Linux 9 for x86_64 - BaseOS   37 MB/s |  16 MB     00:00    
Red Hat Universal Base Image 9 (RPMs) - BaseOS  2.1 MB/s | 514 kB     00:00    
Red Hat Universal Base Image 9 (RPMs) - AppStre 6.6 MB/s | 1.8 MB     00:00    
Red Hat Universal Base Image 9 (RPMs) - CodeRea 835 kB/s | 192 kB     00:00    
Package which-2.21-29.el9.x86_64 is already installed.
Dependencies resolved.
========================================================================================================
 Package                      Arch    Version                    Repository                         Size
========================================================================================================
Installing:
 gcc                          x86_64  11.4.1-2.1.el9             rhel-9-for-x86_64-appstream-rpms   32 M
 gcc-c++                      x86_64  11.4.1-2.1.el9             rhel-9-for-x86_64-appstream-rpms   13 M
 git                          x86_64  2.39.3-1.el9_2             rhel-9-for-x86_64-appstream-rpms   66 k
 make                         x86_64  1:4.3-7.el9                rhel-9-for-x86_64-baseos-rpms     542 k
 nodejs                       x86_64  1:16.20.2-3.el9_2          rhel-9-for-x86_64-appstream-rpms  117 k
 nodejs-nodemon               noarch  2.0.20-3.el9_2             rhel-9-for-x86_64-appstream-rpms  343 k
 npm                          x86_64  1:8.19.4-1.16.20.2.3.el9_2 rhel-9-for-x86_64-appstream-rpms  2.2 M
 nss_wrapper                  x86_64  1.1.13-1.el9               rhel-9-for-x86_64-appstream-rpms   17 k
 openssl-devel                x86_64  1:3.0.7-25.el9_3           rhel-9-for-x86_64-appstream-rpms  4.1 M
Upgrading:
 openssl                      x86_64  1:3.0.7-25.el9_3           rhel-9-for-x86_64-baseos-rpms     1.2 M
 openssl-libs                 x86_64  1:3.0.7-25.el9_3           rhel-9-for-x86_64-baseos-rpms     2.2 M
Installing dependencies:
 binutils                     x86_64  2.35.2-42.el9              rhel-9-for-x86_64-baseos-rpms     4.6 M
 binutils-gold                x86_64  2.35.2-42.el9              rhel-9-for-x86_64-baseos-rpms     736 k
 cmake-data                   noarch  3.20.2-9.el9_3             rhel-9-for-x86_64-appstream-rpms  2.1 M
 cmake-filesystem             x86_64  3.20.2-9.el9_3             rhel-9-for-x86_64-appstream-rpms   22 k
 cmake-rpm-macros             noarch  3.20.2-9.el9_3             rhel-9-for-x86_64-appstream-rpms   12 k
 cpp                          x86_64  11.4.1-2.1.el9             rhel-9-for-x86_64-appstream-rpms   11 M
 elfutils-debuginfod-client   x86_64  0.189-3.el9                rhel-9-for-x86_64-baseos-rpms      39 k
 emacs-filesystem             noarch  1:27.2-9.el9               rhel-9-for-x86_64-appstream-rpms  9.6 k
 git-core                     x86_64  2.39.3-1.el9_2             rhel-9-for-x86_64-appstream-rpms  4.3 M
 git-core-doc                 noarch  2.39.3-1.el9_2             rhel-9-for-x86_64-appstream-rpms  2.9 M
 glibc-devel                  x86_64  2.34-83.el9_3.7            rhel-9-for-x86_64-appstream-rpms   56 k
 glibc-headers                x86_64  2.34-83.el9_3.7            rhel-9-for-x86_64-appstream-rpms  558 k
 kernel-headers               x86_64  5.14.0-362.13.1.el9_3      rhel-9-for-x86_64-appstream-rpms  6.7 M
 libbrotli                    x86_64  1.0.9-6.el9                rhel-9-for-x86_64-baseos-rpms     317 k
 libcbor                      x86_64  0.7.0-5.el9                rhel-9-for-x86_64-baseos-rpms      59 k
 libedit                      x86_64  3.1-38.20210216cvs.el9     rhel-9-for-x86_64-baseos-rpms     107 k
 libfido2                     x86_64  1.13.0-1.el9               rhel-9-for-x86_64-baseos-rpms     101 k
 libmpc                       x86_64  1.2.1-4.el9                rhel-9-for-x86_64-appstream-rpms   65 k
 libpkgconf                   x86_64  1.7.3-10.el9               rhel-9-for-x86_64-baseos-rpms      37 k
 libstdc++-devel              x86_64  11.4.1-2.1.el9             rhel-9-for-x86_64-appstream-rpms  2.4 M
 libuv                        x86_64  1:1.42.0-1.el9             rhel-9-for-x86_64-appstream-rpms  153 k
 libxcrypt-devel              x86_64  4.4.18-3.el9               rhel-9-for-x86_64-appstream-rpms   32 k
 ncurses                      x86_64  6.2-10.20210508.el9        rhel-9-for-x86_64-baseos-rpms     410 k
 nodejs-libs                  x86_64  1:16.20.2-3.el9_2          rhel-9-for-x86_64-appstream-rpms   14 M
 nss_wrapper-libs             x86_64  1.1.13-1.el9               rhel-9-for-x86_64-appstream-rpms   41 k
 openssh                      x86_64  8.7p1-34.el9               rhel-9-for-x86_64-baseos-rpms     465 k
 openssh-clients              x86_64  8.7p1-34.el9               rhel-9-for-x86_64-baseos-rpms     719 k
 perl-AutoLoader              noarch  5.74-480.el9               rhel-9-for-x86_64-appstream-rpms   23 k
 perl-B                       x86_64  1.80-480.el9               rhel-9-for-x86_64-appstream-rpms  185 k
 perl-Carp                    noarch  1.50-460.el9               rhel-9-for-x86_64-appstream-rpms   31 k
 perl-Class-Struct            noarch  0.66-480.el9               rhel-9-for-x86_64-appstream-rpms   24 k
 perl-Data-Dumper             x86_64  2.174-462.el9              rhel-9-for-x86_64-appstream-rpms   59 k
 perl-Digest                  noarch  1.19-4.el9                 rhel-9-for-x86_64-appstream-rpms   29 k
 perl-Digest-MD5              x86_64  2.58-4.el9                 rhel-9-for-x86_64-appstream-rpms   39 k
 perl-DynaLoader              x86_64  1.47-480.el9               rhel-9-for-x86_64-appstream-rpms   27 k
 perl-Encode                  x86_64  4:3.08-462.el9             rhel-9-for-x86_64-appstream-rpms  1.7 M
 perl-Errno                   x86_64  1.30-480.el9               rhel-9-for-x86_64-appstream-rpms   17 k
 perl-Error                   noarch  1:0.17029-7.el9            rhel-9-for-x86_64-appstream-rpms   46 k
 perl-Exporter                noarch  5.74-461.el9               rhel-9-for-x86_64-appstream-rpms   34 k
 perl-Fcntl                   x86_64  1.13-480.el9               rhel-9-for-x86_64-appstream-rpms   23 k
 perl-File-Basename           noarch  2.85-480.el9               rhel-9-for-x86_64-appstream-rpms   19 k
 perl-File-Find               noarch  1.37-480.el9               rhel-9-for-x86_64-appstream-rpms   27 k
 perl-File-Path               noarch  2.18-4.el9                 rhel-9-for-x86_64-appstream-rpms   38 k
 perl-File-Temp               noarch  1:0.231.100-4.el9          rhel-9-for-x86_64-appstream-rpms   63 k
 perl-File-stat               noarch  1.09-480.el9               rhel-9-for-x86_64-appstream-rpms   19 k
 perl-FileHandle              noarch  2.03-480.el9               rhel-9-for-x86_64-appstream-rpms   17 k
 perl-Getopt-Long             noarch  1:2.52-4.el9               rhel-9-for-x86_64-appstream-rpms   64 k
 perl-Getopt-Std              noarch  1.12-480.el9               rhel-9-for-x86_64-appstream-rpms   17 k
 perl-Git                     noarch  2.39.3-1.el9_2             rhel-9-for-x86_64-appstream-rpms   39 k
 perl-HTTP-Tiny               noarch  0.076-461.el9              rhel-9-for-x86_64-appstream-rpms   57 k
 perl-IO                      x86_64  1.43-480.el9               rhel-9-for-x86_64-appstream-rpms   94 k
 perl-IO-Socket-IP            noarch  0.41-5.el9                 rhel-9-for-x86_64-appstream-rpms   45 k
 perl-IO-Socket-SSL           noarch  2.073-1.el9                rhel-9-for-x86_64-appstream-rpms  223 k
 perl-IPC-Open3               noarch  1.21-480.el9               rhel-9-for-x86_64-appstream-rpms   25 k
 perl-MIME-Base64             x86_64  3.16-4.el9                 rhel-9-for-x86_64-appstream-rpms   34 k
 perl-Mozilla-CA              noarch  20200520-6.el9             rhel-9-for-x86_64-appstream-rpms   14 k
 perl-Net-SSLeay              x86_64  1.92-2.el9                 rhel-9-for-x86_64-appstream-rpms  392 k
 perl-POSIX                   x86_64  1.94-480.el9               rhel-9-for-x86_64-appstream-rpms   99 k
 perl-PathTools               x86_64  3.78-461.el9               rhel-9-for-x86_64-appstream-rpms   92 k
 perl-Pod-Escapes             noarch  1:1.07-460.el9             rhel-9-for-x86_64-appstream-rpms   22 k
 perl-Pod-Perldoc             noarch  3.28.01-461.el9            rhel-9-for-x86_64-appstream-rpms   92 k
 perl-Pod-Simple              noarch  1:3.42-4.el9               rhel-9-for-x86_64-appstream-rpms  229 k
 perl-Pod-Usage               noarch  4:2.01-4.el9               rhel-9-for-x86_64-appstream-rpms   43 k
 perl-Scalar-List-Utils       x86_64  4:1.56-461.el9             rhel-9-for-x86_64-appstream-rpms   77 k
 perl-SelectSaver             noarch  1.02-480.el9               rhel-9-for-x86_64-appstream-rpms   13 k
 perl-Socket                  x86_64  4:2.031-4.el9              rhel-9-for-x86_64-appstream-rpms   58 k
 perl-Storable                x86_64  1:3.21-460.el9             rhel-9-for-x86_64-appstream-rpms   98 k
 perl-Symbol                  noarch  1.08-480.el9               rhel-9-for-x86_64-appstream-rpms   16 k
 perl-Term-ANSIColor          noarch  5.01-461.el9               rhel-9-for-x86_64-appstream-rpms   51 k
 perl-Term-Cap                noarch  1.17-460.el9               rhel-9-for-x86_64-appstream-rpms   24 k
 perl-TermReadKey             x86_64  2.38-11.el9                rhel-9-for-x86_64-appstream-rpms   40 k
 perl-Text-ParseWords         noarch  3.30-460.el9               rhel-9-for-x86_64-appstream-rpms   18 k
 perl-Text-Tabs+Wrap          noarch  2013.0523-460.el9          rhel-9-for-x86_64-appstream-rpms   25 k
 perl-Time-Local              noarch  2:1.300-7.el9              rhel-9-for-x86_64-appstream-rpms   37 k
 perl-URI                     noarch  5.09-3.el9                 rhel-9-for-x86_64-appstream-rpms  125 k
 perl-base                    noarch  2.27-480.el9               rhel-9-for-x86_64-appstream-rpms   18 k
 perl-constant                noarch  1.33-461.el9               rhel-9-for-x86_64-appstream-rpms   25 k
 perl-if                      noarch  0.60.800-480.el9           rhel-9-for-x86_64-appstream-rpms   16 k
 perl-interpreter             x86_64  4:5.32.1-480.el9           rhel-9-for-x86_64-appstream-rpms   75 k
 perl-lib                     x86_64  0.65-480.el9               rhel-9-for-x86_64-appstream-rpms   17 k
 perl-libnet                  noarch  3.13-4.el9                 rhel-9-for-x86_64-appstream-rpms  134 k
 perl-libs                    x86_64  4:5.32.1-480.el9           rhel-9-for-x86_64-appstream-rpms  2.2 M
 perl-mro                     x86_64  1.23-480.el9               rhel-9-for-x86_64-appstream-rpms   31 k
 perl-overload                noarch  1.31-480.el9               rhel-9-for-x86_64-appstream-rpms   47 k
 perl-overloading             noarch  0.02-480.el9               rhel-9-for-x86_64-appstream-rpms   15 k
 perl-parent                  noarch  1:0.238-460.el9            rhel-9-for-x86_64-appstream-rpms   16 k
 perl-podlators               noarch  1:4.14-460.el9             rhel-9-for-x86_64-appstream-rpms  118 k
 perl-subs                    noarch  1.03-480.el9               rhel-9-for-x86_64-appstream-rpms   13 k
 perl-vars                    noarch  1.05-480.el9               rhel-9-for-x86_64-appstream-rpms   15 k
 pkgconf                      x86_64  1.7.3-10.el9               rhel-9-for-x86_64-baseos-rpms      45 k
 pkgconf-m4                   noarch  1.7.3-10.el9               rhel-9-for-x86_64-baseos-rpms      16 k
 pkgconf-pkg-config           x86_64  1.7.3-10.el9               rhel-9-for-x86_64-baseos-rpms      12 k
Installing weak dependencies:
 cmake                        x86_64  3.20.2-9.el9_3             rhel-9-for-x86_64-appstream-rpms  6.7 M
 nodejs-docs                  noarch  1:16.20.2-3.el9_2          rhel-9-for-x86_64-appstream-rpms  7.2 M
 nodejs-full-i18n             x86_64  1:16.20.2-3.el9_2          rhel-9-for-x86_64-appstream-rpms  8.2 M
 perl-NDBM_File               x86_64  1.15-480.el9               rhel-9-for-x86_64-appstream-rpms   25 k

Transaction Summary
========================================================================================================
Install  105 Packages
Upgrade    2 Packages

Total download size: 137 M
Downloading Packages:
(1/107): perl-Data-Dumper-2.174-462.el9.x86_64. 435 kB/s |  59 kB     00:00    
(2/107): perl-Digest-MD5-2.58-4.el9.x86_64.rpm  286 kB/s |  39 kB     00:00    
(3/107): perl-Error-0.17029-7.el9.noarch.rpm    659 kB/s |  46 kB     00:00    
(4/107): perl-IO-Socket-SSL-2.073-1.el9.noarch. 2.4 MB/s | 223 kB     00:00    
(5/107): perl-Encode-3.08-462.el9.x86_64.rpm    7.4 MB/s | 1.7 MB     00:00    
(6/107): perl-Mozilla-CA-20200520-6.el9.noarch. 225 kB/s |  14 kB     00:00    
(7/107): perl-Term-Cap-1.17-460.el9.noarch.rpm  405 kB/s |  24 kB     00:00    
(8/107): perl-Pod-Simple-3.42-4.el9.noarch.rpm  3.1 MB/s | 229 kB     00:00    
(9/107): perl-TermReadKey-2.38-11.el9.x86_64.rp 548 kB/s |  40 kB     00:00    
(10/107): perl-Time-Local-1.300-7.el9.noarch.rp 594 kB/s |  37 kB     00:00    
(11/107): libuv-1.42.0-1.el9.x86_64.rpm         2.2 MB/s | 153 kB     00:00    
(12/107): perl-Pod-Escapes-1.07-460.el9.noarch. 350 kB/s |  22 kB     00:00    
(13/107): perl-Storable-3.21-460.el9.x86_64.rpm 1.5 MB/s |  98 kB     00:00    
(14/107): perl-podlators-4.14-460.el9.noarch.rp 1.8 MB/s | 118 kB     00:00    
(15/107): libmpc-1.2.1-4.el9.x86_64.rpm         931 kB/s |  65 kB     00:00    
(16/107): libxcrypt-devel-4.4.18-3.el9.x86_64.r 547 kB/s |  32 kB     00:00    
(17/107): perl-Exporter-5.74-461.el9.noarch.rpm 518 kB/s |  34 kB     00:00    
(18/107): perl-Getopt-Long-2.52-4.el9.noarch.rp 990 kB/s |  64 kB     00:00    
(19/107): perl-File-Temp-0.231.100-4.el9.noarch 859 kB/s |  63 kB     00:00    
(20/107): perl-MIME-Base64-3.16-4.el9.x86_64.rp 566 kB/s |  34 kB     00:00    
(21/107): perl-Text-Tabs+Wrap-2013.0523-460.el9 404 kB/s |  25 kB     00:00    
(22/107): perl-parent-0.238-460.el9.noarch.rpm  255 kB/s |  16 kB     00:00    
(23/107): perl-Digest-1.19-4.el9.noarch.rpm     464 kB/s |  29 kB     00:00    
(24/107): perl-IO-Socket-IP-0.41-5.el9.noarch.r 690 kB/s |  45 kB     00:00    
(25/107): perl-Pod-Usage-2.01-4.el9.noarch.rpm  695 kB/s |  43 kB     00:00    
(26/107): perl-File-Path-2.18-4.el9.noarch.rpm  471 kB/s |  38 kB     00:00    
(27/107): perl-Term-ANSIColor-5.01-461.el9.noar 801 kB/s |  51 kB     00:00    
(28/107): perl-Socket-2.031-4.el9.x86_64.rpm    864 kB/s |  58 kB     00:00    
(29/107): perl-Scalar-List-Utils-1.56-461.el9.x 1.0 MB/s |  77 kB     00:00    
(30/107): perl-Text-ParseWords-3.30-460.el9.noa 265 kB/s |  18 kB     00:00    
(31/107): perl-constant-1.33-461.el9.noarch.rpm 363 kB/s |  25 kB     00:00    
(32/107): perl-URI-5.09-3.el9.noarch.rpm        1.7 MB/s | 125 kB     00:00    
(33/107): perl-Pod-Perldoc-3.28.01-461.el9.noar 1.3 MB/s |  92 kB     00:00    
(34/107): perl-Carp-1.50-460.el9.noarch.rpm     493 kB/s |  31 kB     00:00    
(35/107): perl-libnet-3.13-4.el9.noarch.rpm     1.7 MB/s | 134 kB     00:00    
(36/107): perl-AutoLoader-5.74-480.el9.noarch.r 376 kB/s |  23 kB     00:00    
(37/107): perl-PathTools-3.78-461.el9.x86_64.rp 1.2 MB/s |  92 kB     00:00    
(38/107): perl-Net-SSLeay-1.92-2.el9.x86_64.rpm 5.0 MB/s | 392 kB     00:00    
(39/107): perl-Class-Struct-0.66-480.el9.noarch 393 kB/s |  24 kB     00:00    
(40/107): perl-DynaLoader-1.47-480.el9.x86_64.r 429 kB/s |  27 kB     00:00    
(41/107): perl-B-1.80-480.el9.x86_64.rpm        2.4 MB/s | 185 kB     00:00    
(42/107): perl-Errno-1.30-480.el9.x86_64.rpm    246 kB/s |  17 kB     00:00    
(43/107): perl-Fcntl-1.13-480.el9.x86_64.rpm    372 kB/s |  23 kB     00:00    
(44/107): perl-File-Basename-2.85-480.el9.noarc 325 kB/s |  19 kB     00:00    
(45/107): perl-File-stat-1.09-480.el9.noarch.rp 317 kB/s |  19 kB     00:00    
(46/107): perl-FileHandle-2.03-480.el9.noarch.r 276 kB/s |  17 kB     00:00    
(47/107): perl-File-Find-1.37-480.el9.noarch.rp 397 kB/s |  27 kB     00:00    
(48/107): perl-IPC-Open3-1.21-480.el9.noarch.rp 391 kB/s |  25 kB     00:00    
(49/107): perl-POSIX-1.94-480.el9.x86_64.rpm    1.2 MB/s |  99 kB     00:00    
(50/107): perl-Symbol-1.08-480.el9.noarch.rpm   171 kB/s |  16 kB     00:00    
(51/107): perl-interpreter-5.32.1-480.el9.x86_6 1.1 MB/s |  75 kB     00:00    
(52/107): perl-lib-0.65-480.el9.x86_64.rpm      232 kB/s |  17 kB     00:00    
(53/107): perl-libs-5.32.1-480.el9.x86_64.rpm    26 MB/s | 2.2 MB     00:00    
(54/107): perl-mro-1.23-480.el9.x86_64.rpm      432 kB/s |  31 kB     00:00    
(55/107): perl-overload-1.31-480.el9.noarch.rpm 741 kB/s |  47 kB     00:00    
(56/107): perl-overloading-0.02-480.el9.noarch. 240 kB/s |  15 kB     00:00    
(57/107): git-2.39.3-1.el9_2.x86_64.rpm         999 kB/s |  66 kB     00:00    
(58/107): git-core-doc-2.39.3-1.el9_2.noarch.rp  35 MB/s | 2.9 MB     00:00    
(59/107): nodejs-nodemon-2.0.20-3.el9_2.noarch. 5.2 MB/s | 343 kB     00:00    
(60/107): git-core-2.39.3-1.el9_2.x86_64.rpm     34 MB/s | 4.3 MB     00:00    
(61/107): nss_wrapper-1.1.13-1.el9.x86_64.rpm   268 kB/s |  17 kB     00:00    
(62/107): nss_wrapper-libs-1.1.13-1.el9.x86_64. 692 kB/s |  41 kB     00:00    
(63/107): perl-Getopt-Std-1.12-480.el9.noarch.r 260 kB/s |  17 kB     00:00    
(64/107): perl-Git-2.39.3-1.el9_2.noarch.rpm    658 kB/s |  39 kB     00:00    
(65/107): perl-IO-1.43-480.el9.x86_64.rpm       1.4 MB/s |  94 kB     00:00    
(66/107): perl-NDBM_File-1.15-480.el9.x86_64.rp 416 kB/s |  25 kB     00:00    
(67/107): perl-SelectSaver-1.02-480.el9.noarch. 198 kB/s |  13 kB     00:00    
(68/107): perl-base-2.27-480.el9.noarch.rpm     302 kB/s |  18 kB     00:00    
(69/107): perl-if-0.60.800-480.el9.noarch.rpm   250 kB/s |  16 kB     00:00    
(70/107): perl-vars-1.05-480.el9.noarch.rpm     245 kB/s |  15 kB     00:00    
(71/107): perl-subs-1.03-480.el9.noarch.rpm     190 kB/s |  13 kB     00:00    
(72/107): emacs-filesystem-27.2-9.el9.noarch.rp 154 kB/s | 9.6 kB     00:00    
(73/107): cpp-11.4.1-2.1.el9.x86_64.rpm          82 MB/s |  11 MB     00:00    
(74/107): glibc-headers-2.34-83.el9_3.7.x86_64. 6.6 MB/s | 558 kB     00:00    
(75/107): nodejs-16.20.2-3.el9_2.x86_64.rpm     1.8 MB/s | 117 kB     00:00    
(76/107): nodejs-docs-16.20.2-3.el9_2.noarch.rp  59 MB/s | 7.2 MB     00:00    
(77/107): nodejs-full-i18n-16.20.2-3.el9_2.x86_  60 MB/s | 8.2 MB     00:00    
(78/107): npm-8.19.4-1.16.20.2.3.el9_2.x86_64.r  26 MB/s | 2.2 MB     00:00    
(79/107): nodejs-libs-16.20.2-3.el9_2.x86_64.rp  74 MB/s |  14 MB     00:00    
(80/107): libstdc++-devel-11.4.1-2.1.el9.x86_64  28 MB/s | 2.4 MB     00:00    
(81/107): gcc-c++-11.4.1-2.1.el9.x86_64.rpm      80 MB/s |  13 MB     00:00    
(82/107): perl-HTTP-Tiny-0.076-461.el9.noarch.r 802 kB/s |  57 kB     00:00    
(83/107): gcc-11.4.1-2.1.el9.x86_64.rpm         100 MB/s |  32 MB     00:00    
(84/107): glibc-devel-2.34-83.el9_3.7.x86_64.rp 608 kB/s |  56 kB     00:00    
(85/107): cmake-3.20.2-9.el9_3.x86_64.rpm        59 MB/s | 6.7 MB     00:00    
(86/107): cmake-filesystem-3.20.2-9.el9_3.x86_6 336 kB/s |  22 kB     00:00    
(87/107): cmake-data-3.20.2-9.el9_3.noarch.rpm   23 MB/s | 2.1 MB     00:00    
(88/107): cmake-rpm-macros-3.20.2-9.el9_3.noarc 181 kB/s |  12 kB     00:00    
(89/107): kernel-headers-5.14.0-362.13.1.el9_3.  64 MB/s | 6.7 MB     00:00    
(90/107): libbrotli-1.0.9-6.el9.x86_64.rpm      4.6 MB/s | 317 kB     00:00    
(91/107): openssl-devel-3.0.7-25.el9_3.x86_64.r  43 MB/s | 4.1 MB     00:00    
(92/107): libpkgconf-1.7.3-10.el9.x86_64.rpm    595 kB/s |  37 kB     00:00    
(93/107): libcbor-0.7.0-5.el9.x86_64.rpm        785 kB/s |  59 kB     00:00    
(94/107): make-4.3-7.el9.x86_64.rpm             6.3 MB/s | 542 kB     00:00    
(95/107): pkgconf-m4-1.7.3-10.el9.noarch.rpm    257 kB/s |  16 kB     00:00    
(96/107): pkgconf-1.7.3-10.el9.x86_64.rpm       706 kB/s |  45 kB     00:00    
(97/107): pkgconf-pkg-config-1.7.3-10.el9.x86_6 187 kB/s |  12 kB     00:00    
(98/107): binutils-gold-2.35.2-42.el9.x86_64.rp  11 MB/s | 736 kB     00:00    
(99/107): elfutils-debuginfod-client-0.189-3.el 645 kB/s |  39 kB     00:00    
(100/107): binutils-2.35.2-42.el9.x86_64.rpm     47 MB/s | 4.6 MB     00:00    
(101/107): libfido2-1.13.0-1.el9.x86_64.rpm     1.4 MB/s | 101 kB     00:00    
(102/107): libedit-3.1-38.20210216cvs.el9.x86_6 1.4 MB/s | 107 kB     00:00    
(103/107): ncurses-6.2-10.20210508.el9.x86_64.r 5.3 MB/s | 410 kB     00:00    
(104/107): openssh-8.7p1-34.el9.x86_64.rpm      7.0 MB/s | 465 kB     00:00    
(105/107): openssh-clients-8.7p1-34.el9.x86_64.  11 MB/s | 719 kB     00:00    
(106/107): openssl-3.0.7-25.el9_3.x86_64.rpm     17 MB/s | 1.2 MB     00:00    
(107/107): openssl-libs-3.0.7-25.el9_3.x86_64.r  29 MB/s | 2.2 MB     00:00    
--------------------------------------------------------------------------------
Total                                            48 MB/s | 137 MB     00:02     
Running transaction check
Transaction check succeeded.
Running transaction test
Transaction test succeeded.
Running transaction
  Running scriptlet: npm-1:8.19.4-1.16.20.2.3.el9_2.x86_64                  1/1 
  Preparing        :                                                        1/1 
  Upgrading        : openssl-libs-1:3.0.7-25.el9_3.x86_64                 1/109 
  Installing       : cmake-filesystem-3.20.2-9.el9_3.x86_64               2/109 
  Installing       : libmpc-1.2.1-4.el9.x86_64                            3/109 
  Installing       : elfutils-debuginfod-client-0.189-3.el9.x86_64        4/109 
  Installing       : binutils-gold-2.35.2-42.el9.x86_64                   5/109 
  Installing       : binutils-2.35.2-42.el9.x86_64                        6/109 
  Running scriptlet: binutils-2.35.2-42.el9.x86_64                        6/109 
  Installing       : make-1:4.3-7.el9.x86_64                              7/109 
  Installing       : cmake-rpm-macros-3.20.2-9.el9_3.noarch               8/109 
  Installing       : emacs-filesystem-1:27.2-9.el9.noarch                 9/109 
  Installing       : cpp-11.4.1-2.1.el9.x86_64                           10/109 
  Running scriptlet: openssh-8.7p1-34.el9.x86_64                         11/109 
  Installing       : openssh-8.7p1-34.el9.x86_64                         11/109 
  Upgrading        : openssl-1:3.0.7-25.el9_3.x86_64                     12/109 
  Installing       : ncurses-6.2-10.20210508.el9.x86_64                  13/109 
  Installing       : perl-Digest-1.19-4.el9.noarch                       14/109 
  Installing       : perl-Digest-MD5-2.58-4.el9.x86_64                   15/109 
  Installing       : perl-FileHandle-2.03-480.el9.noarch                 16/109 
  Installing       : perl-B-1.80-480.el9.x86_64                          17/109 
  Installing       : perl-libnet-3.13-4.el9.noarch                       18/109 
  Installing       : perl-Data-Dumper-2.174-462.el9.x86_64               19/109 
  Installing       : perl-AutoLoader-5.74-480.el9.noarch                 20/109 
  Installing       : perl-base-2.27-480.el9.noarch                       21/109 
  Installing       : perl-URI-5.09-3.el9.noarch                          22/109 
  Installing       : perl-Time-Local-2:1.300-7.el9.noarch                23/109 
  Installing       : perl-Mozilla-CA-20200520-6.el9.noarch               24/109 
  Installing       : perl-IO-Socket-IP-0.41-5.el9.noarch                 25/109 
  Installing       : perl-if-0.60.800-480.el9.noarch                     26/109 
  Installing       : perl-Pod-Escapes-1:1.07-460.el9.noarch              27/109 
  Installing       : perl-Text-Tabs+Wrap-2013.0523-460.el9.noarch        28/109 
  Installing       : perl-File-Path-2.18-4.el9.noarch                    29/109 
  Installing       : perl-Net-SSLeay-1.92-2.el9.x86_64                   30/109 
  Installing       : perl-IO-Socket-SSL-2.073-1.el9.noarch               31/109 
  Installing       : perl-Term-ANSIColor-5.01-461.el9.noarch             32/109 
  Installing       : perl-Class-Struct-0.66-480.el9.noarch               33/109 
  Installing       : perl-POSIX-1.94-480.el9.x86_64                      34/109 
  Installing       : perl-IPC-Open3-1.21-480.el9.noarch                  35/109 
  Installing       : perl-subs-1.03-480.el9.noarch                       36/109 
  Installing       : perl-Term-Cap-1.17-460.el9.noarch                   37/109 
  Installing       : perl-File-Temp-1:0.231.100-4.el9.noarch             38/109 
  Installing       : perl-Pod-Simple-1:3.42-4.el9.noarch                 39/109 
  Installing       : perl-HTTP-Tiny-0.076-461.el9.noarch                 40/109 
  Installing       : perl-Socket-4:2.031-4.el9.x86_64                    41/109 
  Installing       : perl-Symbol-1.08-480.el9.noarch                     42/109 
  Installing       : perl-File-stat-1.09-480.el9.noarch                  43/109 
  Installing       : perl-SelectSaver-1.02-480.el9.noarch                44/109 
  Installing       : perl-podlators-1:4.14-460.el9.noarch                45/109 
  Installing       : perl-Pod-Perldoc-3.28.01-461.el9.noarch             46/109 
  Installing       : perl-Text-ParseWords-3.30-460.el9.noarch            47/109 
  Installing       : perl-Fcntl-1.13-480.el9.x86_64                      48/109 
  Installing       : perl-mro-1.23-480.el9.x86_64                        49/109 
  Installing       : perl-overloading-0.02-480.el9.noarch                50/109 
  Installing       : perl-IO-1.43-480.el9.x86_64                         51/109 
  Installing       : perl-Pod-Usage-4:2.01-4.el9.noarch                  52/109 
  Installing       : perl-parent-1:0.238-460.el9.noarch                  53/109 
  Installing       : perl-MIME-Base64-3.16-4.el9.x86_64                  54/109 
  Installing       : perl-Scalar-List-Utils-4:1.56-461.el9.x86_64        55/109 
  Installing       : perl-constant-1.33-461.el9.noarch                   56/109 
  Installing       : perl-Errno-1.30-480.el9.x86_64                      57/109 
  Installing       : perl-File-Basename-2.85-480.el9.noarch              58/109 
  Installing       : perl-overload-1.31-480.el9.noarch                   59/109 
  Installing       : perl-Getopt-Std-1.12-480.el9.noarch                 60/109 
  Installing       : perl-Storable-1:3.21-460.el9.x86_64                 61/109 
  Installing       : perl-vars-1.05-480.el9.noarch                       62/109 
  Installing       : perl-Getopt-Long-1:2.52-4.el9.noarch                63/109 
  Installing       : perl-Exporter-5.74-461.el9.noarch                   64/109 
  Installing       : perl-Carp-1.50-460.el9.noarch                       65/109 
  Installing       : perl-PathTools-3.78-461.el9.x86_64                  66/109 
  Installing       : perl-NDBM_File-1.15-480.el9.x86_64                  67/109 
  Installing       : perl-Encode-4:3.08-462.el9.x86_64                   68/109 
  Installing       : perl-libs-4:5.32.1-480.el9.x86_64                   69/109 
  Installing       : perl-interpreter-4:5.32.1-480.el9.x86_64            70/109 
  Installing       : perl-Error-1:0.17029-7.el9.noarch                   71/109 
  Installing       : perl-DynaLoader-1.47-480.el9.x86_64                 72/109 
  Installing       : perl-TermReadKey-2.38-11.el9.x86_64                 73/109 
  Installing       : perl-File-Find-1.37-480.el9.noarch                  74/109 
  Installing       : perl-lib-0.65-480.el9.x86_64                        75/109 
  Installing       : libedit-3.1-38.20210216cvs.el9.x86_64               76/109 
  Installing       : pkgconf-m4-1.7.3-10.el9.noarch                      77/109 
  Installing       : libpkgconf-1.7.3-10.el9.x86_64                      78/109 
  Installing       : pkgconf-1.7.3-10.el9.x86_64                         79/109 
  Installing       : pkgconf-pkg-config-1.7.3-10.el9.x86_64              80/109 
  Installing       : libcbor-0.7.0-5.el9.x86_64                          81/109 
  Installing       : libfido2-1.13.0-1.el9.x86_64                        82/109 
  Installing       : openssh-clients-8.7p1-34.el9.x86_64                 83/109 
  Running scriptlet: openssh-clients-8.7p1-34.el9.x86_64                 83/109 
  Installing       : git-core-2.39.3-1.el9_2.x86_64                      84/109 
  Installing       : git-core-doc-2.39.3-1.el9_2.noarch                  85/109 
  Installing       : perl-Git-2.39.3-1.el9_2.noarch                      86/109 
  Installing       : git-2.39.3-1.el9_2.x86_64                           87/109 
  Installing       : libbrotli-1.0.9-6.el9.x86_64                        88/109 
  Installing       : nodejs-libs-1:16.20.2-3.el9_2.x86_64                89/109 
  Installing       : kernel-headers-5.14.0-362.13.1.el9_3.x86_64         90/109 
  Installing       : libstdc++-devel-11.4.1-2.1.el9.x86_64               91/109 
  Installing       : nodejs-docs-1:16.20.2-3.el9_2.noarch                92/109 
  Installing       : nodejs-full-i18n-1:16.20.2-3.el9_2.x86_64           93/109 
  Installing       : npm-1:8.19.4-1.16.20.2.3.el9_2.x86_64               94/109 
  Installing       : nodejs-1:16.20.2-3.el9_2.x86_64                     95/109 
  Installing       : glibc-headers-2.34-83.el9_3.7.x86_64                96/109 
  Installing       : glibc-devel-2.34-83.el9_3.7.x86_64                  97/109 
  Installing       : libxcrypt-devel-4.4.18-3.el9.x86_64                 98/109 
  Installing       : gcc-11.4.1-2.1.el9.x86_64                           99/109 
  Installing       : nss_wrapper-libs-1.1.13-1.el9.x86_64               100/109 
  Installing       : libuv-1:1.42.0-1.el9.x86_64                        101/109 
  Installing       : cmake-data-3.20.2-9.el9_3.noarch                   102/109 
  Installing       : cmake-3.20.2-9.el9_3.x86_64                        103/109 
  Installing       : nss_wrapper-1.1.13-1.el9.x86_64                    104/109 
  Installing       : gcc-c++-11.4.1-2.1.el9.x86_64                      105/109 
  Installing       : nodejs-nodemon-2.0.20-3.el9_2.noarch               106/109 
  Installing       : openssl-devel-1:3.0.7-25.el9_3.x86_64              107/109 
  Cleanup          : openssl-1:3.0.7-24.el9.x86_64                      108/109 
  Cleanup          : openssl-libs-1:3.0.7-24.el9.x86_64                 109/109 
  Running scriptlet: openssl-libs-1:3.0.7-24.el9.x86_64                 109/109 
  Verifying        : perl-Data-Dumper-2.174-462.el9.x86_64                1/109 
  Verifying        : perl-Digest-MD5-2.58-4.el9.x86_64                    2/109 
  Verifying        : perl-Encode-4:3.08-462.el9.x86_64                    3/109 
  Verifying        : perl-Error-1:0.17029-7.el9.noarch                    4/109 
  Verifying        : perl-IO-Socket-SSL-2.073-1.el9.noarch                5/109 
  Verifying        : perl-Mozilla-CA-20200520-6.el9.noarch                6/109 
  Verifying        : perl-Pod-Simple-1:3.42-4.el9.noarch                  7/109 
  Verifying        : perl-Term-Cap-1.17-460.el9.noarch                    8/109 
  Verifying        : perl-TermReadKey-2.38-11.el9.x86_64                  9/109 
  Verifying        : perl-Time-Local-2:1.300-7.el9.noarch                10/109 
  Verifying        : libuv-1:1.42.0-1.el9.x86_64                         11/109 
  Verifying        : perl-Pod-Escapes-1:1.07-460.el9.noarch              12/109 
  Verifying        : perl-Storable-1:3.21-460.el9.x86_64                 13/109 
  Verifying        : perl-podlators-1:4.14-460.el9.noarch                14/109 
  Verifying        : libmpc-1.2.1-4.el9.x86_64                           15/109 
  Verifying        : libxcrypt-devel-4.4.18-3.el9.x86_64                 16/109 
  Verifying        : perl-Exporter-5.74-461.el9.noarch                   17/109 
  Verifying        : perl-File-Temp-1:0.231.100-4.el9.noarch             18/109 
  Verifying        : perl-Getopt-Long-1:2.52-4.el9.noarch                19/109 
  Verifying        : perl-MIME-Base64-3.16-4.el9.x86_64                  20/109 
  Verifying        : perl-Text-Tabs+Wrap-2013.0523-460.el9.noarch        21/109 
  Verifying        : perl-parent-1:0.238-460.el9.noarch                  22/109 
  Verifying        : perl-Digest-1.19-4.el9.noarch                       23/109 
  Verifying        : perl-File-Path-2.18-4.el9.noarch                    24/109 
  Verifying        : perl-IO-Socket-IP-0.41-5.el9.noarch                 25/109 
  Verifying        : perl-Pod-Usage-4:2.01-4.el9.noarch                  26/109 
  Verifying        : perl-Scalar-List-Utils-4:1.56-461.el9.x86_64        27/109 
  Verifying        : perl-Socket-4:2.031-4.el9.x86_64                    28/109 
  Verifying        : perl-Term-ANSIColor-5.01-461.el9.noarch             29/109 
  Verifying        : perl-Text-ParseWords-3.30-460.el9.noarch            30/109 
  Verifying        : perl-URI-5.09-3.el9.noarch                          31/109 
  Verifying        : perl-constant-1.33-461.el9.noarch                   32/109 
  Verifying        : perl-Pod-Perldoc-3.28.01-461.el9.noarch             33/109 
  Verifying        : perl-libnet-3.13-4.el9.noarch                       34/109 
  Verifying        : perl-Carp-1.50-460.el9.noarch                       35/109 
  Verifying        : perl-PathTools-3.78-461.el9.x86_64                  36/109 
  Verifying        : perl-Net-SSLeay-1.92-2.el9.x86_64                   37/109 
  Verifying        : perl-AutoLoader-5.74-480.el9.noarch                 38/109 
  Verifying        : perl-B-1.80-480.el9.x86_64                          39/109 
  Verifying        : perl-Class-Struct-0.66-480.el9.noarch               40/109 
  Verifying        : perl-DynaLoader-1.47-480.el9.x86_64                 41/109 
  Verifying        : perl-Errno-1.30-480.el9.x86_64                      42/109 
  Verifying        : perl-Fcntl-1.13-480.el9.x86_64                      43/109 
  Verifying        : perl-File-Basename-2.85-480.el9.noarch              44/109 
  Verifying        : perl-File-Find-1.37-480.el9.noarch                  45/109 
  Verifying        : perl-File-stat-1.09-480.el9.noarch                  46/109 
  Verifying        : perl-FileHandle-2.03-480.el9.noarch                 47/109 
  Verifying        : perl-IPC-Open3-1.21-480.el9.noarch                  48/109 
  Verifying        : perl-POSIX-1.94-480.el9.x86_64                      49/109 
  Verifying        : perl-Symbol-1.08-480.el9.noarch                     50/109 
  Verifying        : perl-interpreter-4:5.32.1-480.el9.x86_64            51/109 
  Verifying        : perl-lib-0.65-480.el9.x86_64                        52/109 
  Verifying        : perl-libs-4:5.32.1-480.el9.x86_64                   53/109 
  Verifying        : perl-mro-1.23-480.el9.x86_64                        54/109 
  Verifying        : perl-overload-1.31-480.el9.noarch                   55/109 
  Verifying        : perl-overloading-0.02-480.el9.noarch                56/109 
  Verifying        : git-2.39.3-1.el9_2.x86_64                           57/109 
  Verifying        : git-core-2.39.3-1.el9_2.x86_64                      58/109 
  Verifying        : git-core-doc-2.39.3-1.el9_2.noarch                  59/109 
  Verifying        : nodejs-nodemon-2.0.20-3.el9_2.noarch                60/109 
  Verifying        : nss_wrapper-1.1.13-1.el9.x86_64                     61/109 
  Verifying        : nss_wrapper-libs-1.1.13-1.el9.x86_64                62/109 
  Verifying        : perl-Getopt-Std-1.12-480.el9.noarch                 63/109 
  Verifying        : perl-Git-2.39.3-1.el9_2.noarch                      64/109 
  Verifying        : perl-IO-1.43-480.el9.x86_64                         65/109 
  Verifying        : perl-NDBM_File-1.15-480.el9.x86_64                  66/109 
  Verifying        : perl-SelectSaver-1.02-480.el9.noarch                67/109 
  Verifying        : perl-base-2.27-480.el9.noarch                       68/109 
  Verifying        : perl-if-0.60.800-480.el9.noarch                     69/109 
  Verifying        : perl-subs-1.03-480.el9.noarch                       70/109 
  Verifying        : perl-vars-1.05-480.el9.noarch                       71/109 
  Verifying        : cpp-11.4.1-2.1.el9.x86_64                           72/109 
  Verifying        : emacs-filesystem-1:27.2-9.el9.noarch                73/109 
  Verifying        : glibc-headers-2.34-83.el9_3.7.x86_64                74/109 
  Verifying        : nodejs-1:16.20.2-3.el9_2.x86_64                     75/109 
  Verifying        : nodejs-docs-1:16.20.2-3.el9_2.noarch                76/109 
  Verifying        : nodejs-full-i18n-1:16.20.2-3.el9_2.x86_64           77/109 
  Verifying        : nodejs-libs-1:16.20.2-3.el9_2.x86_64                78/109 
  Verifying        : npm-1:8.19.4-1.16.20.2.3.el9_2.x86_64               79/109 
  Verifying        : gcc-11.4.1-2.1.el9.x86_64                           80/109 
  Verifying        : gcc-c++-11.4.1-2.1.el9.x86_64                       81/109 
  Verifying        : libstdc++-devel-11.4.1-2.1.el9.x86_64               82/109 
  Verifying        : perl-HTTP-Tiny-0.076-461.el9.noarch                 83/109 
  Verifying        : glibc-devel-2.34-83.el9_3.7.x86_64                  84/109 
  Verifying        : cmake-3.20.2-9.el9_3.x86_64                         85/109 
  Verifying        : cmake-data-3.20.2-9.el9_3.noarch                    86/109 
  Verifying        : cmake-filesystem-3.20.2-9.el9_3.x86_64              87/109 
  Verifying        : cmake-rpm-macros-3.20.2-9.el9_3.noarch              88/109 
  Verifying        : kernel-headers-5.14.0-362.13.1.el9_3.x86_64         89/109 
  Verifying        : openssl-devel-1:3.0.7-25.el9_3.x86_64               90/109 
  Verifying        : libbrotli-1.0.9-6.el9.x86_64                        91/109 
  Verifying        : make-1:4.3-7.el9.x86_64                             92/109 
  Verifying        : libcbor-0.7.0-5.el9.x86_64                          93/109 
  Verifying        : libpkgconf-1.7.3-10.el9.x86_64                      94/109 
  Verifying        : pkgconf-1.7.3-10.el9.x86_64                         95/109 
  Verifying        : pkgconf-m4-1.7.3-10.el9.noarch                      96/109 
  Verifying        : pkgconf-pkg-config-1.7.3-10.el9.x86_64              97/109 
  Verifying        : binutils-2.35.2-42.el9.x86_64                       98/109 
  Verifying        : binutils-gold-2.35.2-42.el9.x86_64                  99/109 
  Verifying        : elfutils-debuginfod-client-0.189-3.el9.x86_64      100/109 
  Verifying        : libedit-3.1-38.20210216cvs.el9.x86_64              101/109 
  Verifying        : libfido2-1.13.0-1.el9.x86_64                       102/109 
  Verifying        : ncurses-6.2-10.20210508.el9.x86_64                 103/109 
  Verifying        : openssh-8.7p1-34.el9.x86_64                        104/109 
  Verifying        : openssh-clients-8.7p1-34.el9.x86_64                105/109 
  Verifying        : openssl-1:3.0.7-25.el9_3.x86_64                    106/109 
  Verifying        : openssl-1:3.0.7-24.el9.x86_64                      107/109 
  Verifying        : openssl-libs-1:3.0.7-25.el9_3.x86_64               108/109 
  Verifying        : openssl-libs-1:3.0.7-24.el9.x86_64                 109/109 
Installed products updated.

Upgraded:
  openssl-1:3.0.7-25.el9_3.x86_64      openssl-libs-1:3.0.7-25.el9_3.x86_64     
Installed:
  binutils-2.35.2-42.el9.x86_64                                                 
  binutils-gold-2.35.2-42.el9.x86_64                                            
  cmake-3.20.2-9.el9_3.x86_64                                                   
  cmake-data-3.20.2-9.el9_3.noarch                                              
  cmake-filesystem-3.20.2-9.el9_3.x86_64                                        
  cmake-rpm-macros-3.20.2-9.el9_3.noarch                                        
  cpp-11.4.1-2.1.el9.x86_64                                                     
  elfutils-debuginfod-client-0.189-3.el9.x86_64                                 
  emacs-filesystem-1:27.2-9.el9.noarch                                          
  gcc-11.4.1-2.1.el9.x86_64                                                     
  gcc-c++-11.4.1-2.1.el9.x86_64                                                 
  git-2.39.3-1.el9_2.x86_64                                                     
  git-core-2.39.3-1.el9_2.x86_64                                                
  git-core-doc-2.39.3-1.el9_2.noarch                                            
  glibc-devel-2.34-83.el9_3.7.x86_64                                            
  glibc-headers-2.34-83.el9_3.7.x86_64                                          
  kernel-headers-5.14.0-362.13.1.el9_3.x86_64                                   
  libbrotli-1.0.9-6.el9.x86_64                                                  
  libcbor-0.7.0-5.el9.x86_64                                                    
  libedit-3.1-38.20210216cvs.el9.x86_64                                         
  libfido2-1.13.0-1.el9.x86_64                                                  
  libmpc-1.2.1-4.el9.x86_64                                                     
  libpkgconf-1.7.3-10.el9.x86_64                                                
  libstdc++-devel-11.4.1-2.1.el9.x86_64                                         
  libuv-1:1.42.0-1.el9.x86_64                                                   
  libxcrypt-devel-4.4.18-3.el9.x86_64                                           
  make-1:4.3-7.el9.x86_64                                                       
  ncurses-6.2-10.20210508.el9.x86_64                                            
  nodejs-1:16.20.2-3.el9_2.x86_64                                               
  nodejs-docs-1:16.20.2-3.el9_2.noarch                                          
  nodejs-full-i18n-1:16.20.2-3.el9_2.x86_64                                     
  nodejs-libs-1:16.20.2-3.el9_2.x86_64                                          
  nodejs-nodemon-2.0.20-3.el9_2.noarch                                          
  npm-1:8.19.4-1.16.20.2.3.el9_2.x86_64                                         
  nss_wrapper-1.1.13-1.el9.x86_64                                               
  nss_wrapper-libs-1.1.13-1.el9.x86_64                                          
  openssh-8.7p1-34.el9.x86_64                                                   
  openssh-clients-8.7p1-34.el9.x86_64                                           
  openssl-devel-1:3.0.7-25.el9_3.x86_64                                         
  perl-AutoLoader-5.74-480.el9.noarch                                           
  perl-B-1.80-480.el9.x86_64                                                    
  perl-Carp-1.50-460.el9.noarch                                                 
  perl-Class-Struct-0.66-480.el9.noarch                                         
  perl-Data-Dumper-2.174-462.el9.x86_64                                         
  perl-Digest-1.19-4.el9.noarch                                                 
  perl-Digest-MD5-2.58-4.el9.x86_64                                             
  perl-DynaLoader-1.47-480.el9.x86_64                                           
  perl-Encode-4:3.08-462.el9.x86_64                                             
  perl-Errno-1.30-480.el9.x86_64                                                
  perl-Error-1:0.17029-7.el9.noarch                                             
  perl-Exporter-5.74-461.el9.noarch                                             
  perl-Fcntl-1.13-480.el9.x86_64                                                
  perl-File-Basename-2.85-480.el9.noarch                                        
  perl-File-Find-1.37-480.el9.noarch                                            
  perl-File-Path-2.18-4.el9.noarch                                              
  perl-File-Temp-1:0.231.100-4.el9.noarch                                       
  perl-File-stat-1.09-480.el9.noarch                                            
  perl-FileHandle-2.03-480.el9.noarch                                           
  perl-Getopt-Long-1:2.52-4.el9.noarch                                          
  perl-Getopt-Std-1.12-480.el9.noarch                                           
  perl-Git-2.39.3-1.el9_2.noarch                                                
  perl-HTTP-Tiny-0.076-461.el9.noarch                                           
  perl-IO-1.43-480.el9.x86_64                                                   
  perl-IO-Socket-IP-0.41-5.el9.noarch                                           
  perl-IO-Socket-SSL-2.073-1.el9.noarch                                         
  perl-IPC-Open3-1.21-480.el9.noarch                                            
  perl-MIME-Base64-3.16-4.el9.x86_64                                            
  perl-Mozilla-CA-20200520-6.el9.noarch                                         
  perl-NDBM_File-1.15-480.el9.x86_64                                            
  perl-Net-SSLeay-1.92-2.el9.x86_64                                             
  perl-POSIX-1.94-480.el9.x86_64                                                
  perl-PathTools-3.78-461.el9.x86_64                                            
  perl-Pod-Escapes-1:1.07-460.el9.noarch                                        
  perl-Pod-Perldoc-3.28.01-461.el9.noarch                                       
  perl-Pod-Simple-1:3.42-4.el9.noarch                                           
  perl-Pod-Usage-4:2.01-4.el9.noarch                                            
  perl-Scalar-List-Utils-4:1.56-461.el9.x86_64                                  
  perl-SelectSaver-1.02-480.el9.noarch                                          
  perl-Socket-4:2.031-4.el9.x86_64                                              
  perl-Storable-1:3.21-460.el9.x86_64                                           
  perl-Symbol-1.08-480.el9.noarch                                               
  perl-Term-ANSIColor-5.01-461.el9.noarch                                       
  perl-Term-Cap-1.17-460.el9.noarch                                             
  perl-TermReadKey-2.38-11.el9.x86_64                                           
  perl-Text-ParseWords-3.30-460.el9.noarch                                      
  perl-Text-Tabs+Wrap-2013.0523-460.el9.noarch                                  
  perl-Time-Local-2:1.300-7.el9.noarch                                          
  perl-URI-5.09-3.el9.noarch                                                    
  perl-base-2.27-480.el9.noarch                                                 
  perl-constant-1.33-461.el9.noarch                                             
  perl-if-0.60.800-480.el9.noarch                                               
  perl-interpreter-4:5.32.1-480.el9.x86_64                                      
  perl-lib-0.65-480.el9.x86_64                                                  
  perl-libnet-3.13-4.el9.noarch                                                 
  perl-libs-4:5.32.1-480.el9.x86_64                                             
  perl-mro-1.23-480.el9.x86_64                                                  
  perl-overload-1.31-480.el9.noarch                                             
  perl-overloading-0.02-480.el9.noarch                                          
  perl-parent-1:0.238-460.el9.noarch                                            
  perl-podlators-1:4.14-460.el9.noarch                                          
  perl-subs-1.03-480.el9.noarch                                                 
  perl-vars-1.05-480.el9.noarch                                                 
  pkgconf-1.7.3-10.el9.x86_64                                                   
  pkgconf-m4-1.7.3-10.el9.noarch                                                
  pkgconf-pkg-config-1.7.3-10.el9.x86_64                                        

Complete!
Found VERSION 16
Updating Subscription Management repositories.
Unable to read consumer identity
subscription-manager is operating in container mode.
43 files removed
--> 48c7e2c755b7
STEP 7/12: COPY ./s2i/bin/ $STI_SCRIPTS_PATH
--> 64e2d4a7ddbf
STEP 8/12: COPY ./root/ /
--> a6fd2f1ad865
STEP 9/12: RUN chown -R 1001:0 ${APP_ROOT} && chmod -R ug+rwx ${APP_ROOT} &&     rpm-file-permissions
--> e500def19109
STEP 10/12: USER 1001
--> c3704aa1a2b9
STEP 11/12: CMD $STI_SCRIPTS_PATH/usage
--> b70a1aa9df77
STEP 12/12: LABEL "io.openshift.builder-version"="863366c"
COMMIT
--> 8adc30c9d7bd
8adc30c9d7bd6475c7d063e6b5f987ec25b9843ebc4a824c128fab0caaf67fb6
mkdir -p 16-minimal/root
go-md2man -in "16-minimal/README.md" -out "16-minimal/root/help.1"
chmod a+r "16-minimal/root/help.1"
VERSION="16-minimal" SKIP_SQUASH=1 OS=rhel9 CLEAN_AFTER= DOCKER_BUILD_CONTEXT=. OPENSHIFT_NAMESPACES="" CUSTOM_REPO="" REGISTRY="""" /usr/bin/env bash common/build.sh
Built versions are: 16-minimal
-> Version 16-minimal: building image from 'Dockerfile.rhel9' ...
-> Pulling image ubi9/ubi-minimal before building image from Dockerfile.rhel9.
Resolved "ubi9/ubi-minimal" as an alias (/etc/containers/registries.conf.d/001-rhel-shortnames.conf)
Trying to pull registry.access.redhat.com/ubi9/ubi-minimal:latest...
Getting image source signatures
Checking if image destination supports signatures
Copying blob sha256:e6e98c874e21bf68ae62db244603d751054b20b94888bfb1adb157827cd38c92
Copying config sha256:1cd5a3561bdb1bb2ed26027a0d0192df110eb1775c21667e274f24430329eca3
Writing manifest to image destination
Storing signatures
-> building using docker build  --label io.openshift.builder-version="863366c" -f "$dockerfile" "${DOCKER_BUILD_CONTEXT}"
STEP 1/12: FROM ubi9/ubi-minimal
STEP 2/12: EXPOSE 8080
--> 2af4a6c0e62b
STEP 3/12: ENV APP_ROOT=/opt/app-root     HOME=/opt/app-root/src     NPM_RUN=start     PLATFORM="el9"     NODEJS_VERSION=16     NPM_RUN=start     NAME=nodejs
--> ca19b0a7cd65
STEP 4/12: ENV SUMMARY="Minimal image for running Node.js $NODEJS_VERSION applications"     DESCRIPTION="Node.js $NODEJS_VERSION available as container is a base platform for running various Node.js $NODEJS_VERSION applications and frameworks. Node.js is a platform built on Chrome's JavaScript runtime for easily building fast, scalable network applications. Node.js uses an event-driven, non-blocking I/O model that makes it lightweight and efficient, perfect for data-intensive real-time applications that run across distributed devices."     NPM_CONFIG_PREFIX=$HOME/.npm-global     PATH=$HOME/node_modules/.bin/:$HOME/.npm-global/bin/:$PATH
--> 171e41cc8e40
STEP 5/12: LABEL summary="$SUMMARY"       description="$DESCRIPTION"       io.k8s.description="$DESCRIPTION"       io.k8s.display-name="Node.js $NODEJS_VERSION Micro"       io.openshift.expose-services="8080:http"       io.openshift.tags="builder,$NAME,${NAME}${NODEJS_VERSION}"       io.openshift.s2i.scripts-url="image:///usr/libexec/s2i"       io.s2i.scripts-url="image:///usr/libexec/s2i"       com.redhat.dev-mode="DEV_MODE:false"       com.redhat.deployments-dir="${APP_ROOT}/src"       com.redhat.dev-mode.port="DEBUG_PORT:5858"       com.redhat.component="${NAME}-${NODEJS_VERSION}-minimal-container"       name="ubi9/$NAME-$NODEJS_VERSION-minimal"       version="1"       com.redhat.license_terms="https://www.redhat.com/en/about/red-hat-end-user-license-agreements#UBI"       maintainer="SoftwareCollections.org <sclorg@redhat.com>"       help="For more information visit https://github.com/sclorg/s2i-nodejs-container"
--> c2e2e0b49c64
STEP 6/12: RUN INSTALL_PKGS="nodejs nodejs-nodemon nodejs-full-i18n npm findutils tar which" &&     microdnf -y --nodocs --setopt=install_weak_deps=0 install $INSTALL_PKGS &&     node -v | grep -qe "^v$NODEJS_VERSION\." && echo "Found VERSION $NODEJS_VERSION" &&     microdnf clean all &&     rm -rf /mnt/rootfs/var/cache/* /mnt/rootfs/var/log/dnf* /mnt/rootfs/var/log/yum.*
Downloading metadata...
Downloading metadata...
Downloading metadata...
Downloading metadata...
Downloading metadata...
Package                                    Repository                        Size
Installing:                                                                      
 findutils-1:4.8.0-6.el9.x86_64            ubi-9-baseos-rpms             563.2 kB
 libbrotli-1.0.9-6.el9.x86_64              ubi-9-baseos-rpms             324.5 kB
 nodejs-1:16.20.2-3.el9_2.x86_64           ubi-9-appstream-rpms          119.4 kB
 nodejs-full-i18n-1:16.20.2-3.el9_2.x86_64 ubi-9-appstream-rpms            8.6 MB
 nodejs-libs-1:16.20.2-3.el9_2.x86_64      ubi-9-appstream-rpms           15.2 MB
 nodejs-nodemon-2.0.20-3.el9_2.noarch      ubi-9-appstream-rpms          351.6 kB
 npm-1:8.19.4-1.16.20.2.3.el9_2.x86_64     ubi-9-appstream-rpms            2.3 MB
 openssl-1:3.0.7-24.el9.x86_64             rhel-9-for-x86_64-baseos-rpms   1.3 MB
 tar-2:1.34-6.el9_1.x86_64                 ubi-9-baseos-rpms             910.7 kB
 which-2.21-29.el9.x86_64                  ubi-9-baseos-rpms              45.7 kB
Transaction Summary:
 Installing:       10 packages
 Reinstalling:      0 packages
 Upgrading:         0 packages
 Obsoleting:        0 packages
 Removing:          0 packages
 Downgrading:       0 packages
Downloading packages...
Running transaction test...
Installing: openssl;1:3.0.7-24.el9;x86_64;rhel-9-for-x86_64-baseos-rpms
Installing: libbrotli;1.0.9-6.el9;x86_64;ubi-9-baseos-rpms
Installing: nodejs-libs;1:16.20.2-3.el9_2;x86_64;ubi-9-appstream-rpms
Installing: nodejs-full-i18n;1:16.20.2-3.el9_2;x86_64;ubi-9-appstream-rpms
Installing: npm;1:8.19.4-1.16.20.2.3.el9_2;x86_64;ubi-9-appstream-rpms
Installing: nodejs;1:16.20.2-3.el9_2;x86_64;ubi-9-appstream-rpms
Installing: nodejs-nodemon;2.0.20-3.el9_2;noarch;ubi-9-appstream-rpms
Installing: which;2.21-29.el9;x86_64;ubi-9-baseos-rpms
Installing: tar;2:1.34-6.el9_1;x86_64;ubi-9-baseos-rpms
Installing: findutils;1:4.8.0-6.el9;x86_64;ubi-9-baseos-rpms
Complete.
Found VERSION 16
Complete.
--> 3d34c825c5a1
STEP 7/12: COPY ./s2i/bin/ /usr/libexec/s2i
--> c2bd7311072d
STEP 8/12: COPY ./root/ /
--> 00648dc901bd
STEP 9/12: RUN mkdir -p "$HOME" && chown -R 1001:0 "$APP_ROOT" && chmod -R ug+rwx "$APP_ROOT"
--> 5fb94c774d6d
STEP 10/12: WORKDIR "$HOME"
--> 6676ff36a3eb
STEP 11/12: USER 1001
--> ee358879d915
STEP 12/12: LABEL "io.openshift.builder-version"="863366c"
COMMIT
--> e25e78c3dbdc
e25e78c3dbdced05096f9c97f12bf4d73605e01861246e160c4f5a43252fe493
mkdir -p 18/root
go-md2man -in "18/README.md" -out "18/root/help.1"
chmod a+r "18/root/help.1"
VERSION="18" SKIP_SQUASH=1 OS=rhel9 CLEAN_AFTER= DOCKER_BUILD_CONTEXT=. OPENSHIFT_NAMESPACES="" CUSTOM_REPO="" REGISTRY="""" /usr/bin/env bash common/build.sh
Built versions are: 18
-> Version 18: building image from 'Dockerfile.rhel9' ...
-> Pulling image ubi9/s2i-core:1 before building image from Dockerfile.rhel9.
The image ubi9/s2i-core:1 is already pulled.
-> building using docker build  --label io.openshift.builder-version="863366c" -f "$dockerfile" "${DOCKER_BUILD_CONTEXT}"
STEP 1/12: FROM ubi9/s2i-core:1
STEP 2/12: EXPOSE 8080
--> Using cache 3ab0c1fc0050e2bdf44ebbccdc07ca331a2e4202a9ac08f4e8ed54da97ed609d
--> 3ab0c1fc0050
STEP 3/12: ENV NODEJS_VERSION=18     NPM_RUN=start     NAME=nodejs     NPM_CONFIG_PREFIX=$HOME/.npm-global     PATH=$HOME/node_modules/.bin/:$HOME/.npm-global/bin/:$PATH     CNB_STACK_ID=com.redhat.stacks.ubi9-nodejs-18     CNB_USER_ID=1001     CNB_GROUP_ID=0
--> 428bd754a466
STEP 4/12: ENV SUMMARY="Platform for building and running Node.js $NODEJS_VERSION applications"     DESCRIPTION="Node.js $NODEJS_VERSION available as container is a base platform for building and running various Node.js $NODEJS_VERSION applications and frameworks. Node.js is a platform built on Chrome's JavaScript runtime for easily building fast, scalable network applications. Node.js uses an event-driven, non-blocking I/O model that makes it lightweight and efficient, perfect for data-intensive real-time applications that run across distributed devices."
--> a7ca7822d721
STEP 5/12: LABEL summary="$SUMMARY"       description="$DESCRIPTION"       io.k8s.description="$DESCRIPTION"       io.k8s.display-name="Node.js $NODEJS_VERSION"       io.openshift.expose-services="8080:http"       io.openshift.tags="builder,$NAME,${NAME}${NODEJS_VERSION}"       io.openshift.s2i.scripts-url="image:///usr/libexec/s2i"       io.s2i.scripts-url="image:///usr/libexec/s2i"       io.buildpacks.stack.id="com.redhat.stacks.ubi9-nodejs-18"       com.redhat.dev-mode="DEV_MODE:false"       com.redhat.deployments-dir="${APP_ROOT}/src"       com.redhat.dev-mode.port="DEBUG_PORT:5858"       com.redhat.component="${NAME}-${NODEJS_VERSION}-container"       name="ubi9/$NAME-$NODEJS_VERSION"       version="1"       com.redhat.license_terms="https://www.redhat.com/en/about/red-hat-end-user-license-agreements#UBI"       maintainer="SoftwareCollections.org <sclorg@redhat.com>"       help="For more information visit https://github.com/sclorg/s2i-nodejs-container"       usage="s2i build <SOURCE-REPOSITORY> ubi9/$NAME-$NODEJS_VERSION:latest <APP-NAME>"
--> 826d9ba42fa1
STEP 6/12: RUN yum -y module enable nodejs:$NODEJS_VERSION &&     MODULE_DEPS="make gcc gcc-c++ git openssl-devel" &&     INSTALL_PKGS="$MODULE_DEPS nodejs npm nodejs-nodemon nss_wrapper-libs which" &&     ln -s /usr/lib/node_modules/nodemon/bin/nodemon.js /usr/bin/nodemon &&     yum install -y --setopt=tsflags=nodocs $INSTALL_PKGS &&     rpm -V $INSTALL_PKGS &&     node -v | grep -qe "^v$NODEJS_VERSION\." && echo "Found VERSION $NODEJS_VERSION" &&     yum -y clean all --enablerepo='*'
Updating Subscription Management repositories.
Unable to read consumer identity
subscription-manager is operating in container mode.
Red Hat Enterprise Linux 9 for x86_64 - AppStre  59 MB/s |  28 MB     00:00    
Red Hat Enterprise Linux 9 for x86_64 - BaseOS   38 MB/s |  16 MB     00:00    
Red Hat Universal Base Image 9 (RPMs) - BaseOS  2.1 MB/s | 514 kB     00:00    
Red Hat Universal Base Image 9 (RPMs) - AppStre 6.7 MB/s | 1.8 MB     00:00    
Red Hat Universal Base Image 9 (RPMs) - CodeRea 859 kB/s | 192 kB     00:00    
Dependencies resolved.
================================================================================
 Package           Architecture     Version             Repository         Size
================================================================================
Enabling module streams:
 nodejs                             18                                         

Transaction Summary
================================================================================

Complete!
Updating Subscription Management repositories.
Unable to read consumer identity
subscription-manager is operating in container mode.
Last metadata expiration check: 0:00:02 ago on Wed Jan 24 01:13:12 2024.
Package which-2.21-29.el9.x86_64 is already installed.
Dependencies resolved.
=================================================================================================================================
 Package                      Arch    Version                                             Repository                         Size
=================================================================================================================================
Installing:
 gcc                          x86_64  11.4.1-2.1.el9                                      rhel-9-for-x86_64-appstream-rpms   32 M
 gcc-c++                      x86_64  11.4.1-2.1.el9                                      rhel-9-for-x86_64-appstream-rpms   13 M
 git                          x86_64  2.39.3-1.el9_2                                      rhel-9-for-x86_64-appstream-rpms   66 k
 make                         x86_64  1:4.3-7.el9                                         rhel-9-for-x86_64-baseos-rpms     542 k
 nodejs                       x86_64  1:18.18.2-2.module+el9.2.0.z+20408+7cb5fda5         rhel-9-for-x86_64-appstream-rpms   13 M
 nodejs-nodemon               noarch  3.0.1-1.module+el9.2.0.z+19753+58118bc0             rhel-9-for-x86_64-appstream-rpms  352 k
 npm                          x86_64  1:9.8.1-1.18.18.2.2.module+el9.2.0.z+20408+7cb5fda5 rhel-9-for-x86_64-appstream-rpms  2.6 M
 nss_wrapper-libs             x86_64  1.1.13-1.el9                                        rhel-9-for-x86_64-appstream-rpms   41 k
 openssl-devel                x86_64  1:3.0.7-25.el9_3                                    rhel-9-for-x86_64-appstream-rpms  4.1 M
Upgrading:
 openssl                      x86_64  1:3.0.7-25.el9_3                                    rhel-9-for-x86_64-baseos-rpms     1.2 M
 openssl-libs                 x86_64  1:3.0.7-25.el9_3                                    rhel-9-for-x86_64-baseos-rpms     2.2 M
Installing dependencies:
 binutils                     x86_64  2.35.2-42.el9                                       rhel-9-for-x86_64-baseos-rpms     4.6 M
 binutils-gold                x86_64  2.35.2-42.el9                                       rhel-9-for-x86_64-baseos-rpms     736 k
 cpp                          x86_64  11.4.1-2.1.el9                                      rhel-9-for-x86_64-appstream-rpms   11 M
 elfutils-debuginfod-client   x86_64  0.189-3.el9                                         rhel-9-for-x86_64-baseos-rpms      39 k
 emacs-filesystem             noarch  1:27.2-9.el9                                        rhel-9-for-x86_64-appstream-rpms  9.6 k
 git-core                     x86_64  2.39.3-1.el9_2                                      rhel-9-for-x86_64-appstream-rpms  4.3 M
 git-core-doc                 noarch  2.39.3-1.el9_2                                      rhel-9-for-x86_64-appstream-rpms  2.9 M
 glibc-devel                  x86_64  2.34-83.el9_3.7                                     rhel-9-for-x86_64-appstream-rpms   56 k
 glibc-headers                x86_64  2.34-83.el9_3.7                                     rhel-9-for-x86_64-appstream-rpms  558 k
 kernel-headers               x86_64  5.14.0-362.13.1.el9_3                               rhel-9-for-x86_64-appstream-rpms  6.7 M
 libbrotli                    x86_64  1.0.9-6.el9                                         rhel-9-for-x86_64-baseos-rpms     317 k
 libcbor                      x86_64  0.7.0-5.el9                                         rhel-9-for-x86_64-baseos-rpms      59 k
 libedit                      x86_64  3.1-38.20210216cvs.el9                              rhel-9-for-x86_64-baseos-rpms     107 k
 libfido2                     x86_64  1.13.0-1.el9                                        rhel-9-for-x86_64-baseos-rpms     101 k
 libmpc                       x86_64  1.2.1-4.el9                                         rhel-9-for-x86_64-appstream-rpms   65 k
 libpkgconf                   x86_64  1.7.3-10.el9                                        rhel-9-for-x86_64-baseos-rpms      37 k
 libstdc++-devel              x86_64  11.4.1-2.1.el9                                      rhel-9-for-x86_64-appstream-rpms  2.4 M
 libxcrypt-devel              x86_64  4.4.18-3.el9                                        rhel-9-for-x86_64-appstream-rpms   32 k
 ncurses                      x86_64  6.2-10.20210508.el9                                 rhel-9-for-x86_64-baseos-rpms     410 k
 openssh                      x86_64  8.7p1-34.el9                                        rhel-9-for-x86_64-baseos-rpms     465 k
 openssh-clients              x86_64  8.7p1-34.el9                                        rhel-9-for-x86_64-baseos-rpms     719 k
 perl-AutoLoader              noarch  5.74-480.el9                                        rhel-9-for-x86_64-appstream-rpms   23 k
 perl-B                       x86_64  1.80-480.el9                                        rhel-9-for-x86_64-appstream-rpms  185 k
 perl-Carp                    noarch  1.50-460.el9                                        rhel-9-for-x86_64-appstream-rpms   31 k
 perl-Class-Struct            noarch  0.66-480.el9                                        rhel-9-for-x86_64-appstream-rpms   24 k
 perl-Data-Dumper             x86_64  2.174-462.el9                                       rhel-9-for-x86_64-appstream-rpms   59 k
 perl-Digest                  noarch  1.19-4.el9                                          rhel-9-for-x86_64-appstream-rpms   29 k
 perl-Digest-MD5              x86_64  2.58-4.el9                                          rhel-9-for-x86_64-appstream-rpms   39 k
 perl-DynaLoader              x86_64  1.47-480.el9                                        rhel-9-for-x86_64-appstream-rpms   27 k
 perl-Encode                  x86_64  4:3.08-462.el9                                      rhel-9-for-x86_64-appstream-rpms  1.7 M
 perl-Errno                   x86_64  1.30-480.el9                                        rhel-9-for-x86_64-appstream-rpms   17 k
 perl-Error                   noarch  1:0.17029-7.el9                                     rhel-9-for-x86_64-appstream-rpms   46 k
 perl-Exporter                noarch  5.74-461.el9                                        rhel-9-for-x86_64-appstream-rpms   34 k
 perl-Fcntl                   x86_64  1.13-480.el9                                        rhel-9-for-x86_64-appstream-rpms   23 k
 perl-File-Basename           noarch  2.85-480.el9                                        rhel-9-for-x86_64-appstream-rpms   19 k
 perl-File-Find               noarch  1.37-480.el9                                        rhel-9-for-x86_64-appstream-rpms   27 k
 perl-File-Path               noarch  2.18-4.el9                                          rhel-9-for-x86_64-appstream-rpms   38 k
 perl-File-Temp               noarch  1:0.231.100-4.el9                                   rhel-9-for-x86_64-appstream-rpms   63 k
 perl-File-stat               noarch  1.09-480.el9                                        rhel-9-for-x86_64-appstream-rpms   19 k
 perl-FileHandle              noarch  2.03-480.el9                                        rhel-9-for-x86_64-appstream-rpms   17 k
 perl-Getopt-Long             noarch  1:2.52-4.el9                                        rhel-9-for-x86_64-appstream-rpms   64 k
 perl-Getopt-Std              noarch  1.12-480.el9                                        rhel-9-for-x86_64-appstream-rpms   17 k
 perl-Git                     noarch  2.39.3-1.el9_2                                      rhel-9-for-x86_64-appstream-rpms   39 k
 perl-HTTP-Tiny               noarch  0.076-461.el9                                       rhel-9-for-x86_64-appstream-rpms   57 k
 perl-IO                      x86_64  1.43-480.el9                                        rhel-9-for-x86_64-appstream-rpms   94 k
 perl-IO-Socket-IP            noarch  0.41-5.el9                                          rhel-9-for-x86_64-appstream-rpms   45 k
 perl-IO-Socket-SSL           noarch  2.073-1.el9                                         rhel-9-for-x86_64-appstream-rpms  223 k
 perl-IPC-Open3               noarch  1.21-480.el9                                        rhel-9-for-x86_64-appstream-rpms   25 k
 perl-MIME-Base64             x86_64  3.16-4.el9                                          rhel-9-for-x86_64-appstream-rpms   34 k
 perl-Mozilla-CA              noarch  20200520-6.el9                                      rhel-9-for-x86_64-appstream-rpms   14 k
 perl-Net-SSLeay              x86_64  1.92-2.el9                                          rhel-9-for-x86_64-appstream-rpms  392 k
 perl-POSIX                   x86_64  1.94-480.el9                                        rhel-9-for-x86_64-appstream-rpms   99 k
 perl-PathTools               x86_64  3.78-461.el9                                        rhel-9-for-x86_64-appstream-rpms   92 k
 perl-Pod-Escapes             noarch  1:1.07-460.el9                                      rhel-9-for-x86_64-appstream-rpms   22 k
 perl-Pod-Perldoc             noarch  3.28.01-461.el9                                     rhel-9-for-x86_64-appstream-rpms   92 k
 perl-Pod-Simple              noarch  1:3.42-4.el9                                        rhel-9-for-x86_64-appstream-rpms  229 k
 perl-Pod-Usage               noarch  4:2.01-4.el9                                        rhel-9-for-x86_64-appstream-rpms   43 k
 perl-Scalar-List-Utils       x86_64  4:1.56-461.el9                                      rhel-9-for-x86_64-appstream-rpms   77 k
 perl-SelectSaver             noarch  1.02-480.el9                                        rhel-9-for-x86_64-appstream-rpms   13 k
 perl-Socket                  x86_64  4:2.031-4.el9                                       rhel-9-for-x86_64-appstream-rpms   58 k
 perl-Storable                x86_64  1:3.21-460.el9                                      rhel-9-for-x86_64-appstream-rpms   98 k
 perl-Symbol                  noarch  1.08-480.el9                                        rhel-9-for-x86_64-appstream-rpms   16 k
 perl-Term-ANSIColor          noarch  5.01-461.el9                                        rhel-9-for-x86_64-appstream-rpms   51 k
 perl-Term-Cap                noarch  1.17-460.el9                                        rhel-9-for-x86_64-appstream-rpms   24 k
 perl-TermReadKey             x86_64  2.38-11.el9                                         rhel-9-for-x86_64-appstream-rpms   40 k
 perl-Text-ParseWords         noarch  3.30-460.el9                                        rhel-9-for-x86_64-appstream-rpms   18 k
 perl-Text-Tabs+Wrap          noarch  2013.0523-460.el9                                   rhel-9-for-x86_64-appstream-rpms   25 k
 perl-Time-Local              noarch  2:1.300-7.el9                                       rhel-9-for-x86_64-appstream-rpms   37 k
 perl-URI                     noarch  5.09-3.el9                                          rhel-9-for-x86_64-appstream-rpms  125 k
 perl-base                    noarch  2.27-480.el9                                        rhel-9-for-x86_64-appstream-rpms   18 k
 perl-constant                noarch  1.33-461.el9                                        rhel-9-for-x86_64-appstream-rpms   25 k
 perl-if                      noarch  0.60.800-480.el9                                    rhel-9-for-x86_64-appstream-rpms   16 k
 perl-interpreter             x86_64  4:5.32.1-480.el9                                    rhel-9-for-x86_64-appstream-rpms   75 k
 perl-lib                     x86_64  0.65-480.el9                                        rhel-9-for-x86_64-appstream-rpms   17 k
 perl-libnet                  noarch  3.13-4.el9                                          rhel-9-for-x86_64-appstream-rpms  134 k
 perl-libs                    x86_64  4:5.32.1-480.el9                                    rhel-9-for-x86_64-appstream-rpms  2.2 M
 perl-mro                     x86_64  1.23-480.el9                                        rhel-9-for-x86_64-appstream-rpms   31 k
 perl-overload                noarch  1.31-480.el9                                        rhel-9-for-x86_64-appstream-rpms   47 k
 perl-overloading             noarch  0.02-480.el9                                        rhel-9-for-x86_64-appstream-rpms   15 k
 perl-parent                  noarch  1:0.238-460.el9                                     rhel-9-for-x86_64-appstream-rpms   16 k
 perl-podlators               noarch  1:4.14-460.el9                                      rhel-9-for-x86_64-appstream-rpms  118 k
 perl-subs                    noarch  1.03-480.el9                                        rhel-9-for-x86_64-appstream-rpms   13 k
 perl-vars                    noarch  1.05-480.el9                                        rhel-9-for-x86_64-appstream-rpms   15 k
 pkgconf                      x86_64  1.7.3-10.el9                                        rhel-9-for-x86_64-baseos-rpms      45 k
 pkgconf-m4                   noarch  1.7.3-10.el9                                        rhel-9-for-x86_64-baseos-rpms      16 k
 pkgconf-pkg-config           x86_64  1.7.3-10.el9                                        rhel-9-for-x86_64-baseos-rpms      12 k
Installing weak dependencies:
 nodejs-docs                  noarch  1:18.18.2-2.module+el9.2.0.z+20408+7cb5fda5         rhel-9-for-x86_64-appstream-rpms  7.8 M
 nodejs-full-i18n             x86_64  1:18.18.2-2.module+el9.2.0.z+20408+7cb5fda5         rhel-9-for-x86_64-appstream-rpms  8.5 M
 perl-NDBM_File               x86_64  1.15-480.el9                                        rhel-9-for-x86_64-appstream-rpms   25 k

Transaction Summary
=================================================================================================================================
Install  98 Packages
Upgrade   2 Packages

Total download size: 127 M
Downloading Packages:
(1/100): perl-Digest-MD5-2.58-4.el9.x86_64.rpm  311 kB/s |  39 kB     00:00    
(2/100): perl-Data-Dumper-2.174-462.el9.x86_64. 381 kB/s |  59 kB     00:00    
(3/100): perl-Error-0.17029-7.el9.noarch.rpm    618 kB/s |  46 kB     00:00    
(4/100): perl-Encode-3.08-462.el9.x86_64.rpm    8.2 MB/s | 1.7 MB     00:00    
(5/100): perl-IO-Socket-SSL-2.073-1.el9.noarch. 2.2 MB/s | 223 kB     00:00    
(6/100): perl-Mozilla-CA-20200520-6.el9.noarch. 213 kB/s |  14 kB     00:00    
(7/100): perl-Pod-Simple-3.42-4.el9.noarch.rpm  3.4 MB/s | 229 kB     00:00    
(8/100): perl-Term-Cap-1.17-460.el9.noarch.rpm  359 kB/s |  24 kB     00:00    
(9/100): perl-Time-Local-1.300-7.el9.noarch.rpm 533 kB/s |  37 kB     00:00    
(10/100): perl-TermReadKey-2.38-11.el9.x86_64.r 533 kB/s |  40 kB     00:00    
(11/100): perl-Pod-Escapes-1.07-460.el9.noarch. 361 kB/s |  22 kB     00:00    
(12/100): perl-Storable-3.21-460.el9.x86_64.rpm 1.4 MB/s |  98 kB     00:00    
(13/100): perl-podlators-4.14-460.el9.noarch.rp 1.3 MB/s | 118 kB     00:00    
(14/100): libmpc-1.2.1-4.el9.x86_64.rpm         1.0 MB/s |  65 kB     00:00    
(15/100): libxcrypt-devel-4.4.18-3.el9.x86_64.r 467 kB/s |  32 kB     00:00    
(16/100): perl-Exporter-5.74-461.el9.noarch.rpm 528 kB/s |  34 kB     00:00    
(17/100): perl-File-Temp-0.231.100-4.el9.noarch 917 kB/s |  63 kB     00:00    
(18/100): perl-Getopt-Long-2.52-4.el9.noarch.rp 1.0 MB/s |  64 kB     00:00    
(19/100): perl-parent-0.238-460.el9.noarch.rpm  249 kB/s |  16 kB     00:00    
(20/100): perl-MIME-Base64-3.16-4.el9.x86_64.rp 295 kB/s |  34 kB     00:00    
(21/100): perl-Text-Tabs+Wrap-2013.0523-460.el9 255 kB/s |  25 kB     00:00    
(22/100): perl-Digest-1.19-4.el9.noarch.rpm     441 kB/s |  29 kB     00:00    
(23/100): perl-File-Path-2.18-4.el9.noarch.rpm  606 kB/s |  38 kB     00:00    
(24/100): perl-IO-Socket-IP-0.41-5.el9.noarch.r 708 kB/s |  45 kB     00:00    
(25/100): perl-Socket-2.031-4.el9.x86_64.rpm    965 kB/s |  58 kB     00:00    
(26/100): perl-Pod-Usage-2.01-4.el9.noarch.rpm  606 kB/s |  43 kB     00:00    
(27/100): perl-Scalar-List-Utils-1.56-461.el9.x 1.0 MB/s |  77 kB     00:00    
(28/100): perl-Term-ANSIColor-5.01-461.el9.noar 813 kB/s |  51 kB     00:00    
(29/100): perl-Text-ParseWords-3.30-460.el9.noa 281 kB/s |  18 kB     00:00    
(30/100): perl-URI-5.09-3.el9.noarch.rpm        1.8 MB/s | 125 kB     00:00    
(31/100): perl-constant-1.33-461.el9.noarch.rpm 416 kB/s |  25 kB     00:00    
(32/100): perl-Pod-Perldoc-3.28.01-461.el9.noar 1.5 MB/s |  92 kB     00:00    
(33/100): perl-libnet-3.13-4.el9.noarch.rpm     1.8 MB/s | 134 kB     00:00    
(34/100): perl-Carp-1.50-460.el9.noarch.rpm     502 kB/s |  31 kB     00:00    
(35/100): perl-PathTools-3.78-461.el9.x86_64.rp 1.4 MB/s |  92 kB     00:00    
(36/100): perl-Net-SSLeay-1.92-2.el9.x86_64.rpm 4.8 MB/s | 392 kB     00:00    
(37/100): perl-AutoLoader-5.74-480.el9.noarch.r 377 kB/s |  23 kB     00:00    
(38/100): perl-B-1.80-480.el9.x86_64.rpm        2.8 MB/s | 185 kB     00:00    
(39/100): perl-Class-Struct-0.66-480.el9.noarch 401 kB/s |  24 kB     00:00    
(40/100): perl-DynaLoader-1.47-480.el9.x86_64.r 450 kB/s |  27 kB     00:00    
(41/100): perl-Errno-1.30-480.el9.x86_64.rpm    261 kB/s |  17 kB     00:00    
(42/100): perl-Fcntl-1.13-480.el9.x86_64.rpm    379 kB/s |  23 kB     00:00    
(43/100): perl-File-Basename-2.85-480.el9.noarc 297 kB/s |  19 kB     00:00    
(44/100): perl-File-Find-1.37-480.el9.noarch.rp 423 kB/s |  27 kB     00:00    
(45/100): perl-File-stat-1.09-480.el9.noarch.rp 320 kB/s |  19 kB     00:00    
(46/100): perl-FileHandle-2.03-480.el9.noarch.r 263 kB/s |  17 kB     00:00    
(47/100): perl-IPC-Open3-1.21-480.el9.noarch.rp 408 kB/s |  25 kB     00:00    
(48/100): perl-POSIX-1.94-480.el9.x86_64.rpm    1.6 MB/s |  99 kB     00:00    
(49/100): perl-Symbol-1.08-480.el9.noarch.rpm   258 kB/s |  16 kB     00:00    
(50/100): perl-interpreter-5.32.1-480.el9.x86_6 1.1 MB/s |  75 kB     00:00    
(51/100): perl-lib-0.65-480.el9.x86_64.rpm      274 kB/s |  17 kB     00:00    
(52/100): perl-mro-1.23-480.el9.x86_64.rpm      500 kB/s |  31 kB     00:00    
(53/100): perl-overload-1.31-480.el9.noarch.rpm 706 kB/s |  47 kB     00:00    
(54/100): perl-libs-5.32.1-480.el9.x86_64.rpm    19 MB/s | 2.2 MB     00:00    
(55/100): perl-overloading-0.02-480.el9.noarch. 221 kB/s |  15 kB     00:00    
(56/100): git-2.39.3-1.el9_2.x86_64.rpm         1.0 MB/s |  66 kB     00:00    
(57/100): git-core-2.39.3-1.el9_2.x86_64.rpm     48 MB/s | 4.3 MB     00:00    
(58/100): nss_wrapper-libs-1.1.13-1.el9.x86_64. 694 kB/s |  41 kB     00:00    
(59/100): git-core-doc-2.39.3-1.el9_2.noarch.rp  34 MB/s | 2.9 MB     00:00    
(60/100): perl-Getopt-Std-1.12-480.el9.noarch.r 279 kB/s |  17 kB     00:00    
(61/100): perl-Git-2.39.3-1.el9_2.noarch.rpm    638 kB/s |  39 kB     00:00    
(62/100): perl-IO-1.43-480.el9.x86_64.rpm       1.5 MB/s |  94 kB     00:00    
(63/100): perl-NDBM_File-1.15-480.el9.x86_64.rp 372 kB/s |  25 kB     00:00    
(64/100): perl-SelectSaver-1.02-480.el9.noarch. 217 kB/s |  13 kB     00:00    
(65/100): perl-base-2.27-480.el9.noarch.rpm     285 kB/s |  18 kB     00:00    
(66/100): perl-if-0.60.800-480.el9.noarch.rpm   259 kB/s |  16 kB     00:00    
(67/100): perl-subs-1.03-480.el9.noarch.rpm     221 kB/s |  13 kB     00:00    
(68/100): perl-vars-1.05-480.el9.noarch.rpm     234 kB/s |  15 kB     00:00    
(69/100): emacs-filesystem-27.2-9.el9.noarch.rp 107 kB/s | 9.6 kB     00:00    
(70/100): glibc-headers-2.34-83.el9_3.7.x86_64. 5.8 MB/s | 558 kB     00:00    
(71/100): cpp-11.4.1-2.1.el9.x86_64.rpm          73 MB/s |  11 MB     00:00    
(72/100): nodejs-docs-18.18.2-2.module+el9.2.0.  53 MB/s | 7.8 MB     00:00    
(73/100): nodejs-full-i18n-18.18.2-2.module+el9  60 MB/s | 8.5 MB     00:00    
(74/100): nodejs-18.18.2-2.module+el9.2.0.z+204  60 MB/s |  13 MB     00:00    
(75/100): nodejs-nodemon-3.0.1-1.module+el9.2.0 5.3 MB/s | 352 kB     00:00    
(76/100): npm-9.8.1-1.18.18.2.2.module+el9.2.0.  33 MB/s | 2.6 MB     00:00    
(77/100): libstdc++-devel-11.4.1-2.1.el9.x86_64  28 MB/s | 2.4 MB     00:00    
(78/100): gcc-c++-11.4.1-2.1.el9.x86_64.rpm      76 MB/s |  13 MB     00:00    
(79/100): perl-HTTP-Tiny-0.076-461.el9.noarch.r 893 kB/s |  57 kB     00:00    
(80/100): glibc-devel-2.34-83.el9_3.7.x86_64.rp 871 kB/s |  56 kB     00:00    
(81/100): gcc-11.4.1-2.1.el9.x86_64.rpm          95 MB/s |  32 MB     00:00    
(82/100): kernel-headers-5.14.0-362.13.1.el9_3.  41 MB/s | 6.7 MB     00:00    
(83/100): openssl-devel-3.0.7-25.el9_3.x86_64.r  34 MB/s | 4.1 MB     00:00    
(84/100): libbrotli-1.0.9-6.el9.x86_64.rpm      4.9 MB/s | 317 kB     00:00    
(85/100): make-4.3-7.el9.x86_64.rpm             7.9 MB/s | 542 kB     00:00    
(86/100): libcbor-0.7.0-5.el9.x86_64.rpm        925 kB/s |  59 kB     00:00    
(87/100): libpkgconf-1.7.3-10.el9.x86_64.rpm    610 kB/s |  37 kB     00:00    
(88/100): pkgconf-1.7.3-10.el9.x86_64.rpm       717 kB/s |  45 kB     00:00    
(89/100): pkgconf-m4-1.7.3-10.el9.noarch.rpm    256 kB/s |  16 kB     00:00    
(90/100): pkgconf-pkg-config-1.7.3-10.el9.x86_6 194 kB/s |  12 kB     00:00    
(91/100): binutils-gold-2.35.2-42.el9.x86_64.rp  11 MB/s | 736 kB     00:00    
(92/100): binutils-2.35.2-42.el9.x86_64.rpm      48 MB/s | 4.6 MB     00:00    
(93/100): elfutils-debuginfod-client-0.189-3.el 612 kB/s |  39 kB     00:00    
(94/100): libedit-3.1-38.20210216cvs.el9.x86_64 1.6 MB/s | 107 kB     00:00    
(95/100): libfido2-1.13.0-1.el9.x86_64.rpm      1.6 MB/s | 101 kB     00:00    
(96/100): ncurses-6.2-10.20210508.el9.x86_64.rp 6.4 MB/s | 410 kB     00:00    
(97/100): openssh-8.7p1-34.el9.x86_64.rpm       7.0 MB/s | 465 kB     00:00    
(98/100): openssh-clients-8.7p1-34.el9.x86_64.r  10 MB/s | 719 kB     00:00    
(99/100): openssl-3.0.7-25.el9_3.x86_64.rpm      16 MB/s | 1.2 MB     00:00    
(100/100): openssl-libs-3.0.7-25.el9_3.x86_64.r  29 MB/s | 2.2 MB     00:00    
--------------------------------------------------------------------------------
Total                                            47 MB/s | 127 MB     00:02     
Running transaction check
Transaction check succeeded.
Running transaction test
Transaction test succeeded.
Running transaction
  Preparing        :                                                        1/1 
  Upgrading        : openssl-libs-1:3.0.7-25.el9_3.x86_64                 1/102 
  Installing       : libmpc-1.2.1-4.el9.x86_64                            2/102 
  Installing       : elfutils-debuginfod-client-0.189-3.el9.x86_64        3/102 
  Installing       : binutils-gold-2.35.2-42.el9.x86_64                   4/102 
  Installing       : binutils-2.35.2-42.el9.x86_64                        5/102 
  Running scriptlet: binutils-2.35.2-42.el9.x86_64                        5/102 
  Installing       : cpp-11.4.1-2.1.el9.x86_64                            6/102 
  Running scriptlet: openssh-8.7p1-34.el9.x86_64                          7/102 
  Installing       : openssh-8.7p1-34.el9.x86_64                          7/102 
  Upgrading        : openssl-1:3.0.7-25.el9_3.x86_64                      8/102 
  Installing       : ncurses-6.2-10.20210508.el9.x86_64                   9/102 
  Installing       : perl-Digest-1.19-4.el9.noarch                       10/102 
  Installing       : perl-Digest-MD5-2.58-4.el9.x86_64                   11/102 
  Installing       : perl-FileHandle-2.03-480.el9.noarch                 12/102 
  Installing       : perl-B-1.80-480.el9.x86_64                          13/102 
  Installing       : perl-libnet-3.13-4.el9.noarch                       14/102 
  Installing       : perl-Data-Dumper-2.174-462.el9.x86_64               15/102 
  Installing       : perl-AutoLoader-5.74-480.el9.noarch                 16/102 
  Installing       : perl-base-2.27-480.el9.noarch                       17/102 
  Installing       : perl-URI-5.09-3.el9.noarch                          18/102 
  Installing       : perl-Time-Local-2:1.300-7.el9.noarch                19/102 
  Installing       : perl-Mozilla-CA-20200520-6.el9.noarch               20/102 
  Installing       : perl-IO-Socket-IP-0.41-5.el9.noarch                 21/102 
  Installing       : perl-if-0.60.800-480.el9.noarch                     22/102 
  Installing       : perl-Pod-Escapes-1:1.07-460.el9.noarch              23/102 
  Installing       : perl-Text-Tabs+Wrap-2013.0523-460.el9.noarch        24/102 
  Installing       : perl-File-Path-2.18-4.el9.noarch                    25/102 
  Installing       : perl-Net-SSLeay-1.92-2.el9.x86_64                   26/102 
  Installing       : perl-IO-Socket-SSL-2.073-1.el9.noarch               27/102 
  Installing       : perl-Term-ANSIColor-5.01-461.el9.noarch             28/102 
  Installing       : perl-Class-Struct-0.66-480.el9.noarch               29/102 
  Installing       : perl-POSIX-1.94-480.el9.x86_64                      30/102 
  Installing       : perl-IPC-Open3-1.21-480.el9.noarch                  31/102 
  Installing       : perl-subs-1.03-480.el9.noarch                       32/102 
  Installing       : perl-Term-Cap-1.17-460.el9.noarch                   33/102 
  Installing       : perl-File-Temp-1:0.231.100-4.el9.noarch             34/102 
  Installing       : perl-Pod-Simple-1:3.42-4.el9.noarch                 35/102 
  Installing       : perl-HTTP-Tiny-0.076-461.el9.noarch                 36/102 
  Installing       : perl-Socket-4:2.031-4.el9.x86_64                    37/102 
  Installing       : perl-Symbol-1.08-480.el9.noarch                     38/102 
  Installing       : perl-File-stat-1.09-480.el9.noarch                  39/102 
  Installing       : perl-SelectSaver-1.02-480.el9.noarch                40/102 
  Installing       : perl-podlators-1:4.14-460.el9.noarch                41/102 
  Installing       : perl-Pod-Perldoc-3.28.01-461.el9.noarch             42/102 
  Installing       : perl-Text-ParseWords-3.30-460.el9.noarch            43/102 
  Installing       : perl-Fcntl-1.13-480.el9.x86_64                      44/102 
  Installing       : perl-mro-1.23-480.el9.x86_64                        45/102 
  Installing       : perl-overloading-0.02-480.el9.noarch                46/102 
  Installing       : perl-IO-1.43-480.el9.x86_64                         47/102 
  Installing       : perl-Pod-Usage-4:2.01-4.el9.noarch                  48/102 
  Installing       : perl-parent-1:0.238-460.el9.noarch                  49/102 
  Installing       : perl-MIME-Base64-3.16-4.el9.x86_64                  50/102 
  Installing       : perl-Scalar-List-Utils-4:1.56-461.el9.x86_64        51/102 
  Installing       : perl-constant-1.33-461.el9.noarch                   52/102 
  Installing       : perl-Errno-1.30-480.el9.x86_64                      53/102 
  Installing       : perl-File-Basename-2.85-480.el9.noarch              54/102 
  Installing       : perl-overload-1.31-480.el9.noarch                   55/102 
  Installing       : perl-Getopt-Std-1.12-480.el9.noarch                 56/102 
  Installing       : perl-Storable-1:3.21-460.el9.x86_64                 57/102 
  Installing       : perl-vars-1.05-480.el9.noarch                       58/102 
  Installing       : perl-Getopt-Long-1:2.52-4.el9.noarch                59/102 
  Installing       : perl-Exporter-5.74-461.el9.noarch                   60/102 
  Installing       : perl-Carp-1.50-460.el9.noarch                       61/102 
  Installing       : perl-PathTools-3.78-461.el9.x86_64                  62/102 
  Installing       : perl-NDBM_File-1.15-480.el9.x86_64                  63/102 
  Installing       : perl-Encode-4:3.08-462.el9.x86_64                   64/102 
  Installing       : perl-libs-4:5.32.1-480.el9.x86_64                   65/102 
  Installing       : perl-interpreter-4:5.32.1-480.el9.x86_64            66/102 
  Installing       : perl-Error-1:0.17029-7.el9.noarch                   67/102 
  Installing       : perl-DynaLoader-1.47-480.el9.x86_64                 68/102 
  Installing       : perl-TermReadKey-2.38-11.el9.x86_64                 69/102 
  Installing       : perl-File-Find-1.37-480.el9.noarch                  70/102 
  Installing       : perl-lib-0.65-480.el9.x86_64                        71/102 
  Installing       : libedit-3.1-38.20210216cvs.el9.x86_64               72/102 
  Installing       : pkgconf-m4-1.7.3-10.el9.noarch                      73/102 
  Installing       : libpkgconf-1.7.3-10.el9.x86_64                      74/102 
  Installing       : pkgconf-1.7.3-10.el9.x86_64                         75/102 
  Installing       : pkgconf-pkg-config-1.7.3-10.el9.x86_64              76/102 
  Installing       : libcbor-0.7.0-5.el9.x86_64                          77/102 
  Installing       : libfido2-1.13.0-1.el9.x86_64                        78/102 
  Installing       : openssh-clients-8.7p1-34.el9.x86_64                 79/102 
  Running scriptlet: openssh-clients-8.7p1-34.el9.x86_64                 79/102 
  Installing       : git-core-2.39.3-1.el9_2.x86_64                      80/102 
  Installing       : git-core-doc-2.39.3-1.el9_2.noarch                  81/102 
  Installing       : make-1:4.3-7.el9.x86_64                             82/102 
  Installing       : libbrotli-1.0.9-6.el9.x86_64                        83/102 
  Installing       : kernel-headers-5.14.0-362.13.1.el9_3.x86_64         84/102 
  Installing       : libstdc++-devel-11.4.1-2.1.el9.x86_64               85/102 
  Installing       : nodejs-docs-1:18.18.2-2.module+el9.2.0.z+20408+7    86/102 
  Installing       : nodejs-full-i18n-1:18.18.2-2.module+el9.2.0.z+20    87/102 
  Installing       : npm-1:9.8.1-1.18.18.2.2.module+el9.2.0.z+20408+7    88/102 
  Installing       : nodejs-1:18.18.2-2.module+el9.2.0.z+20408+7cb5fd    89/102 
  Installing       : glibc-headers-2.34-83.el9_3.7.x86_64                90/102 
  Installing       : glibc-devel-2.34-83.el9_3.7.x86_64                  91/102 
  Installing       : libxcrypt-devel-4.4.18-3.el9.x86_64                 92/102 
  Installing       : gcc-11.4.1-2.1.el9.x86_64                           93/102 
  Installing       : emacs-filesystem-1:27.2-9.el9.noarch                94/102 
  Installing       : perl-Git-2.39.3-1.el9_2.noarch                      95/102 
  Installing       : git-2.39.3-1.el9_2.x86_64                           96/102 
  Installing       : gcc-c++-11.4.1-2.1.el9.x86_64                       97/102 
  Installing       : nodejs-nodemon-3.0.1-1.module+el9.2.0.z+19753+58    98/102 
  Installing       : openssl-devel-1:3.0.7-25.el9_3.x86_64               99/102 
  Installing       : nss_wrapper-libs-1.1.13-1.el9.x86_64               100/102 
  Cleanup          : openssl-1:3.0.7-24.el9.x86_64                      101/102 
  Cleanup          : openssl-libs-1:3.0.7-24.el9.x86_64                 102/102 
  Running scriptlet: openssl-libs-1:3.0.7-24.el9.x86_64                 102/102 
  Verifying        : perl-Data-Dumper-2.174-462.el9.x86_64                1/102 
  Verifying        : perl-Digest-MD5-2.58-4.el9.x86_64                    2/102 
  Verifying        : perl-Encode-4:3.08-462.el9.x86_64                    3/102 
  Verifying        : perl-Error-1:0.17029-7.el9.noarch                    4/102 
  Verifying        : perl-IO-Socket-SSL-2.073-1.el9.noarch                5/102 
  Verifying        : perl-Mozilla-CA-20200520-6.el9.noarch                6/102 
  Verifying        : perl-Pod-Simple-1:3.42-4.el9.noarch                  7/102 
  Verifying        : perl-Term-Cap-1.17-460.el9.noarch                    8/102 
  Verifying        : perl-TermReadKey-2.38-11.el9.x86_64                  9/102 
  Verifying        : perl-Time-Local-2:1.300-7.el9.noarch                10/102 
  Verifying        : perl-Pod-Escapes-1:1.07-460.el9.noarch              11/102 
  Verifying        : perl-Storable-1:3.21-460.el9.x86_64                 12/102 
  Verifying        : perl-podlators-1:4.14-460.el9.noarch                13/102 
  Verifying        : libmpc-1.2.1-4.el9.x86_64                           14/102 
  Verifying        : libxcrypt-devel-4.4.18-3.el9.x86_64                 15/102 
  Verifying        : perl-Exporter-5.74-461.el9.noarch                   16/102 
  Verifying        : perl-File-Temp-1:0.231.100-4.el9.noarch             17/102 
  Verifying        : perl-Getopt-Long-1:2.52-4.el9.noarch                18/102 
  Verifying        : perl-MIME-Base64-3.16-4.el9.x86_64                  19/102 
  Verifying        : perl-Text-Tabs+Wrap-2013.0523-460.el9.noarch        20/102 
  Verifying        : perl-parent-1:0.238-460.el9.noarch                  21/102 
  Verifying        : perl-Digest-1.19-4.el9.noarch                       22/102 
  Verifying        : perl-File-Path-2.18-4.el9.noarch                    23/102 
  Verifying        : perl-IO-Socket-IP-0.41-5.el9.noarch                 24/102 
  Verifying        : perl-Pod-Usage-4:2.01-4.el9.noarch                  25/102 
  Verifying        : perl-Scalar-List-Utils-4:1.56-461.el9.x86_64        26/102 
  Verifying        : perl-Socket-4:2.031-4.el9.x86_64                    27/102 
  Verifying        : perl-Term-ANSIColor-5.01-461.el9.noarch             28/102 
  Verifying        : perl-Text-ParseWords-3.30-460.el9.noarch            29/102 
  Verifying        : perl-URI-5.09-3.el9.noarch                          30/102 
  Verifying        : perl-constant-1.33-461.el9.noarch                   31/102 
  Verifying        : perl-Pod-Perldoc-3.28.01-461.el9.noarch             32/102 
  Verifying        : perl-libnet-3.13-4.el9.noarch                       33/102 
  Verifying        : perl-Carp-1.50-460.el9.noarch                       34/102 
  Verifying        : perl-PathTools-3.78-461.el9.x86_64                  35/102 
  Verifying        : perl-Net-SSLeay-1.92-2.el9.x86_64                   36/102 
  Verifying        : perl-AutoLoader-5.74-480.el9.noarch                 37/102 
  Verifying        : perl-B-1.80-480.el9.x86_64                          38/102 
  Verifying        : perl-Class-Struct-0.66-480.el9.noarch               39/102 
  Verifying        : perl-DynaLoader-1.47-480.el9.x86_64                 40/102 
  Verifying        : perl-Errno-1.30-480.el9.x86_64                      41/102 
  Verifying        : perl-Fcntl-1.13-480.el9.x86_64                      42/102 
  Verifying        : perl-File-Basename-2.85-480.el9.noarch              43/102 
  Verifying        : perl-File-Find-1.37-480.el9.noarch                  44/102 
  Verifying        : perl-File-stat-1.09-480.el9.noarch                  45/102 
  Verifying        : perl-FileHandle-2.03-480.el9.noarch                 46/102 
  Verifying        : perl-IPC-Open3-1.21-480.el9.noarch                  47/102 
  Verifying        : perl-POSIX-1.94-480.el9.x86_64                      48/102 
  Verifying        : perl-Symbol-1.08-480.el9.noarch                     49/102 
  Verifying        : perl-interpreter-4:5.32.1-480.el9.x86_64            50/102 
  Verifying        : perl-lib-0.65-480.el9.x86_64                        51/102 
  Verifying        : perl-libs-4:5.32.1-480.el9.x86_64                   52/102 
  Verifying        : perl-mro-1.23-480.el9.x86_64                        53/102 
  Verifying        : perl-overload-1.31-480.el9.noarch                   54/102 
  Verifying        : perl-overloading-0.02-480.el9.noarch                55/102 
  Verifying        : git-2.39.3-1.el9_2.x86_64                           56/102 
  Verifying        : git-core-2.39.3-1.el9_2.x86_64                      57/102 
  Verifying        : git-core-doc-2.39.3-1.el9_2.noarch                  58/102 
  Verifying        : nss_wrapper-libs-1.1.13-1.el9.x86_64                59/102 
  Verifying        : perl-Getopt-Std-1.12-480.el9.noarch                 60/102 
  Verifying        : perl-Git-2.39.3-1.el9_2.noarch                      61/102 
  Verifying        : perl-IO-1.43-480.el9.x86_64                         62/102 
  Verifying        : perl-NDBM_File-1.15-480.el9.x86_64                  63/102 
  Verifying        : perl-SelectSaver-1.02-480.el9.noarch                64/102 
  Verifying        : perl-base-2.27-480.el9.noarch                       65/102 
  Verifying        : perl-if-0.60.800-480.el9.noarch                     66/102 
  Verifying        : perl-subs-1.03-480.el9.noarch                       67/102 
  Verifying        : perl-vars-1.05-480.el9.noarch                       68/102 
  Verifying        : cpp-11.4.1-2.1.el9.x86_64                           69/102 
  Verifying        : emacs-filesystem-1:27.2-9.el9.noarch                70/102 
  Verifying        : glibc-headers-2.34-83.el9_3.7.x86_64                71/102 
  Verifying        : nodejs-1:18.18.2-2.module+el9.2.0.z+20408+7cb5fd    72/102 
  Verifying        : nodejs-docs-1:18.18.2-2.module+el9.2.0.z+20408+7    73/102 
  Verifying        : nodejs-full-i18n-1:18.18.2-2.module+el9.2.0.z+20    74/102 
  Verifying        : nodejs-nodemon-3.0.1-1.module+el9.2.0.z+19753+58    75/102 
  Verifying        : npm-1:9.8.1-1.18.18.2.2.module+el9.2.0.z+20408+7    76/102 
  Verifying        : gcc-11.4.1-2.1.el9.x86_64                           77/102 
  Verifying        : gcc-c++-11.4.1-2.1.el9.x86_64                       78/102 
  Verifying        : libstdc++-devel-11.4.1-2.1.el9.x86_64               79/102 
  Verifying        : perl-HTTP-Tiny-0.076-461.el9.noarch                 80/102 
  Verifying        : glibc-devel-2.34-83.el9_3.7.x86_64                  81/102 
  Verifying        : kernel-headers-5.14.0-362.13.1.el9_3.x86_64         82/102 
  Verifying        : openssl-devel-1:3.0.7-25.el9_3.x86_64               83/102 
  Verifying        : libbrotli-1.0.9-6.el9.x86_64                        84/102 
  Verifying        : make-1:4.3-7.el9.x86_64                             85/102 
  Verifying        : libcbor-0.7.0-5.el9.x86_64                          86/102 
  Verifying        : libpkgconf-1.7.3-10.el9.x86_64                      87/102 
  Verifying        : pkgconf-1.7.3-10.el9.x86_64                         88/102 
  Verifying        : pkgconf-m4-1.7.3-10.el9.noarch                      89/102 
  Verifying        : pkgconf-pkg-config-1.7.3-10.el9.x86_64              90/102 
  Verifying        : binutils-2.35.2-42.el9.x86_64                       91/102 
  Verifying        : binutils-gold-2.35.2-42.el9.x86_64                  92/102 
  Verifying        : elfutils-debuginfod-client-0.189-3.el9.x86_64       93/102 
  Verifying        : libedit-3.1-38.20210216cvs.el9.x86_64               94/102 
  Verifying        : libfido2-1.13.0-1.el9.x86_64                        95/102 
  Verifying        : ncurses-6.2-10.20210508.el9.x86_64                  96/102 
  Verifying        : openssh-8.7p1-34.el9.x86_64                         97/102 
  Verifying        : openssh-clients-8.7p1-34.el9.x86_64                 98/102 
  Verifying        : openssl-1:3.0.7-25.el9_3.x86_64                     99/102 
  Verifying        : openssl-1:3.0.7-24.el9.x86_64                      100/102 
  Verifying        : openssl-libs-1:3.0.7-25.el9_3.x86_64               101/102 
  Verifying        : openssl-libs-1:3.0.7-24.el9.x86_64                 102/102 
Installed products updated.

Upgraded:
  openssl-1:3.0.7-25.el9_3.x86_64      openssl-libs-1:3.0.7-25.el9_3.x86_64     
Installed:
  binutils-2.35.2-42.el9.x86_64                                                 
  binutils-gold-2.35.2-42.el9.x86_64                                            
  cpp-11.4.1-2.1.el9.x86_64                                                     
  elfutils-debuginfod-client-0.189-3.el9.x86_64                                 
  emacs-filesystem-1:27.2-9.el9.noarch                                          
  gcc-11.4.1-2.1.el9.x86_64                                                     
  gcc-c++-11.4.1-2.1.el9.x86_64                                                 
  git-2.39.3-1.el9_2.x86_64                                                     
  git-core-2.39.3-1.el9_2.x86_64                                                
  git-core-doc-2.39.3-1.el9_2.noarch                                            
  glibc-devel-2.34-83.el9_3.7.x86_64                                            
  glibc-headers-2.34-83.el9_3.7.x86_64                                          
  kernel-headers-5.14.0-362.13.1.el9_3.x86_64                                   
  libbrotli-1.0.9-6.el9.x86_64                                                  
  libcbor-0.7.0-5.el9.x86_64                                                    
  libedit-3.1-38.20210216cvs.el9.x86_64                                         
  libfido2-1.13.0-1.el9.x86_64                                                  
  libmpc-1.2.1-4.el9.x86_64                                                     
  libpkgconf-1.7.3-10.el9.x86_64                                                
  libstdc++-devel-11.4.1-2.1.el9.x86_64                                         
  libxcrypt-devel-4.4.18-3.el9.x86_64                                           
  make-1:4.3-7.el9.x86_64                                                       
  ncurses-6.2-10.20210508.el9.x86_64                                            
  nodejs-1:18.18.2-2.module+el9.2.0.z+20408+7cb5fda5.x86_64                     
  nodejs-docs-1:18.18.2-2.module+el9.2.0.z+20408+7cb5fda5.noarch                
  nodejs-full-i18n-1:18.18.2-2.module+el9.2.0.z+20408+7cb5fda5.x86_64           
  nodejs-nodemon-3.0.1-1.module+el9.2.0.z+19753+58118bc0.noarch                 
  npm-1:9.8.1-1.18.18.2.2.module+el9.2.0.z+20408+7cb5fda5.x86_64                
  nss_wrapper-libs-1.1.13-1.el9.x86_64                                          
  openssh-8.7p1-34.el9.x86_64                                                   
  openssh-clients-8.7p1-34.el9.x86_64                                           
  openssl-devel-1:3.0.7-25.el9_3.x86_64                                         
  perl-AutoLoader-5.74-480.el9.noarch                                           
  perl-B-1.80-480.el9.x86_64                                                    
  perl-Carp-1.50-460.el9.noarch                                                 
  perl-Class-Struct-0.66-480.el9.noarch                                         
  perl-Data-Dumper-2.174-462.el9.x86_64                                         
  perl-Digest-1.19-4.el9.noarch                                                 
  perl-Digest-MD5-2.58-4.el9.x86_64                                             
  perl-DynaLoader-1.47-480.el9.x86_64                                           
  perl-Encode-4:3.08-462.el9.x86_64                                             
  perl-Errno-1.30-480.el9.x86_64                                                
  perl-Error-1:0.17029-7.el9.noarch                                             
  perl-Exporter-5.74-461.el9.noarch                                             
  perl-Fcntl-1.13-480.el9.x86_64                                                
  perl-File-Basename-2.85-480.el9.noarch                                        
  perl-File-Find-1.37-480.el9.noarch                                            
  perl-File-Path-2.18-4.el9.noarch                                              
  perl-File-Temp-1:0.231.100-4.el9.noarch                                       
  perl-File-stat-1.09-480.el9.noarch                                            
  perl-FileHandle-2.03-480.el9.noarch                                           
  perl-Getopt-Long-1:2.52-4.el9.noarch                                          
  perl-Getopt-Std-1.12-480.el9.noarch                                           
  perl-Git-2.39.3-1.el9_2.noarch                                                
  perl-HTTP-Tiny-0.076-461.el9.noarch                                           
  perl-IO-1.43-480.el9.x86_64                                                   
  perl-IO-Socket-IP-0.41-5.el9.noarch                                           
  perl-IO-Socket-SSL-2.073-1.el9.noarch                                         
  perl-IPC-Open3-1.21-480.el9.noarch                                            
  perl-MIME-Base64-3.16-4.el9.x86_64                                            
  perl-Mozilla-CA-20200520-6.el9.noarch                                         
  perl-NDBM_File-1.15-480.el9.x86_64                                            
  perl-Net-SSLeay-1.92-2.el9.x86_64                                             
  perl-POSIX-1.94-480.el9.x86_64                                                
  perl-PathTools-3.78-461.el9.x86_64                                            
  perl-Pod-Escapes-1:1.07-460.el9.noarch                                        
  perl-Pod-Perldoc-3.28.01-461.el9.noarch                                       
  perl-Pod-Simple-1:3.42-4.el9.noarch                                           
  perl-Pod-Usage-4:2.01-4.el9.noarch                                            
  perl-Scalar-List-Utils-4:1.56-461.el9.x86_64                                  
  perl-SelectSaver-1.02-480.el9.noarch                                          
  perl-Socket-4:2.031-4.el9.x86_64                                              
  perl-Storable-1:3.21-460.el9.x86_64                                           
  perl-Symbol-1.08-480.el9.noarch                                               
  perl-Term-ANSIColor-5.01-461.el9.noarch                                       
  perl-Term-Cap-1.17-460.el9.noarch                                             
  perl-TermReadKey-2.38-11.el9.x86_64                                           
  perl-Text-ParseWords-3.30-460.el9.noarch                                      
  perl-Text-Tabs+Wrap-2013.0523-460.el9.noarch                                  
  perl-Time-Local-2:1.300-7.el9.noarch                                          
  perl-URI-5.09-3.el9.noarch                                                    
  perl-base-2.27-480.el9.noarch                                                 
  perl-constant-1.33-461.el9.noarch                                             
  perl-if-0.60.800-480.el9.noarch                                               
  perl-interpreter-4:5.32.1-480.el9.x86_64                                      
  perl-lib-0.65-480.el9.x86_64                                                  
  perl-libnet-3.13-4.el9.noarch                                                 
  perl-libs-4:5.32.1-480.el9.x86_64                                             
  perl-mro-1.23-480.el9.x86_64                                                  
  perl-overload-1.31-480.el9.noarch                                             
  perl-overloading-0.02-480.el9.noarch                                          
  perl-parent-1:0.238-460.el9.noarch                                            
  perl-podlators-1:4.14-460.el9.noarch                                          
  perl-subs-1.03-480.el9.noarch                                                 
  perl-vars-1.05-480.el9.noarch                                                 
  pkgconf-1.7.3-10.el9.x86_64                                                   
  pkgconf-m4-1.7.3-10.el9.noarch                                                
  pkgconf-pkg-config-1.7.3-10.el9.x86_64                                        

Complete!
Found VERSION 18
Updating Subscription Management repositories.
Unable to read consumer identity
subscription-manager is operating in container mode.
43 files removed
--> 39aa152db3c4
STEP 7/12: COPY ./s2i/bin/ $STI_SCRIPTS_PATH
--> 3261657e1a79
STEP 8/12: COPY ./root/ /
--> c4ee0725c491
STEP 9/12: RUN chown -R 1001:0 ${APP_ROOT} && chmod -R ug+rwx ${APP_ROOT} &&     rpm-file-permissions
--> fe653cb0360c
STEP 10/12: USER 1001
--> ec9daf8904d1
STEP 11/12: CMD $STI_SCRIPTS_PATH/usage
--> e9278f8e6757
STEP 12/12: LABEL "io.openshift.builder-version"="863366c"
COMMIT
--> 32306a16453c
32306a16453cd4fdba21e63c424ca12e386e90c1f7bb02b47167197693a1dd80
mkdir -p 18-minimal/root
go-md2man -in "18-minimal/README.md" -out "18-minimal/root/help.1"
chmod a+r "18-minimal/root/help.1"
VERSION="18-minimal" SKIP_SQUASH=1 OS=rhel9 CLEAN_AFTER= DOCKER_BUILD_CONTEXT=. OPENSHIFT_NAMESPACES="" CUSTOM_REPO="" REGISTRY="""" /usr/bin/env bash common/build.sh
Built versions are: 18-minimal
-> Version 18-minimal: building image from 'Dockerfile.rhel9' ...
-> Pulling image ubi9/ubi-minimal before building image from Dockerfile.rhel9.
The image ubi9/ubi-minimal is already pulled.
-> building using docker build  --label io.openshift.builder-version="863366c" -f "$dockerfile" "${DOCKER_BUILD_CONTEXT}"
STEP 1/12: FROM ubi9/ubi-minimal
STEP 2/12: EXPOSE 8080
--> Using cache 2af4a6c0e62bf1501d6f89fddf73a846ddc0a9e629bbf7668b248ecdcc14e281
--> 2af4a6c0e62b
STEP 3/12: ENV APP_ROOT=/opt/app-root     HOME=/opt/app-root/src     NPM_RUN=start     PLATFORM="el9"     NODEJS_VERSION=18     NPM_RUN=start     NAME=nodejs
--> fb13bc3b8803
STEP 4/12: ENV SUMMARY="Minimal image for running Node.js $NODEJS_VERSION applications"     DESCRIPTION="Node.js $NODEJS_VERSION available as container is a base platform for running various Node.js $NODEJS_VERSION applications and frameworks. Node.js is a platform built on Chrome's JavaScript runtime for easily building fast, scalable network applications. Node.js uses an event-driven, non-blocking I/O model that makes it lightweight and efficient, perfect for data-intensive real-time applications that run across distributed devices."     NPM_CONFIG_PREFIX=$HOME/.npm-global     PATH=$HOME/node_modules/.bin/:$HOME/.npm-global/bin/:$PATH
--> d3c790856a73
STEP 5/12: LABEL summary="$SUMMARY"       description="$DESCRIPTION"       io.k8s.description="$DESCRIPTION"       io.k8s.display-name="Node.js $NODEJS_VERSION Micro"       io.openshift.expose-services="8080:http"       io.openshift.tags="builder,$NAME,${NAME}${NODEJS_VERSION}"       io.openshift.s2i.scripts-url="image:///usr/libexec/s2i"       io.s2i.scripts-url="image:///usr/libexec/s2i"       com.redhat.dev-mode="DEV_MODE:false"       com.redhat.deployments-dir="${APP_ROOT}/src"       com.redhat.dev-mode.port="DEBUG_PORT:5858"       com.redhat.component="${NAME}-${NODEJS_VERSION}-minimal-container"       name="ubi9/$NAME-$NODEJS_VERSION-minimal"       version="1"       com.redhat.license_terms="https://www.redhat.com/en/about/red-hat-end-user-license-agreements#UBI"       maintainer="SoftwareCollections.org <sclorg@redhat.com>"       help="For more information visit https://github.com/sclorg/s2i-nodejs-container"
--> 29d715d6ec88
STEP 6/12: RUN INSTALL_PKGS="nodejs nodejs-nodemon nodejs-full-i18n npm findutils tar which" &&     microdnf -y module disable nodejs &&     microdnf -y module enable nodejs:$NODEJS_VERSION &&     microdnf -y --nodocs --setopt=install_weak_deps=0 install $INSTALL_PKGS &&     node -v | grep -qe "^v$NODEJS_VERSION\." && echo "Found VERSION $NODEJS_VERSION" &&     microdnf clean all &&     rm -rf /mnt/rootfs/var/cache/* /mnt/rootfs/var/log/dnf* /mnt/rootfs/var/log/yum.*
Downloading metadata...
Downloading metadata...
Downloading metadata...
Downloading metadata...
Downloading metadata...
Disabling modules:
    nodejs


Running transaction test...
Enabling module streams:
    nodejs:18


Running transaction test...
Package                                                              Repository                        Size
Installing:                                                                                                
 findutils-1:4.8.0-6.el9.x86_64                                      ubi-9-baseos-rpms             563.2 kB
 libbrotli-1.0.9-6.el9.x86_64                                        ubi-9-baseos-rpms             324.5 kB
 nodejs-1:18.18.2-2.module+el9.2.0.z+20408+7cb5fda5.x86_64           ubi-9-appstream-rpms           13.2 MB
 nodejs-full-i18n-1:18.18.2-2.module+el9.2.0.z+20408+7cb5fda5.x86_64 ubi-9-appstream-rpms            8.9 MB
 nodejs-nodemon-3.0.1-1.module+el9.2.0.z+19753+58118bc0.noarch       ubi-9-appstream-rpms          360.4 kB
 npm-1:9.8.1-1.18.18.2.2.module+el9.2.0.z+20408+7cb5fda5.x86_64      ubi-9-appstream-rpms            2.7 MB
 openssl-1:3.0.7-24.el9.x86_64                                       rhel-9-for-x86_64-baseos-rpms   1.3 MB
 tar-2:1.34-6.el9_1.x86_64                                           ubi-9-baseos-rpms             910.7 kB
 which-2.21-29.el9.x86_64                                            ubi-9-baseos-rpms              45.7 kB
Transaction Summary:
 Installing:        9 packages
 Reinstalling:      0 packages
 Upgrading:         0 packages
 Obsoleting:        0 packages
 Removing:          0 packages
 Downgrading:       0 packages
Downloading packages...
Running transaction test...
Installing: openssl;1:3.0.7-24.el9;x86_64;rhel-9-for-x86_64-baseos-rpms
Installing: libbrotli;1.0.9-6.el9;x86_64;ubi-9-baseos-rpms
Installing: nodejs-full-i18n;1:18.18.2-2.module+el9.2.0.z+20408+7cb5fda5;x86_64;ubi-9-appstream-rpms
Installing: npm;1:9.8.1-1.18.18.2.2.module+el9.2.0.z+20408+7cb5fda5;x86_64;ubi-9-appstream-rpms
Installing: nodejs;1:18.18.2-2.module+el9.2.0.z+20408+7cb5fda5;x86_64;ubi-9-appstream-rpms
Installing: nodejs-nodemon;3.0.1-1.module+el9.2.0.z+19753+58118bc0;noarch;ubi-9-appstream-rpms
Installing: which;2.21-29.el9;x86_64;ubi-9-baseos-rpms
Installing: tar;2:1.34-6.el9_1;x86_64;ubi-9-baseos-rpms
Installing: findutils;1:4.8.0-6.el9;x86_64;ubi-9-baseos-rpms
Complete.
Found VERSION 18
Complete.
--> 3b699515ca21
STEP 7/12: COPY ./s2i/bin/ /usr/libexec/s2i
--> fe85307c3214
STEP 8/12: COPY ./root/ /
--> 8a12c0c6b696
STEP 9/12: RUN mkdir -p "$HOME" && chown -R 1001:0 "$APP_ROOT" && chmod -R ug+rwx "$APP_ROOT"
--> 347506b2ce5b
STEP 10/12: WORKDIR "$HOME"
--> 522c0e220bb1
STEP 11/12: USER 1001
--> 6ff953d2290e
STEP 12/12: LABEL "io.openshift.builder-version"="863366c"
COMMIT
--> 1664faf5012e
1664faf5012e42c894c9cc65616ab0e0c9711ad82bf1385ac6c0c337bd950b74
mkdir -p 20/root
go-md2man -in "20/README.md" -out "20/root/help.1"
chmod a+r "20/root/help.1"
VERSION="20" SKIP_SQUASH=1 OS=rhel9 CLEAN_AFTER= DOCKER_BUILD_CONTEXT=. OPENSHIFT_NAMESPACES="" CUSTOM_REPO="" REGISTRY="""" /usr/bin/env bash common/build.sh
Built versions are: 20
-> Version 20: building image from 'Dockerfile.rhel9' ...
-> Pulling image ubi9/s2i-core:1 before building image from Dockerfile.rhel9.
The image ubi9/s2i-core:1 is already pulled.
-> building using docker build  --label io.openshift.builder-version="863366c" -f "$dockerfile" "${DOCKER_BUILD_CONTEXT}"
STEP 1/12: FROM ubi9/s2i-core:1
STEP 2/12: EXPOSE 8080
--> Using cache 3ab0c1fc0050e2bdf44ebbccdc07ca331a2e4202a9ac08f4e8ed54da97ed609d
--> 3ab0c1fc0050
STEP 3/12: ENV NODEJS_VERSION=20     NPM_RUN=start     NAME=nodejs     NPM_CONFIG_PREFIX=$HOME/.npm-global     PATH=$HOME/node_modules/.bin/:$HOME/.npm-global/bin/:$PATH     CNB_STACK_ID=com.redhat.stacks.ubi9-nodejs-20     CNB_USER_ID=1001     CNB_GROUP_ID=0
--> efc62aa951fa
STEP 4/12: ENV SUMMARY="Platform for building and running Node.js $NODEJS_VERSION applications"     DESCRIPTION="Node.js $NODEJS_VERSION available as container is a base platform for building and running various Node.js $NODEJS_VERSION applications and frameworks. Node.js is a platform built on Chrome's JavaScript runtime for easily building fast, scalable network applications. Node.js uses an event-driven, non-blocking I/O model that makes it lightweight and efficient, perfect for data-intensive real-time applications that run across distributed devices."
--> d0a5bc94af09
STEP 5/12: LABEL summary="$SUMMARY"       description="$DESCRIPTION"       io.k8s.description="$DESCRIPTION"       io.k8s.display-name="Node.js $NODEJS_VERSION"       io.openshift.expose-services="8080:http"       io.openshift.tags="builder,$NAME,${NAME}${NODEJS_VERSION}"       io.openshift.s2i.scripts-url="image:///usr/libexec/s2i"       io.s2i.scripts-url="image:///usr/libexec/s2i"       io.buildpacks.stack.id="com.redhat.stacks.ubi9-nodejs-20"       com.redhat.dev-mode="DEV_MODE:false"       com.redhat.deployments-dir="${APP_ROOT}/src"       com.redhat.dev-mode.port="DEBUG_PORT:5858"       com.redhat.component="${NAME}-${NODEJS_VERSION}-container"       name="ubi9/$NAME-$NODEJS_VERSION"       version="1"       com.redhat.license_terms="https://www.redhat.com/en/about/red-hat-end-user-license-agreements#UBI"       maintainer="SoftwareCollections.org <sclorg@redhat.com>"       help="For more information visit https://github.com/sclorg/s2i-nodejs-container"       usage="s2i build <SOURCE-REPOSITORY> ubi9/$NAME-$NODEJS_VERSION:latest <APP-NAME>"
--> 3dbcd210c1a9
STEP 6/12: RUN yum -y module enable nodejs:$NODEJS_VERSION &&     MODULE_DEPS="make gcc gcc-c++ git openssl-devel" &&     INSTALL_PKGS="$MODULE_DEPS nodejs npm nodejs-nodemon nss_wrapper-libs which" &&     ln -s /usr/lib/node_modules/nodemon/bin/nodemon.js /usr/bin/nodemon &&     yum install -y --setopt=tsflags=nodocs $INSTALL_PKGS &&     rpm -V $INSTALL_PKGS &&     node -v | grep -qe "^v$NODEJS_VERSION\." && echo "Found VERSION $NODEJS_VERSION" &&     yum -y clean all --enablerepo='*'
Updating Subscription Management repositories.
Unable to read consumer identity
subscription-manager is operating in container mode.
Red Hat Enterprise Linux 9 for x86_64 - BaseOS   30 MB/s |  16 MB     00:00    
Red Hat Enterprise Linux 9 for x86_64 - AppStre  51 MB/s |  28 MB     00:00    
Red Hat Universal Base Image 9 (RPMs) - BaseOS  1.8 MB/s | 514 kB     00:00    
Red Hat Universal Base Image 9 (RPMs) - AppStre 7.0 MB/s | 1.8 MB     00:00    
Red Hat Universal Base Image 9 (RPMs) - CodeRea 898 kB/s | 192 kB     00:00    
Dependencies resolved.
================================================================================
 Package           Architecture     Version             Repository         Size
================================================================================
Enabling module streams:
 nodejs                             20                                         

Transaction Summary
================================================================================

Complete!
Updating Subscription Management repositories.
Unable to read consumer identity
subscription-manager is operating in container mode.
Last metadata expiration check: 0:00:02 ago on Wed Jan 24 01:14:08 2024.
Package which-2.21-29.el9.x86_64 is already installed.
Dependencies resolved.
=================================================================================================================================
 Package                      Arch    Version                                             Repository                         Size
=================================================================================================================================
Installing:
 gcc                          x86_64  11.4.1-2.1.el9                                      rhel-9-for-x86_64-appstream-rpms   32 M
 gcc-c++                      x86_64  11.4.1-2.1.el9                                      rhel-9-for-x86_64-appstream-rpms   13 M
 git                          x86_64  2.39.3-1.el9_2                                      rhel-9-for-x86_64-appstream-rpms   66 k
 make                         x86_64  1:4.3-7.el9                                         rhel-9-for-x86_64-baseos-rpms     542 k
 nodejs                       x86_64  1:20.9.0-1.module+el9.3.0.z+20633+3a660725          rhel-9-for-x86_64-appstream-rpms   14 M
 nodejs-nodemon               noarch  3.0.1-1.module+el9.3.0.z+20478+84a9f781             rhel-9-for-x86_64-appstream-rpms  352 k
 npm                          x86_64  1:10.1.0-1.20.9.0.1.module+el9.3.0.z+20633+3a660725 rhel-9-for-x86_64-appstream-rpms  2.6 M
 nss_wrapper-libs             x86_64  1.1.13-1.el9                                        rhel-9-for-x86_64-appstream-rpms   41 k
 openssl-devel                x86_64  1:3.0.7-25.el9_3                                    rhel-9-for-x86_64-appstream-rpms  4.1 M
Upgrading:
 openssl                      x86_64  1:3.0.7-25.el9_3                                    rhel-9-for-x86_64-baseos-rpms     1.2 M
 openssl-libs                 x86_64  1:3.0.7-25.el9_3                                    rhel-9-for-x86_64-baseos-rpms     2.2 M
Installing dependencies:
 binutils                     x86_64  2.35.2-42.el9                                       rhel-9-for-x86_64-baseos-rpms     4.6 M
 binutils-gold                x86_64  2.35.2-42.el9                                       rhel-9-for-x86_64-baseos-rpms     736 k
 cpp                          x86_64  11.4.1-2.1.el9                                      rhel-9-for-x86_64-appstream-rpms   11 M
 elfutils-debuginfod-client   x86_64  0.189-3.el9                                         rhel-9-for-x86_64-baseos-rpms      39 k
 emacs-filesystem             noarch  1:27.2-9.el9                                        rhel-9-for-x86_64-appstream-rpms  9.6 k
 git-core                     x86_64  2.39.3-1.el9_2                                      rhel-9-for-x86_64-appstream-rpms  4.3 M
 git-core-doc                 noarch  2.39.3-1.el9_2                                      rhel-9-for-x86_64-appstream-rpms  2.9 M
 glibc-devel                  x86_64  2.34-83.el9_3.7                                     rhel-9-for-x86_64-appstream-rpms   56 k
 glibc-headers                x86_64  2.34-83.el9_3.7                                     rhel-9-for-x86_64-appstream-rpms  558 k
 kernel-headers               x86_64  5.14.0-362.13.1.el9_3                               rhel-9-for-x86_64-appstream-rpms  6.7 M
 libbrotli                    x86_64  1.0.9-6.el9                                         rhel-9-for-x86_64-baseos-rpms     317 k
 libcbor                      x86_64  0.7.0-5.el9                                         rhel-9-for-x86_64-baseos-rpms      59 k
 libedit                      x86_64  3.1-38.20210216cvs.el9                              rhel-9-for-x86_64-baseos-rpms     107 k
 libfido2                     x86_64  1.13.0-1.el9                                        rhel-9-for-x86_64-baseos-rpms     101 k
 libmpc                       x86_64  1.2.1-4.el9                                         rhel-9-for-x86_64-appstream-rpms   65 k
 libpkgconf                   x86_64  1.7.3-10.el9                                        rhel-9-for-x86_64-baseos-rpms      37 k
 libstdc++-devel              x86_64  11.4.1-2.1.el9                                      rhel-9-for-x86_64-appstream-rpms  2.4 M
 libxcrypt-devel              x86_64  4.4.18-3.el9                                        rhel-9-for-x86_64-appstream-rpms   32 k
 ncurses                      x86_64  6.2-10.20210508.el9                                 rhel-9-for-x86_64-baseos-rpms     410 k
 openssh                      x86_64  8.7p1-34.el9                                        rhel-9-for-x86_64-baseos-rpms     465 k
 openssh-clients              x86_64  8.7p1-34.el9                                        rhel-9-for-x86_64-baseos-rpms     719 k
 perl-AutoLoader              noarch  5.74-480.el9                                        rhel-9-for-x86_64-appstream-rpms   23 k
 perl-B                       x86_64  1.80-480.el9                                        rhel-9-for-x86_64-appstream-rpms  185 k
 perl-Carp                    noarch  1.50-460.el9                                        rhel-9-for-x86_64-appstream-rpms   31 k
 perl-Class-Struct            noarch  0.66-480.el9                                        rhel-9-for-x86_64-appstream-rpms   24 k
 perl-Data-Dumper             x86_64  2.174-462.el9                                       rhel-9-for-x86_64-appstream-rpms   59 k
 perl-Digest                  noarch  1.19-4.el9                                          rhel-9-for-x86_64-appstream-rpms   29 k
 perl-Digest-MD5              x86_64  2.58-4.el9                                          rhel-9-for-x86_64-appstream-rpms   39 k
 perl-DynaLoader              x86_64  1.47-480.el9                                        rhel-9-for-x86_64-appstream-rpms   27 k
 perl-Encode                  x86_64  4:3.08-462.el9                                      rhel-9-for-x86_64-appstream-rpms  1.7 M
 perl-Errno                   x86_64  1.30-480.el9                                        rhel-9-for-x86_64-appstream-rpms   17 k
 perl-Error                   noarch  1:0.17029-7.el9                                     rhel-9-for-x86_64-appstream-rpms   46 k
 perl-Exporter                noarch  5.74-461.el9                                        rhel-9-for-x86_64-appstream-rpms   34 k
 perl-Fcntl                   x86_64  1.13-480.el9                                        rhel-9-for-x86_64-appstream-rpms   23 k
 perl-File-Basename           noarch  2.85-480.el9                                        rhel-9-for-x86_64-appstream-rpms   19 k
 perl-File-Find               noarch  1.37-480.el9                                        rhel-9-for-x86_64-appstream-rpms   27 k
 perl-File-Path               noarch  2.18-4.el9                                          rhel-9-for-x86_64-appstream-rpms   38 k
 perl-File-Temp               noarch  1:0.231.100-4.el9                                   rhel-9-for-x86_64-appstream-rpms   63 k
 perl-File-stat               noarch  1.09-480.el9                                        rhel-9-for-x86_64-appstream-rpms   19 k
 perl-FileHandle              noarch  2.03-480.el9                                        rhel-9-for-x86_64-appstream-rpms   17 k
 perl-Getopt-Long             noarch  1:2.52-4.el9                                        rhel-9-for-x86_64-appstream-rpms   64 k
 perl-Getopt-Std              noarch  1.12-480.el9                                        rhel-9-for-x86_64-appstream-rpms   17 k
 perl-Git                     noarch  2.39.3-1.el9_2                                      rhel-9-for-x86_64-appstream-rpms   39 k
 perl-HTTP-Tiny               noarch  0.076-461.el9                                       rhel-9-for-x86_64-appstream-rpms   57 k
 perl-IO                      x86_64  1.43-480.el9                                        rhel-9-for-x86_64-appstream-rpms   94 k
 perl-IO-Socket-IP            noarch  0.41-5.el9                                          rhel-9-for-x86_64-appstream-rpms   45 k
 perl-IO-Socket-SSL           noarch  2.073-1.el9                                         rhel-9-for-x86_64-appstream-rpms  223 k
 perl-IPC-Open3               noarch  1.21-480.el9                                        rhel-9-for-x86_64-appstream-rpms   25 k
 perl-MIME-Base64             x86_64  3.16-4.el9                                          rhel-9-for-x86_64-appstream-rpms   34 k
 perl-Mozilla-CA              noarch  20200520-6.el9                                      rhel-9-for-x86_64-appstream-rpms   14 k
 perl-Net-SSLeay              x86_64  1.92-2.el9                                          rhel-9-for-x86_64-appstream-rpms  392 k
 perl-POSIX                   x86_64  1.94-480.el9                                        rhel-9-for-x86_64-appstream-rpms   99 k
 perl-PathTools               x86_64  3.78-461.el9                                        rhel-9-for-x86_64-appstream-rpms   92 k
 perl-Pod-Escapes             noarch  1:1.07-460.el9                                      rhel-9-for-x86_64-appstream-rpms   22 k
 perl-Pod-Perldoc             noarch  3.28.01-461.el9                                     rhel-9-for-x86_64-appstream-rpms   92 k
 perl-Pod-Simple              noarch  1:3.42-4.el9                                        rhel-9-for-x86_64-appstream-rpms  229 k
 perl-Pod-Usage               noarch  4:2.01-4.el9                                        rhel-9-for-x86_64-appstream-rpms   43 k
 perl-Scalar-List-Utils       x86_64  4:1.56-461.el9                                      rhel-9-for-x86_64-appstream-rpms   77 k
 perl-SelectSaver             noarch  1.02-480.el9                                        rhel-9-for-x86_64-appstream-rpms   13 k
 perl-Socket                  x86_64  4:2.031-4.el9                                       rhel-9-for-x86_64-appstream-rpms   58 k
 perl-Storable                x86_64  1:3.21-460.el9                                      rhel-9-for-x86_64-appstream-rpms   98 k
 perl-Symbol                  noarch  1.08-480.el9                                        rhel-9-for-x86_64-appstream-rpms   16 k
 perl-Term-ANSIColor          noarch  5.01-461.el9                                        rhel-9-for-x86_64-appstream-rpms   51 k
 perl-Term-Cap                noarch  1.17-460.el9                                        rhel-9-for-x86_64-appstream-rpms   24 k
 perl-TermReadKey             x86_64  2.38-11.el9                                         rhel-9-for-x86_64-appstream-rpms   40 k
 perl-Text-ParseWords         noarch  3.30-460.el9                                        rhel-9-for-x86_64-appstream-rpms   18 k
 perl-Text-Tabs+Wrap          noarch  2013.0523-460.el9                                   rhel-9-for-x86_64-appstream-rpms   25 k
 perl-Time-Local              noarch  2:1.300-7.el9                                       rhel-9-for-x86_64-appstream-rpms   37 k
 perl-URI                     noarch  5.09-3.el9                                          rhel-9-for-x86_64-appstream-rpms  125 k
 perl-base                    noarch  2.27-480.el9                                        rhel-9-for-x86_64-appstream-rpms   18 k
 perl-constant                noarch  1.33-461.el9                                        rhel-9-for-x86_64-appstream-rpms   25 k
 perl-if                      noarch  0.60.800-480.el9                                    rhel-9-for-x86_64-appstream-rpms   16 k
 perl-interpreter             x86_64  4:5.32.1-480.el9                                    rhel-9-for-x86_64-appstream-rpms   75 k
 perl-lib                     x86_64  0.65-480.el9                                        rhel-9-for-x86_64-appstream-rpms   17 k
 perl-libnet                  noarch  3.13-4.el9                                          rhel-9-for-x86_64-appstream-rpms  134 k
 perl-libs                    x86_64  4:5.32.1-480.el9                                    rhel-9-for-x86_64-appstream-rpms  2.2 M
 perl-mro                     x86_64  1.23-480.el9                                        rhel-9-for-x86_64-appstream-rpms   31 k
 perl-overload                noarch  1.31-480.el9                                        rhel-9-for-x86_64-appstream-rpms   47 k
 perl-overloading             noarch  0.02-480.el9                                        rhel-9-for-x86_64-appstream-rpms   15 k
 perl-parent                  noarch  1:0.238-460.el9                                     rhel-9-for-x86_64-appstream-rpms   16 k
 perl-podlators               noarch  1:4.14-460.el9                                      rhel-9-for-x86_64-appstream-rpms  118 k
 perl-subs                    noarch  1.03-480.el9                                        rhel-9-for-x86_64-appstream-rpms   13 k
 perl-vars                    noarch  1.05-480.el9                                        rhel-9-for-x86_64-appstream-rpms   15 k
 pkgconf                      x86_64  1.7.3-10.el9                                        rhel-9-for-x86_64-baseos-rpms      45 k
 pkgconf-m4                   noarch  1.7.3-10.el9                                        rhel-9-for-x86_64-baseos-rpms      16 k
 pkgconf-pkg-config           x86_64  1.7.3-10.el9                                        rhel-9-for-x86_64-baseos-rpms      12 k
Installing weak dependencies:
 nodejs-docs                  noarch  1:20.9.0-1.module+el9.3.0.z+20633+3a660725          rhel-9-for-x86_64-appstream-rpms  8.1 M
 nodejs-full-i18n             x86_64  1:20.9.0-1.module+el9.3.0.z+20633+3a660725          rhel-9-for-x86_64-appstream-rpms  8.5 M
 perl-NDBM_File               x86_64  1.15-480.el9                                        rhel-9-for-x86_64-appstream-rpms   25 k

Transaction Summary
=================================================================================================================================
Install  98 Packages
Upgrade   2 Packages

Total download size: 129 M
Downloading Packages:
(1/100): libcbor-0.7.0-5.el9.x86_64.rpm         331 kB/s |  59 kB     00:00    
(2/100): libbrotli-1.0.9-6.el9.x86_64.rpm       1.7 MB/s | 317 kB     00:00    
(3/100): make-4.3-7.el9.x86_64.rpm              2.4 MB/s | 542 kB     00:00    
(4/100): libpkgconf-1.7.3-10.el9.x86_64.rpm     378 kB/s |  37 kB     00:00    
(5/100): pkgconf-1.7.3-10.el9.x86_64.rpm        437 kB/s |  45 kB     00:00    
(6/100): pkgconf-m4-1.7.3-10.el9.noarch.rpm     179 kB/s |  16 kB     00:00    
(7/100): pkgconf-pkg-config-1.7.3-10.el9.x86_64 131 kB/s |  12 kB     00:00    
(8/100): binutils-gold-2.35.2-42.el9.x86_64.rpm 7.1 MB/s | 736 kB     00:00    
(9/100): binutils-2.35.2-42.el9.x86_64.rpm       31 MB/s | 4.6 MB     00:00    
(10/100): elfutils-debuginfod-client-0.189-3.el 437 kB/s |  39 kB     00:00    
(11/100): libedit-3.1-38.20210216cvs.el9.x86_64 1.1 MB/s | 107 kB     00:00    
(12/100): libfido2-1.13.0-1.el9.x86_64.rpm      773 kB/s | 101 kB     00:00    
(13/100): openssh-8.7p1-34.el9.x86_64.rpm       4.9 MB/s | 465 kB     00:00    
(14/100): ncurses-6.2-10.20210508.el9.x86_64.rp 2.8 MB/s | 410 kB     00:00    
(15/100): openssh-clients-8.7p1-34.el9.x86_64.r 7.4 MB/s | 719 kB     00:00    
(16/100): perl-Data-Dumper-2.174-462.el9.x86_64 657 kB/s |  59 kB     00:00    
(17/100): perl-Digest-MD5-2.58-4.el9.x86_64.rpm 364 kB/s |  39 kB     00:00    
(18/100): perl-Error-0.17029-7.el9.noarch.rpm   530 kB/s |  46 kB     00:00    
(19/100): perl-Encode-3.08-462.el9.x86_64.rpm    15 MB/s | 1.7 MB     00:00    
(20/100): perl-IO-Socket-SSL-2.073-1.el9.noarch 2.3 MB/s | 223 kB     00:00    
(21/100): perl-Mozilla-CA-20200520-6.el9.noarch 165 kB/s |  14 kB     00:00    
(22/100): perl-Pod-Simple-3.42-4.el9.noarch.rpm 2.5 MB/s | 229 kB     00:00    
(23/100): perl-Term-Cap-1.17-460.el9.noarch.rpm 271 kB/s |  24 kB     00:00    
(24/100): perl-TermReadKey-2.38-11.el9.x86_64.r 433 kB/s |  40 kB     00:00    
(25/100): perl-Time-Local-1.300-7.el9.noarch.rp 425 kB/s |  37 kB     00:00    
(26/100): perl-Pod-Escapes-1.07-460.el9.noarch. 249 kB/s |  22 kB     00:00    
(27/100): perl-podlators-4.14-460.el9.noarch.rp 1.3 MB/s | 118 kB     00:00    
(28/100): perl-Storable-3.21-460.el9.x86_64.rpm 1.0 MB/s |  98 kB     00:00    
(29/100): libmpc-1.2.1-4.el9.x86_64.rpm         696 kB/s |  65 kB     00:00    
(30/100): perl-Exporter-5.74-461.el9.noarch.rpm 398 kB/s |  34 kB     00:00    
(31/100): libxcrypt-devel-4.4.18-3.el9.x86_64.r 359 kB/s |  32 kB     00:00    
(32/100): perl-File-Temp-0.231.100-4.el9.noarch 685 kB/s |  63 kB     00:00    
(33/100): perl-MIME-Base64-3.16-4.el9.x86_64.rp 393 kB/s |  34 kB     00:00    
(34/100): perl-Getopt-Long-2.52-4.el9.noarch.rp 650 kB/s |  64 kB     00:00    
(35/100): perl-Text-Tabs+Wrap-2013.0523-460.el9 284 kB/s |  25 kB     00:00    
(36/100): perl-parent-0.238-460.el9.noarch.rpm  175 kB/s |  16 kB     00:00    
(37/100): perl-Digest-1.19-4.el9.noarch.rpm     340 kB/s |  29 kB     00:00    
(38/100): perl-File-Path-2.18-4.el9.noarch.rpm  419 kB/s |  38 kB     00:00    
(39/100): perl-IO-Socket-IP-0.41-5.el9.noarch.r 520 kB/s |  45 kB     00:00    
(40/100): perl-Pod-Usage-2.01-4.el9.noarch.rpm  460 kB/s |  43 kB     00:00    
(41/100): perl-Scalar-List-Utils-1.56-461.el9.x 914 kB/s |  77 kB     00:00    
(42/100): perl-Socket-2.031-4.el9.x86_64.rpm    665 kB/s |  58 kB     00:00    
(43/100): perl-Term-ANSIColor-5.01-461.el9.noar 534 kB/s |  51 kB     00:00    
(44/100): perl-Text-ParseWords-3.30-460.el9.noa 205 kB/s |  18 kB     00:00    
(45/100): perl-URI-5.09-3.el9.noarch.rpm        1.4 MB/s | 125 kB     00:00    
(46/100): perl-constant-1.33-461.el9.noarch.rpm 302 kB/s |  25 kB     00:00    
(47/100): perl-Pod-Perldoc-3.28.01-461.el9.noar 1.0 MB/s |  92 kB     00:00    
(48/100): perl-libnet-3.13-4.el9.noarch.rpm     1.5 MB/s | 134 kB     00:00    
(49/100): perl-Carp-1.50-460.el9.noarch.rpm     354 kB/s |  31 kB     00:00    
(50/100): perl-PathTools-3.78-461.el9.x86_64.rp 1.0 MB/s |  92 kB     00:00    
(51/100): perl-Net-SSLeay-1.92-2.el9.x86_64.rpm 4.1 MB/s | 392 kB     00:00    
(52/100): perl-AutoLoader-5.74-480.el9.noarch.r 265 kB/s |  23 kB     00:00    
(53/100): perl-B-1.80-480.el9.x86_64.rpm        2.0 MB/s | 185 kB     00:00    
(54/100): perl-Class-Struct-0.66-480.el9.noarch 281 kB/s |  24 kB     00:00    
(55/100): perl-DynaLoader-1.47-480.el9.x86_64.r 308 kB/s |  27 kB     00:00    
(56/100): perl-Errno-1.30-480.el9.x86_64.rpm    191 kB/s |  17 kB     00:00    
(57/100): perl-Fcntl-1.13-480.el9.x86_64.rpm    249 kB/s |  23 kB     00:00    
(58/100): perl-File-Basename-2.85-480.el9.noarc 176 kB/s |  19 kB     00:00    
(59/100): perl-File-Find-1.37-480.el9.noarch.rp 312 kB/s |  27 kB     00:00    
(60/100): perl-File-stat-1.09-480.el9.noarch.rp 221 kB/s |  19 kB     00:00    
(61/100): perl-FileHandle-2.03-480.el9.noarch.r 195 kB/s |  17 kB     00:00    
(62/100): perl-IPC-Open3-1.21-480.el9.noarch.rp 274 kB/s |  25 kB     00:00    
(63/100): perl-POSIX-1.94-480.el9.x86_64.rpm    1.1 MB/s |  99 kB     00:00    
(64/100): perl-Symbol-1.08-480.el9.noarch.rpm   177 kB/s |  16 kB     00:00    
(65/100): perl-interpreter-5.32.1-480.el9.x86_6 776 kB/s |  75 kB     00:00    
(66/100): perl-lib-0.65-480.el9.x86_64.rpm      185 kB/s |  17 kB     00:00    
(67/100): perl-libs-5.32.1-480.el9.x86_64.rpm    19 MB/s | 2.2 MB     00:00    
(68/100): perl-mro-1.23-480.el9.x86_64.rpm      318 kB/s |  31 kB     00:00    
(69/100): perl-overload-1.31-480.el9.noarch.rpm 516 kB/s |  47 kB     00:00    
(70/100): git-2.39.3-1.el9_2.x86_64.rpm         277 kB/s |  66 kB     00:00    
(71/100): perl-overloading-0.02-480.el9.noarch.  59 kB/s |  15 kB     00:00    
(72/100): git-core-2.39.3-1.el9_2.x86_64.rpm     16 MB/s | 4.3 MB     00:00    
(73/100): nss_wrapper-libs-1.1.13-1.el9.x86_64. 487 kB/s |  41 kB     00:00    
(74/100): git-core-doc-2.39.3-1.el9_2.noarch.rp  21 MB/s | 2.9 MB     00:00    
(75/100): perl-Getopt-Std-1.12-480.el9.noarch.r 204 kB/s |  17 kB     00:00    
(76/100): perl-Git-2.39.3-1.el9_2.noarch.rpm    459 kB/s |  39 kB     00:00    
(77/100): perl-NDBM_File-1.15-480.el9.x86_64.rp 271 kB/s |  25 kB     00:00    
(78/100): perl-IO-1.43-480.el9.x86_64.rpm       900 kB/s |  94 kB     00:00    
(79/100): perl-SelectSaver-1.02-480.el9.noarch. 145 kB/s |  13 kB     00:00    
(80/100): perl-if-0.60.800-480.el9.noarch.rpm   185 kB/s |  16 kB     00:00    
(81/100): perl-base-2.27-480.el9.noarch.rpm     196 kB/s |  18 kB     00:00    
(82/100): perl-subs-1.03-480.el9.noarch.rpm     147 kB/s |  13 kB     00:00    
(83/100): perl-vars-1.05-480.el9.noarch.rpm     133 kB/s |  15 kB     00:00    
(84/100): cpp-11.4.1-2.1.el9.x86_64.rpm          62 MB/s |  11 MB     00:00    
(85/100): emacs-filesystem-27.2-9.el9.noarch.rp  69 kB/s | 9.6 kB     00:00    
(86/100): glibc-headers-2.34-83.el9_3.7.x86_64. 6.1 MB/s | 558 kB     00:00    
(87/100): nodejs-nodemon-3.0.1-1.module+el9.3.0 3.8 MB/s | 352 kB     00:00    
(88/100): gcc-c++-11.4.1-2.1.el9.x86_64.rpm      70 MB/s |  13 MB     00:00    
(89/100): libstdc++-devel-11.4.1-2.1.el9.x86_64  19 MB/s | 2.4 MB     00:00    
(90/100): gcc-11.4.1-2.1.el9.x86_64.rpm         101 MB/s |  32 MB     00:00    
(91/100): perl-HTTP-Tiny-0.076-461.el9.noarch.r 500 kB/s |  57 kB     00:00    
(92/100): glibc-devel-2.34-83.el9_3.7.x86_64.rp 539 kB/s |  56 kB     00:00    
(93/100): nodejs-docs-20.9.0-1.module+el9.3.0.z  55 MB/s | 8.1 MB     00:00    
(94/100): nodejs-20.9.0-1.module+el9.3.0.z+2063  75 MB/s |  14 MB     00:00    
(95/100): npm-10.1.0-1.20.9.0.1.module+el9.3.0.  26 MB/s | 2.6 MB     00:00    
(96/100): nodejs-full-i18n-20.9.0-1.module+el9.  31 MB/s | 8.5 MB     00:00    
(97/100): kernel-headers-5.14.0-362.13.1.el9_3.  49 MB/s | 6.7 MB     00:00    
(98/100): openssl-devel-3.0.7-25.el9_3.x86_64.r  36 MB/s | 4.1 MB     00:00    
(99/100): openssl-3.0.7-25.el9_3.x86_64.rpm      13 MB/s | 1.2 MB     00:00    
(100/100): openssl-libs-3.0.7-25.el9_3.x86_64.r  20 MB/s | 2.2 MB     00:00    
--------------------------------------------------------------------------------
Total                                            34 MB/s | 129 MB     00:03     
Running transaction check
Transaction check succeeded.
Running transaction test
Transaction test succeeded.
Running transaction
  Preparing        :                                                        1/1 
  Upgrading        : openssl-libs-1:3.0.7-25.el9_3.x86_64                 1/102 
  Installing       : libmpc-1.2.1-4.el9.x86_64                            2/102 
  Installing       : elfutils-debuginfod-client-0.189-3.el9.x86_64        3/102 
  Installing       : binutils-gold-2.35.2-42.el9.x86_64                   4/102 
  Installing       : binutils-2.35.2-42.el9.x86_64                        5/102 
  Running scriptlet: binutils-2.35.2-42.el9.x86_64                        5/102 
  Installing       : cpp-11.4.1-2.1.el9.x86_64                            6/102 
  Running scriptlet: openssh-8.7p1-34.el9.x86_64                          7/102 
  Installing       : openssh-8.7p1-34.el9.x86_64                          7/102 
  Upgrading        : openssl-1:3.0.7-25.el9_3.x86_64                      8/102 
  Installing       : kernel-headers-5.14.0-362.13.1.el9_3.x86_64          9/102 
  Installing       : nodejs-docs-1:20.9.0-1.module+el9.3.0.z+20633+3a    10/102 
  Installing       : libstdc++-devel-11.4.1-2.1.el9.x86_64               11/102 
  Installing       : glibc-headers-2.34-83.el9_3.7.x86_64                12/102 
  Installing       : emacs-filesystem-1:27.2-9.el9.noarch                13/102 
  Installing       : ncurses-6.2-10.20210508.el9.x86_64                  14/102 
  Installing       : perl-Digest-1.19-4.el9.noarch                       15/102 
  Installing       : perl-Digest-MD5-2.58-4.el9.x86_64                   16/102 
  Installing       : perl-B-1.80-480.el9.x86_64                          17/102 
  Installing       : perl-FileHandle-2.03-480.el9.noarch                 18/102 
  Installing       : perl-Data-Dumper-2.174-462.el9.x86_64               19/102 
  Installing       : perl-libnet-3.13-4.el9.noarch                       20/102 
  Installing       : perl-AutoLoader-5.74-480.el9.noarch                 21/102 
  Installing       : perl-base-2.27-480.el9.noarch                       22/102 
  Installing       : perl-URI-5.09-3.el9.noarch                          23/102 
  Installing       : perl-Time-Local-2:1.300-7.el9.noarch                24/102 
  Installing       : perl-Mozilla-CA-20200520-6.el9.noarch               25/102 
  Installing       : perl-IO-Socket-IP-0.41-5.el9.noarch                 26/102 
  Installing       : perl-if-0.60.800-480.el9.noarch                     27/102 
  Installing       : perl-Pod-Escapes-1:1.07-460.el9.noarch              28/102 
  Installing       : perl-Text-Tabs+Wrap-2013.0523-460.el9.noarch        29/102 
  Installing       : perl-File-Path-2.18-4.el9.noarch                    30/102 
  Installing       : perl-Net-SSLeay-1.92-2.el9.x86_64                   31/102 
  Installing       : perl-IO-Socket-SSL-2.073-1.el9.noarch               32/102 
  Installing       : perl-Term-ANSIColor-5.01-461.el9.noarch             33/102 
  Installing       : perl-Class-Struct-0.66-480.el9.noarch               34/102 
  Installing       : perl-POSIX-1.94-480.el9.x86_64                      35/102 
  Installing       : perl-IPC-Open3-1.21-480.el9.noarch                  36/102 
  Installing       : perl-subs-1.03-480.el9.noarch                       37/102 
  Installing       : perl-File-Temp-1:0.231.100-4.el9.noarch             38/102 
  Installing       : perl-HTTP-Tiny-0.076-461.el9.noarch                 39/102 
  Installing       : perl-Pod-Simple-1:3.42-4.el9.noarch                 40/102 
  Installing       : perl-Term-Cap-1.17-460.el9.noarch                   41/102 
  Installing       : perl-Socket-4:2.031-4.el9.x86_64                    42/102 
  Installing       : perl-Symbol-1.08-480.el9.noarch                     43/102 
  Installing       : perl-File-stat-1.09-480.el9.noarch                  44/102 
  Installing       : perl-SelectSaver-1.02-480.el9.noarch                45/102 
  Installing       : perl-Pod-Perldoc-3.28.01-461.el9.noarch             46/102 
  Installing       : perl-podlators-1:4.14-460.el9.noarch                47/102 
  Installing       : perl-Text-ParseWords-3.30-460.el9.noarch            48/102 
  Installing       : perl-Fcntl-1.13-480.el9.x86_64                      49/102 
  Installing       : perl-mro-1.23-480.el9.x86_64                        50/102 
  Installing       : perl-overloading-0.02-480.el9.noarch                51/102 
  Installing       : perl-IO-1.43-480.el9.x86_64                         52/102 
  Installing       : perl-Pod-Usage-4:2.01-4.el9.noarch                  53/102 
  Installing       : perl-parent-1:0.238-460.el9.noarch                  54/102 
  Installing       : perl-MIME-Base64-3.16-4.el9.x86_64                  55/102 
  Installing       : perl-Scalar-List-Utils-4:1.56-461.el9.x86_64        56/102 
  Installing       : perl-constant-1.33-461.el9.noarch                   57/102 
  Installing       : perl-Errno-1.30-480.el9.x86_64                      58/102 
  Installing       : perl-File-Basename-2.85-480.el9.noarch              59/102 
  Installing       : perl-overload-1.31-480.el9.noarch                   60/102 
  Installing       : perl-Getopt-Std-1.12-480.el9.noarch                 61/102 
  Installing       : perl-Storable-1:3.21-460.el9.x86_64                 62/102 
  Installing       : perl-vars-1.05-480.el9.noarch                       63/102 
  Installing       : perl-Getopt-Long-1:2.52-4.el9.noarch                64/102 
  Installing       : perl-Exporter-5.74-461.el9.noarch                   65/102 
  Installing       : perl-Carp-1.50-460.el9.noarch                       66/102 
  Installing       : perl-PathTools-3.78-461.el9.x86_64                  67/102 
  Installing       : perl-NDBM_File-1.15-480.el9.x86_64                  68/102 
  Installing       : perl-Encode-4:3.08-462.el9.x86_64                   69/102 
  Installing       : perl-libs-4:5.32.1-480.el9.x86_64                   70/102 
  Installing       : perl-interpreter-4:5.32.1-480.el9.x86_64            71/102 
  Installing       : perl-Error-1:0.17029-7.el9.noarch                   72/102 
  Installing       : perl-DynaLoader-1.47-480.el9.x86_64                 73/102 
  Installing       : perl-TermReadKey-2.38-11.el9.x86_64                 74/102 
  Installing       : perl-File-Find-1.37-480.el9.noarch                  75/102 
  Installing       : perl-lib-0.65-480.el9.x86_64                        76/102 
  Installing       : libedit-3.1-38.20210216cvs.el9.x86_64               77/102 
  Installing       : pkgconf-m4-1.7.3-10.el9.noarch                      78/102 
  Installing       : libpkgconf-1.7.3-10.el9.x86_64                      79/102 
  Installing       : pkgconf-1.7.3-10.el9.x86_64                         80/102 
  Installing       : pkgconf-pkg-config-1.7.3-10.el9.x86_64              81/102 
  Installing       : glibc-devel-2.34-83.el9_3.7.x86_64                  82/102 
  Installing       : libxcrypt-devel-4.4.18-3.el9.x86_64                 83/102 
  Installing       : libcbor-0.7.0-5.el9.x86_64                          84/102 
  Installing       : libfido2-1.13.0-1.el9.x86_64                        85/102 
  Installing       : openssh-clients-8.7p1-34.el9.x86_64                 86/102 
  Running scriptlet: openssh-clients-8.7p1-34.el9.x86_64                 86/102 
  Installing       : git-core-2.39.3-1.el9_2.x86_64                      87/102 
  Installing       : git-core-doc-2.39.3-1.el9_2.noarch                  88/102 
  Installing       : perl-Git-2.39.3-1.el9_2.noarch                      89/102 
  Installing       : git-2.39.3-1.el9_2.x86_64                           90/102 
  Installing       : make-1:4.3-7.el9.x86_64                             91/102 
  Installing       : gcc-11.4.1-2.1.el9.x86_64                           92/102 
  Installing       : libbrotli-1.0.9-6.el9.x86_64                        93/102 
  Installing       : nodejs-full-i18n-1:20.9.0-1.module+el9.3.0.z+206    94/102 
  Installing       : npm-1:10.1.0-1.20.9.0.1.module+el9.3.0.z+20633+3    95/102 
  Installing       : nodejs-1:20.9.0-1.module+el9.3.0.z+20633+3a66072    96/102 
  Installing       : nodejs-nodemon-3.0.1-1.module+el9.3.0.z+20478+84    97/102 
  Installing       : gcc-c++-11.4.1-2.1.el9.x86_64                       98/102 
  Installing       : openssl-devel-1:3.0.7-25.el9_3.x86_64               99/102 
  Installing       : nss_wrapper-libs-1.1.13-1.el9.x86_64               100/102 
  Cleanup          : openssl-1:3.0.7-24.el9.x86_64                      101/102 
  Cleanup          : openssl-libs-1:3.0.7-24.el9.x86_64                 102/102 
  Running scriptlet: openssl-libs-1:3.0.7-24.el9.x86_64                 102/102 
  Verifying        : libbrotli-1.0.9-6.el9.x86_64                         1/102 
  Verifying        : make-1:4.3-7.el9.x86_64                              2/102 
  Verifying        : libcbor-0.7.0-5.el9.x86_64                           3/102 
  Verifying        : libpkgconf-1.7.3-10.el9.x86_64                       4/102 
  Verifying        : pkgconf-1.7.3-10.el9.x86_64                          5/102 
  Verifying        : pkgconf-m4-1.7.3-10.el9.noarch                       6/102 
  Verifying        : pkgconf-pkg-config-1.7.3-10.el9.x86_64               7/102 
  Verifying        : binutils-2.35.2-42.el9.x86_64                        8/102 
  Verifying        : binutils-gold-2.35.2-42.el9.x86_64                   9/102 
  Verifying        : elfutils-debuginfod-client-0.189-3.el9.x86_64       10/102 
  Verifying        : libedit-3.1-38.20210216cvs.el9.x86_64               11/102 
  Verifying        : libfido2-1.13.0-1.el9.x86_64                        12/102 
  Verifying        : ncurses-6.2-10.20210508.el9.x86_64                  13/102 
  Verifying        : openssh-8.7p1-34.el9.x86_64                         14/102 
  Verifying        : openssh-clients-8.7p1-34.el9.x86_64                 15/102 
  Verifying        : perl-Data-Dumper-2.174-462.el9.x86_64               16/102 
  Verifying        : perl-Digest-MD5-2.58-4.el9.x86_64                   17/102 
  Verifying        : perl-Encode-4:3.08-462.el9.x86_64                   18/102 
  Verifying        : perl-Error-1:0.17029-7.el9.noarch                   19/102 
  Verifying        : perl-IO-Socket-SSL-2.073-1.el9.noarch               20/102 
  Verifying        : perl-Mozilla-CA-20200520-6.el9.noarch               21/102 
  Verifying        : perl-Pod-Simple-1:3.42-4.el9.noarch                 22/102 
  Verifying        : perl-Term-Cap-1.17-460.el9.noarch                   23/102 
  Verifying        : perl-TermReadKey-2.38-11.el9.x86_64                 24/102 
  Verifying        : perl-Time-Local-2:1.300-7.el9.noarch                25/102 
  Verifying        : perl-Pod-Escapes-1:1.07-460.el9.noarch              26/102 
  Verifying        : perl-Storable-1:3.21-460.el9.x86_64                 27/102 
  Verifying        : perl-podlators-1:4.14-460.el9.noarch                28/102 
  Verifying        : libmpc-1.2.1-4.el9.x86_64                           29/102 
  Verifying        : libxcrypt-devel-4.4.18-3.el9.x86_64                 30/102 
  Verifying        : perl-Exporter-5.74-461.el9.noarch                   31/102 
  Verifying        : perl-File-Temp-1:0.231.100-4.el9.noarch             32/102 
  Verifying        : perl-Getopt-Long-1:2.52-4.el9.noarch                33/102 
  Verifying        : perl-MIME-Base64-3.16-4.el9.x86_64                  34/102 
  Verifying        : perl-Text-Tabs+Wrap-2013.0523-460.el9.noarch        35/102 
  Verifying        : perl-parent-1:0.238-460.el9.noarch                  36/102 
  Verifying        : perl-Digest-1.19-4.el9.noarch                       37/102 
  Verifying        : perl-File-Path-2.18-4.el9.noarch                    38/102 
  Verifying        : perl-IO-Socket-IP-0.41-5.el9.noarch                 39/102 
  Verifying        : perl-Pod-Usage-4:2.01-4.el9.noarch                  40/102 
  Verifying        : perl-Scalar-List-Utils-4:1.56-461.el9.x86_64        41/102 
  Verifying        : perl-Socket-4:2.031-4.el9.x86_64                    42/102 
  Verifying        : perl-Term-ANSIColor-5.01-461.el9.noarch             43/102 
  Verifying        : perl-Text-ParseWords-3.30-460.el9.noarch            44/102 
  Verifying        : perl-URI-5.09-3.el9.noarch                          45/102 
  Verifying        : perl-constant-1.33-461.el9.noarch                   46/102 
  Verifying        : perl-Pod-Perldoc-3.28.01-461.el9.noarch             47/102 
  Verifying        : perl-libnet-3.13-4.el9.noarch                       48/102 
  Verifying        : perl-Carp-1.50-460.el9.noarch                       49/102 
  Verifying        : perl-PathTools-3.78-461.el9.x86_64                  50/102 
  Verifying        : perl-Net-SSLeay-1.92-2.el9.x86_64                   51/102 
  Verifying        : perl-AutoLoader-5.74-480.el9.noarch                 52/102 
  Verifying        : perl-B-1.80-480.el9.x86_64                          53/102 
  Verifying        : perl-Class-Struct-0.66-480.el9.noarch               54/102 
  Verifying        : perl-DynaLoader-1.47-480.el9.x86_64                 55/102 
  Verifying        : perl-Errno-1.30-480.el9.x86_64                      56/102 
  Verifying        : perl-Fcntl-1.13-480.el9.x86_64                      57/102 
  Verifying        : perl-File-Basename-2.85-480.el9.noarch              58/102 
  Verifying        : perl-File-Find-1.37-480.el9.noarch                  59/102 
  Verifying        : perl-File-stat-1.09-480.el9.noarch                  60/102 
  Verifying        : perl-FileHandle-2.03-480.el9.noarch                 61/102 
  Verifying        : perl-IPC-Open3-1.21-480.el9.noarch                  62/102 
  Verifying        : perl-POSIX-1.94-480.el9.x86_64                      63/102 
  Verifying        : perl-Symbol-1.08-480.el9.noarch                     64/102 
  Verifying        : perl-interpreter-4:5.32.1-480.el9.x86_64            65/102 
  Verifying        : perl-lib-0.65-480.el9.x86_64                        66/102 
  Verifying        : perl-libs-4:5.32.1-480.el9.x86_64                   67/102 
  Verifying        : perl-mro-1.23-480.el9.x86_64                        68/102 
  Verifying        : perl-overload-1.31-480.el9.noarch                   69/102 
  Verifying        : perl-overloading-0.02-480.el9.noarch                70/102 
  Verifying        : git-2.39.3-1.el9_2.x86_64                           71/102 
  Verifying        : git-core-2.39.3-1.el9_2.x86_64                      72/102 
  Verifying        : git-core-doc-2.39.3-1.el9_2.noarch                  73/102 
  Verifying        : nss_wrapper-libs-1.1.13-1.el9.x86_64                74/102 
  Verifying        : perl-Getopt-Std-1.12-480.el9.noarch                 75/102 
  Verifying        : perl-Git-2.39.3-1.el9_2.noarch                      76/102 
  Verifying        : perl-IO-1.43-480.el9.x86_64                         77/102 
  Verifying        : perl-NDBM_File-1.15-480.el9.x86_64                  78/102 
  Verifying        : perl-SelectSaver-1.02-480.el9.noarch                79/102 
  Verifying        : perl-base-2.27-480.el9.noarch                       80/102 
  Verifying        : perl-if-0.60.800-480.el9.noarch                     81/102 
  Verifying        : perl-subs-1.03-480.el9.noarch                       82/102 
  Verifying        : perl-vars-1.05-480.el9.noarch                       83/102 
  Verifying        : cpp-11.4.1-2.1.el9.x86_64                           84/102 
  Verifying        : emacs-filesystem-1:27.2-9.el9.noarch                85/102 
  Verifying        : glibc-headers-2.34-83.el9_3.7.x86_64                86/102 
  Verifying        : nodejs-nodemon-3.0.1-1.module+el9.3.0.z+20478+84    87/102 
  Verifying        : gcc-11.4.1-2.1.el9.x86_64                           88/102 
  Verifying        : gcc-c++-11.4.1-2.1.el9.x86_64                       89/102 
  Verifying        : libstdc++-devel-11.4.1-2.1.el9.x86_64               90/102 
  Verifying        : perl-HTTP-Tiny-0.076-461.el9.noarch                 91/102 
  Verifying        : glibc-devel-2.34-83.el9_3.7.x86_64                  92/102 
  Verifying        : nodejs-1:20.9.0-1.module+el9.3.0.z+20633+3a66072    93/102 
  Verifying        : nodejs-docs-1:20.9.0-1.module+el9.3.0.z+20633+3a    94/102 
  Verifying        : nodejs-full-i18n-1:20.9.0-1.module+el9.3.0.z+206    95/102 
  Verifying        : npm-1:10.1.0-1.20.9.0.1.module+el9.3.0.z+20633+3    96/102 
  Verifying        : kernel-headers-5.14.0-362.13.1.el9_3.x86_64         97/102 
  Verifying        : openssl-devel-1:3.0.7-25.el9_3.x86_64               98/102 
  Verifying        : openssl-1:3.0.7-25.el9_3.x86_64                     99/102 
  Verifying        : openssl-1:3.0.7-24.el9.x86_64                      100/102 
  Verifying        : openssl-libs-1:3.0.7-25.el9_3.x86_64               101/102 
  Verifying        : openssl-libs-1:3.0.7-24.el9.x86_64                 102/102 
Installed products updated.

Upgraded:
  openssl-1:3.0.7-25.el9_3.x86_64      openssl-libs-1:3.0.7-25.el9_3.x86_64     
Installed:
  binutils-2.35.2-42.el9.x86_64                                                 
  binutils-gold-2.35.2-42.el9.x86_64                                            
  cpp-11.4.1-2.1.el9.x86_64                                                     
  elfutils-debuginfod-client-0.189-3.el9.x86_64                                 
  emacs-filesystem-1:27.2-9.el9.noarch                                          
  gcc-11.4.1-2.1.el9.x86_64                                                     
  gcc-c++-11.4.1-2.1.el9.x86_64                                                 
  git-2.39.3-1.el9_2.x86_64                                                     
  git-core-2.39.3-1.el9_2.x86_64                                                
  git-core-doc-2.39.3-1.el9_2.noarch                                            
  glibc-devel-2.34-83.el9_3.7.x86_64                                            
  glibc-headers-2.34-83.el9_3.7.x86_64                                          
  kernel-headers-5.14.0-362.13.1.el9_3.x86_64                                   
  libbrotli-1.0.9-6.el9.x86_64                                                  
  libcbor-0.7.0-5.el9.x86_64                                                    
  libedit-3.1-38.20210216cvs.el9.x86_64                                         
  libfido2-1.13.0-1.el9.x86_64                                                  
  libmpc-1.2.1-4.el9.x86_64                                                     
  libpkgconf-1.7.3-10.el9.x86_64                                                
  libstdc++-devel-11.4.1-2.1.el9.x86_64                                         
  libxcrypt-devel-4.4.18-3.el9.x86_64                                           
  make-1:4.3-7.el9.x86_64                                                       
  ncurses-6.2-10.20210508.el9.x86_64                                            
  nodejs-1:20.9.0-1.module+el9.3.0.z+20633+3a660725.x86_64                      
  nodejs-docs-1:20.9.0-1.module+el9.3.0.z+20633+3a660725.noarch                 
  nodejs-full-i18n-1:20.9.0-1.module+el9.3.0.z+20633+3a660725.x86_64            
  nodejs-nodemon-3.0.1-1.module+el9.3.0.z+20478+84a9f781.noarch                 
  npm-1:10.1.0-1.20.9.0.1.module+el9.3.0.z+20633+3a660725.x86_64                
  nss_wrapper-libs-1.1.13-1.el9.x86_64                                          
  openssh-8.7p1-34.el9.x86_64                                                   
  openssh-clients-8.7p1-34.el9.x86_64                                           
  openssl-devel-1:3.0.7-25.el9_3.x86_64                                         
  perl-AutoLoader-5.74-480.el9.noarch                                           
  perl-B-1.80-480.el9.x86_64                                                    
  perl-Carp-1.50-460.el9.noarch                                                 
  perl-Class-Struct-0.66-480.el9.noarch                                         
  perl-Data-Dumper-2.174-462.el9.x86_64                                         
  perl-Digest-1.19-4.el9.noarch                                                 
  perl-Digest-MD5-2.58-4.el9.x86_64                                             
  perl-DynaLoader-1.47-480.el9.x86_64                                           
  perl-Encode-4:3.08-462.el9.x86_64                                             
  perl-Errno-1.30-480.el9.x86_64                                                
  perl-Error-1:0.17029-7.el9.noarch                                             
  perl-Exporter-5.74-461.el9.noarch                                             
  perl-Fcntl-1.13-480.el9.x86_64                                                
  perl-File-Basename-2.85-480.el9.noarch                                        
  perl-File-Find-1.37-480.el9.noarch                                            
  perl-File-Path-2.18-4.el9.noarch                                              
  perl-File-Temp-1:0.231.100-4.el9.noarch                                       
  perl-File-stat-1.09-480.el9.noarch                                            
  perl-FileHandle-2.03-480.el9.noarch                                           
  perl-Getopt-Long-1:2.52-4.el9.noarch                                          
  perl-Getopt-Std-1.12-480.el9.noarch                                           
  perl-Git-2.39.3-1.el9_2.noarch                                                
  perl-HTTP-Tiny-0.076-461.el9.noarch                                           
  perl-IO-1.43-480.el9.x86_64                                                   
  perl-IO-Socket-IP-0.41-5.el9.noarch                                           
  perl-IO-Socket-SSL-2.073-1.el9.noarch                                         
  perl-IPC-Open3-1.21-480.el9.noarch                                            
  perl-MIME-Base64-3.16-4.el9.x86_64                                            
  perl-Mozilla-CA-20200520-6.el9.noarch                                         
  perl-NDBM_File-1.15-480.el9.x86_64                                            
  perl-Net-SSLeay-1.92-2.el9.x86_64                                             
  perl-POSIX-1.94-480.el9.x86_64                                                
  perl-PathTools-3.78-461.el9.x86_64                                            
  perl-Pod-Escapes-1:1.07-460.el9.noarch                                        
  perl-Pod-Perldoc-3.28.01-461.el9.noarch                                       
  perl-Pod-Simple-1:3.42-4.el9.noarch                                           
  perl-Pod-Usage-4:2.01-4.el9.noarch                                            
  perl-Scalar-List-Utils-4:1.56-461.el9.x86_64                                  
  perl-SelectSaver-1.02-480.el9.noarch                                          
  perl-Socket-4:2.031-4.el9.x86_64                                              
  perl-Storable-1:3.21-460.el9.x86_64                                           
  perl-Symbol-1.08-480.el9.noarch                                               
  perl-Term-ANSIColor-5.01-461.el9.noarch                                       
  perl-Term-Cap-1.17-460.el9.noarch                                             
  perl-TermReadKey-2.38-11.el9.x86_64                                           
  perl-Text-ParseWords-3.30-460.el9.noarch                                      
  perl-Text-Tabs+Wrap-2013.0523-460.el9.noarch                                  
  perl-Time-Local-2:1.300-7.el9.noarch                                          
  perl-URI-5.09-3.el9.noarch                                                    
  perl-base-2.27-480.el9.noarch                                                 
  perl-constant-1.33-461.el9.noarch                                             
  perl-if-0.60.800-480.el9.noarch                                               
  perl-interpreter-4:5.32.1-480.el9.x86_64                                      
  perl-lib-0.65-480.el9.x86_64                                                  
  perl-libnet-3.13-4.el9.noarch                                                 
  perl-libs-4:5.32.1-480.el9.x86_64                                             
  perl-mro-1.23-480.el9.x86_64                                                  
  perl-overload-1.31-480.el9.noarch                                             
  perl-overloading-0.02-480.el9.noarch                                          
  perl-parent-1:0.238-460.el9.noarch                                            
  perl-podlators-1:4.14-460.el9.noarch                                          
  perl-subs-1.03-480.el9.noarch                                                 
  perl-vars-1.05-480.el9.noarch                                                 
  pkgconf-1.7.3-10.el9.x86_64                                                   
  pkgconf-m4-1.7.3-10.el9.noarch                                                
  pkgconf-pkg-config-1.7.3-10.el9.x86_64                                        

Complete!
Found VERSION 20
Updating Subscription Management repositories.
Unable to read consumer identity
subscription-manager is operating in container mode.
43 files removed
--> 673ded4e3590
STEP 7/12: COPY ./s2i/bin/ $STI_SCRIPTS_PATH
--> 8140eec58873
STEP 8/12: COPY ./root/ /
--> c4ecba4f3818
STEP 9/12: RUN chown -R 1001:0 ${APP_ROOT} && chmod -R ug+rwx ${APP_ROOT} &&     rpm-file-permissions
--> 61885a48649a
STEP 10/12: USER 1001
--> a6659889de7b
STEP 11/12: CMD $STI_SCRIPTS_PATH/usage
--> 80574c5a5f59
STEP 12/12: LABEL "io.openshift.builder-version"="863366c"
COMMIT
--> c809958a849d
c809958a849dfd73c74eef549ee42a435c2601761484d9d8a52ad4ddde921d41
mkdir -p 20-minimal/root
go-md2man -in "20-minimal/README.md" -out "20-minimal/root/help.1"
chmod a+r "20-minimal/root/help.1"
VERSION="20-minimal" SKIP_SQUASH=1 OS=rhel9 CLEAN_AFTER= DOCKER_BUILD_CONTEXT=. OPENSHIFT_NAMESPACES="" CUSTOM_REPO="" REGISTRY="""" /usr/bin/env bash common/build.sh
Built versions are: 20-minimal
-> Version 20-minimal: building image from 'Dockerfile.rhel9' ...
-> Pulling image ubi9/ubi-minimal before building image from Dockerfile.rhel9.
The image ubi9/ubi-minimal is already pulled.
-> building using docker build  --label io.openshift.builder-version="863366c" -f "$dockerfile" "${DOCKER_BUILD_CONTEXT}"
STEP 1/12: FROM ubi9/ubi-minimal
STEP 2/12: EXPOSE 8080
--> Using cache 2af4a6c0e62bf1501d6f89fddf73a846ddc0a9e629bbf7668b248ecdcc14e281
--> 2af4a6c0e62b
STEP 3/12: ENV APP_ROOT=/opt/app-root     HOME=/opt/app-root/src     NPM_RUN=start     PLATFORM="el9"     NODEJS_VERSION=20     NPM_RUN=start     NAME=nodejs
--> 1efc924da87c
STEP 4/12: ENV SUMMARY="Minimal image for running Node.js $NODEJS_VERSION applications"     DESCRIPTION="Node.js $NODEJS_VERSION available as container is a base platform for running various Node.js $NODEJS_VERSION applications and frameworks. Node.js is a platform built on Chrome's JavaScript runtime for easily building fast, scalable network applications. Node.js uses an event-driven, non-blocking I/O model that makes it lightweight and efficient, perfect for data-intensive real-time applications that run across distributed devices."     NPM_CONFIG_PREFIX=$HOME/.npm-global     PATH=$HOME/node_modules/.bin/:$HOME/.npm-global/bin/:$PATH
--> 55eeedb12a9b
STEP 5/12: LABEL summary="$SUMMARY"       description="$DESCRIPTION"       io.k8s.description="$DESCRIPTION"       io.k8s.display-name="Node.js $NODEJS_VERSION Micro"       io.openshift.expose-services="8080:http"       io.openshift.tags="builder,$NAME,${NAME}${NODEJS_VERSION}"       io.openshift.s2i.scripts-url="image:///usr/libexec/s2i"       io.s2i.scripts-url="image:///usr/libexec/s2i"       com.redhat.dev-mode="DEV_MODE:false"       com.redhat.deployments-dir="${APP_ROOT}/src"       com.redhat.dev-mode.port="DEBUG_PORT:5858"       com.redhat.component="${NAME}-${NODEJS_VERSION}-minimal-container"       name="ubi9/$NAME-$NODEJS_VERSION-minimal"       version="1"       com.redhat.license_terms="https://www.redhat.com/en/about/red-hat-end-user-license-agreements#UBI"       maintainer="SoftwareCollections.org <sclorg@redhat.com>"       help="For more information visit https://github.com/sclorg/s2i-nodejs-container"
--> 437f60f6340f
STEP 6/12: RUN INSTALL_PKGS="nodejs nodejs-nodemon nodejs-full-i18n npm findutils tar which" &&     microdnf -y module disable nodejs &&     microdnf -y module enable nodejs:$NODEJS_VERSION &&     microdnf -y --nodocs --setopt=install_weak_deps=0 install $INSTALL_PKGS &&     node -v | grep -qe "^v$NODEJS_VERSION\." && echo "Found VERSION $NODEJS_VERSION" &&     microdnf clean all &&     rm -rf /mnt/rootfs/var/cache/* /mnt/rootfs/var/log/dnf* /mnt/rootfs/var/log/yum.*
Downloading metadata...
Downloading metadata...
Downloading metadata...
Downloading metadata...
Downloading metadata...
Disabling modules:
    nodejs


Running transaction test...
Enabling module streams:
    nodejs:20


Running transaction test...
Package                                                             Repository                        Size
Installing:                                                                                               
 findutils-1:4.8.0-6.el9.x86_64                                     ubi-9-baseos-rpms             563.2 kB
 libbrotli-1.0.9-6.el9.x86_64                                       ubi-9-baseos-rpms             324.5 kB
 nodejs-1:20.9.0-1.module+el9.3.0.z+20633+3a660725.x86_64           ubi-9-appstream-rpms           14.3 MB
 nodejs-full-i18n-1:20.9.0-1.module+el9.3.0.z+20633+3a660725.x86_64 ubi-9-appstream-rpms            8.9 MB
 nodejs-nodemon-3.0.1-1.module+el9.3.0.z+20478+84a9f781.noarch      ubi-9-appstream-rpms          360.7 kB
 npm-1:10.1.0-1.20.9.0.1.module+el9.3.0.z+20633+3a660725.x86_64     ubi-9-appstream-rpms            2.8 MB
 openssl-1:3.0.7-24.el9.x86_64                                      rhel-9-for-x86_64-baseos-rpms   1.3 MB
 tar-2:1.34-6.el9_1.x86_64                                          ubi-9-baseos-rpms             910.7 kB
 which-2.21-29.el9.x86_64                                           ubi-9-baseos-rpms              45.7 kB
Transaction Summary:
 Installing:        9 packages
 Reinstalling:      0 packages
 Upgrading:         0 packages
 Obsoleting:        0 packages
 Removing:          0 packages
 Downgrading:       0 packages
Downloading packages...
Running transaction test...
Installing: openssl;1:3.0.7-24.el9;x86_64;rhel-9-for-x86_64-baseos-rpms
Installing: libbrotli;1.0.9-6.el9;x86_64;ubi-9-baseos-rpms
Installing: nodejs-full-i18n;1:20.9.0-1.module+el9.3.0.z+20633+3a660725;x86_64;ubi-9-appstream-rpms
Installing: npm;1:10.1.0-1.20.9.0.1.module+el9.3.0.z+20633+3a660725;x86_64;ubi-9-appstream-rpms
Installing: nodejs;1:20.9.0-1.module+el9.3.0.z+20633+3a660725;x86_64;ubi-9-appstream-rpms
Installing: nodejs-nodemon;3.0.1-1.module+el9.3.0.z+20478+84a9f781;noarch;ubi-9-appstream-rpms
Installing: which;2.21-29.el9;x86_64;ubi-9-baseos-rpms
Installing: tar;2:1.34-6.el9_1;x86_64;ubi-9-baseos-rpms
Installing: findutils;1:4.8.0-6.el9;x86_64;ubi-9-baseos-rpms
Complete.
Found VERSION 20
Complete.
--> 88310f625cc4
STEP 7/12: COPY ./s2i/bin/ /usr/libexec/s2i
--> b6c75553dbd3
STEP 8/12: COPY ./root/ /
--> e09aa214fcec
STEP 9/12: RUN mkdir -p "$HOME" && chown -R 1001:0 "$APP_ROOT" && chmod -R ug+rwx "$APP_ROOT"
--> f6745f260527
STEP 10/12: WORKDIR "$HOME"
--> bf526a2e632a
STEP 11/12: USER 1001
--> 7e8dd86a79d3
STEP 12/12: LABEL "io.openshift.builder-version"="863366c"
COMMIT
--> c0d13fe0554c
c0d13fe0554c192dfa2a2291a322f200d703b6cb1f309eea0ca8dbe635121139
nodejs 16 => 8adc30c9d7bd6475c7d063e6b5f987ec25b9843ebc4a824c128fab0caaf67fb6
nodejs 16-minimal => e25e78c3dbdced05096f9c97f12bf4d73605e01861246e160c4f5a43252fe493
nodejs 18 => 32306a16453cd4fdba21e63c424ca12e386e90c1f7bb02b47167197693a1dd80
nodejs 18-minimal => 1664faf5012e42c894c9cc65616ab0e0c9711ad82bf1385ac6c0c337bd950b74
nodejs 20 => c809958a849dfd73c74eef549ee42a435c2601761484d9d8a52ad4ddde921d41
nodejs 20-minimal => c0d13fe0554c192dfa2a2291a322f200d703b6cb1f309eea0ca8dbe635121139
make[1]: Leaving directory '/var/tmp/daily_scl_tests/rhel9-test-upstream/plans/nightly-container-rhel9/data/s2i-nodejs-container'
VERSIONS="14 14-minimal 16 16-minimal 18 18-minimal 20 20-minimal" SKIP_SQUASH=1 OS=rhel9 CLEAN_AFTER= DOCKER_BUILD_CONTEXT=. OPENSHIFT_NAMESPACES="" CUSTOM_REPO="" REGISTRY="""" /usr/bin/env bash common/tag.sh
Tagged versions are: 14 14-minimal 16 16-minimal 18 18-minimal 20 20-minimal
-> Image for version 14 not built, skipping tag.
-> Image for version 14-minimal not built, skipping tag.
-> Tagging image '8adc30c9d7bd6475c7d063e6b5f987ec25b9843ebc4a824c128fab0caaf67fb6' as 'ubi9/nodejs-16:1' and 'ubi9/nodejs-16:latest' and 'ubi9/nodejs-16:rhel9' and 'ubi9/nodejs-16:20231207-863366c'
-> Tagging image 'e25e78c3dbdced05096f9c97f12bf4d73605e01861246e160c4f5a43252fe493' as 'ubi9/nodejs-16-minimal:1' and 'ubi9/nodejs-16-minimal:latest' and 'ubi9/nodejs-16-minimal:rhel9' and 'ubi9/nodejs-16-minimal:20231207-863366c'
-> Tagging image '32306a16453cd4fdba21e63c424ca12e386e90c1f7bb02b47167197693a1dd80' as 'ubi9/nodejs-18:1' and 'ubi9/nodejs-18:latest' and 'ubi9/nodejs-18:rhel9' and 'ubi9/nodejs-18:20231207-863366c'
-> Tagging image '1664faf5012e42c894c9cc65616ab0e0c9711ad82bf1385ac6c0c337bd950b74' as 'ubi9/nodejs-18-minimal:1' and 'ubi9/nodejs-18-minimal:latest' and 'ubi9/nodejs-18-minimal:rhel9' and 'ubi9/nodejs-18-minimal:20231207-863366c'
-> Tagging image 'c809958a849dfd73c74eef549ee42a435c2601761484d9d8a52ad4ddde921d41' as 'ubi9/nodejs-20:1' and 'ubi9/nodejs-20:latest' and 'ubi9/nodejs-20:rhel9' and 'ubi9/nodejs-20:20231207-863366c'
-> Tagging image 'c0d13fe0554c192dfa2a2291a322f200d703b6cb1f309eea0ca8dbe635121139' as 'ubi9/nodejs-20-minimal:1' and 'ubi9/nodejs-20-minimal:latest' and 'ubi9/nodejs-20-minimal:rhel9' and 'ubi9/nodejs-20-minimal:20231207-863366c'
VERSIONS="14 14-minimal 16 16-minimal 18 18-minimal 20 20-minimal" TEST_UPSTREAM=yes common/test.sh
Tested versions are: 14 14-minimal 16 16-minimal 18 18-minimal 20 20-minimal
-> Image for version 14 not built, skipping tests.
-> Image for version 14-minimal not built, skipping tests.
npm notice 
npm notice New major version of npm available! 8.19.4 -> 10.3.0
npm notice Changelog: <https://github.com/npm/cli/releases/tag/v10.3.0>
npm notice Run `npm install -g npm@10.3.0` to update!
npm notice 
npm notice 
npm notice New major version of npm available! 8.19.4 -> 10.3.0
npm notice Changelog: <https://github.com/npm/cli/releases/tag/v10.3.0>
npm notice Run `npm install -g npm@10.3.0` to update!
npm notice 
npm notice 
npm notice New major version of npm available! 8.19.4 -> 10.3.0
npm notice Changelog: <https://github.com/npm/cli/releases/tag/v10.3.0>
npm notice Run `npm install -g npm@10.3.0` to update!
npm notice 

commit 863366c1c61c26a21804c00f61f14e05c6364ba8
Author: Zuzana Miklankova <zmiklank@redhat.com>
Date:   Mon Dec 4 17:01:00 2023 +0100

    rename test-upstream-unittests make target

Running tests for image ubi9/nodejs-16:1
-----------------------------------------------
Running test test_client_express (starting at 2024-01-23 20:15:05-05:00) ... 
-----------------------------------------------
Running express client test
Running express test suite
Cloning into '/var/tmp/daily_scl_tests/rhel9-test-upstream/plans/nightly-container-rhel9/data/s2i-nodejs-container/test/express'...
STEP 1/11: FROM ubi9/nodejs-16:1
STEP 2/11: LABEL "io.openshift.s2i.build.image"="ubi9/nodejs-16:1"       "io.openshift.s2i.build.source-location"="file:///var/tmp/daily_scl_tests/rhel9-test-upstream/plans/nightly-container-rhel9/data/s2i-nodejs-container/test/express"
--> 372426fbd4b8
STEP 3/11: USER root
--> 802cc917bf3f
STEP 4/11: COPY upload/src/ /tmp/src
--> 7d5cc8a3e9d8
STEP 5/11: RUN chown -R 1001:0 /tmp/src
--> 19beb6933940
STEP 6/11: ENV NPM_MIRROR=https://repository.engineering.redhat.com/nexus/repository/registry.npmjs.org
--> bc8e0d548a07
STEP 7/11: ENV NODE_ENV=development
--> e2de6398f340
STEP 8/11: RUN cd /etc/pki/ca-trust/source/anchors && update-ca-trust extract
--> c40734eed9c6
STEP 9/11: USER 1001
--> 14933f433e5b
STEP 10/11: RUN /usr/libexec/s2i/assemble
---> Installing application source ...
---> Building your Node application from source

added 429 packages, and audited 430 packages in 20s

63 packages are looking for funding
  run `npm fund` for details

3 high severity vulnerabilities

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
npm notice 
npm notice New major version of npm available! 8.19.4 -> 10.3.0
npm notice Changelog: <https://github.com/npm/cli/releases/tag/v10.3.0>
npm notice Run `npm install -g npm@10.3.0` to update!
npm notice 
--> 7c23e6ef18ef
STEP 11/11: CMD /usr/libexec/s2i/run
COMMIT ubi9/nodejs-16:1-express
--> 9053901bb0c5
Successfully tagged localhost/ubi9/nodejs-16:1-express
9053901bb0c5bf71453c08cbaa480d1a8f1f26fcc403d6cccc017e72725fa0a9

> express@4.18.2 test
> mocha --require test/support/env --reporter spec --bail --check-leaks test/ test/acceptance/



  Route
    \u2714 should work without handlers
    \u2714 should not stack overflow with a large sync stack (56ms)
    .all
      \u2714 should add handler
      \u2714 should handle VERBS
      \u2714 should stack
    .VERB
      \u2714 should support .get
      \u2714 should limit to just .VERB
      \u2714 should allow fallthrough
    errors
      \u2714 should handle errors via arity 4 functions
      \u2714 should handle throw
      \u2714 should handle throwing inside error handlers
      \u2714 should handle throw in .all
      \u2714 should handle single error handler

  Router
    \u2714 should return a function with router methods
    \u2714 should support .use of other routers
    \u2714 should support dynamic routes
    \u2714 should handle blank URL
    \u2714 should handle missing URL
    \u2714 should not stack overflow with many registered routes (151ms)
    \u2714 should not stack overflow with a large sync route stack (120ms)
    \u2714 should not stack overflow with a large sync middleware stack (48ms)
    .handle
      \u2714 should dispatch
    .multiple callbacks
      \u2714 should throw if a callback is null
      \u2714 should throw if a callback is undefined
      \u2714 should throw if a callback is not a function
      \u2714 should not throw if all callbacks are functions
    error
      \u2714 should skip non error middleware
      \u2714 should handle throwing inside routes with params
      \u2714 should handle throwing in handler after async param
      \u2714 should handle throwing inside error handlers
    FQDN
      \u2714 should not obscure FQDNs
      \u2714 should ignore FQDN in search
      \u2714 should ignore FQDN in path
      \u2714 should adjust FQDN req.url
      \u2714 should adjust FQDN req.url with multiple handlers
      \u2714 should adjust FQDN req.url with multiple routed handlers
    .all
      \u2714 should support using .all to capture all http verbs
      \u2714 should be called for any URL when "*"
    .use
      \u2714 should require middleware
      \u2714 should reject string as middleware
      \u2714 should reject number as middleware
      \u2714 should reject null as middleware
      \u2714 should reject Date as middleware
      \u2714 should be called for any URL
      \u2714 should accept array of middleware
    .param
      \u2714 should call param function when routing VERBS
      \u2714 should call param function when routing middleware
      \u2714 should only call once per request
      \u2714 should call when values differ
    parallel requests
      \u2714 should not mix requests (51ms)

  app.all()
    \u2714 should add a router per method
    \u2714 should run the callback for a method just once

  app.del()
    \u2714 should alias app.delete()

  app
    .engine(ext, fn)
      \u2714 should map a template engine
      \u2714 should throw when the callback is missing
      \u2714 should work without leading "."
      \u2714 should work "view engine" setting
      \u2714 should work "view engine" with leading "."

  HEAD
    \u2714 should default to GET
    \u2714 should output the same headers as GET requests

  app.head()
    \u2714 should override

  app
    \u2714 should inherit from event emitter
    \u2714 should be callable
    \u2714 should 404 without routes

  app.parent
    \u2714 should return the parent when mounted

  app.mountpath
    \u2714 should return the mounted path

  app.router
    \u2714 should throw with notice

  app.path()
    \u2714 should return the canonical

  in development
    \u2714 should disable "view cache"

  in production
    \u2714 should enable "view cache"

  without NODE_ENV
    \u2714 should default to development

  app.listen()
    \u2714 should wrap with an HTTP server

  app
    .locals
      \u2714 should default object
      .settings
        \u2714 should contain app settings 

  OPTIONS
    \u2714 should default to the routes defined
    \u2714 should only include each method once
    \u2714 should not be affected by app.all
    \u2714 should not respond if the path is not defined
    \u2714 should forward requests down the middleware chain
    when error occurs in response handler
      \u2714 should pass error to callback

  app.options()
    \u2714 should override the default behavior

  app
    .param(fn)
      \u2714 should map app.param(name, ...) logic
      \u2714 should fail if not given fn
    .param(names, fn)
      \u2714 should map the array
    .param(name, fn)
      \u2714 should map logic for a single param
      \u2714 should only call once per request
      \u2714 should call when values differ
      \u2714 should support altering req.params across routes
      \u2714 should not invoke without route handler
      \u2714 should work with encoded values
      \u2714 should catch thrown error
      \u2714 should catch thrown secondary error
      \u2714 should defer to next route
      \u2714 should defer all the param routes
      \u2714 should not call when values differ on error
      \u2714 should call when values differ when using "next"

  app
    .render(name, fn)
      \u2714 should support absolute paths
      \u2714 should support absolute paths with "view engine"
      \u2714 should expose app.locals
      \u2714 should support index.<engine>
      \u2714 should handle render error throws
      when the file does not exist
        \u2714 should provide a helpful error
      when an error occurs
        \u2714 should invoke the callback
      when an extension is given
        \u2714 should render the template
      when "view engine" is given
        \u2714 should render the template
      when "views" is given
        \u2714 should lookup the file in the path
        when array of paths
          \u2714 should lookup the file in the path
          \u2714 should lookup in later paths until found
          \u2714 should error if file does not exist
      when a "view" constructor is given
        \u2714 should create an instance of it
      caching
        \u2714 should always lookup view without cache
        \u2714 should cache with "view cache" setting
    .render(name, options, fn)
      \u2714 should render the template
      \u2714 should expose app.locals
      \u2714 should give precedence to app.render() locals
      caching
        \u2714 should cache with cache option

  app
    .request
      \u2714 should extend the request prototype
      \u2714 should only extend for the referenced app
      \u2714 should inherit to sub apps
      \u2714 should allow sub app to override
      \u2714 should not pollute parent app

  app
    .response
      \u2714 should extend the response prototype
      \u2714 should only extend for the referenced app
      \u2714 should inherit to sub apps
      \u2714 should allow sub app to override
      \u2714 should not pollute parent app

  app.route
    \u2714 should return a new route
    \u2714 should all .VERB after .all
    \u2714 should support dynamic routes
    \u2714 should not error on empty routes

  app.router
    \u2714 should restore req.params after leaving router
    \u2714 should be .use()able
    \u2714 should allow escaped regexp
    \u2714 should allow literal "."
    \u2714 should allow rewriting of the url
    \u2714 should run in order added
    \u2714 should be chainable
    methods
      \u2714 should include ACL
      \u2714 should reject numbers for app.acl
      \u2714 should include BIND
      \u2714 should reject numbers for app.bind
      \u2714 should include CHECKOUT
      \u2714 should reject numbers for app.checkout
      \u2714 should include COPY
      \u2714 should reject numbers for app.copy
      \u2714 should include DELETE
      \u2714 should reject numbers for app.delete
      \u2714 should include GET
      \u2714 should reject numbers for app.get
      \u2714 should include HEAD
      \u2714 should reject numbers for app.head
      \u2714 should include LINK
      \u2714 should reject numbers for app.link
      \u2714 should include LOCK
      \u2714 should reject numbers for app.lock
      \u2714 should include M-SEARCH
      \u2714 should reject numbers for app.m-search
      \u2714 should include MERGE
      \u2714 should reject numbers for app.merge
      \u2714 should include MKACTIVITY
      \u2714 should reject numbers for app.mkactivity
      \u2714 should include MKCALENDAR
      \u2714 should reject numbers for app.mkcalendar
      \u2714 should include MKCOL
      \u2714 should reject numbers for app.mkcol
      \u2714 should include MOVE
      \u2714 should reject numbers for app.move
      \u2714 should include NOTIFY
      \u2714 should reject numbers for app.notify
      \u2714 should include OPTIONS
      \u2714 should reject numbers for app.options
      \u2714 should include PATCH
      \u2714 should reject numbers for app.patch
      \u2714 should include POST
      \u2714 should reject numbers for app.post
      \u2714 should include PROPFIND
      \u2714 should reject numbers for app.propfind
      \u2714 should include PROPPATCH
      \u2714 should reject numbers for app.proppatch
      \u2714 should include PURGE
      \u2714 should reject numbers for app.purge
      \u2714 should include PUT
      \u2714 should reject numbers for app.put
      \u2714 should include REBIND
      \u2714 should reject numbers for app.rebind
      \u2714 should include REPORT
      \u2714 should reject numbers for app.report
      \u2714 should include SEARCH
      \u2714 should reject numbers for app.search
      \u2714 should include SOURCE
      \u2714 should reject numbers for app.source
      \u2714 should include SUBSCRIBE
      \u2714 should reject numbers for app.subscribe
      \u2714 should include TRACE
      \u2714 should reject numbers for app.trace
      \u2714 should include UNBIND
      \u2714 should reject numbers for app.unbind
      \u2714 should include UNLINK
      \u2714 should reject numbers for app.unlink
      \u2714 should include UNLOCK
      \u2714 should reject numbers for app.unlock
      \u2714 should include UNSUBSCRIBE
      \u2714 should reject numbers for app.unsubscribe
      \u2714 should include DEL
      \u2714 should reject numbers for app.del
      \u2714 should re-route when method is altered
    decode params
      \u2714 should decode correct params
      \u2714 should not accept params in malformed paths
      \u2714 should not decode spaces
      \u2714 should work with unicode
    when given a regexp
      \u2714 should match the pathname only
      \u2714 should populate req.params with the captures
      \u2714 should ensure regexp matches path prefix
    case sensitivity
      \u2714 should be disabled by default
      when "case sensitive routing" is enabled
        \u2714 should match identical casing
        \u2714 should not match otherwise
    params
      \u2714 should overwrite existing req.params by default
      \u2714 should allow merging existing req.params
      \u2714 should use params from router
      \u2714 should merge numeric indices req.params
      \u2714 should merge numeric indices req.params when more in parent
      \u2714 should merge numeric indices req.params when parent has same number
      \u2714 should ignore invalid incoming req.params
      \u2714 should restore req.params
    trailing slashes
      \u2714 should be optional by default
      when "strict routing" is enabled
        \u2714 should match trailing slashes
        \u2714 should pass-though middleware
        \u2714 should pass-though mounted middleware
        \u2714 should match no slashes
        \u2714 should match middleware when omitting the trailing slash
        \u2714 should match middleware
        \u2714 should match middleware when adding the trailing slash
        \u2714 should fail when omitting the trailing slash
        \u2714 should fail when adding the trailing slash
    *
      \u2714 should capture everything
      \u2714 should decode the capture
      \u2714 should denote a greedy capture group
      \u2714 should work with several
      \u2714 should work cross-segment
      \u2714 should allow naming
      \u2714 should not be greedy immediately after param
      \u2714 should eat everything after /
      \u2714 should span multiple segments
      \u2714 should be optional
      \u2714 should require a preceding /
      \u2714 should keep correct parameter indexes
      \u2714 should work within arrays
    :name
      \u2714 should denote a capture group
      \u2714 should match a single segment only
      \u2714 should allow several capture groups
      \u2714 should work following a partial capture group
      \u2714 should work inside literal parenthesis
      \u2714 should work in array of paths
    :name?
      \u2714 should denote an optional capture group
      \u2714 should populate the capture group
    .:name
      \u2714 should denote a format
    .:name?
      \u2714 should denote an optional format
    when next() is called
      \u2714 should continue lookup
    when next("route") is called
      \u2714 should jump to next route
    when next("router") is called
      \u2714 should jump out of router
    when next(err) is called
      \u2714 should break out of app.router
      \u2714 should call handler in same route, if exists

  app
    .VERB()
      \u2714 should not get invoked without error handler on error
      \u2714 should only call an error handling routing callback when an error is propagated

  app
    \u2714 should emit "mount" when mounted
    .use(app)
      \u2714 should mount the app
      \u2714 should support mount-points
      \u2714 should set the child's .parent
      \u2714 should support dynamic routes
      \u2714 should support mounted app anywhere
    .use(middleware)
      \u2714 should accept multiple arguments
      \u2714 should invoke middleware for all requests
      \u2714 should accept array of middleware
      \u2714 should accept multiple arrays of middleware
      \u2714 should accept nested arrays of middleware
    .use(path, middleware)
      \u2714 should require middleware
      \u2714 should reject string as middleware
      \u2714 should reject number as middleware
      \u2714 should reject null as middleware
      \u2714 should reject Date as middleware
      \u2714 should strip path from req.url
      \u2714 should accept multiple arguments
      \u2714 should invoke middleware for all requests starting with path
      \u2714 should work if path has trailing slash
      \u2714 should accept array of middleware
      \u2714 should accept multiple arrays of middleware
      \u2714 should accept nested arrays of middleware
      \u2714 should support array of paths
      \u2714 should support array of paths with middleware array
      \u2714 should support regexp path
      \u2714 should support empty string path

  config
    .set()
      \u2714 should set a value
      \u2714 should set prototype values
      \u2714 should return the app
      \u2714 should return the app when undefined
      \u2714 should return set value
      \u2714 should return undefined for prototype values
      "etag"
        \u2714 should throw on bad value
        \u2714 should set "etag fn"
      "trust proxy"
        \u2714 should set "trust proxy fn"
    .get()
      \u2714 should return undefined when unset
      \u2714 should return undefined for prototype values
      \u2714 should otherwise return the value
      when mounted
        \u2714 should default to the parent app
        \u2714 should given precedence to the child
        \u2714 should inherit "trust proxy" setting
        \u2714 should prefer child "trust proxy" setting
    .enable()
      \u2714 should set the value to true
      \u2714 should set prototype values
    .disable()
      \u2714 should set the value to false
      \u2714 should set prototype values
    .enabled()
      \u2714 should default to false
      \u2714 should return true when set
      \u2714 should default to false for prototype values
    .disabled()
      \u2714 should default to true
      \u2714 should return false when set
      \u2714 should default to true for prototype values

  exports
    \u2714 should expose Router
    \u2714 should expose json middleware
    \u2714 should expose raw middleware
    \u2714 should expose static middleware
    \u2714 should expose text middleware
    \u2714 should expose urlencoded middleware
    \u2714 should expose the application prototype
    \u2714 should expose the request prototype
    \u2714 should expose the response prototype
    \u2714 should permit modifying the .application prototype
    \u2714 should permit modifying the .request prototype
    \u2714 should permit modifying the .response prototype
    \u2714 should throw on old middlewares

  express.json()
    \u2714 should parse JSON
    \u2714 should handle Content-Length: 0
    \u2714 should handle empty message-body
    \u2714 should handle no message-body
    \u2714 should 400 when only whitespace
    \u2714 should 400 when invalid content-length
    \u2714 should 500 if stream not readable
    \u2714 should handle duplicated middleware
    when JSON is invalid
      \u2714 should 400 for bad token
      \u2714 should 400 for incomplete
      \u2714 should include original body on error object
    with limit option
      \u2714 should 413 when over limit with Content-Length
      \u2714 should 413 when over limit with chunked encoding
      \u2714 should 413 when inflated body over limit
      \u2714 should accept number of bytes
      \u2714 should not change when options altered
      \u2714 should not hang response
      \u2714 should not error when inflating
    with inflate option
      when false
        \u2714 should not accept content-encoding
      when true
        \u2714 should accept content-encoding
    with strict option
      when undefined
        \u2714 should 400 on primitives
      when false
        \u2714 should parse primitives
      when true
        \u2714 should not parse primitives
        \u2714 should not parse primitives with leading whitespaces
        \u2714 should allow leading whitespaces in JSON
        \u2714 should include correct message in stack trace
    with type option
      when "application/vnd.api+json"
        \u2714 should parse JSON for custom type
        \u2714 should ignore standard type
      when ["application/json", "application/vnd.api+json"]
        \u2714 should parse JSON for "application/json"
        \u2714 should parse JSON for "application/vnd.api+json"
        \u2714 should ignore "application/x-json"
      when a function
        \u2714 should parse when truthy value returned
        \u2714 should work without content-type
        \u2714 should not invoke without a body
    with verify option
      \u2714 should assert value if function
      \u2714 should error from verify
      \u2714 should allow custom codes
      \u2714 should allow custom type
      \u2714 should include original body on error object
      \u2714 should allow pass-through
      \u2714 should work with different charsets
      \u2714 should 415 on unknown charset prior to verify
    async local storage
      \u2714 should presist store
      \u2714 should presist store when unmatched content-type
      \u2714 should presist store when inflated
      \u2714 should presist store when inflate error
      \u2714 should presist store when parse error
      \u2714 should presist store when limit exceeded
    charset
      \u2714 should parse utf-8
      \u2714 should parse utf-16
      \u2714 should parse when content-length != char length
      \u2714 should default to utf-8
      \u2714 should fail on unknown charset
    encoding
      \u2714 should parse without encoding
      \u2714 should support identity encoding
      \u2714 should support gzip encoding
      \u2714 should support deflate encoding
      \u2714 should be case-insensitive
      \u2714 should 415 on unknown encoding
      \u2714 should 400 on malformed encoding
      \u2714 should 413 when inflated value exceeds limit

  express.raw()
    \u2714 should parse application/octet-stream
    \u2714 should 400 when invalid content-length
    \u2714 should handle Content-Length: 0
    \u2714 should handle empty message-body
    \u2714 should 500 if stream not readable
    \u2714 should handle duplicated middleware
    with limit option
      \u2714 should 413 when over limit with Content-Length
      \u2714 should 413 when over limit with chunked encoding
      \u2714 should 413 when inflated body over limit
      \u2714 should accept number of bytes
      \u2714 should not change when options altered
      \u2714 should not hang response
      \u2714 should not error when inflating
    with inflate option
      when false
        \u2714 should not accept content-encoding
      when true
        \u2714 should accept content-encoding
    with type option
      when "application/vnd+octets"
        \u2714 should parse for custom type
        \u2714 should ignore standard type
      when ["application/octet-stream", "application/vnd+octets"]
        \u2714 should parse "application/octet-stream"
        \u2714 should parse "application/vnd+octets"
        \u2714 should ignore "application/x-foo"
      when a function
        \u2714 should parse when truthy value returned
        \u2714 should work without content-type
        \u2714 should not invoke without a body
    with verify option
      \u2714 should assert value is function
      \u2714 should error from verify
      \u2714 should allow custom codes
      \u2714 should allow pass-through
    async local storage
      \u2714 should presist store
      \u2714 should presist store when unmatched content-type
      \u2714 should presist store when inflated
      \u2714 should presist store when inflate error
      \u2714 should presist store when limit exceeded
    charset
      \u2714 should ignore charset
    encoding
      \u2714 should parse without encoding
      \u2714 should support identity encoding
      \u2714 should support gzip encoding
      \u2714 should support deflate encoding
      \u2714 should be case-insensitive
      \u2714 should 415 on unknown encoding

  express.static()
    basic operations
      \u2714 should require root path
      \u2714 should require root path to be string
      \u2714 should serve static files
      \u2714 should support nesting
      \u2714 should set Content-Type
      \u2714 should set Last-Modified
      \u2714 should default max-age=0
      \u2714 should support urlencoded pathnames
      \u2714 should not choke on auth-looking URL
      \u2714 should support index.html
      \u2714 should support ../
      \u2714 should support HEAD
      \u2714 should skip POST requests
      \u2714 should support conditional requests
      \u2714 should support precondition checks
      \u2714 should serve zero-length files
      \u2714 should ignore hidden files
    current dir
      \u2714 should be served with "."
    acceptRanges
      when false
        \u2714 should not include Accept-Ranges
        \u2714 should ignore Rage request header
      when true
        \u2714 should include Accept-Ranges
        \u2714 should obey Rage request header
    cacheControl
      when false
        \u2714 should not include Cache-Control
        \u2714 should ignore maxAge
      when true
        \u2714 should include Cache-Control
    extensions
      \u2714 should be not be enabled by default
      \u2714 should be configurable
      \u2714 should support disabling extensions
      \u2714 should support fallbacks
      \u2714 should 404 if nothing found
    fallthrough
      \u2714 should default to true
      when true
        \u2714 should fall-through when OPTIONS request
        \u2714 should fall-through when URL malformed
        \u2714 should fall-through when traversing past root
        \u2714 should fall-through when URL too long
        with redirect: true
          \u2714 should fall-through when directory
          \u2714 should redirect when directory without slash
        with redirect: false
          \u2714 should fall-through when directory
          \u2714 should fall-through when directory without slash
      when false
        \u2714 should 405 when OPTIONS request
        \u2714 should 400 when URL malformed
        \u2714 should 403 when traversing past root
        \u2714 should 404 when URL too long (53ms)
        with redirect: true
          \u2714 should 404 when directory
          \u2714 should redirect when directory without slash
        with redirect: false
          \u2714 should 404 when directory
          \u2714 should 404 when directory without slash
    hidden files
      \u2714 should be served when dotfiles: "allow" is given
    immutable
      \u2714 should default to false
      \u2714 should set immutable directive in Cache-Control
    lastModified
      when false
        \u2714 should not include Last-Modified
      when true
        \u2714 should include Last-Modified
    maxAge
      \u2714 should accept string
      \u2714 should be reasonable when infinite
    redirect
      \u2714 should redirect directories
      \u2714 should include HTML link
      \u2714 should redirect directories with query string
      \u2714 should not redirect to protocol-relative locations
      \u2714 should ensure redirect URL is properly encoded
      \u2714 should respond with default Content-Security-Policy
      \u2714 should not redirect incorrectly
      when false
        \u2714 should disable redirect
    setHeaders
      \u2714 should reject non-functions
      \u2714 should get called when sending file
      \u2714 should not get called on 404
      \u2714 should not get called on redirect
    when traversing past root
      \u2714 should catch urlencoded ../
      \u2714 should not allow root path disclosure
    when request has "Range" header
      \u2714 should support byte ranges
      \u2714 should be inclusive
      \u2714 should set Content-Range
      \u2714 should support -n
      \u2714 should support n-
      \u2714 should respond with 206 "Partial Content"
      \u2714 should set Content-Length to the # of octets transferred
      when last-byte-pos of the range is greater than current length
        \u2714 is taken to be equal to one less than the current length
        \u2714 should adapt the Content-Length accordingly
      when the first- byte-pos of the range is greater than the current length
        \u2714 should respond with 416
        \u2714 should include a Content-Range header of complete length
      when syntactically invalid
        \u2714 should respond with 200 and the entire contents
    when index at mount point
      \u2714 should redirect correctly
    when mounted
      \u2714 should redirect relative to the originalUrl
      \u2714 should not choke on auth-looking URL
    when mounted "root" as a file
      \u2714 should load the file when on trailing slash
      \u2714 should 404 when trailing slash
    when responding non-2xx or 304
      \u2714 should not alter the status
    when index file serving disabled
      \u2714 should next() on directory
      \u2714 should redirect to trailing slash
      \u2714 should next() on mount point
      \u2714 should redirect to trailing slash mount point

  express.text()
    \u2714 should parse text/plain
    \u2714 should 400 when invalid content-length
    \u2714 should handle Content-Length: 0
    \u2714 should handle empty message-body
    \u2714 should 500 if stream not readable
    \u2714 should handle duplicated middleware
    with defaultCharset option
      \u2714 should change default charset
      \u2714 should honor content-type charset
    with limit option
      \u2714 should 413 when over limit with Content-Length
      \u2714 should 413 when over limit with chunked encoding
      \u2714 should 413 when inflated body over limit
      \u2714 should accept number of bytes
      \u2714 should not change when options altered
      \u2714 should not hang response
      \u2714 should not error when inflating (102ms)
    with inflate option
      when false
        \u2714 should not accept content-encoding
      when true
        \u2714 should accept content-encoding
    with type option
      when "text/html"
        \u2714 should parse for custom type
        \u2714 should ignore standard type
      when ["text/html", "text/plain"]
        \u2714 should parse "text/html"
        \u2714 should parse "text/plain"
        \u2714 should ignore "text/xml"
      when a function
        \u2714 should parse when truthy value returned
        \u2714 should work without content-type
        \u2714 should not invoke without a body
    with verify option
      \u2714 should assert value is function
      \u2714 should error from verify
      \u2714 should allow custom codes
      \u2714 should allow pass-through
      \u2714 should 415 on unknown charset prior to verify
    async local storage
      \u2714 should presist store
      \u2714 should presist store when unmatched content-type
      \u2714 should presist store when inflated
      \u2714 should presist store when inflate error
      \u2714 should presist store when limit exceeded
    charset
      \u2714 should parse utf-8
      \u2714 should parse codepage charsets
      \u2714 should parse when content-length != char length
      \u2714 should default to utf-8
      \u2714 should 415 on unknown charset
    encoding
      \u2714 should parse without encoding
      \u2714 should support identity encoding
      \u2714 should support gzip encoding
      \u2714 should support deflate encoding
      \u2714 should be case-insensitive
      \u2714 should 415 on unknown encoding

  express.urlencoded()
    \u2714 should parse x-www-form-urlencoded
    \u2714 should 400 when invalid content-length
    \u2714 should handle Content-Length: 0
    \u2714 should handle empty message-body
    \u2714 should 500 if stream not readable
    \u2714 should handle duplicated middleware
    \u2714 should parse extended syntax
    with extended option
      when false
        \u2714 should not parse extended syntax
        \u2714 should parse multiple key instances
      when true
        \u2714 should parse multiple key instances
        \u2714 should parse extended syntax
        \u2714 should parse parameters with dots
        \u2714 should parse fully-encoded extended syntax
        \u2714 should parse array index notation
        \u2714 should parse array index notation with large array
        \u2714 should parse array of objects syntax
        \u2714 should parse deep object
    with inflate option
      when false
        \u2714 should not accept content-encoding
      when true
        \u2714 should accept content-encoding
    with limit option
      \u2714 should 413 when over limit with Content-Length
      \u2714 should 413 when over limit with chunked encoding
      \u2714 should 413 when inflated body over limit
      \u2714 should accept number of bytes
      \u2714 should not change when options altered
      \u2714 should not hang response
      \u2714 should not error when inflating
    with parameterLimit option
      with extended: false
        \u2714 should reject 0
        \u2714 should reject string
        \u2714 should 413 if over limit
        \u2714 should work when at the limit
        \u2714 should work if number is floating point
        \u2714 should work with large limit
        \u2714 should work with Infinity limit (42ms)
      with extended: true
        \u2714 should reject 0
        \u2714 should reject string
        \u2714 should 413 if over limit
        \u2714 should work when at the limit
        \u2714 should work if number is floating point
        \u2714 should work with large limit (69ms)
        \u2714 should work with Infinity limit (135ms)
    with type option
      when "application/vnd.x-www-form-urlencoded"
        \u2714 should parse for custom type
        \u2714 should ignore standard type
      when ["urlencoded", "application/x-pairs"]
        \u2714 should parse "application/x-www-form-urlencoded"
        \u2714 should parse "application/x-pairs"
        \u2714 should ignore application/x-foo
      when a function
        \u2714 should parse when truthy value returned
        \u2714 should work without content-type
        \u2714 should not invoke without a body
    with verify option
      \u2714 should assert value if function
      \u2714 should error from verify
      \u2714 should allow custom codes
      \u2714 should allow custom type
      \u2714 should allow pass-through
      \u2714 should 415 on unknown charset prior to verify
    async local storage
      \u2714 should presist store
      \u2714 should presist store when unmatched content-type
      \u2714 should presist store when inflated
      \u2714 should presist store when inflate error
      \u2714 should presist store when limit exceeded
    charset
      \u2714 should parse utf-8
      \u2714 should parse when content-length != char length
      \u2714 should default to utf-8
      \u2714 should fail on unknown charset
    encoding
      \u2714 should parse without encoding
      \u2714 should support identity encoding
      \u2714 should support gzip encoding
      \u2714 should support deflate encoding
      \u2714 should be case-insensitive
      \u2714 should 415 on unknown encoding

  middleware
    .next()
      \u2714 should behave like connect

  throw after .end()
    \u2714 should fail gracefully

  req
    \u2714 should accept an argument list of type names
    .accepts(type)
      \u2714 should return true when Accept is not present
      \u2714 should return true when present
      \u2714 should return false otherwise
    .accepts(types)
      \u2714 should return the first when Accept is not present
      \u2714 should return the first acceptable type
      \u2714 should return false when no match is made
      \u2714 should take quality into account
      \u2714 should return the first acceptable type with canonical mime types

  req
    .acceptsCharset(type)
      when Accept-Charset is not present
        \u2714 should return true
      when Accept-Charset is present
        \u2714 should return true
        \u2714 should return false otherwise

  req
    .acceptsCharsets(type)
      when Accept-Charset is not present
        \u2714 should return true
      when Accept-Charset is present
        \u2714 should return true
        \u2714 should return false otherwise

  req
    .acceptsEncoding
      \u2714 should return encoding if accepted
      \u2714 should be false if encoding not accepted

  req
    .acceptsEncodings
      \u2714 should return encoding if accepted
      \u2714 should be false if encoding not accepted

  req
    .acceptsLanguage
      \u2714 should return language if accepted
      \u2714 should be false if language not accepted
      when Accept-Language is not present
        \u2714 should always return language

  req
    .acceptsLanguages
      \u2714 should return language if accepted
      \u2714 should be false if language not accepted
      when Accept-Language is not present
        \u2714 should always return language

  req
    .baseUrl
      \u2714 should be empty for top-level route
      \u2714 should contain lower path
      \u2714 should contain full lower path
      \u2714 should travel through routers correctly

  req
    .fresh
      \u2714 should return true when the resource is not modified
      \u2714 should return false when the resource is modified
      \u2714 should return false without response headers

  req
    .get(field)
      \u2714 should return the header field value
      \u2714 should special-case Referer
      \u2714 should throw missing header name
      \u2714 should throw for non-string header name

  req
    .host
      \u2714 should return the Host when present
      \u2714 should strip port number
      \u2714 should return undefined otherwise
      \u2714 should work with IPv6 Host
      \u2714 should work with IPv6 Host and port
      when "trust proxy" is enabled
        \u2714 should respect X-Forwarded-Host
        \u2714 should ignore X-Forwarded-Host if socket addr not trusted
        \u2714 should default to Host
        when trusting hop count
          \u2714 should respect X-Forwarded-Host
      when "trust proxy" is disabled
        \u2714 should ignore X-Forwarded-Host

  req
    .hostname
      \u2714 should return the Host when present
      \u2714 should strip port number
      \u2714 should return undefined otherwise
      \u2714 should work with IPv6 Host
      \u2714 should work with IPv6 Host and port
      when "trust proxy" is enabled
        \u2714 should respect X-Forwarded-Host
        \u2714 should ignore X-Forwarded-Host if socket addr not trusted
        \u2714 should default to Host
        when multiple X-Forwarded-Host
          \u2714 should use the first value
          \u2714 should remove OWS around comma
          \u2714 should strip port number
      when "trust proxy" is disabled
        \u2714 should ignore X-Forwarded-Host

  req
    .ip
      when X-Forwarded-For is present
        when "trust proxy" is enabled
          \u2714 should return the client addr
          \u2714 should return the addr after trusted proxy based on count
          \u2714 should return the addr after trusted proxy based on list
          \u2714 should return the addr after trusted proxy, from sub app
        when "trust proxy" is disabled
          \u2714 should return the remote address
      when X-Forwarded-For is not present
        \u2714 should return the remote address

  req
    .ips
      when X-Forwarded-For is present
        when "trust proxy" is enabled
          \u2714 should return an array of the specified addresses
          \u2714 should stop at first untrusted
        when "trust proxy" is disabled
          \u2714 should return an empty array
      when X-Forwarded-For is not present
        \u2714 should return []

  req.is()
    when given a mime type
      \u2714 should return the type when matching
      \u2714 should return false when not matching
      \u2714 should ignore charset
    when content-type is not present
      \u2714 should return false
    when given an extension
      \u2714 should lookup the mime type
    when given */subtype
      \u2714 should return the full type when matching
      \u2714 should return false when not matching
      \u2714 should ignore charset
    when given type/*
      \u2714 should return the full type when matching
      \u2714 should return false when not matching
      \u2714 should ignore charset

  req
    .param(name, default)
      \u2714 should use the default value unless defined
    .param(name)
      \u2714 should check req.query
      \u2714 should check req.body
      \u2714 should check req.params

  req
    .path
      \u2714 should return the parsed pathname

  req
    .protocol
      \u2714 should return the protocol string
      when "trust proxy" is enabled
        \u2714 should respect X-Forwarded-Proto
        \u2714 should default to the socket addr if X-Forwarded-Proto not present
        \u2714 should ignore X-Forwarded-Proto if socket addr not trusted
        \u2714 should default to http
        when trusting hop count
          \u2714 should respect X-Forwarded-Proto
      when "trust proxy" is disabled
        \u2714 should ignore X-Forwarded-Proto

  req
    .query
      \u2714 should default to {}
      \u2714 should default to parse complex keys
      when "query parser" is extended
        \u2714 should parse complex keys
        \u2714 should parse parameters with dots
      when "query parser" is simple
        \u2714 should not parse complex keys
      when "query parser" is a function
        \u2714 should parse using function
      when "query parser" disabled
        \u2714 should not parse query
      when "query parser" enabled
        \u2714 should not parse complex keys
      when "query parser fn" is missing
        \u2714 should act like "extended"
      when "query parser" an unknown value
        \u2714 should throw

  req
    .range(size)
      \u2714 should return parsed ranges
      \u2714 should cap to the given size
      \u2714 should cap to the given size when open-ended
      \u2714 should have a .type
      \u2714 should accept any type
      \u2714 should return undefined if no range
    .range(size, options)
      with "combine: true" option
        \u2714 should return combined ranges

  req
    .route
      \u2714 should be the executed Route

  req
    .secure
      when X-Forwarded-Proto is missing
        \u2714 should return false when http
    .secure
      when X-Forwarded-Proto is present
        \u2714 should return false when http
        \u2714 should return true when "trust proxy" is enabled
        \u2714 should return false when initial proxy is http
        \u2714 should return true when initial proxy is https
        when "trust proxy" trusting hop count
          \u2714 should respect X-Forwarded-Proto

  req
    .signedCookies
      \u2714 should return a signed JSON cookie (45ms)

  req
    .stale
      \u2714 should return false when the resource is not modified
      \u2714 should return true when the resource is modified
      \u2714 should return true without response headers

  req
    .subdomains
      when present
        \u2714 should return an array
        \u2714 should work with IPv4 address
        \u2714 should work with IPv6 address
      otherwise
        \u2714 should return an empty array
      with no host
        \u2714 should return an empty array
      with trusted X-Forwarded-Host
        \u2714 should return an array
      when subdomain offset is set
        when subdomain offset is zero
          \u2714 should return an array with the whole domain
          \u2714 should return an array with the whole IPv4
          \u2714 should return an array with the whole IPv6
        when present
          \u2714 should return an array
        otherwise
          \u2714 should return an empty array

  req
    .xhr
      \u2714 should return true when X-Requested-With is xmlhttprequest
      \u2714 should case-insensitive
      \u2714 should return false otherwise
      \u2714 should return false when not present

  res
    .append(field, val)
      \u2714 should append multiple headers
      \u2714 should accept array of values
      \u2714 should get reset by res.set(field, val)
      \u2714 should work with res.set(field, val) first
      \u2714 should work together with res.cookie

  res
    .attachment()
      \u2714 should Content-Disposition to attachment
    .attachment(filename)
      \u2714 should add the filename param
      \u2714 should set the Content-Type
    .attachment(utf8filename)
      \u2714 should add the filename and filename* params
      \u2714 should set the Content-Type

  res
    .clearCookie(name)
      \u2714 should set a cookie passed expiry
    .clearCookie(name, options)
      \u2714 should set the given params

  res
    .cookie(name, object)
      \u2714 should generate a JSON cookie
    .cookie(name, string)
      \u2714 should set a cookie
      \u2714 should allow multiple calls
    .cookie(name, string, options)
      \u2714 should set params
      expires
        \u2714 should throw on invalid date
      maxAge
        \u2714 should set relative expires
        \u2714 should set max-age
        \u2714 should not mutate the options object
        \u2714 should not throw on null
        \u2714 should not throw on undefined
        \u2714 should throw an error with invalid maxAge
      priority
        \u2714 should set low priority
        \u2714 should set medium priority
        \u2714 should set high priority
        \u2714 should throw with invalid priority
      signed
        \u2714 should generate a signed JSON cookie
      signed without secret
        \u2714 should throw an error
      .signedCookie(name, string)
        \u2714 should set a signed cookie

  res
    .download(path)
      \u2714 should transfer as an attachment
      \u2714 should accept range requests
      \u2714 should respond with requested byte range
    .download(path, filename)
      \u2714 should provide an alternate filename
    .download(path, fn)
      \u2714 should invoke the callback
      async local storage
        \u2714 should presist store
        \u2714 should presist store on error
    .download(path, options)
      \u2714 should allow options to res.sendFile()
      with "headers" option
        \u2714 should set headers on response
        \u2714 should use last header when duplicated
        \u2714 should override Content-Type
        \u2714 should not set headers on 404
        when headers contains Content-Disposition
          \u2714 should be ignored
          \u2714 should be ignored case-insensitively
      with "root" option
        \u2714 should allow relative path
        \u2714 should allow up within root
        \u2714 should reject up outside root
        \u2714 should reject reading outside root
    .download(path, filename, fn)
      \u2714 should invoke the callback
    .download(path, filename, options, fn)
      \u2714 should invoke the callback
      \u2714 should allow options to res.sendFile()
      when options.headers contains Content-Disposition
        \u2714 should be ignored
        \u2714 should be ignored case-insensitively
    on failure
      \u2714 should invoke the callback
      \u2714 should remove Content-Disposition

  res
    .format(obj)
      with canonicalized mime types
        \u2714 should utilize qvalues in negotiation
        \u2714 should allow wildcard type/subtypes
        \u2714 should default the Content-Type
        \u2714 should set the correct charset for the Content-Type
        \u2714 should Vary: Accept
        when Accept is not present
          \u2714 should invoke the first callback
        when no match is made
          \u2714 should should respond with 406 not acceptable
      with extnames
        \u2714 should utilize qvalues in negotiation
        \u2714 should allow wildcard type/subtypes
        \u2714 should default the Content-Type
        \u2714 should set the correct charset for the Content-Type
        \u2714 should Vary: Accept
        when Accept is not present
          \u2714 should invoke the first callback
        when no match is made
          \u2714 should should respond with 406 not acceptable
      with parameters
        \u2714 should utilize qvalues in negotiation
        \u2714 should allow wildcard type/subtypes
        \u2714 should default the Content-Type
        \u2714 should set the correct charset for the Content-Type
        \u2714 should Vary: Accept
        when Accept is not present
          \u2714 should invoke the first callback
        when no match is made
          \u2714 should should respond with 406 not acceptable
      given .default
        \u2714 should be invoked instead of auto-responding
        \u2714 should work when only .default is provided
        \u2714 should be able to invoke other formatter
      in router
        \u2714 should utilize qvalues in negotiation
        \u2714 should allow wildcard type/subtypes
        \u2714 should default the Content-Type
        \u2714 should set the correct charset for the Content-Type
        \u2714 should Vary: Accept
        when Accept is not present
          \u2714 should invoke the first callback
        when no match is made
          \u2714 should should respond with 406 not acceptable
      in router
        \u2714 should utilize qvalues in negotiation
        \u2714 should allow wildcard type/subtypes
        \u2714 should default the Content-Type
        \u2714 should set the correct charset for the Content-Type
        \u2714 should Vary: Accept
        when Accept is not present
          \u2714 should invoke the first callback
        when no match is made
          \u2714 should should respond with 406 not acceptable

  res
    .get(field)
      \u2714 should get the response header field

  res
    .json(object)
      \u2714 should not support jsonp callbacks
      \u2714 should not override previous Content-Types
      when given primitives
        \u2714 should respond with json for null
        \u2714 should respond with json for Number
        \u2714 should respond with json for String
      when given an array
        \u2714 should respond with json
      when given an object
        \u2714 should respond with json
      "json escape" setting
        \u2714 should be undefined by default
        \u2714 should unicode escape HTML-sniffing characters
        \u2714 should not break undefined escape
      "json replacer" setting
        \u2714 should be passed to JSON.stringify()
      "json spaces" setting
        \u2714 should be undefined by default
        \u2714 should be passed to JSON.stringify()
    .json(status, object)
      \u2714 should respond with json and set the .statusCode
    .json(object, status)
      \u2714 should respond with json and set the .statusCode for backwards compat
      \u2714 should use status as second number for backwards compat

  res
    \u2714 should not override previous Content-Types
    .jsonp(object)
      \u2714 should respond with jsonp
      \u2714 should use first callback parameter with jsonp
      \u2714 should ignore object callback parameter with jsonp
      \u2714 should allow renaming callback
      \u2714 should allow []
      \u2714 should disallow arbitrary js
      \u2714 should escape utf whitespace
      \u2714 should not escape utf whitespace for json fallback
      \u2714 should include security header and prologue
      \u2714 should not override previous Content-Types with no callback
      \u2714 should override previous Content-Types with callback
      when given undefined
        \u2714 should invoke callback with no arguments
      when given null
        \u2714 should invoke callback with null
      when given a string
        \u2714 should invoke callback with a string
      when given a number
        \u2714 should invoke callback with a number
      when given an array
        \u2714 should invoke callback with an array
      when given an object
        \u2714 should invoke callback with an object
      "json escape" setting
        \u2714 should be undefined by default
        \u2714 should unicode escape HTML-sniffing characters
        \u2714 should not break undefined escape
      "json replacer" setting
        \u2714 should be passed to JSON.stringify()
      "json spaces" setting
        \u2714 should be undefined by default
        \u2714 should be passed to JSON.stringify()
    .jsonp(status, object)
      \u2714 should respond with json and set the .statusCode
    .jsonp(object, status)
      \u2714 should respond with json and set the .statusCode for backwards compat
      \u2714 should use status as second number for backwards compat

  res
    .links(obj)
      \u2714 should set Link header field
      \u2714 should set Link header field for multiple calls

  res
    \u2714 should work when mounted
    .locals
      \u2714 should be empty by default

  res
    .location(url)
      \u2714 should set the header
      \u2714 should encode "url"
      \u2714 should not touch already-encoded sequences in "url"
      when url is "back"
        \u2714 should set location from "Referer" header
        \u2714 should set location from "Referrer" header
        \u2714 should prefer "Referrer" header
        \u2714 should set the header to "/" without referrer

  res
    .redirect(url)
      \u2714 should default to a 302 redirect
      \u2714 should encode "url"
      \u2714 should not touch already-encoded sequences in "url"
    .redirect(status, url)
      \u2714 should set the response status
    .redirect(url, status)
      \u2714 should set the response status
    when the request method is HEAD
      \u2714 should ignore the body
    when accepting html
      \u2714 should respond with html
      \u2714 should escape the url
      \u2714 should include the redirect type
    when accepting text
      \u2714 should respond with text
      \u2714 should encode the url
      \u2714 should include the redirect type
    when accepting neither text or html
      \u2714 should respond with an empty body

  res
    .render(name)
      \u2714 should support absolute paths
      \u2714 should support absolute paths with "view engine"
      \u2714 should error without "view engine" set and file extension to a non-engine module
      \u2714 should error without "view engine" set and no file extension
      \u2714 should expose app.locals
      \u2714 should expose app.locals with `name` property
      \u2714 should support index.<engine>
      when an error occurs
        \u2714 should next(err)
      when "view engine" is given
        \u2714 should render the template
      when "views" is given
        \u2714 should lookup the file in the path
        when array of paths
          \u2714 should lookup the file in the path
          \u2714 should lookup in later paths until found
    .render(name, option)
      \u2714 should render the template
      \u2714 should expose app.locals
      \u2714 should expose res.locals
      \u2714 should give precedence to res.locals over app.locals
      \u2714 should give precedence to res.render() locals over res.locals
      \u2714 should give precedence to res.render() locals over app.locals
    .render(name, options, fn)
      \u2714 should pass the resulting string
    .render(name, fn)
      \u2714 should pass the resulting string
      when an error occurs
        \u2714 should pass it to the callback

  res
    \u2714 should always check regardless of length
    \u2714 should respond with 304 Not Modified when fresh
    \u2714 should not perform freshness check unless 2xx or 304
    \u2714 should not support jsonp callbacks
    \u2714 should be chainable
    .send()
      \u2714 should set body to ""
    .send(null)
      \u2714 should set body to ""
    .send(undefined)
      \u2714 should set body to ""
    .send(code)
      \u2714 should set .statusCode
    .send(code, body)
      \u2714 should set .statusCode and body
    .send(body, code)
      \u2714 should be supported for backwards compat
    .send(code, number)
      \u2714 should send number as json
    .send(String)
      \u2714 should send as html
      \u2714 should set ETag
      \u2714 should not override Content-Type
      \u2714 should override charset in Content-Type
      \u2714 should keep charset in Content-Type for Buffers
    .send(Buffer)
      \u2714 should send as octet-stream
      \u2714 should set ETag
      \u2714 should not override Content-Type
      \u2714 should not override ETag
    .send(Object)
      \u2714 should send as application/json
    when the request method is HEAD
      \u2714 should ignore the body
    when .statusCode is 204
      \u2714 should strip Content-* fields, Transfer-Encoding field, and body
    when .statusCode is 205
      \u2714 should strip Transfer-Encoding field and body, set Content-Length
    when .statusCode is 304
      \u2714 should strip Content-* fields, Transfer-Encoding field, and body
    "etag" setting
      when enabled
        \u2714 should send ETag
        \u2714 should send ETag in response to ACL request
        \u2714 should send ETag in response to BIND request
        \u2714 should send ETag in response to CHECKOUT request
        \u2714 should send ETag in response to COPY request
        \u2714 should send ETag in response to DELETE request
        \u2714 should send ETag in response to GET request
        \u2714 should send ETag in response to HEAD request
        \u2714 should send ETag in response to LINK request
        \u2714 should send ETag in response to LOCK request
        \u2714 should send ETag in response to M-SEARCH request
        \u2714 should send ETag in response to MERGE request
        \u2714 should send ETag in response to MKACTIVITY request
        \u2714 should send ETag in response to MKCALENDAR request
        \u2714 should send ETag in response to MKCOL request
        \u2714 should send ETag in response to MOVE request
        \u2714 should send ETag in response to NOTIFY request
        \u2714 should send ETag in response to OPTIONS request
        \u2714 should send ETag in response to PATCH request
        \u2714 should send ETag in response to POST request
        \u2714 should send ETag in response to PROPFIND request
        \u2714 should send ETag in response to PROPPATCH request
        \u2714 should send ETag in response to PURGE request
        \u2714 should send ETag in response to PUT request
        \u2714 should send ETag in response to REBIND request
        \u2714 should send ETag in response to REPORT request
        \u2714 should send ETag in response to SEARCH request
        \u2714 should send ETag in response to SOURCE request
        \u2714 should send ETag in response to SUBSCRIBE request
        \u2714 should send ETag in response to TRACE request
        \u2714 should send ETag in response to UNBIND request
        \u2714 should send ETag in response to UNLINK request
        \u2714 should send ETag in response to UNLOCK request
        \u2714 should send ETag in response to UNSUBSCRIBE request
        \u2714 should send ETag for empty string response
        \u2714 should send ETag for long response
        \u2714 should not override ETag when manually set
        \u2714 should not send ETag for res.send()
      when disabled
        \u2714 should send no ETag
        \u2714 should send ETag when manually set
      when "strong"
        \u2714 should send strong ETag
      when "weak"
        \u2714 should send weak ETag
      when a function
        \u2714 should send custom ETag
        \u2714 should not send falsy ETag

  res
    .sendFile(path)
      \u2714 should error missing path
      \u2714 should error for non-string path
      \u2714 should error for non-absolute path
      \u2714 should transfer a file
      \u2714 should transfer a file with special characters in string
      \u2714 should include ETag
      \u2714 should 304 when ETag matches
      \u2714 should 404 for directory
      \u2714 should 404 when not found
      \u2714 should send cache-control by default
      \u2714 should not serve dotfiles by default
      \u2714 should not override manual content-types
      \u2714 should not error if the client aborts
    .sendFile(path, fn)
      \u2714 should invoke the callback when complete
      \u2714 should invoke the callback when client aborts
      \u2714 should invoke the callback when client already aborted
      \u2714 should invoke the callback without error when HEAD
      \u2714 should invoke the callback without error when 304
      \u2714 should invoke the callback on 404
      async local storage
        \u2714 should presist store
        \u2714 should presist store on error
    .sendFile(path, options)
      \u2714 should pass options to send module
      with "acceptRanges" option
        when true
          \u2714 should advertise byte range accepted
          \u2714 should respond to range request
        when false
          \u2714 should not advertise accept-ranges
          \u2714 should not honor range requests
      with "cacheControl" option
        when true
          \u2714 should send cache-control header
        when false
          \u2714 should not send cache-control header
      with "dotfiles" option
        when "allow"
          \u2714 should allow dotfiles
        when "deny"
          \u2714 should deny dotfiles
        when "ignore"
          \u2714 should ignore dotfiles
      with "headers" option
        \u2714 should set headers on response
        \u2714 should use last header when duplicated
        \u2714 should override Content-Type
        \u2714 should not set headers on 404
      with "immutable" option
        when true
          \u2714 should send cache-control header with immutable
        when false
          \u2714 should not send cache-control header with immutable
      with "lastModified" option
        when true
          \u2714 should send last-modified header
          \u2714 should conditionally respond with if-modified-since
        when false
          \u2714 should not have last-modified header
          \u2714 should not honor if-modified-since
      with "maxAge" option
        \u2714 should set cache-control max-age to milliseconds
        \u2714 should cap cache-control max-age to 1 year
        \u2714 should min cache-control max-age to 0
        \u2714 should floor cache-control max-age
        when cacheControl: false
          \u2714 should not send cache-control
        when string
          \u2714 should accept plain number as milliseconds
          \u2714 should accept suffix "s" for seconds
          \u2714 should accept suffix "m" for minutes
          \u2714 should accept suffix "d" for days
      with "root" option
        \u2714 should allow relative path
        \u2714 should allow up within root
        \u2714 should reject up outside root
        \u2714 should reject reading outside root
    .sendfile(path, fn)
      \u2714 should invoke the callback when complete
      \u2714 should utilize the same options as express.static()
      \u2714 should invoke the callback when client aborts
      \u2714 should invoke the callback when client already aborted
      \u2714 should invoke the callback without error when HEAD
      \u2714 should invoke the callback without error when 304
      \u2714 should invoke the callback on 404
      \u2714 should not override manual content-types
      \u2714 should invoke the callback on 403
      \u2714 should invoke the callback on socket error
      async local storage
        \u2714 should presist store
        \u2714 should presist store on error
    .sendfile(path)
      \u2714 should not serve dotfiles
      \u2714 should accept dotfiles option
      \u2714 should accept headers option
      \u2714 should ignore headers option on 404
      \u2714 should transfer a file
      \u2714 should transfer a directory index file
      \u2714 should 404 for directory without trailing slash
      \u2714 should transfer a file with urlencoded name
      \u2714 should not error if the client aborts
      with an absolute path
        \u2714 should transfer the file
      with a relative path
        \u2714 should transfer the file
        \u2714 should serve relative to "root"
        \u2714 should consider ../ malicious when "root" is not set
        \u2714 should allow ../ when "root" is set
        \u2714 should disallow requesting out of "root"
        \u2714 should next(404) when not found
        with non-GET
          \u2714 should still serve
    .sendfile(path, options)
      \u2714 should pass options to send module

  res
    .sendStatus(statusCode)
      \u2714 should send the status code and message as body
      \u2714 should work with unknown code

  res
    .set(field, value)
      \u2714 should set the response header field
      \u2714 should coerce to a string
    .set(field, values)
      \u2714 should set multiple response header fields
      \u2714 should coerce to an array of strings
      \u2714 should not set a charset of one is already set
      \u2714 should throw when Content-Type is an array
    .set(object)
      \u2714 should set multiple fields
      \u2714 should coerce to a string

  res
    .status(code)
      when "code" is undefined
        \u2714 should raise error for invalid status code
      when "code" is null
        \u2714 should raise error for invalid status code
      when "code" is 201
        \u2714 should set the response status code to 201
      when "code" is 302
        \u2714 should set the response status code to 302
      when "code" is 403
        \u2714 should set the response status code to 403
      when "code" is 501
        \u2714 should set the response status code to 501
      when "code" is "410"
        \u2714 should set the response status code to 410
      when "code" is 410.1
        \u2714 should set the response status code to 410
      when "code" is 1000
        \u2714 should raise error for invalid status code
      when "code" is 99
        \u2714 should raise error for invalid status code
      when "code" is -401
        \u2714 should raise error for invalid status code

  res
    .type(str)
      \u2714 should set the Content-Type based on a filename
      \u2714 should default to application/octet-stream
      \u2714 should set the Content-Type with type/subtype

  res.vary()
    with no arguments
      \u2714 should not set Vary
    with an empty array
      \u2714 should not set Vary
    with an array
      \u2714 should set the values
    with a string
      \u2714 should set the value
    when the value is present
      \u2714 should not add it again

  utils.etag(body, encoding)
    \u2714 should support strings
    \u2714 should support utf8 strings
    \u2714 should support buffer
    \u2714 should support empty string

  utils.setCharset(type, charset)
    \u2714 should do anything without type
    \u2714 should return type if not given charset
    \u2714 should keep charset if not given charset
    \u2714 should set charset
    \u2714 should override charset

  utils.wetag(body, encoding)
    \u2714 should support strings
    \u2714 should support utf8 strings
    \u2714 should support buffer
    \u2714 should support empty string

  utils.isAbsolute()
    \u2714 should support windows
    \u2714 should support windows unc
    \u2714 should support unices

  utils.flatten(arr)
    \u2714 should flatten an array

  auth
    GET /
      \u2714 should redirect to /login
    GET /login
      \u2714 should render login form
      \u2714 should display login error for bad user
      \u2714 should display login error for bad password
    GET /logout
      \u2714 should redirect to /
    GET /restricted
      \u2714 should redirect to /login without cookie
      \u2714 should succeed with proper cookie
    POST /login
      \u2714 should fail without proper username
      \u2714 should fail without proper password
      \u2714 should succeed with proper credentials

  content-negotiation
    GET /
      \u2714 should default to text/html
      \u2714 should accept to text/plain
      \u2714 should accept to application/json
    GET /users
      \u2714 should default to text/html
      \u2714 should accept to text/plain
      \u2714 should accept to application/json

  cookie-sessions
    GET /
      \u2714 should display no views
      \u2714 should set a session cookie
      \u2714 should display 1 view on revisit

  cookies
    GET /
      \u2714 should have a form
      \u2714 should respond with no cookies
      \u2714 should respond to cookie
    GET /forget
      \u2714 should clear cookie
    POST /
      \u2714 should set a cookie
      \u2714 should no set cookie w/o reminder

  downloads
    GET /
      \u2714 should have a link to amazing.txt
    GET /files/notes/groceries.txt
      \u2714 should have a download header
    GET /files/amazing.txt
      \u2714 should have a download header
    GET /files/missing.txt
      \u2714 should respond with 404
    GET /files/../index.js
      \u2714 should respond with 403

  ejs
    GET /
      \u2714 should respond with html

  error-pages
    GET /
      \u2714 should respond with page list
    Accept: text/html
      GET /403
        \u2714 should respond with 403
      GET /404
        \u2714 should respond with 404
      GET /500
        \u2714 should respond with 500
    Accept: application/json
      GET /403
        \u2714 should respond with 403
      GET /404
        \u2714 should respond with 404
      GET /500
        \u2714 should respond with 500
    Accept: text/plain
      GET /403
        \u2714 should respond with 403
      GET /404
        \u2714 should respond with 404
      GET /500
        \u2714 should respond with 500

  error
    GET /
      \u2714 should respond with 500
    GET /next
      \u2714 should respond with 500
    GET /missing
      \u2714 should respond with 404

  hello-world
    GET /
      \u2714 should respond with hello world
    GET /missing
      \u2714 should respond with 404

  markdown
    GET /
      \u2714 should respond with html
    GET /fail
      \u2714 should respond with an error

  multi-router
    GET /
      \u2714 should respond with root handler
    GET /api/v1/
      \u2714 should respond with APIv1 root handler
    GET /api/v1/users
      \u2714 should respond with users from APIv1
    GET /api/v2/
      \u2714 should respond with APIv2 root handler
    GET /api/v2/users
      \u2714 should respond with users from APIv2

  mvc
    GET /
      \u2714 should redirect to /users
    GET /pet/0
      \u2714 should get pet
    GET /pet/0/edit
      \u2714 should get pet edit page
    PUT /pet/2
      \u2714 should update the pet
    GET /users
      \u2714 should display a list of users (100ms)
    GET /user/:id
      when present
        \u2714 should display the user
        \u2714 should display the users pets
      when not present
        \u2714 should 404
    GET /user/:id/edit
      \u2714 should display the edit form
    PUT /user/:id
      \u2714 should 500 on error
      \u2714 should update the user
    POST /user/:id/pet
      \u2714 should create a pet for user

  params
    GET /
      \u2714 should respond with instructions
    GET /user/0
      \u2714 should respond with a user
    GET /user/9
      \u2714 should fail to find user
    GET /users/0-2
      \u2714 should respond with three users
    GET /users/foo-bar
      \u2714 should fail integer parsing

  resource
    GET /
      \u2714 should respond with instructions
    GET /users
      \u2714 should respond with all users
    GET /users/1
      \u2714 should respond with user 1
    GET /users/9
      \u2714 should respond with error
    GET /users/1..3
      \u2714 should respond with users 1 through 3
    DELETE /users/1
      \u2714 should delete user 1
    DELETE /users/9
      \u2714 should fail
    GET /users/1..3.json
      \u2714 should respond with users 2 and 3 as json

  route-map
    GET /users
      \u2714 should respond with users
    DELETE /users
      \u2714 should delete users
    GET /users/:id
      \u2714 should get a user
    GET /users/:id/pets
      \u2714 should get a users pets
    GET /users/:id/pets/:pid
      \u2714 should get a users pet

  route-separation
    GET /
      \u2714 should respond with index
    GET /users
      \u2714 should list users
    GET /user/:id
      \u2714 should get a user
      \u2714 should 404 on missing user
    GET /user/:id/view
      \u2714 should get a user
      \u2714 should 404 on missing user
    GET /user/:id/edit
      \u2714 should get a user to edit
    PUT /user/:id/edit
      \u2714 should edit a user
    POST /user/:id/edit?_method=PUT
      \u2714 should edit a user
    GET /posts
      \u2714 should get a list of posts

  vhost
    example.com
      GET /
        \u2714 should say hello
      GET /foo
        \u2714 should say foo
    foo.example.com
      GET /
        \u2714 should redirect to /foo
    bar.example.com
      GET /
        \u2714 should redirect to /bar

  web-service
    GET /api/users
      without an api key
        \u2714 should respond with 400 bad request
      with an invalid api key
        \u2714 should respond with 401 unauthorized
      with a valid api key
        \u2714 should respond users json
    GET /api/repos
      without an api key
        \u2714 should respond with 400 bad request
      with an invalid api key
        \u2714 should respond with 401 unauthorized
      with a valid api key
        \u2714 should respond repos json
    GET /api/user/:name/repos
      without an api key
        \u2714 should respond with 400 bad request
      with an invalid api key
        \u2714 should respond with 401 unauthorized
      with a valid api key
        \u2714 should respond user repos json
        \u2714 should 404 with unknown user
    when requesting an invalid route
      \u2714 should respond with 404 json


  1261 passing (5s)

-----------------------------------------------
Running test test_client_prom (starting at 2024-01-23 20:15:47-05:00) ... 
-----------------------------------------------
Running prom-client test
Running prom-client test suite
Cloning into '/var/tmp/daily_scl_tests/rhel9-test-upstream/plans/nightly-container-rhel9/data/s2i-nodejs-container/test/prom-client'...
STEP 1/11: FROM ubi9/nodejs-16:1
STEP 2/11: LABEL "io.openshift.s2i.build.image"="ubi9/nodejs-16:1"       "io.openshift.s2i.build.source-location"="file:///var/tmp/daily_scl_tests/rhel9-test-upstream/plans/nightly-container-rhel9/data/s2i-nodejs-container/test/prom-client"
--> 37560c53ae51
STEP 3/11: USER root
--> 30ceeed0a3d1
STEP 4/11: COPY upload/src/ /tmp/src
--> bfb60b4c89a2
STEP 5/11: RUN chown -R 1001:0 /tmp/src
--> bbfb47aea996
STEP 6/11: ENV NPM_MIRROR=https://repository.engineering.redhat.com/nexus/repository/registry.npmjs.org
--> e35c5f44c4dd
STEP 7/11: ENV NODE_ENV=development
--> e0994e164d45
STEP 8/11: RUN cd /etc/pki/ca-trust/source/anchors && update-ca-trust extract
--> 0fab8569d203
STEP 9/11: USER 1001
--> 3a9a58ab06c1
STEP 10/11: RUN /usr/libexec/s2i/assemble
---> Installing application source ...
---> Building your Node application from source
npm WARN deprecated har-validator@5.1.5: this library is no longer supported
npm WARN deprecated figgy-pudding@3.5.2: This module is no longer supported.
npm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.
npm WARN deprecated node-fetch-npm@2.0.4: This module is not used anymore, npm uses minipass-fetch for its fetch implementation now
npm WARN deprecated stringify-package@1.0.1: This module is not used anymore, and has been replaced by @npmcli/package-json
npm WARN deprecated gentle-fs@2.3.1: This package is deprecated and will not be receiving further updates
npm WARN deprecated libnpmconfig@1.2.1: This module is not used anymore. npm config is parsed by npm itself and by @npmcli/config
npm WARN deprecated fs-vacuum@1.2.10: This module is no longer maintained
npm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142

added 913 packages, and audited 1371 packages in 36s

132 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (11 moderate, 15 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
npm notice 
npm notice New major version of npm available! 8.19.4 -> 10.3.0
npm notice Changelog: <https://github.com/npm/cli/releases/tag/v10.3.0>
npm notice Run `npm install -g npm@10.3.0` to update!
npm notice 
--> f09fc756bca7
STEP 11/11: CMD /usr/libexec/s2i/run
COMMIT ubi9/nodejs-16:1-prom-client
--> c0b3f085da32
Successfully tagged localhost/ubi9/nodejs-16:1-prom-client
c0b3f085da32d5fa4bd6d44d10f54518683e054cf66f66b0a82a50d827c1e560

> prom-client@15.1.0 test /opt/app-root/src
> npm run lint && npm run compile-typescript && npm run test-unit


> prom-client@15.1.0 lint /opt/app-root/src
> eslint .


> prom-client@15.1.0 compile-typescript /opt/app-root/src
> tsc --project .


> prom-client@15.1.0 test-unit /opt/app-root/src
> jest

PASS test/registerTest.js
PASS test/summaryTest.js
PASS test/histogramTest.js
PASS test/pushgatewayTest.js
PASS test/gaugeTest.js
PASS test/counterTest.js
PASS test/clusterTest.js
PASS test/exemplarsTest.js
PASS test/pushgatewayWithPathTest.js
PASS test/defaultMetricsTest.js
PASS test/aggregatorsTest.js
PASS test/metrics/heapSpacesSizeAndUsedTest.js
PASS test/metrics/eventLoopLagTest.js
PASS test/timeWindowQuantilesTest.js
PASS test/metrics/maxFileDescriptorsTest.js
PASS test/bucketGeneratorsTest.js
PASS test/metrics/versionTest.js
PASS test/metrics/heapSizeAndUsedTest.js
PASS test/metrics/gcTest.js
PASS test/metrics/processRequestsTest.js
PASS test/metrics/processHandlesTest.js
PASS test/metrics/processStartTimeTest.js
PASS test/metrics/processOpenFileDescriptorsTest.js
PASS test/metrics/processResourcesTest.js
PASS test/validationTest.js

Test Suites: 25 passed, 25 total
Tests:       476 passed, 476 total
Snapshots:   30 passed, 30 total
Time:        7.802 s
Ran all test suites.
-----------------------------------------------
Running test test_client_opossum (starting at 2024-01-23 20:17:11-05:00) ... 
-----------------------------------------------
Running opossum client test
Running opossum test suite
Cloning into '/var/tmp/daily_scl_tests/rhel9-test-upstream/plans/nightly-container-rhel9/data/s2i-nodejs-container/test/opossum'...
STEP 1/11: FROM ubi9/nodejs-16:1
STEP 2/11: LABEL "io.openshift.s2i.build.image"="ubi9/nodejs-16:1"       "io.openshift.s2i.build.source-location"="file:///var/tmp/daily_scl_tests/rhel9-test-upstream/plans/nightly-container-rhel9/data/s2i-nodejs-container/test/opossum"
--> 3e0980074070
STEP 3/11: USER root
--> 379b82eca7db
STEP 4/11: COPY upload/src/ /tmp/src
--> cbd7ef6d47bb
STEP 5/11: RUN chown -R 1001:0 /tmp/src
--> 68c94ebe02e3
STEP 6/11: ENV NPM_MIRROR=https://repository.engineering.redhat.com/nexus/repository/registry.npmjs.org
--> f7673172056b
STEP 7/11: ENV NODE_ENV=development
--> fb8b7d81f4ce
STEP 8/11: RUN cd /etc/pki/ca-trust/source/anchors && update-ca-trust extract
--> 4cb6b13715f1
STEP 9/11: USER 1001
--> e9d3869473c8
STEP 10/11: RUN /usr/libexec/s2i/assemble
---> Installing application source ...
---> Building your Node application from source
npm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.
npm WARN deprecated eslint-plugin-standard@5.0.0: standard 16.0.0 and eslint-config-standard 16.0.0 no longer require the eslint-plugin-standard package. You can remove it from your dependencies with 'npm rm eslint-plugin-standard'. More info here: https://github.com/standard/standard/issues/1316

> opossum@8.1.3 prepare
> husky install

husky - Git hooks installed

added 860 packages, and audited 861 packages in 19s

258 packages are looking for funding
  run `npm fund` for details

4 vulnerabilities (2 moderate, 1 high, 1 critical)

To address all issues, run:
  npm audit fix

Run `npm audit` for details.
npm notice 
npm notice New major version of npm available! 8.19.4 -> 10.3.0
npm notice Changelog: <https://github.com/npm/cli/releases/tag/v10.3.0>
npm notice Run `npm install -g npm@10.3.0` to update!
npm notice 
--> e6033fd6d006
STEP 11/11: CMD /usr/libexec/s2i/run
COMMIT ubi9/nodejs-16:1-opossum
--> e556cd78bd3d
Successfully tagged localhost/ubi9/nodejs-16:1-opossum
e556cd78bd3d3a7625b2ccccb69741f7b9c36aa0772a8dc6f0b2bbcbd9a44c3a

> opossum@8.1.3 pretest
> npm run lint


> opossum@8.1.3 lint
> eslint --ignore-path .gitignore .


> opossum@8.1.3 test
> nyc tape test/*.js | faucet


# # Using cache
[K

  ok [1m[32m1[0m does not hit the cache[K
  ok [1m[32m2[0m emits a cacheMiss[K
  ok [1m[32m3[0m fired once[K
  ok [1m[32m4[0m cache hits:misses 0:1[K
  ok [1m[32m5[0m hit the cache[K
  ok [1m[32m6[0m did not emit miss[K
  ok [1m[32m7[0m fired twice[K
  ok [1m[32m8[0m cache hits:misses 1:1[K
  ok [1m[32m9[0m cache hits:misses 1:2[K
[1A[1G[1m[32m\u2713 # Using cache
[0m[1B[1G
# # Using cache with TTL
[K

  ok [1m[32m10[0m does not hit the cache[K
  ok [1m[32m11[0m emits a cacheMiss[K
  ok [1m[32m12[0m fired once[K
  ok [1m[32m13[0m cache hits:misses 0:1[K
  ok [1m[32m14[0m hit the cache[K
  ok [1m[32m15[0m did not emit miss[K
  ok [1m[32m16[0m fired twice[K
  ok [1m[32m17[0m cache hits:misses 1:1[K
  ok [1m[32m18[0m hit the cache[K
  ok [1m[32m19[0m did not emit miss[K
  ok [1m[32m20[0m fired twice[K
  ok [1m[32m21[0m cache hits:misses 1:2[K
[1A[1G[1m[32m\u2713 # Using cache with TTL
[0m[1B[1G
# # Using cache with custom get cache key
[K

  ok [1m[32m22[0m does not hit the cache[K
  ok [1m[32m23[0m emits a cacheMiss[K
  ok [1m[32m24[0m fired once[K
  ok [1m[32m25[0m cache hits:misses 0:1[K
  ok [1m[32m26[0m hit the cache[K
  ok [1m[32m27[0m did not emit miss[K
  ok [1m[32m28[0m fired twice[K
  ok [1m[32m29[0m cache hits:misses 1:1[K
  ok [1m[32m30[0m cache hits:misses 1:2[K
[1A[1G[1m[32m\u2713 # Using cache with custom get cache key
[0m[1B[1G
# # Using cache with custom transport
[K

  ok [1m[32m31[0m does not hit the cache[K
  ok [1m[32m32[0m emits a cacheMiss[K
  ok [1m[32m33[0m fired once[K
  ok [1m[32m34[0m cache hits:misses 0:1[K
  ok [1m[32m35[0m hit the cache[K
  ok [1m[32m36[0m did not emit miss[K
  ok [1m[32m37[0m fired twice[K
  ok [1m[32m38[0m cache hits:misses 1:1[K
  ok [1m[32m39[0m cache hits:misses 1:2[K
[1A[1G[1m[32m\u2713 # Using cache with custom transport
[0m[1B[1G
# # EventEmitter max listeners
[K

[1A[1G[1m[32m\u2713 # EventEmitter max listeners
[0m[1B[1G
# # Circuit shuts down properly
[K

  ok [1m[32m40[0m breaker is active[K
  ok [1m[32m41[0m Breaker emits Shutdown[K
  ok [1m[32m42[0m breaker is shutdown[K
  ok [1m[32m43[0m breaker has been disabled[K
  ok [1m[32m44[0m should be strictly equal[K
  ok [1m[32m45[0m should be strictly equal[K
  ok [1m[32m46[0m isOurError() should return true[K
[1A[1G[1m[32m\u2713 # Circuit shuts down properly
[0m[1B[1G
# # When open, an existing request resolving does not close circuit
[K

  ok [1m[32m47[0m should be strictly equal[K
  ok [1m[32m48[0m should be open after initial fire[K
  ok [1m[32m49[0m should not be pending close after initial fire[K
  ok [1m[32m50[0m should be strictly equal[K
  ok [1m[32m51[0m should still be open even after first fire resolved[K
  ok [1m[32m52[0m should still not be pending close[K
[1A[1G[1m[32m\u2713 # When open, an existing request resolving does not close circuit
[0m[1B[1G
# # Allows applying a "this" context
[K

  ok [1m[32m53[0m should be strictly equal[K
  ok [1m[32m54[0m should be strictly equal[K
[1A[1G[1m[32m\u2713 # Allows applying a "this" context
[0m[1B[1G
# # The "this" context is used even when circuit is disabled
[K

  ok [1m[32m55[0m should be strictly equal[K
[1A[1G[1m[32m\u2713 # The "this" context is used even when circuit is disabled
[0m[1B[1G
# # The apply() method correctly passes arguments
[K

  ok [1m[32m56[0m should be strictly equal[K
[1A[1G[1m[32m\u2713 # The apply() method correctly passes arguments
[0m[1B[1G
# # Defaults to enabled
[K

  ok [1m[32m57[0m should be strictly equal[K
[1A[1G[1m[32m\u2713 # Defaults to enabled
[0m[1B[1G
# # Accepts options.enabled
[K

  ok [1m[32m58[0m should be strictly equal[K
[1A[1G[1m[32m\u2713 # Accepts options.enabled
[0m[1B[1G
# # When disabled the circuit should always be closed
[K

  ok [1m[32m59[0m should be strictly equal[K
  ok [1m[32m60[0m should be closed[K
  ok [1m[32m61[0m should not be pending close[K
  ok [1m[32m62[0m should be strictly equal[K
  ok [1m[32m63[0m should be closed[K
  ok [1m[32m64[0m should not be pending close[K
  ok [1m[32m65[0m should be strictly equal[K
  ok [1m[32m66[0m should be open[K
[1A[1G[1m[32m\u2713 # When disabled the circuit should always be closed
[0m[1B[1G
# # Bypasses failure stats if errorFilter returns true - Should return a success
[K

  ok [1m[32m67[0m should be strictly equal[K
  ok [1m[32m68[0m should be strictly equal[K
  ok [1m[32m69[0m should be strictly equal[K
  ok [1m[32m70[0m should be truthy[K
[1A[1G[1m[32m\u2713 # Bypasses failure stats if errorFilter returns true - Should return a success
[0m[1B[1G
# # Increments failure stats if errorFilter returns false
[K

  ok [1m[32m71[0m should be strictly equal[K
  ok [1m[32m72[0m should be strictly equal[K
  ok [1m[32m73[0m should be truthy[K
[1A[1G[1m[32m\u2713 # Increments failure stats if errorFilter returns false
[0m[1B[1G
# # Increments failure stats if no filter is provided
[K

  ok [1m[32m74[0m should be strictly equal[K
  ok [1m[32m75[0m should be strictly equal[K
  ok [1m[32m76[0m should be truthy[K
[1A[1G[1m[32m\u2713 # Increments failure stats if no filter is provided
[0m[1B[1G
# # Provides invocation parameters to error filter
[K

  ok [1m[32m77[0m should be strictly equal[K
  ok [1m[32m78[0m should be strictly equal[K
  ok [1m[32m79[0m should be strictly equal[K
[1A[1G[1m[32m\u2713 # Provides invocation parameters to error filter
[0m[1B[1G
# # A successful errorFilter should not invoke the fallback function
[K

  ok [1m[32m80[0m Error filter invoked[K
[1A[1G[1m[32m\u2713 # A successful errorFilter should not invoke the fallback function
[0m[1B[1G
# # A successful errorFilter should still return the error from function invocation
[K
Error: -1 is < 0

  ok [1m[32m81[0m Error filter invoked[K
  ok [1m[32m82[0m should be strictly equal[K
[1A[1G[1m[32m\u2713 # A successful errorFilter should still return the error from function invocation
[0m[1B[1G
# # When half-open, the circuit only allows one request through
[K

  ok [1m[32m83[0m should be strictly equal[K
  ok [1m[32m84[0m should be open after initial fire[K
  ok [1m[32m85[0m should not be pending close after initial fire[K
  ok [1m[32m86[0m should be halfOpen after timeout[K
  ok [1m[32m87[0m should be pending close after timeout[K
  ok [1m[32m88[0m should fail again[K
  ok [1m[32m89[0m should be open again after long failing function[K
  ok [1m[32m90[0m should not be halfOpen after long failing function[K
  ok [1m[32m91[0m should not be pending close after long failing func[K
  ok [1m[32m92[0m should be strictly equal[K
[1A[1G[1m[32m\u2713 # When half-open, the circuit only allows one request through
[0m[1B[1G
# # When half-open, a filtered error should close the circuit
[K

  ok [1m[32m93[0m should be strictly equal[K
  ok [1m[32m94[0m should be open after initial fire[K
  ok [1m[32m95[0m should not be pending close after initial fire[K
  ok [1m[32m96[0m should be halfOpen after timeout[K
  ok [1m[32m97[0m should be pending close after timeout[K
  ok [1m[32m98[0m should fail again[K
  ok [1m[32m99[0m should be closed after passing with filtered error[K
[1A[1G[1m[32m\u2713 # When half-open, a filtered error should close the circuit
[0m[1B[1G
# # Circuits accept a health check function
[K

  ok [1m[32m100[0m function called[K
[1A[1G[1m[32m\u2713 # Circuits accept a health check function
[0m[1B[1G
# # healthCheckFailed is emitted on failure
[K

  ok [1m[32m101[0m healthCheckFailed emitted[K
[1A[1G[1m[32m\u2713 # healthCheckFailed is emitted on failure
[0m[1B[1G
# # circuit opens on health check failure
[K

  ok [1m[32m102[0m circuit opened[K
[1A[1G[1m[32m\u2713 # circuit opens on health check failure
[0m[1B[1G
# # Health check function executes in the circuit breaker context
[K

  ok [1m[32m103[0m health check executes in circuit context[K
[1A[1G[1m[32m\u2713 # Health check function executes in the circuit breaker context
[0m[1B[1G
# # healthCheck() throws TypeError if interval duration is NaN
[K

  ok [1m[32m104[0m throws TypeError[K
  ok [1m[32m105[0m include correct message[K
[1A[1G[1m[32m\u2713 # healthCheck() throws TypeError if interval duration is NaN
[0m[1B[1G
# # healthCheck() throws TypeError if parameter is not a function
[K

  ok [1m[32m106[0m throws TypeError[K
  ok [1m[32m107[0m include correct message[K
[1A[1G[1m[32m\u2713 # healthCheck() throws TypeError if parameter is not a function
[0m[1B[1G
# # timeout defaults to 10000
[K

  ok [1m[32m108[0m should be set to 10000 by default[K
[1A[1G[1m[32m\u2713 # timeout defaults to 10000
[0m[1B[1G
# # timeout can be set to 0
[K

  ok [1m[32m109[0m should be set to 0[K
[1A[1G[1m[32m\u2713 # timeout can be set to 0
[0m[1B[1G
# # resetTimeout defaults to 30000
[K

  ok [1m[32m110[0m should be set to 30000 by default[K
[1A[1G[1m[32m\u2713 # resetTimeout defaults to 30000
[0m[1B[1G
# # resetTimeout can be set to 0
[K

  ok [1m[32m111[0m should be set to 0[K
[1A[1G[1m[32m\u2713 # resetTimeout can be set to 0
[0m[1B[1G
# # errorThresholdPercentage defaults to 50
[K

  ok [1m[32m112[0m should be set to 50 by default[K
[1A[1G[1m[32m\u2713 # errorThresholdPercentage defaults to 50
[0m[1B[1G
# # errorThresholdPercentage can be set to 0
[K

  ok [1m[32m113[0m should be set to 0[K
[1A[1G[1m[32m\u2713 # errorThresholdPercentage can be set to 0
[0m[1B[1G
# # rollingCountTimeout defaults to 10000
[K

  ok [1m[32m114[0m should be set to 10000 by default[K
[1A[1G[1m[32m\u2713 # rollingCountTimeout defaults to 10000
[0m[1B[1G
# # rollingCountTimeout can be set to 0
[K

  ok [1m[32m115[0m should be set to 0[K
[1A[1G[1m[32m\u2713 # rollingCountTimeout can be set to 0
[0m[1B[1G
# # rollingCountBuckets defaults to 10
[K

  ok [1m[32m116[0m should be set to 10 by default[K
[1A[1G[1m[32m\u2713 # rollingCountBuckets defaults to 10
[0m[1B[1G
# # rollingCountBuckets can be set to 0
[K

  ok [1m[32m117[0m should be set to 0[K
[1A[1G[1m[32m\u2713 # rollingCountBuckets can be set to 0
[0m[1B[1G
# # When disabled, the event emitter listener should be removed
[K

  ok [1m[32m118[0m listener attached automatically[K
  ok [1m[32m119[0m listener removed when breaker disabled[K
[1A[1G[1m[32m\u2713 # When disabled, the event emitter listener should be removed
[0m[1B[1G
# # Event listener should be removed only for the breaker that is disabled
[K

  not ok [1m[31m120[0m 1 listener attached for each breaker[K
[2A[1G[1m[31m\u2a2f # Event listener should be removed only for the breaker that is disabled
[0m[2B[1G
  not ok [1m[31m121[0m 1 listener should be disabled and 1 should remain[K

# # Event listener should be re-added when circuit is re-enabled
[K

  ok [1m[32m122[0m listener attached automatically[K
  ok [1m[32m123[0m listener removed when breaker disabled[K
  ok [1m[32m124[0m listener re-attached when breaker re-enabled[K
[1A[1G[1m[32m\u2713 # Event listener should be re-added when circuit is re-enabled
[0m[1B[1G
# # Listener should not be attached with a call to enable if there is already a listener
[K

  ok [1m[32m125[0m listener attached automatically[K
  ok [1m[32m126[0m listener should not be added again[K
[1A[1G[1m[32m\u2713 # Listener should not be attached with a call to enable if there is already a listener
[0m[1B[1G
# # Listener should not be attached with a call to enable if there is already a listener and there is another breaker in the mix
[K

  not ok [1m[31m127[0m listener attached automatically[K
[2A[1G[1m[31m\u2a2f # Listener should not be attached with a call to enable if there is already a listener and there is another breaker in the mix
[0m[2B[1G
  not ok [1m[31m128[0m listener should not be added again[K

# # Acquiring a semaphore reduces the number of locks available
[K

  ok [1m[32m129[0m Semaphore should start with one lock available[K
  ok [1m[32m130[0m Semaphore lock count reduced[K
[1A[1G[1m[32m\u2713 # Acquiring a semaphore reduces the number of locks available
[0m[1B[1G
# # Releasing a semaphore increases the number of locks available
[K

  ok [1m[32m131[0m Semaphore lock count reduced[K
  ok [1m[32m132[0m Semaphore lock count increased[K
[1A[1G[1m[32m\u2713 # Releasing a semaphore increases the number of locks available
[0m[1B[1G
# # Semaphores wait until a lock is available
[K

  ok [1m[32m133[0m Semaphore lock count reduced[K
  ok [1m[32m134[0m Semaphore lock count reduced[K
  ok [1m[32m135[0m Semaphore waits to provide a lock[K
  ok [1m[32m136[0m Semaphore lock count increased[K
[1A[1G[1m[32m\u2713 # Semaphores wait until a lock is available
[0m[1B[1G
# # User code cannot change the lock count
[K

  ok [1m[32m137[0m Semaphore starts with one lock[K
  ok [1m[32m138[0m Semaphore throws TypeError when user code attempts to change count[K
  ok [1m[32m139[0m Semaphore count is read only to user code[K
[1A[1G[1m[32m\u2713 # User code cannot change the lock count
[0m[1B[1G
# # A semaphore can time out waiting for a lock
[K

  ok [1m[32m140[0m Semaphore lock acquisition timed out[K
[1A[1G[1m[32m\u2713 # A semaphore can time out waiting for a lock
[0m[1B[1G
# # A user can test semaphore to see if a lock is available
[K

  ok [1m[32m141[0m test() returns true if a lock is available[K
  ok [1m[32m142[0m test() acquires an available lock[K
  ok [1m[32m143[0m test() returns false when a lock is unavailable[K
  ok [1m[32m144[0m test() returns true when a lock is eventually released[K
[1A[1G[1m[32m\u2713 # A user can test semaphore to see if a lock is available
[0m[1B[1G
# # CircuitBreaker State - export the state of a breaker instance
[K

  ok [1m[32m145[0m has the toJSON function[K
  ok [1m[32m146[0m enabled initialized value[K
  ok [1m[32m147[0m closed initialized value[K
  ok [1m[32m148[0m open initialized value[K
  ok [1m[32m149[0m half open initialized value[K
  ok [1m[32m150[0m warmup initialized value[K
  ok [1m[32m151[0m shutdown initialized value[K
  ok [1m[32m152[0m lastTimerAt initialized value[K
[1A[1G[1m[32m\u2713 # CircuitBreaker State - export the state of a breaker instance
[0m[1B[1G
# # CircuitBreaker State - export the state of a breaker instance using toJson
[K

  ok [1m[32m153[0m has the toJSON function[K
  ok [1m[32m154[0m name initialized value[K
  ok [1m[32m155[0m enabled initialized value[K
  ok [1m[32m156[0m closed initialized value[K
  ok [1m[32m157[0m open initialized value[K
  ok [1m[32m158[0m half open initialized value[K
  ok [1m[32m159[0m warmup initialized value[K
  ok [1m[32m160[0m shutdown initialized value[K
[1A[1G[1m[32m\u2713 # CircuitBreaker State - export the state of a breaker instance using toJson
[0m[1B[1G
# # CircuitBreaker State - initialize the breaker as Closed
[K

  ok [1m[32m161[0m enabled primed value[K
  ok [1m[32m162[0m closed primed value[K
  ok [1m[32m163[0m open primed value[K
  ok [1m[32m164[0m half open primed value[K
  ok [1m[32m165[0m warmup primed value[K
  ok [1m[32m166[0m shutdown primed value[K
  ok [1m[32m167[0m breaker should be open[K
  ok [1m[32m168[0m breaker should not be closed[K
[1A[1G[1m[32m\u2713 # CircuitBreaker State - initialize the breaker as Closed
[0m[1B[1G
# # Pre-populate state as Open(Closed === false) - Breaker resets after a configurable amount of time
[K

  ok [1m[32m169[0m breaker has reset[K
[1A[1G[1m[32m\u2713 # Pre-populate state as Open(Closed === false) - Breaker resets after a configurable amount of time
[0m[1B[1G
# # Enters halfOpen state if closed is false and more time has elapsed since resetTimeout
[K

  ok [1m[32m170[0m breaker should be halfOpen[K
  ok [1m[32m171[0m breaker has reset[K
[1A[1G[1m[32m\u2713 # Enters halfOpen state if closed is false and more time has elapsed since resetTimeout
[0m[1B[1G
# # When half-open, the circuit only allows one request through
[K

  ok [1m[32m172[0m should be halfOpen on initialize[K
  ok [1m[32m173[0m should be pending close on initialize[K
  ok [1m[32m174[0m should fail again[K
  ok [1m[32m175[0m should be open again after long failing function[K
  ok [1m[32m176[0m should not be halfOpen after long failing function[K
  ok [1m[32m177[0m should not be pending close after long failing func[K
  ok [1m[32m178[0m should be strictly equal[K
[1A[1G[1m[32m\u2713 # When half-open, the circuit only allows one request through
[0m[1B[1G
# # Circuit initialized as shutdown
[K

  ok [1m[32m179[0m breaker is shutdown[K
  ok [1m[32m180[0m breaker has been disabled[K
  ok [1m[32m181[0m should be strictly equal[K
  ok [1m[32m182[0m should be strictly equal[K
  ok [1m[32m183[0m isOurError() should return true[K
[1A[1G[1m[32m\u2713 # Circuit initialized as shutdown
[0m[1B[1G
# # CircuitBreaker State - imports the state and status of a breaker instance
[K

  ok [1m[32m184[0m cloned breaker enabled state[K
  ok [1m[32m185[0m cloned breaker closed state[K
  ok [1m[32m186[0m cloned breaker halfOpen state[K
  ok [1m[32m187[0m cloned breaker warmUp state[K
  ok [1m[32m188[0m cloned breaker open state[K
  ok [1m[32m189[0m cloned breaker shutdown state[K
  ok [1m[32m190[0m cloned stat failures value[K
  ok [1m[32m191[0m cloned stat fallbacks value[K
  ok [1m[32m192[0m cloned stat successes value[K
  ok [1m[32m193[0m cloned stat rejects value[K
  ok [1m[32m194[0m cloned stat fires value[K
  ok [1m[32m195[0m cloned stat timeouts value[K
  ok [1m[32m196[0m cloned stat cacheHits value[K
  ok [1m[32m197[0m cloned stat cacheMisses value[K
  ok [1m[32m198[0m cloned stat semaphoreRejections value[K
  ok [1m[32m199[0m cloned stat percentiles value[K
  ok [1m[32m200[0m cloned stat latencyTimes value[K
  ok [1m[32m201[0m cloned stat latencyMean value[K
[1A[1G[1m[32m\u2713 # CircuitBreaker State - imports the state and status of a breaker instance
[0m[1B[1G
# # CircuitBreaker status - new Status static method
[K

  ok [1m[32m202[0m returns a new Status instance[K
  ok [1m[32m203[0m status reports 1 failure[K
  ok [1m[32m204[0m status reports 1 reject[K
  ok [1m[32m205[0m status reports 1 fires[K
  ok [1m[32m206[0m status reports 1 fallback[K
  ok [1m[32m207[0m status reports 1 successes[K
  ok [1m[32m208[0m status reports 1 timeouts[K
  ok [1m[32m209[0m status reports 1 cacheHits[K
  ok [1m[32m210[0m status reports 1 semaphoreRejections[K
[1A[1G[1m[32m\u2713 # CircuitBreaker status - new Status static method
[0m[1B[1G
# # CircuitBreaker status - import stats
[K

  ok [1m[32m211[0m expected status values[K
  ok [1m[32m212[0m expected status values[K
  ok [1m[32m213[0m expected status values[K
  ok [1m[32m214[0m breaker fired 4 times[K
  ok [1m[32m215[0m fails with correct error message[K
  ok [1m[32m216[0m status reports 2 failures[K
  ok [1m[32m217[0m status reports 5 fires[K
  ok [1m[32m218[0m fallback is invoked[K
  ok [1m[32m219[0m status reports 2 failure[K
  ok [1m[32m220[0m status reports 2 reject[K
  ok [1m[32m221[0m status reports 6 fires[K
  ok [1m[32m222[0m status reports 2 fallback[K
[1A[1G[1m[32m\u2713 # CircuitBreaker status - import stats
[0m[1B[1G
# # CircuitBreaker status - import stats, but leave some out
[K

  ok [1m[32m223[0m failures was initialized[K
  ok [1m[32m224[0m fallbacks was initialized[K
  ok [1m[32m225[0m successes was initialized[K
[1A[1G[1m[32m\u2713 # CircuitBreaker status - import stats, but leave some out
[0m[1B[1G
# # CircuitBreaker status - import stats,but not a status object
[K

  ok [1m[32m226[0m (unnamed assert)[K
[1A[1G[1m[32m\u2713 # CircuitBreaker status - import stats,but not a status object
[0m[1B[1G
# # CircuitBreaker status - enableSnapshots defaults to true
[K

  ok [1m[32m227[0m enableSnapshots defaults to true[K
[1A[1G[1m[32m\u2713 # CircuitBreaker status - enableSnapshots defaults to true
[0m[1B[1G
# # CircuitBreaker status - enableSnapshots is true in Status when set to true
[K

  ok [1m[32m228[0m enableSnapshots propagates as true[K
[1A[1G[1m[32m\u2713 # CircuitBreaker status - enableSnapshots is true in Status when set to true
[0m[1B[1G
# # CircuitBreaker status - enableSnapshots is false in Status when set to false
[K

  ok [1m[32m229[0m enableSnapshots propagates as false[K
[1A[1G[1m[32m\u2713 # CircuitBreaker status - enableSnapshots is false in Status when set to false
[0m[1B[1G
# # CircuitBreaker status - breaker stats should not reset when rotateBucketController provided and no event emitted
[K

  ok [1m[32m230[0m failures do not reset because no rotate event is emitted[K
[1A[1G[1m[32m\u2713 # CircuitBreaker status - breaker stats should not reset when rotateBucketController provided and no event emitted
[0m[1B[1G
# # CircuitBreaker status - breaker stats should rotate when rotateBucketController provided and "rotate" event emitted
[K

  ok [1m[32m231[0m failures reset buckets are rotated by EventEmitter[K
[1A[1G[1m[32m\u2713 # CircuitBreaker status - breaker stats should rotate when rotateBucketController provided and "rotate" event emitted
[0m[1B[1G
# # CircuitBreaker status - breaker stats should reset when rotateBucketController not provided
[K

  ok [1m[32m232[0m failures reset because no event emitter is provided and rollingCountTimeout set to 10ms[K
[1A[1G[1m[32m\u2713 # CircuitBreaker status - breaker stats should reset when rotateBucketController not provided
[0m[1B[1G
# # api
[K

  ok [1m[32m233[0m CircuitBreaker[K
  ok [1m[32m234[0m CircuitBreaker.fire[K
  ok [1m[32m235[0m CircuitBreaker.opened[K
  ok [1m[32m236[0m CircuitBreaker.halfOpen[K
  ok [1m[32m237[0m CircuitBreaker.closed[K
  ok [1m[32m238[0m CircuitBreaker.status[K
  ok [1m[32m239[0m CircuitBreaker.options[K
  ok [1m[32m240[0m CircuitBreaker.action[K
[1A[1G[1m[32m\u2713 # api
[0m[1B[1G
# # has a name based on the function name
[K

  ok [1m[32m241[0m should be strictly equal[K
[1A[1G[1m[32m\u2713 # has a name based on the function name
[0m[1B[1G
# # accepts a name as an option
[K

  ok [1m[32m242[0m should be strictly equal[K
[1A[1G[1m[32m\u2713 # accepts a name as an option
[0m[1B[1G
# # uses UUID as a name when none is provided and the function is anonymoys
[K

  ok [1m[32m243[0m should be truthy[K
[1A[1G[1m[32m\u2713 # uses UUID as a name when none is provided and the function is anonymoys
[0m[1B[1G
# # accepts a group as an option
[K

  ok [1m[32m244[0m should be strictly equal[K
[1A[1G[1m[32m\u2713 # accepts a group as an option
[0m[1B[1G
# # uses name as a group when no group is provided
[K

  ok [1m[32m245[0m should be strictly equal[K
[1A[1G[1m[32m\u2713 # uses name as a group when no group is provided
[0m[1B[1G
# # errorThresholdPercentage defaults to 50
[K

  ok [1m[32m246[0m should be set to 50 by default[K
[1A[1G[1m[32m\u2713 # errorThresholdPercentage defaults to 50
[0m[1B[1G
# # errorThresholdPercentage can be set to 0
[K

  ok [1m[32m247[0m should be set to 0[K
[1A[1G[1m[32m\u2713 # errorThresholdPercentage can be set to 0
[0m[1B[1G
# # resetTimeout defaults to 30000
[K

  ok [1m[32m248[0m should be set to 30000 by default[K
[1A[1G[1m[32m\u2713 # resetTimeout defaults to 30000
[0m[1B[1G
# # resetTimeout can be set to 0
[K

  ok [1m[32m249[0m should be set to 0[K
[1A[1G[1m[32m\u2713 # resetTimeout can be set to 0
[0m[1B[1G
# # rollingCountTimeout defaults to 10000
[K

  ok [1m[32m250[0m should be set to 10000 by default[K
[1A[1G[1m[32m\u2713 # rollingCountTimeout defaults to 10000
[0m[1B[1G
# # rollingCountTimeout can be set to 0
[K

  ok [1m[32m251[0m should be set to 0[K
[1A[1G[1m[32m\u2713 # rollingCountTimeout can be set to 0
[0m[1B[1G
# # rollingCountBuckets defaults to 10
[K

  ok [1m[32m252[0m should be set to 10 by default[K
[1A[1G[1m[32m\u2713 # rollingCountBuckets defaults to 10
[0m[1B[1G
# # rollingCountBuckets can be set to 0
[K

  ok [1m[32m253[0m should be set to 0[K
[1A[1G[1m[32m\u2713 # rollingCountBuckets can be set to 0
[0m[1B[1G
# # Passes parameters to the circuit function
[K

  ok [1m[32m254[0m function parameters provided[K
[1A[1G[1m[32m\u2713 # Passes parameters to the circuit function
[0m[1B[1G
# # Fails when the circuit function fails
[K

  ok [1m[32m255[0m expected error caught[K
  ok [1m[32m256[0m isOurError() should return false[K
[1A[1G[1m[32m\u2713 # Fails when the circuit function fails
[0m[1B[1G
# # Fails when the circuit function times out
[K

  ok [1m[32m257[0m timeout message received[K
  ok [1m[32m258[0m ETIMEDOUT[K
  ok [1m[32m259[0m isOurError() should return true[K
[1A[1G[1m[32m\u2713 # Fails when the circuit function times out
[0m[1B[1G
# # When options.abortController is provided but does not contain an `abort()` function
[K

  ok [1m[32m260[0m throws TypeError[K
  ok [1m[32m261[0m should be strictly equal[K
[1A[1G[1m[32m\u2713 # When options.abortController is provided but does not contain an `abort()` function
[0m[1B[1G
# # When options.abortController is provided, the circuit breaker should call abort() upon timeout
[K

  ok [1m[32m262[0m AbortController.abort() was not called upon timeout[K
[1A[1G[1m[32m\u2713 # When options.abortController is provided, the circuit breaker should call abort() upon timeout
[0m[1B[1G
# # When options.abortController is provided, abort controller should not be aborted if request completes before timeout
[K

  ok [1m[32m263[0m AbortController.abort() was called when it shouldn't have[K
[1A[1G[1m[32m\u2713 # When options.abortController is provided, abort controller should not be aborted if request completes before timeout
[0m[1B[1G
# # Works with functions that do not return a promise
[K

  ok [1m[32m264[0m non-Promise returns expected value[K
[1A[1G[1m[32m\u2713 # Works with functions that do not return a promise
[0m[1B[1G
# # Works with non-functions
[K

  ok [1m[32m265[0m expected raw value returns[K
[1A[1G[1m[32m\u2713 # Works with non-functions
[0m[1B[1G
# # Works with callback functions
[K

  ok [1m[32m266[0m Works with a Promisified Callback[K
[1A[1G[1m[32m\u2713 # Works with callback functions
[0m[1B[1G
# # Works with callback functions that fail
[K

  ok [1m[32m267[0m caught expected error[K
[1A[1G[1m[32m\u2713 # Works with callback functions that fail
[0m[1B[1G
# # Breaker opens after a configurable number of failures
[K

  ok [1m[32m268[0m caught expected error[K
  ok [1m[32m269[0m breaker opens[K
  ok [1m[32m270[0m isOurError() should return true[K
[1A[1G[1m[32m\u2713 # Breaker opens after a configurable number of failures
[0m[1B[1G
# # Breaker resets after a configurable amount of time
[K

  ok [1m[32m271[0m breaker has reset[K
[1A[1G[1m[32m\u2713 # Breaker resets after a configurable amount of time
[0m[1B[1G
# # Breaker resets after a configurable amount of time when multiple jobs fail
[K

  ok [1m[32m272[0m breaker has reset[K
[1A[1G[1m[32m\u2713 # Breaker resets after a configurable amount of time when multiple jobs fail
[0m[1B[1G
# # Breaker status reflects open state
[K

  ok [1m[32m273[0m should be truthy[K
[1A[1G[1m[32m\u2713 # Breaker status reflects open state
[0m[1B[1G
# # Breaker resets for circuits with a fallback function
[K

  ok [1m[32m274[0m should be strictly equal[K
  ok [1m[32m275[0m breaker has reset[K
[1A[1G[1m[32m\u2713 # Breaker resets for circuits with a fallback function
[0m[1B[1G
# # Executes fallback action, if one exists, when breaker is open
[K

  ok [1m[32m276[0m fallback action executes[K
[1A[1G[1m[32m\u2713 # Executes fallback action, if one exists, when breaker is open
[0m[1B[1G
# # Passes error as last argument to the fallback function
[K

  ok [1m[32m277[0m fallback received error as last parameter[K
  ok [1m[32m278[0m isOurError() should return false[K
[1A[1G[1m[32m\u2713 # Passes error as last argument to the fallback function
[0m[1B[1G
# # Fallback called once for the same execution when timing out
[K

  ok [1m[32m279[0m should be truthy[K
[1A[1G[1m[32m\u2713 # Fallback called once for the same execution when timing out
[0m[1B[1G
# # Passes arguments to the fallback function
[K

  ok [1m[32m280[0m fallback received expected parameters[K
[1A[1G[1m[32m\u2713 # Passes arguments to the fallback function
[0m[1B[1G
# # Returns self from fallback()
[K

  ok [1m[32m281[0m instance returned from fallback[K
[1A[1G[1m[32m\u2713 # Returns self from fallback()
[0m[1B[1G
# # CircuitBreaker emits failure when action throws
[K

  ok [1m[32m282[0m expected failure status[K
  ok [1m[32m283[0m expected error message[K
[1A[1G[1m[32m\u2713 # CircuitBreaker emits failure when action throws
[0m[1B[1G
# # CircuitBreaker executes fallback when an action throws
[K

  ok [1m[32m284[0m expected failure status[K
  ok [1m[32m285[0m expected fallback status[K
  ok [1m[32m286[0m should be strictly equal[K
[1A[1G[1m[32m\u2713 # CircuitBreaker executes fallback when an action throws
[0m[1B[1G
# # CircuitBreaker emits failure when falling back
[K

  ok [1m[32m287[0m Expected failure[K
  ok [1m[32m288[0m isOurError() should return false[K
  ok [1m[32m289[0m fallback value is correct[K
[1A[1G[1m[32m\u2713 # CircuitBreaker emits failure when falling back
[0m[1B[1G
# # CircuitBreaker status
[K

  ok [1m[32m290[0m expected status values[K
  ok [1m[32m291[0m expected status values[K
  ok [1m[32m292[0m expected status values[K
  ok [1m[32m293[0m breaker fired 3 times[K
  ok [1m[32m294[0m fails with correct error message[K
  ok [1m[32m295[0m status reports a single failure[K
  ok [1m[32m296[0m status reports 4 fires[K
  ok [1m[32m297[0m fallback is invoked[K
  ok [1m[32m298[0m status reports 1 failure[K
  ok [1m[32m299[0m status reports 1 reject[K
  ok [1m[32m300[0m status reports 5 fires[K
  ok [1m[32m301[0m status reports 1 fallback[K
[1A[1G[1m[32m\u2713 # CircuitBreaker status
[0m[1B[1G
# # CircuitBreaker rolling counts
[K

  ok [1m[32m302[0m expected status values[K
  ok [1m[32m303[0m expected status values[K
  ok [1m[32m304[0m expected status values[K
  ok [1m[32m305[0m breaker succeeded 3 times[K
  ok [1m[32m306[0m should be truthy[K
  ok [1m[32m307[0m breaker reset stats[K
[1A[1G[1m[32m\u2713 # CircuitBreaker rolling counts
[0m[1B[1G
# # CircuitBreaker status listeners
[K

  ok [1m[32m308[0m has successes stat[K
  ok [1m[32m309[0m has fires stat[K
  ok [1m[32m310[0m has failures stat[K
  ok [1m[32m311[0m has fallbacks stat[K
  ok [1m[32m312[0m has rejects stat[K
  ok [1m[32m313[0m has timeouts stat[K
[1A[1G[1m[32m\u2713 # CircuitBreaker status listeners
[0m[1B[1G
# # CircuitBreaker fallback event
[K

  ok [1m[32m314[0m fallback value received[K
[1A[1G[1m[32m\u2713 # CircuitBreaker fallback event
[0m[1B[1G
# # CircuitBreaker events
[K

  ok [1m[32m315[0m fire event fired[K
  ok [1m[32m316[0m success event fired[K
  ok [1m[32m317[0m failure event did not fire[K
  ok [1m[32m318[0m reject event did not fire[K
  ok [1m[32m319[0m open event did not fire[K
  ok [1m[32m320[0m close event did not fire[K
  ok [1m[32m321[0m halfOpen event did not fire[K
  ok [1m[32m322[0m timeout event did not fire[K
  ok [1m[32m323[0m fire event fired[K
  ok [1m[32m324[0m success event did not fire[K
  ok [1m[32m325[0m failure event fired[K
  ok [1m[32m326[0m reject event did not fire[K
  ok [1m[32m327[0m open event fired[K
  ok [1m[32m328[0m close event did not fire[K
  ok [1m[32m329[0m halfOpen event did not fire[K
  ok [1m[32m330[0m timeout event did not fire[K
  ok [1m[32m331[0m fire event fired[K
  ok [1m[32m332[0m success event did not fire[K
  ok [1m[32m333[0m failure event did not fire[K
  ok [1m[32m334[0m reject event fired[K
  ok [1m[32m335[0m open event did not fire[K
  ok [1m[32m336[0m close event did not fire[K
  ok [1m[32m337[0m halfOpen event did not fire[K
  ok [1m[32m338[0m timeout event did not fire[K
  ok [1m[32m339[0m fire event did not fire[K
  ok [1m[32m340[0m success event did not fire[K
  ok [1m[32m341[0m failure event fired[K
  ok [1m[32m342[0m reject event did not fire[K
  ok [1m[32m343[0m open event did not fire[K
  ok [1m[32m344[0m close event did not fire[K
  ok [1m[32m345[0m halfOpen event fired[K
  ok [1m[32m346[0m timeout event did not fire[K
  ok [1m[32m347[0m fire event fired[K
  ok [1m[32m348[0m success event fired[K
  ok [1m[32m349[0m failure event fired[K
  ok [1m[32m350[0m reject event did not fire[K
  ok [1m[32m351[0m open event did not fire[K
  ok [1m[32m352[0m close event fired[K
  ok [1m[32m353[0m halfOpen event did not fire[K
  ok [1m[32m354[0m timeout event did not fire[K
  ok [1m[32m355[0m timeout event fired[K
[1A[1G[1m[32m\u2713 # CircuitBreaker events
[0m[1B[1G
# # circuit halfOpen
[K

  ok [1m[32m356[0m function should fail[K
  ok [1m[32m357[0m breaker should be open[K
  ok [1m[32m358[0m breaker should not be pending close[K
  ok [1m[32m359[0m breaker should be halfOpen[K
  ok [1m[32m360[0m breaker should be pending close[K
  ok [1m[32m361[0m function should fail again[K
  ok [1m[32m362[0m breaker should be open again[K
  ok [1m[32m363[0m breaker should not be halfOpen[K
  ok [1m[32m364[0m breaker should not be pending close[K
  ok [1m[32m365[0m breaker should be halfOpen again[K
  ok [1m[32m366[0m breaker should be pending close[K
  ok [1m[32m367[0m should be strictly equal[K
  ok [1m[32m368[0m breaker should be closed[K
  ok [1m[32m369[0m breaker should not be pending close[K
[1A[1G[1m[32m\u2713 # circuit halfOpen
[0m[1B[1G
# # CircuitBreaker fallback as a rejected promise
[K

  ok [1m[32m370[0m should be strictly equal[K
[1A[1G[1m[32m\u2713 # CircuitBreaker fallback as a rejected promise
[0m[1B[1G
# # CircuitBreaker fallback event as a rejected promise
[K

  ok [1m[32m371[0m should be strictly equal[K
[1A[1G[1m[32m\u2713 # CircuitBreaker fallback event as a rejected promise
[0m[1B[1G
# # CircuitBreaker fallback as a CircuitBreaker
[K

  ok [1m[32m372[0m Fallback value equals input[K
[1A[1G[1m[32m\u2713 # CircuitBreaker fallback as a CircuitBreaker
[0m[1B[1G
# # CircuitBreaker fallback as a CircuitBreaker that fails
[K

  ok [1m[32m373[0m Breaker should fail[K
[1A[1G[1m[32m\u2713 # CircuitBreaker fallback as a CircuitBreaker that fails
[0m[1B[1G
# # CircuitBreaker fallback as a CircuitBreaker
[K

  ok [1m[32m374[0m Fallback value equals input[K
[1A[1G[1m[32m\u2713 # CircuitBreaker fallback as a CircuitBreaker
[0m[1B[1G
# # CircuitBreaker fallback that throws returns a rejected Promise
[K

  ok [1m[32m375[0m should be strictly equal[K
[1A[1G[1m[32m\u2713 # CircuitBreaker fallback that throws returns a rejected Promise
[0m[1B[1G
# # options.maxFailures should be deprecated
[K

  ok [1m[32m376[0m should be strictly equal[K
[1A[1G[1m[32m\u2713 # options.maxFailures should be deprecated
[0m[1B[1G
# # rolling percentile enabled option defaults to true
[K

  ok [1m[32m377[0m rollingPercentilesEnabled should default to true[K
  ok [1m[32m378[0m latencyMean is starts at 0 when rollingPercentilesEnabled is true[K
  ok [1m[32m379[0m 0 percentile should be 0 at the start[K
  ok [1m[32m380[0m 0.25 percentile should be 0 at the start[K
  ok [1m[32m381[0m 0.5 percentile should be 0 at the start[K
  ok [1m[32m382[0m 0.75 percentile should be 0 at the start[K
  ok [1m[32m383[0m 0.9 percentile should be 0 at the start[K
  ok [1m[32m384[0m 0.95 percentile should be 0 at the start[K
  ok [1m[32m385[0m 0.99 percentile should be 0 at the start[K
  ok [1m[32m386[0m 0.995 percentile should be 0 at the start[K
  ok [1m[32m387[0m 1 percentile should be 0 at the start[K
[1A[1G[1m[32m\u2713 # rolling percentile enabled option defaults to true
[0m[1B[1G
# # rolling percentile enabled option set to false
[K

  ok [1m[32m388[0m rollingPercentilesEnabled set to false[K
  ok [1m[32m389[0m latencyMean is -1 when rollingPercentilesEnabled is false[K
  ok [1m[32m390[0m 0 percentile should be -1 when rollingPercentilesEnabled is false[K
  ok [1m[32m391[0m 0.25 percentile should be -1 when rollingPercentilesEnabled is false[K
  ok [1m[32m392[0m 0.5 percentile should be -1 when rollingPercentilesEnabled is false[K
  ok [1m[32m393[0m 0.75 percentile should be -1 when rollingPercentilesEnabled is false[K
  ok [1m[32m394[0m 0.9 percentile should be -1 when rollingPercentilesEnabled is false[K
  ok [1m[32m395[0m 0.95 percentile should be -1 when rollingPercentilesEnabled is false[K
  ok [1m[32m396[0m 0.99 percentile should be -1 when rollingPercentilesEnabled is false[K
  ok [1m[32m397[0m 0.995 percentile should be -1 when rollingPercentilesEnabled is false[K
  ok [1m[32m398[0m 1 percentile should be -1 when rollingPercentilesEnabled is false[K
[1A[1G[1m[32m\u2713 # rolling percentile enabled option set to false
[0m[1B[1G
# # Circuit Breaker success event emits latency
[K

  ok [1m[32m399[0m second argument is the latency[K
[1A[1G[1m[32m\u2713 # Circuit Breaker success event emits latency
[0m[1B[1G
# # Circuit Breaker failure event emits latency
[K

  ok [1m[32m400[0m second argument is the latency[K
[1A[1G[1m[32m\u2713 # Circuit Breaker failure event emits latency
[0m[1B[1G
# # Circuit Breaker failure event emits function parameters
[K

  ok [1m[32m401[0m third argument is the function args[K
  ok [1m[32m402[0m The args parameter is an array[K
  ok [1m[32m403[0m this is the first argument[K
  ok [1m[32m404[0m this is the second argument object[K
  ok [1m[32m405[0m this is the second argument object[K
  ok [1m[32m406[0m this is the third argument[K
[1A[1G[1m[32m\u2713 # Circuit Breaker failure event emits function parameters
[0m[1B[1G
# # Circuit Breaker timeout event emits latency
[K

  ok [1m[32m407[0m second argument is the latency[K
[1A[1G[1m[32m\u2713 # Circuit Breaker timeout event emits latency
[0m[1B[1G
# # Circuit Breaker timeout event emits function parameters
[K

  ok [1m[32m408[0m third argument is the function args[K
  ok [1m[32m409[0m The args parameter is an array[K
  ok [1m[32m410[0m this is the first argument[K
  ok [1m[32m411[0m this is the second argument object[K
  ok [1m[32m412[0m this is the second argument object[K
  ok [1m[32m413[0m this is the third argument[K
[1A[1G[1m[32m\u2713 # Circuit Breaker timeout event emits function parameters
[0m[1B[1G
# # Circuit Breaker timeout with semaphore released
[K

  ok [1m[32m414[0m should be strictly equal[K
[1A[1G[1m[32m\u2713 # Circuit Breaker timeout with semaphore released
[0m[1B[1G
# # CircuitBreaker semaphore rate limiting
[K

  ok [1m[32m415[0m Semaphore rejection status incremented[K
  ok [1m[32m416[0m Semaphore was locked[K
[1A[1G[1m[32m\u2713 # CircuitBreaker semaphore rate limiting
[0m[1B[1G
# # CircuitBreaker default capacity
[K

  ok [1m[32m417[0m should be strictly equal[K
[1A[1G[1m[32m\u2713 # CircuitBreaker default capacity
[0m[1B[1G
# # CircuitBreaker without a timeout
[K

  ok [1m[32m418[0m should be strictly equal[K
[1A[1G[1m[32m\u2713 # CircuitBreaker without a timeout
[0m[1B[1G
# # CircuitBreaker without an action
[K

  ok [1m[32m419[0m (unnamed assert)[K
[1A[1G[1m[32m\u2713 # CircuitBreaker without an action
[0m[1B[1G
# # By default does not have a volume threshold
[K

  ok [1m[32m420[0m should be strictly equal[K
  ok [1m[32m421[0m should be open after initial fire[K
  ok [1m[32m422[0m should not be pending close after initial fire[K
[1A[1G[1m[32m\u2713 # By default does not have a volume threshold
[0m[1B[1G
# # Has a volume threshold before tripping when option is provided
[K

  ok [1m[32m423[0m should not be open before volume threshold has been reached[K
  ok [1m[32m424[0m should not be pending close before volume threshold has been reached[K
  ok [1m[32m425[0m not open before volume threshold has been reached[K
  ok [1m[32m426[0m not pending close before volume threshold has been reached[K
  ok [1m[32m427[0m should be strictly equal[K
  ok [1m[32m428[0m should be open after volume threshold has been reached[K
[1A[1G[1m[32m\u2713 # Has a volume threshold before tripping when option is provided
[0m[1B[1G
# # volume threshold does not affect halfOpen state
[K

  ok [1m[32m429[0m breaker should still be open after one failure[K
  ok [1m[32m430[0m breaker should be open[K
  ok [1m[32m431[0m breaker should be in halfOpen state[K
  ok [1m[32m432[0m statistical window cleared[K
  ok [1m[32m433[0m breaker should be in the open state[K
[1A[1G[1m[32m\u2713 # volume threshold does not affect halfOpen state
[0m[1B[1G
# # By default does not allow for warmup
[K

  ok [1m[32m434[0m should be strictly equal[K
  ok [1m[32m435[0m should be open after initial fire[K
  ok [1m[32m436[0m should not be pending close after initial fire[K
[1A[1G[1m[32m\u2713 # By default does not allow for warmup
[0m[1B[1G
# # Allows for warmup when option is provided
[K

  ok [1m[32m437[0m should be strictly equal[K
  ok [1m[32m438[0m should not be open after initial fire[K
  ok [1m[32m439[0m should not be pending close after initial fire[K
[1A[1G[1m[32m\u2713 # Allows for warmup when option is provided
[0m[1B[1G
# # Only warms up for rollingCountTimeout
[K

  ok [1m[32m440[0m should be strictly equal[K
  ok [1m[32m441[0m should not be open after initial fire[K
  ok [1m[32m442[0m should not be pending close after initial fire[K
  ok [1m[32m443[0m Warmup should end after rollingCountTimeout[K
[1A[1G[1m[32m\u2713 # Only warms up for rollingCountTimeout
[0m[1B[1G
# # tests 443
[K

[1A[1G[1m[32m\u2713 # tests 443
[0m[1B[1G
# # pass  439
[K

[1A[1G[1m[32m\u2713 # pass  439
[0m[1B[1G
# # fail  4
[K

[1A[1G[1m[32m\u2713 # fail  4
[0m[1B[1G
# # failed 4 of 443 tests
[K
-----------------------------------------------
Running test test_client_kube (starting at 2024-01-23 20:18:13-05:00) ... 
-----------------------------------------------
Running kube-service-bindings client test
Running kube-service-bindings test suite
Cloning into '/var/tmp/daily_scl_tests/rhel9-test-upstream/plans/nightly-container-rhel9/data/s2i-nodejs-container/test/kube-service-bindings'...
STEP 1/11: FROM ubi9/nodejs-16:1
STEP 2/11: LABEL "io.openshift.s2i.build.image"="ubi9/nodejs-16:1"       "io.openshift.s2i.build.source-location"="file:///var/tmp/daily_scl_tests/rhel9-test-upstream/plans/nightly-container-rhel9/data/s2i-nodejs-container/test/kube-service-bindings"
--> a50efd0498d5
STEP 3/11: USER root
--> e1fc30f9da83
STEP 4/11: COPY upload/src/ /tmp/src
--> 6e9926d21106
STEP 5/11: RUN chown -R 1001:0 /tmp/src
--> 2d9ff7d32e4c
STEP 6/11: ENV NPM_MIRROR=https://repository.engineering.redhat.com/nexus/repository/registry.npmjs.org
--> 34c6c1b0c944
STEP 7/11: ENV NODE_ENV=development
--> 782096e3a653
STEP 8/11: RUN cd /etc/pki/ca-trust/source/anchors && update-ca-trust extract
--> c6e8ae5b5e2f
STEP 9/11: USER 1001
--> 672934639acf
STEP 10/11: RUN /usr/libexec/s2i/assemble
---> Installing application source ...
---> Building your Node application from source

added 507 packages, and audited 508 packages in 12s

102 packages are looking for funding
  run `npm fund` for details

4 vulnerabilities (2 moderate, 1 high, 1 critical)

To address all issues, run:
  npm audit fix

Run `npm audit` for details.
npm notice 
npm notice New major version of npm available! 8.19.4 -> 10.3.0
npm notice Changelog: <https://github.com/npm/cli/releases/tag/v10.3.0>
npm notice Run `npm install -g npm@10.3.0` to update!
npm notice 
--> 6011a8fae872
STEP 11/11: CMD /usr/libexec/s2i/run
COMMIT ubi9/nodejs-16:1-kube-service-bindings
--> 6da10a37dca6
Successfully tagged localhost/ubi9/nodejs-16:1-kube-service-bindings
6da10a37dca61d6aed370cc2e3f928850eae541480f0cd2d080d261d92e8a6a3

> kube-service-bindings@3.0.0 pretest
> npm run lint


> kube-service-bindings@3.0.0 lint
> eslint --ignore-path .gitignore .


> kube-service-bindings@3.0.0 test
> nyc mocha --recursive



  basic tests
    \u2714 Should return raw bindings data.
Warning: Not specifying client will be deprecated in future version.
    \u2714 should throw error: Error: Unknown service type
    \u2714 should throw error: Error: Invalid Arguments
    \u2714 should throw error: Error: Unknown client
Warning: Not specifying client will be deprecated in future version.
    \u2714 no client
Warning: Passing id without using bindingOptions object is deprecated.
Set id as attribute of bindingOptions instead.
    \u2714 should throw error: Error: No Binding Found

  basic tests 2
Warning: Not specifying client will be deprecated in future version.
    \u2714 should throw error: Error: No Binding Found

  No service binding variable provided on process environment.
Warning: Not specifying client will be deprecated in future version.
    \u2714 should throw error: No SERVICE_BINDING_ROOT env variable Found
    \u2714 Should throw error: No SERVICE_BINDING_ROOT env variable Found

  AMQ
    rhea on amqp-bindings
      \u2714 Default behaviour
      \u2714 Does NOT Remove Unmapped Values
      \u2714 Remove Unmapped Values
    rhea on rabbitmq-bindings
      \u2714 Default behaviour
      \u2714 Does NOT Remove Unmapped Values
      \u2714 Remove Unmapped Values
    rhea passing amq bindng data as parameter.
      \u2714 Default behaviour
      \u2714 Do NOT Remove Unmapped Values
      \u2714 Remove Unmapped Values

  KAFKA
    kafkajs
      \u2714 Does NOT Remove Unmapped Values
      \u2714 Removes Unmapped Values
      \u2714 Defaul behaviour
      Passing bindng data as parameter.
        \u2714 Does NOT Remove Unmapped Values
        \u2714 Removes Unmapped Values
        \u2714 Defaul behaviour
    node-rdkafka
      \u2714 Does NOT Remove Unmapped Values
      \u2714 Removes Unmapped Values
      \u2714 Default behaviour
      Passing bindng data as parameter.
        \u2714 Does NOT Remove Unmapped Values
        \u2714 Removes Unmapped Values
        \u2714 Default behaviour

  MongoDB
    mongodb on mongodb-bindings
      \u2714 Default behaviour (42ms)
    mongodb on mongodb-bindings-without-username-password
      \u2714 Default behaviour
    mongodb on mongodb-bindings-with-port
      \u2714 Default behaviour
    mongodb on passing binding data as arguments
      \u2714 Default behaviour
    mongoose on mongodb-bindings 
      \u2714 Default behavior
      \u2714 Remove unmapped values
      \u2714 Do NOT Remove unmapped values
    mongoose on mongodb-bindings-with-port
      \u2714 Default Behaviour
      \u2714 Remove unmapped values
      \u2714 Do NOT Remove unmapped values

  MySQL
    mysql2 on mysql-bindings
      \u2714 Default behaviour.
      \u2714 Do NOT Remove Unmapped Values
      \u2714 Remove Unmapped Values
    mysql2 Passing binding data as arguments
      \u2714 Default behaviour.
      \u2714 Do NOT Remove Unmapped Values
      \u2714 Removes Unmapped Values
    mysql on mysql-bindings
      \u2714 Default behaviour
      \u2714 Remove Unmapped Values
      \u2714 Does NOT Remove Unmapped Values
    mysql passing binding data as arguments
      \u2714 Default behaviour
      \u2714 Removes Unmapped Values
      \u2714 Does NOT Remove Unmapped Values
    ODBC Client on mysql-bindings
      \u2714 Default behaviour
      \u2714 Do NOT Remove Unmapped Values
      \u2714 Remove Unmapped Values
    ODBC Client passing binding data as arguments
      \u2714 Default behaviour
      \u2714 Do NOT Remove Unmapped Values
      \u2714 Remove Unmapped Values

  PSQL
    pg client on postgresql-rhoda
      \u2714 Default behaviour.
      \u2714 Removes Unmapped Values
      \u2714 Does NOT Remove Unmapped Values
    pg client on crunchy-data-postgres-operator
      \u2714 Default behaviour.
      \u2714 Removes Unmapped Values
      \u2714 Does NOT Remove Unmapped Values
    ODBC client on crunchy-data-postgres-operator
Warning: File tls.key does not have proper permissions.
Set allowCopy option to true, for copy/pasting file with proper permissions under app directory.
**By enabling this options, this might be a potential security risk**
      \u2714 Default behavior & Does NOT copy tls.key in another directory with proper permissions.
      \u2714 Removes Unmapped Values & copies tls.key file in another location with altered/proper permissions.
Warning: File tls.key does not have proper permissions.
Set allowCopy option to true, for copy/pasting file with proper permissions under app directory.
**By enabling this options, this might be a potential security risk**
      \u2714 Removes Unmapped Values & does NOT copy tls.key file in another directory.
      \u2714 Does NOT Remove Unmapped Values & copies tls.key file in another directory with altered/proper permissions.
Warning: File tls.key does not have proper permissions.
Set allowCopy option to true, for copy/pasting file with proper permissions under app directory.
**By enabling this options, this might be a potential security risk**
      \u2714 Does NOT Remove Unmapped Values & does NOT copy tls.key file in another directory with altered/proper permissions.
      \u2714 Removes Unmapped Values & copies tls.key file in another directory with altered/proper permissions.
Warning: File tls.key does not have proper permissions.
Set allowCopy option to true, for copy/pasting file with proper permissions under app directory.
**By enabling this options, this might be a potential security risk**
      \u2714 Removes Unmapped Values & does NOT copy tls.key file in another directory.

  Redis
    ioredis on redis-bindings
      \u2714 Default Behaviour
    ioredis on redis-bindings
      \u2714 Default Behaviour

  utils tests
    \u2714 buildOptionParam
    Validates the isKnownServiceType function
      \u2714 AMQP
      \u2714 KAFKA
      \u2714 MONGODB
      \u2714 MYSQL
      \u2714 POSTGRESQL
      \u2714 REDIS


  80 passing (230ms)

(node:45) [DEP0147] DeprecationWarning: In future versions of Node.js, fs.rmdir(path, { recursive: true }) will be removed. Use fs.rm(path, { recursive: true }) instead
(Use `node --trace-deprecation ...` to show where the warning was created)
------------------------|---------|----------|---------|---------|-------------------
File                    | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------------------|---------|----------|---------|---------|-------------------
All files               |     100 |    97.47 |   97.72 |     100 |                   
 src                    |     100 |      100 |     100 |     100 |                   
  index.js              |     100 |      100 |     100 |     100 |                   
 src/clients/AMQP       |     100 |      100 |     100 |     100 |                   
  rhea.js               |     100 |      100 |     100 |     100 |                   
 src/clients/KAFKA      |     100 |       75 |     100 |     100 |                   
  kafkajs.js            |     100 |       75 |     100 |     100 | 16                
  node-rdkafka.js       |     100 |      100 |     100 |     100 |                   
 src/clients/MONGODB    |     100 |      100 |     100 |     100 |                   
  mongodb.js            |     100 |      100 |     100 |     100 |                   
  mongoose.js           |     100 |      100 |     100 |     100 |                   
 src/clients/MYSQL      |     100 |      100 |     100 |     100 |                   
  mysql.js              |     100 |      100 |     100 |     100 |                   
  mysql2.js             |     100 |      100 |     100 |     100 |                   
  odbc.js               |     100 |      100 |     100 |     100 |                   
 src/clients/POSTGRESQL |     100 |      100 |     100 |     100 |                   
  odbc.js               |     100 |      100 |     100 |     100 |                   
  pg.js                 |     100 |      100 |     100 |     100 |                   
 src/clients/REDIS      |     100 |      100 |     100 |     100 |                   
  ioredis.js            |     100 |      100 |     100 |     100 |                   
  redis.js              |     100 |      100 |     100 |     100 |                   
 src/options            |     100 |      100 |     100 |     100 |                   
  defaultOptions.js     |     100 |      100 |     100 |     100 |                   
 src/utils              |     100 |    97.05 |   96.55 |     100 |                   
  index.js              |     100 |    97.05 |   96.55 |     100 | 104,216           
 src/utils/messages     |     100 |      100 |     100 |     100 |                   
  index.js              |     100 |      100 |     100 |     100 |                   
------------------------|---------|----------|---------|---------|-------------------
-----------------------------------------------
Running test test_client_faas (starting at 2024-01-23 20:18:46-05:00) ... 
-----------------------------------------------
Running faas-js-runtime client test
Running faas-js-runtime test suite
Cloning into '/var/tmp/daily_scl_tests/rhel9-test-upstream/plans/nightly-container-rhel9/data/s2i-nodejs-container/test/faas-js-runtime'...
STEP 1/11: FROM ubi9/nodejs-16:1
STEP 2/11: LABEL "io.openshift.s2i.build.image"="ubi9/nodejs-16:1"       "io.openshift.s2i.build.source-location"="file:///var/tmp/daily_scl_tests/rhel9-test-upstream/plans/nightly-container-rhel9/data/s2i-nodejs-container/test/faas-js-runtime"
--> 634b546d70cb
STEP 3/11: USER root
--> 6f883b1d088b
STEP 4/11: COPY upload/src/ /tmp/src
--> 1816ad6542cb
STEP 5/11: RUN chown -R 1001:0 /tmp/src
--> d82d39ff411a
STEP 6/11: ENV NPM_MIRROR=https://repository.engineering.redhat.com/nexus/repository/registry.npmjs.org
--> 10346b0146fe
STEP 7/11: ENV NODE_ENV=development
--> e82cff6dd84a
STEP 8/11: RUN cd /etc/pki/ca-trust/source/anchors && update-ca-trust extract
--> e4c191d6363b
STEP 9/11: USER 1001
--> 02a565a4c8a7
STEP 10/11: RUN /usr/libexec/s2i/assemble
---> Installing application source ...
---> Building your Node application from source

added 568 packages, and audited 569 packages in 24s

132 packages are looking for funding
  run `npm fund` for details

2 vulnerabilities (1 moderate, 1 critical)

To address all issues, run:
  npm audit fix

Run `npm audit` for details.
npm notice 
npm notice New major version of npm available! 8.19.4 -> 10.3.0
npm notice Changelog: <https://github.com/npm/cli/releases/tag/v10.3.0>
npm notice Run `npm install -g npm@10.3.0` to update!
npm notice 
--> db48d861263a
STEP 11/11: CMD /usr/libexec/s2i/run
COMMIT ubi9/nodejs-16:1-faas-js-runtime
--> f6a30ec0ddb1
Successfully tagged localhost/ubi9/nodejs-16:1-faas-js-runtime
f6a30ec0ddb1a54d18c626c0b503e9f49059747db9d44c5a07cbb5fb7c541e20

> faas-js-runtime@2.2.3 pretest
> npm run lint


> faas-js-runtime@2.2.3 lint
> eslint --ignore-path .gitignore .


> faas-js-runtime@2.2.3 test
> npm run test:source && npm run test:types


> faas-js-runtime@2.2.3 test:source
> nyc --reporter=lcovonly tape test/test*.js | colortape

Browserslist: caniuse-lite is outdated. Please run:
  npx browserslist@latest --update-db
  Why you should do it regularly: https://github.com/browserslist/browserslist#browsers-data-updating
Installing dependencies for /opt/app-root/src/test/fixtures/cjs-module
Installing dependencies for /opt/app-root/src/test/fixtures/esm-module-mjs
Installing dependencies for /opt/app-root/src/test/fixtures/esm-module-type-module
Installing dependencies for /opt/app-root/src/test/fixtures/esm-module-type-up-dir
Installing dependencies for /opt/app-root/src/test/fixtures/http-get
TAP version 13
[36m# Handles CloudEvents with image/png data[0m
[32mok 1 No error[0m
[32mok 2 should be deeply equivalent[0m
[36m# Handles CloudEvents with image/jpg data[0m
[32mok 3 No error[0m
[32mok 4 should be deeply equivalent[0m
[36m# Handles CloudEvents with image/gif data[0m
[32mok 5 No error[0m
[32mok 6 should be deeply equivalent[0m
[36m# Provides HTTP request headers with the context parameter[0m
[32mok 7 should be strictly equal[0m
[32mok 8 No error[0m
[36m# Provides HTTP request body with the context parameter[0m
[32mok 9 should be deeply equivalent[0m
[32mok 10 No error[0m
[36m# Provides HTTP request rawBody with the context parameter[0m
[32mok 11 should be deeply equivalent[0m
[32mok 12 should be strictly equal[0m
[32mok 13 No error[0m
[36m# Provides HTTP request query parameters with the context parameter[0m
[32mok 14 No error[0m
[32mok 15 should be strictly equal[0m
[32mok 16 should be strictly equal[0m
[36m# Provides HTTP method information with the context parameter[0m
[32mok 17 No error[0m
[32mok 18 should be strictly equal[0m
[36m# Provides HTTP version information with the context parameter[0m
[32mok 19 No error[0m
[32mok 20 should be strictly equal[0m
[32mok 21 should be strictly equal[0m
[32mok 22 should be strictly equal[0m
[36m# Returns HTTP error code if a caught error has one[0m
{"level":50,"time":1706059198144,"pid":65,"hostname":"969532e6c7dc","node_version":"v16.20.2","reqId":"req-1","msg":"Error processing user function"}
[32mok 23 No error[0m
[32mok 24 Status code[0m
[36m# Prints an error message when an exception is thrown[0m
{"level":50,"time":1706059198190,"pid":65,"hostname":"969532e6c7dc","node_version":"v16.20.2","reqId":"req-1","msg":"Error processing user function"}
[32mok 25 No error[0m
[32mok 26 Error message[0m
[36m# Loads a CJS function[0m
[32mok 27 should be strictly equal[0m
[32mok 28 CJS function loaded[0m
[36m# Loads an ESM function with an .mjs extension[0m
[32mok 29 should be strictly equal[0m
[32mok 30 ESM module with a mjs ext loaded[0m
[36m# Loads an ESM function with the type=module in the package.json[0m
[32mok 31 should be strictly equal[0m
[32mok 32 ESM module with a type=module in the package.json[0m
[36m# Loads an ESM function with the type=module in package.json in a parent dir and a .js extension[0m
[32mok 33 should be strictly equal[0m
[32mok 34 ESM module with a type=module in a package.json in parent directory[0m
[36m# Provides HTTP POST string as string parameter[0m
[32mok 35 should be strictly equal[0m
[32mok 36 No error[0m
[36m# Provides HTTP POST string as string parameter and rawBody[0m
[32mok 37 should be strictly equal[0m
[32mok 38 should be strictly equal[0m
[32mok 39 No error[0m
[36m# Provides HTTP POST JSON as object parameter[0m
[32mok 40 should be deeply equivalent[0m
[32mok 41 No error[0m
[36m# Provides HTTP POST JSON as object parameter with correct rawBody[0m
[32mok 42 should be deeply equivalent[0m
[32mok 43 should be strictly equal[0m
[32mok 44 No error[0m
[36m# Provides HTTP POST empty body as empty string parameter[0m
[32mok 45 should be deeply equivalent[0m
[32mok 46 No error[0m
[36m# Provides HTTP POST empty body as empty string parameter and rawBody[0m
[32mok 47 should be strictly equal[0m
[32mok 48 should be strictly equal[0m
[32mok 49 No error[0m
[36m# Enforces the handle function to exist[0m
[32mok 50 handle function is required[0m
[36m# Calls init before the server has started[0m
[32mok 51 init was called[0m
[36m# Bubbles up any exceptions thrown by init()[0m
[32mok 52 init failed[0m
[36m# Calls shutdown after the server has stopped[0m
[32mok 53 shutdown was not called before server.close()[0m
[36m# Liveness endpoint can be provided[0m
[32mok 54 No error[0m
[32mok 55 should be strictly equal[0m
[36m# Liveness route can be provided[0m
[32mok 56 No error[0m
[32mok 57 should be strictly equal[0m
[36m# Readiness endpoint can be provided[0m
[32mok 58 No error[0m
[32mok 59 should be strictly equal[0m
[36m# Readiness route can be provided[0m
[32mok 60 No error[0m
[32mok 61 should be strictly equal[0m
[36m# Invocation count[0m
[32mok 62 # TYPE faas_invocations counter[0m
[36m# Error count[0m
[32mok 63 # TYPE faas_errors counter[0m
[36m# Cold start latency[0m
[32mok 64 # TYPE faas_cold_start_latency histogram[0m
[36m# Execution latency[0m
[32mok 65 # TYPE faas_execution_latency histogram[0m
[36m# Queue latency[0m
[32mok 66 # TYPE faas_queue_latency histogram[0m
[36m# CPU utilization[0m
[32mok 67 # TYPE faas_cpu_utilization gauge[0m
[36m# Memory utilization[0m
[32mok 68 # TYPE faas_mem_utilization gauge[0m
[36m# Network I/O utilization[0m
[32mok 69 # TYPE faas_netio_utilization gauge[0m
[36m# Exposes a /metrics endpoint[0m
[36m# Only cacluates metrics for calls to /[0m
[32mok 70 faas_invocations{faas_name="anonymous",faas_id="test",faas_instance="undefined",faas_version="undefined",faas_runtime="Node.js"} 1[0m
[32mok 71 faas_invocations{faas_name="anonymous",faas_id="test",faas_instance="undefined",faas_version="undefined",faas_runtime="Node.js"} 1[0m
[32mok 72 faas_invocations{faas_name="anonymous",faas_id="test",faas_instance="undefined",faas_version="undefined",faas_runtime="Node.js"} 2[0m
[36m# Does not have a global object[0m
[32mok 73 No error[0m
[32mok 74 should be strictly equal[0m
[36m# Has frozen this[0m
[32mok 75 No error[0m
[32mok 76 should be strictly equal[0m
[36m# Does not have a global object[0m
[32mok 77 No error[0m
[32mok 78 should be strictly equal[0m
[36m# Has unfrozen this[0m
[32mok 79 No error[0m
[32mok 80 should be strictly equal[0m
[36m# Loads a user function with dependencies[0m
[32mok 81 No error[0m
[32mok 82 should be strictly equal[0m
[36m# Can respond via an async function[0m
[32mok 83 No error[0m
[32mok 84 should be deeply equivalent[0m
[36m# Accepts HTTP POST requests[0m
[32mok 85 null[0m
[32mok 86 should be strictly equal[0m
[36m# Responds to 0.3 binary cloud events[0m
[32mok 87 No error[0m
[32mok 88 should be deeply equivalent[0m
[36m# Responds with 0.3 binary cloud event[0m
[32mok 89 No error[0m
[32mok 90 should be strictly equal[0m
[32mok 91 should be strictly equal[0m
[32mok 92 should be strictly equal[0m
[32mok 93 should be strictly equal[0m
[32mok 94 should be strictly equal[0m
[36m# Responds to 1.0 binary cloud events[0m
[32mok 95 No error[0m
[32mok 96 should be deeply equivalent[0m
[36m# Responds to 1.0 structured cloud events[0m
[32mok 97 No error[0m
[32mok 98 should be deeply equivalent[0m
[36m# Handles 1.0 CloudEvent responses[0m
[32mok 99 No error[0m
[32mok 100 should be strictly equal[0m
[36m# Handles 1.0 CloudEvent Message responses[0m
[32mok 101 No error[0m
[32mok 102 should be strictly equal[0m
[36m# Extracts event data as the second parameter to a function[0m
[32mok 103 should be strictly equal[0m
[32mok 104 No error[0m
[32mok 105 should be deeply equivalent[0m
[36m# Successfully handles events with no data[0m
[32mok 106 should be truthy[0m
[32mok 107 should be truthy[0m
[32mok 108 No error[0m
[32mok 109 should be deeply equivalent[0m
[36m# Respects response code set by the function[0m
[32mok 110 No error[0m
[36m# Responds HTTP 204 if response body has no content[0m
[32mok 111 No error[0m
[32mok 112 should be strictly equal[0m
[36m# Sends CORS headers in HTTP response[0m
[32mok 113 No error[0m
[32mok 114 should be strictly equal[0m
[36m# Respects headers set by the function[0m
[32mok 115 No error[0m
[32mok 116 should be strictly equal[0m
[36m# Respects content type set by the function[0m
[32mok 117 No error[0m
[32mok 118 should be strictly equal[0m
[36m# Accepts application/json content via HTTP post[0m
[32mok 119 No error[0m
[32mok 120 should be deeply equivalent[0m
[36m# Accepts x-www-form-urlencoded content via HTTP post[0m
[32mok 121 No error[0m
[32mok 122 should be deeply equivalent[0m
[36m# Exposes readiness URL[0m
[32mok 123 No error[0m
[32mok 124 should be strictly equal[0m
[36m# Exposes liveness URL[0m
[32mok 125 No error[0m
[32mok 126 should be strictly equal[0m
[36m# Function accepts destructured parameters[0m
[32mok 127 No error[0m
[32mok 128 should be strictly equal[0m
[36m# Provides logger with appropriate log level configured[0m
[32mok 129 No error[0m
[32mok 130 Logger provided[0m
[36m# Provides logger in context when logging is disabled[0m
[32mok 131 No error[0m
[32mok 132 Logger provided[0m
[36m# Accepts CloudEvents with content type of text/plain[0m
[32mok 133 No error[0m
[32mok 134 should be strictly equal[0m
[36m# Reads a func.yaml file for logLevel[0m
{"level":30,"time":1706059199697,"pid":65,"hostname":"969532e6c7dc","node_version":"v16.20.2","msg":"Server listening at http://[::]:8080"}
{"level":30,"time":1706059199713,"pid":65,"hostname":"969532e6c7dc","node_version":"v16.20.2","reqId":"req-1","req":{"method":"GET","url":"/","hostname":"127.0.0.1:8080","remoteAddress":"::ffff:127.0.0.1","remotePort":59310},"msg":"incoming request"}
{"level":40,"time":1706059199714,"pid":65,"hostname":"969532e6c7dc","node_version":"v16.20.2","reqId":"req-1"}
{"level":30,"time":1706059199714,"pid":65,"hostname":"969532e6c7dc","node_version":"v16.20.2","reqId":"req-1","res":{"statusCode":204},"responseTime":0.6742849999573082,"msg":"request completed"}
[32mok 135 No error[0m
[36m# Handles HTTP response provided as StructuredReturn[0m
[32mok 136 No error[0m
[32mok 137 should be strictly equal[0m
[32mok 138 body is a buffer[0m

1..138
[36m# tests 138[0m
[36m# pass  138[0m
[36m
# ok[0m


> faas-js-runtime@2.2.3 test:types
> tsd

-----------------------------------------------
Running test test_client_cloudevents (starting at 2024-01-23 20:20:11-05:00) ... 
-----------------------------------------------
Running CloudEvents client test
Running cloudevents test suite
Cloning into '/var/tmp/daily_scl_tests/rhel9-test-upstream/plans/nightly-container-rhel9/data/s2i-nodejs-container/test/cloudevents'...
STEP 1/11: FROM ubi9/nodejs-16:1
STEP 2/11: LABEL "io.openshift.s2i.build.image"="ubi9/nodejs-16:1"       "io.openshift.s2i.build.source-location"="file:///var/tmp/daily_scl_tests/rhel9-test-upstream/plans/nightly-container-rhel9/data/s2i-nodejs-container/test/cloudevents"
--> 672b5dc2aa6b
STEP 3/11: USER root
--> 8f83ac965f85
STEP 4/11: COPY upload/src/ /tmp/src
--> 0b0386419234
STEP 5/11: RUN chown -R 1001:0 /tmp/src
--> 06949a4f8c33
STEP 6/11: ENV NPM_MIRROR=https://repository.engineering.redhat.com/nexus/repository/registry.npmjs.org
--> f334f1d014c8
STEP 7/11: ENV NODE_ENV=development
--> c2cbfb610144
STEP 8/11: RUN cd /etc/pki/ca-trust/source/anchors && update-ca-trust extract
--> 8b4c101b5c39
STEP 9/11: USER 1001
--> 83642c796bd2
STEP 10/11: RUN /usr/libexec/s2i/assemble
---> Installing application source ...
---> Building your Node application from source
npm WARN deprecated libnpmconfig@1.2.1: This module is not used anymore. npm config is parsed by npm itself and by @npmcli/config

added 777 packages, and audited 778 packages in 23s

219 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (5 moderate, 3 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
npm notice 
npm notice New major version of npm available! 8.19.4 -> 10.3.0
npm notice Changelog: <https://github.com/npm/cli/releases/tag/v10.3.0>
npm notice Run `npm install -g npm@10.3.0` to update!
npm notice 
--> 975ddaf0af90
STEP 11/11: CMD /usr/libexec/s2i/run
COMMIT ubi9/nodejs-16:1-cloudevents
--> 03309ec3944a
Successfully tagged localhost/ubi9/nodejs-16:1-cloudevents
03309ec3944a64361144d811918ca74fc0d49969c164db41da48ae10185830e1

> cloudevents@8.0.0 pretest
> npm run lint && npm run build && npm run conformance


> cloudevents@8.0.0 lint
> npm run lint:md && npm run lint:js


> cloudevents@8.0.0 lint:md
> remark .

[4m[32mAPI_TRANSITION_GUIDE.md[39m[24m: no issues found
[4m[32mCHANGELOG.md[39m[24m: no issues found
[4m[32mCONTRIBUTING.md[39m[24m: no issues found
[4m[32mREADME.md[39m[24m: no issues found
[4m[32mRELEASE_GUIDELINES.md[39m[24m: no issues found
[4m[32mexamples/express-ex/README.md[39m[24m: no issues found
[4m[32mexamples/mqtt-ex/README.md[39m[24m: no issues found
[4m[32mexamples/typescript-ex/README.md[39m[24m: no issues found
[4m[32mexamples/websocket/README.md[39m[24m: no issues found
[4m[32mmaintainer_guidelines.md[39m[24m: no issues found
[4m[32mpr_guidelines.md[39m[24m: no issues found

> cloudevents@8.0.0 lint:js
> eslint 'src/**/*.{js,ts}' 'test/**/*.{js,ts}' cucumber.js


> cloudevents@8.0.0 build
> npm run build:schema && npm run build:src && npm run build:browser


> cloudevents@8.0.0 build:schema
> ajv compile -c ./src/schema/formats.js -s src/schema/cloudevent.json --strict-types false -o src/schema/v1.js

schema src/schema/cloudevent.json is valid

> cloudevents@8.0.0 build:src
> tsc --project tsconfig.json


> cloudevents@8.0.0 build:browser
> tsc --project tsconfig.browser.json && webpack

asset cloudevents.js 105 KiB [emitted] [minimized] (name: cloudevents) 1 related asset
orphan modules 18.7 KiB [orphan] 14 modules
runtime modules 891 bytes 4 modules
modules by path ./ 305 KiB
  modules by path ./node_modules/ 222 KiB 30 modules
  modules by path ./browser/ 82.7 KiB
    modules by path ./browser/message/ 34.4 KiB 6 modules
    modules by path ./browser/*.js 7.27 KiB 3 modules
    modules by path ./browser/event/*.js 13.3 KiB 3 modules
    modules by path ./browser/transport/ 6.32 KiB 2 modules
    ./browser/schema/v1.js 21.5 KiB [built] [code generated]
http (ignored) 15 bytes [built] [code generated]
https (ignored) 15 bytes [built] [code generated]
webpack 5.76.0 compiled successfully in 5247 ms

> cloudevents@8.0.0 conformance
> cucumber-js ./conformance/features/*-protocol-binding.feature -p default



0 scenarios
0 steps
0m00.001s (executing steps: 0m00.000s)
\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510
\u2502 Share your Cucumber Report with your team at https://reports.cucumber.io     \u2502
\u2502                                                                              \u2502
\u2502 Command line option:    --publish                                            \u2502
\u2502 Environment variable:   CUCUMBER_PUBLISH_ENABLED=true                        \u2502
\u2502                                                                              \u2502
\u2502 More information at https://cucumber.io/docs/cucumber/environment-variables/ \u2502
\u2502                                                                              \u2502
\u2502 To disable this message, add this to your ./cucumber.js:                     \u2502
\u2502 module.exports = { default: '--publish-quiet' }                              \u2502
\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518

> cloudevents@8.0.0 test
> mocha --require ts-node/register ./test/integration/**/*.ts



  A batched CloudEvent message over HTTP
    \u2714 Can be created with a typed Message

  A batched CloudEvent message over Kafka
    \u2714 Can be created with a typed Message

  A CloudEvent
    \u2714 Can be constructed with a typed Message
    \u2714 Can be constructed with loose validation
    \u2714 Loosely validated events can be cloned
    \u2714 Loosely validated events throw when validated
    \u2714 serializes as JSON with toString()
    \u2714 serializes as JSON with raw log
    \u2714 Throw a validation error for invalid extension names
    \u2714 Throw a validation error for invalid extension names, more than 20 chars
    \u2714 Throws a validation error for invalid uppercase extension names
    \u2714 CloudEventV1 interface fields should be enumerable
    \u2714 throws TypeError on trying to set any field value
    toJSON()
      \u2714 does not return data field if data_base64 field is set to comply with JSON format spec 3.1.1

  A 1.0 CloudEvent
    \u2714 has retreivable source and type attributes
    \u2714 defaults to specversion 1.0
    \u2714 generates an ID if one is not provided in the constructor
    \u2714 can be constructed with an ID
    \u2714 generates a timestamp by default
    \u2714 can be constructed with a timestamp
    \u2714 can be constructed with a datacontenttype
    \u2714 can be constructed with a dataschema
    \u2714 can be constructed with a subject
    \u2714 throws a TypeError when constructed with a schemaurl
    \u2714 can be constructed with data
    \u2714 can be constructed with data as an Array
    \u2714 can be constructed with data as a number
    \u2714 can be constructed with null data
    \u2714 can be constructed with data as a boolean
    \u2714 can be constructed with binary data
    \u2714 can be constructed with extensions
    \u2714 throws TypeError if the CloudEvent does not conform to the schema
    \u2714 correctly formats a CloudEvent as JSON
    \u2714 throws if the provded source is empty string

  Constants exposed by top level exports
    \u2714 Exports an ENCODING_BASE64 constant
    \u2714 Exports a DATA_ATTRIBUTE constant
    \u2714 Exports a MIME_JSON constant
    \u2714 Exports a MIME_OCTET_STREAM constant
    \u2714 Exports a MIME_CE constant
    \u2714 Exports a MIME_CE_JSON constant
    \u2714 Exports a HEADER_CONTENT_TYPE constant
    \u2714 Exports a DEFAULT_CONTENT_TYPE constant
    \u2714 Exports a DEFAULT_CE_CONTENT_TYPE constant
    V0.3 binary headers constants
      \u2714 Provides a TYPE header
      \u2714 Provides a SPEC_VERSION header
      \u2714 Provides a SOURCE header
      \u2714 Provides an ID header
      \u2714 Provides a TIME header
      \u2714 Provides a SCHEMA_URL header
      \u2714 Provides a CONTENT_ENCODING header
      \u2714 Provides a SUBJECT header
      \u2714 Provides an EXTENSIONS_PREFIX constant
    V0.3 structured attributes constants
      \u2714 Provides a TYPE attribute
      \u2714 Provides a SPEC_VERSION attribute
      \u2714 Provides a SOURCE attribute
      \u2714 Provides an ID attribute
      \u2714 Provides a TIME attribute
      \u2714 Provides a SCHEMA_URL attribute
      \u2714 Provides a CONTENT_ENCODING attribute
      \u2714 Provides a SUBJECT attribute
      \u2714 Provides a DATA attribute
    V01 binary headers constants
      \u2714 Provides a TYPE header
      \u2714 Provides a SPEC_VERSION header
      \u2714 Provides a SOURCE header
      \u2714 Provides an ID header
      \u2714 Provides a TIME header
      \u2714 Provides a DATA_SCHEMA header
      \u2714 Provides a SUBJECT header
      \u2714 Provides an EXTENSIONS_PREFIX constant
    V1 structured attributes constants
      \u2714 Provides a TYPE attribute
      \u2714 Provides a SPEC_VERSION attribute
      \u2714 Provides a SOURCE attribute
      \u2714 Provides an ID attribute
      \u2714 Provides a TIME attribute
      \u2714 Provides a DATA_SCHEMA attribute
      \u2714 Provides a CONTENT_TYPE attribute
      \u2714 Provides a SUBJECT attribute
      \u2714 Provides a DATA attribute
      \u2714 Provides a DATA_BASE64 attribute

  emitterFor() defaults
    \u2714 Defaults to HTTP binding, binary mode
    \u2714 Supports HTTP binding, structured mode

  HTTP Transport Binding for emitterFactory
    HTTPS builtin
      \u2714 Works as a binary event emitter
    HTTP builtin
      \u2714 Works as a binary event emitter
      \u2714 Works as a structured event emitter
    Axios
      \u2714 Works as a binary event emitter
      \u2714 Works as a structured event emitter
    SuperAgent
      \u2714 Works as a binary event emitter
      \u2714 Works as a structured event emitter
    Got
      \u2714 Works as a binary event emitter
      \u2714 Works as a structured event emitter

  Emitter Singleton
    \u2714 emit a Node.js 'cloudevent' event as an EventEmitter
    \u2714 emit a Node.js 'cloudevent' event as an EventEmitter with ensureDelivery
    \u2714 emit a Node.js 'cloudevent' event as an EventEmitter with ensureDelivery Error

  Kafka transport
    \u2714 Handles events with no content-type and no datacontenttype
    \u2714 Can detect invalid CloudEvent Messages
    \u2714 Can detect valid CloudEvent Messages
    \u2714 Handles CloudEvents with datacontenttype of text/plain
    \u2714 Respects extension attribute casing (even if against spec)
    \u2714 Can detect CloudEvent binary Messages with weird versions
    \u2714 Can detect CloudEvent structured Messages with weird versions
    \u2714 Does not throw an exception when converting an invalid Message to a CloudEvent
    \u2714 Does not allow an invalid CloudEvent to be converted to a Message
    \u2714 Maps `KafkaMessage#key` value to CloudEvent#partitionkey property
    \u2714 Maps CloudEvent#partitionkey value to a `key` in binary KafkaMessages
    \u2714 Binary Messages can be created from a CloudEvent
    \u2714 Structured Messages can be created from a CloudEvent
    \u2714 A CloudEvent can be converted from a binary Message
    \u2714 A CloudEvent can be converted from a binary Message
    \u2714 A CloudEvent can be converted from a structured Message
    \u2714 Converts binary data to base64 when serializing structured messages
    - Converts base64 encoded data to binary when deserializing structured messages
    \u2714 Converts base64 encoded data to binary when deserializing binary messages
    \u2714 Keeps binary data binary when serializing binary messages
    \u2714 Does not parse binary data from binary messages with content type application/json

  HTTP transport
    \u2714 validates extension attribute names for incoming messages
    \u2714 Includes extensions in binary mode when type is 'boolean' with a false value
    \u2714 Includes extensions in structured when type is 'boolean' with a false value
    \u2714 Handles big integers in structured mode
    \u2714 Handles big integers in binary mode
    \u2714 Handles events with no content-type and no datacontenttype
    \u2714 Can detect invalid CloudEvent Messages
    \u2714 Can detect valid CloudEvent Messages
    \u2714 Handles CloudEvents with datacontenttype of text/plain
    \u2714 Respects extension attribute casing (even if against spec)
    \u2714 Can detect CloudEvent binary Messages with weird versions
    \u2714 Can detect CloudEvent structured Messages with weird versions
    \u2714 Does not throw an exception when converting an invalid Message to a CloudEvent
    \u2714 Does not allow an invalid CloudEvent to be converted to a Message
    \u2714 Can be created with Node's IncomingHttpHeaders
    Specification version V1
      \u2714 Binary Messages can be created from a CloudEvent
      \u2714 Structured Messages can be created from a CloudEvent
      \u2714 A CloudEvent can be converted from a binary Message
      \u2714 A CloudEvent can be converted from a structured Message
      \u2714 Converts binary data to base64 when serializing structured messages
      \u2714 Converts base64 encoded data to binary when deserializing structured messages
      \u2714 Does not parse binary data from structured messages with content type application/json
      \u2714 Converts base64 encoded data to binary when deserializing binary messages
      \u2714 Keeps binary data binary when serializing binary messages
      \u2714 Does not parse binary data from binary messages with content type application/json
    Specification version V03
      \u2714 Binary Messages can be created from a CloudEvent
      \u2714 Structured Messages can be created from a CloudEvent
      \u2714 A CloudEvent can be converted from a binary Message
      \u2714 A CloudEvent can be converted from a structured Message
      \u2714 Converts binary data to base64 when serializing structured messages
      \u2714 Converts base64 encoded data to binary when deserializing structured messages
      \u2714 Converts base64 encoded data to binary when deserializing binary messages
      \u2714 Keeps binary data binary when serializing binary messages

  MQTT transport
    \u2714 Handles events with no content-type and no datacontenttype
    \u2714 Can detect invalid CloudEvent Messages
    \u2714 Can detect valid CloudEvent Messages
    \u2714 Handles CloudEvents with datacontenttype of text/plain
    \u2714 Respects extension attribute casing (even if against spec)
    \u2714 Can detect CloudEvent binary Messages with weird versions
    \u2714 Can detect CloudEvent structured Messages with weird versions
    \u2714 Does not throw an exception when converting an invalid Message to a CloudEvent
    \u2714 Does not allow an invalid CloudEvent to be converted to a Message
    \u2714 Binary Messages can be created from a CloudEvent
    \u2714 Sets User Properties on binary messages
    \u2714 Structured Messages can be created from a CloudEvent
    \u2714 A CloudEvent can be converted from a binary Message
    \u2714 A CloudEvent can be converted from a structured Message
    \u2714 Converts binary data to base64 when serializing structured messages
    \u2714 Converts base64 encoded data to binary when deserializing structured messages
    \u2714 Converts base64 encoded data to binary when deserializing binary messages
    \u2714 Keeps binary data binary when serializing binary messages
    \u2714 Does not parse binary data from binary messages with content type application/json

  JSON Event Format Parser
    \u2714 Throw error when payload is an integer
    \u2714 Throw error when payload is null
    \u2714 Throw error when payload is undefined
    \u2714 Throw error when payload is a float
    \u2714 Throw error when payload is an invalid JSON
    \u2714 Accepts a string as valid JSON
    \u2714 Must accept when the payload is a string well formed as JSON

  The SDK Requirements
    \u2714 should expose a CloudEvent type
    v0.3
      \u2714 should create an (invalid) event using the right spec version
    v1.0
      \u2714 should create an event using the right spec version
    Cloning events
      \u2714 should clone simple objects that adhere to the CloudEventV1 interface
      \u2714 should clone simple objects with data that adhere to the CloudEventV1 interface

  CloudEvents Spec v1.0
    REQUIRED Attributes
      \u2714 Should have 'id'
      \u2714 Should have 'source'
      \u2714 Should have 'specversion'
      \u2714 Should have 'type'
    OPTIONAL Attributes
      \u2714 Should have 'datacontenttype'
      \u2714 Should have 'dataschema'
      \u2714 Should have 'subject'
      \u2714 Should have 'time'
    Extensions Constraints
      \u2714 should be ok when type is 'boolean'
      \u2714 should be ok when type is 'integer'
      \u2714 should be ok when type is 'string'
      \u2714 should be ok when type is 'Uint32Array' for 'Binary'
      \u2714 should be ok when type is 'Date' for 'Timestamp'
      \u2714 should be ok when the type is an object
      \u2714 should be ok when the type is an string converted from an object
      \u2714 should only allow a-z|0-9 in the attribute names
    The Constraints check
      'id'
        \u2714 should throw an error when trying to remove
        \u2714 defaut ID create when an empty string
      'source'
        \u2714 should throw an error when trying to remove
      'specversion'
        \u2714 should throw an error when trying to remove
      'type'
        \u2714 should throw an error when trying to remove
      'subject'
        \u2714 should throw an error when is an empty string
      'time'
        \u2714 must adhere to the format specified in RFC 3339
    Event data constraints
      \u2714 Should have 'data'
      \u2714 should maintain the type of data when no datacontenttype is provided
      \u2714 should be ok when type is 'Int8Array' for 'Binary'
      \u2714 should be ok when type is 'Uint8Array' for 'Binary'
      \u2714 should be ok when type is 'Int16Array' for 'Binary'
      \u2714 should be ok when type is 'Uint16Array' for 'Binary'
      \u2714 should be ok when type is 'Int32Array' for 'Binary'
      \u2714 should be ok when type is 'Uint32Array' for 'Binary'
      \u2714 should be ok when type is 'Uint8ClampedArray' for 'Binary'
      \u2714 should be ok when type is 'Float32Array' for 'Binary'
      \u2714 should be ok when type is 'Float64Array' for 'Binary'

  Utilities
    isStringOrThrow
      \u2714 should throw when is not a string
      \u2714 should return true when is a string
    equalsOrThrow
      \u2714 should throw when they are not equals
      \u2714 should return true when they are equals
    isBase64
      \u2714 should return false when is not base64 string
      \u2714 should return true when is a base64 string
    asData
      \u2714 should throw error when data is not a valid json
      \u2714 should parse string content type as string
      \u2714 should parse 'application/json' as json object
      \u2714 should parse 'application/cloudevents+json' as json object
      \u2714 should parse 'text/json' as json object


  222 passing (313ms)
  1 pending

-----------------------------------------------
Running test test_client_fastify (starting at 2024-01-23 20:22:05-05:00) ... 
-----------------------------------------------
Running fastify client test
Running fastify test suite
Cloning into '/var/tmp/daily_scl_tests/rhel9-test-upstream/plans/nightly-container-rhel9/data/s2i-nodejs-container/test/fastify'...
STEP 1/11: FROM ubi9/nodejs-16:1
STEP 2/11: LABEL "io.openshift.s2i.build.image"="ubi9/nodejs-16:1"       "io.openshift.s2i.build.source-location"="file:///var/tmp/daily_scl_tests/rhel9-test-upstream/plans/nightly-container-rhel9/data/s2i-nodejs-container/test/fastify"
--> 9465d95553a0
STEP 3/11: USER root
--> 017d8eb4955b
STEP 4/11: COPY upload/src/ /tmp/src
--> 72e242ea33c7
STEP 5/11: RUN chown -R 1001:0 /tmp/src
--> f83a3d3cc8ce
STEP 6/11: ENV NPM_MIRROR=https://repository.engineering.redhat.com/nexus/repository/registry.npmjs.org
--> 87d1f986f38b
STEP 7/11: ENV NODE_ENV=development
--> e5cc44c3ab3d
STEP 8/11: RUN cd /etc/pki/ca-trust/source/anchors && update-ca-trust extract
--> a8bf9814a5ec
STEP 9/11: USER 1001
--> e84529476ec8
STEP 10/11: RUN /usr/libexec/s2i/assemble
---> Installing application source ...
---> Building your Node application from source

added 750 packages, and audited 914 packages in 46s

180 packages are looking for funding
  run `npm fund` for details

4 vulnerabilities (3 high, 1 critical)

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
npm notice 
npm notice New major version of npm available! 8.19.4 -> 10.3.0
npm notice Changelog: <https://github.com/npm/cli/releases/tag/v10.3.0>
npm notice Run `npm install -g npm@10.3.0` to update!
npm notice 
--> 55827445bc97
STEP 11/11: CMD /usr/libexec/s2i/run
COMMIT ubi9/nodejs-16:1-fastify
--> 5ac5c8778422
Successfully tagged localhost/ubi9/nodejs-16:1-fastify
5ac5c87784225bab1694e26ae99448c589eee70fa928b1edd0f7e1fd96703030

> fastify@4.25.2 test
> npm run lint && npm run unit && npm run test:typescript


> fastify@4.25.2 lint
> npm run lint:standard && npm run lint:typescript && npm run lint:markdown


> fastify@4.25.2 lint:standard
> standard | snazzy


> fastify@4.25.2 lint:typescript
> eslint -c types/.eslintrc.json types/**/*.d.ts test/types/**/*.test-d.ts


> fastify@4.25.2 lint:markdown
> markdownlint-cli2

markdownlint-cli2 v0.10.0 (markdownlint v0.31.1)

> fastify@4.25.2 unit
> c8 tap

TAP version 13
# Subtest: test/404s.test.js
    # Subtest: default 404
        1..5
        ok 1 - should not error
        # Subtest: unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 2 - unsupported method # time=32.063ms
        
        # Subtest: framework-unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 3 - framework-unsupported method # time=5.637ms
        
        # Subtest: unsupported route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 4 - unsupported route # time=4.483ms
        
        # Subtest: using post method and multipart/formdata
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 5 - using post method and multipart/formdata # time=6.059ms
        
    ok 1 - default 404 # time=139.624ms
    
    # Subtest: customized 404
        1..6
        ok 1 - should not error
        # Subtest: unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 2 - unsupported method # time=8.599ms
        
        # Subtest: framework-unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 3 - framework-unsupported method # time=4.104ms
        
        # Subtest: unsupported route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 4 - unsupported route # time=4.198ms
        
        # Subtest: with error object
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 5 - with error object # time=10.168ms
        
        # Subtest: error object with headers property
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 6 - error object with headers property # time=5.515ms
        
    ok 2 - customized 404 # time=45.178ms
    
    # Subtest: custom header in notFound handler
        1..2
        ok 1 - should not error
        # Subtest: not found with custom header
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
        ok 2 - not found with custom header # time=4.838ms
        
    ok 3 - custom header in notFound handler # time=15.04ms
    
    # Subtest: setting a custom 404 handler multiple times is an error
        1..5
        # Subtest: at the root level
            1..2
            ok 1 - type is Error
            ok 2 - should be equal
        ok 1 - at the root level # time=3.171ms
        
        # Subtest: at the plugin level
            1..3
            ok 1 - type is Error
            ok 2 - should be equal
            ok 3 - should not error
        ok 2 - at the plugin level # time=27.991ms
        
        # Subtest: at multiple levels
            1..3
            ok 1 - type is Error
            ok 2 - should be equal
            ok 3 - should not error
        ok 3 - at multiple levels # time=17.641ms
        
        # Subtest: at multiple levels / 2
            1..3
            ok 1 - type is Error
            ok 2 - should be equal
            ok 3 - should not error
        ok 4 - at multiple levels / 2 # time=30.852ms
        
        # Subtest: in separate plugins at the same level
            1..3
            ok 1 - type is Error
            ok 2 - should be equal
            ok 3 - should not error
        ok 5 - in separate plugins at the same level # time=27.515ms
        
    ok 4 - setting a custom 404 handler multiple times is an error # time=120.932ms
    
    # Subtest: encapsulated 404
        1..13
        ok 1 - should not error
        # Subtest: root unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 2 - root unsupported method # time=27.009ms
        
        # Subtest: root framework-unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 3 - root framework-unsupported method # time=4.427ms
        
        # Subtest: root unsupported route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 4 - root unsupported route # time=4.558ms
        
        # Subtest: unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 5 - unsupported method # time=5.076ms
        
        # Subtest: framework-unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 6 - framework-unsupported method # time=4.107ms
        
        # Subtest: unsupported route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 7 - unsupported route # time=4.613ms
        
        # Subtest: unsupported method 2
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 8 - unsupported method 2 # time=4.396ms
        
        # Subtest: framework-unsupported method 2
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 9 - framework-unsupported method 2 # time=4.698ms
        
        # Subtest: unsupported route 2
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 10 - unsupported route 2 # time=3.971ms
        
        # Subtest: unsupported method 3
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 11 - unsupported method 3 # time=4.469ms
        
        # Subtest: framework-unsupported method 3
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 12 - framework-unsupported method 3 # time=3.988ms
        
        # Subtest: unsupported route 3
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 13 - unsupported route 3 # time=3.929ms
        
    ok 5 - encapsulated 404 # time=128.323ms
    
    # Subtest: custom 404 hook and handler context
        1..21
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should not error
        ok 17 - should be equal
        ok 18 - should be equal
        ok 19 - should not error
        ok 20 - should be equal
        ok 21 - should be equal
    ok 6 - custom 404 hook and handler context # time=67.87ms
    
    # Subtest: encapsulated custom 404 without - prefix hook and handler context
        1..13
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should not error
        ok 12 - should be equal
        ok 13 - should be equal
    ok 7 - encapsulated custom 404 without - prefix hook and handler context # time=16.655ms
    
    # Subtest: run hooks on default 404
        1..7
        ok 1 - should not error
        ok 2 - onRequest called
        ok 3 - preHandler called
        ok 4 - onSend called
        ok 5 - onResponse called
        ok 6 - should not error
        ok 7 - should be equal
    ok 8 - run hooks on default 404 # time=17.715ms
    
    # Subtest: run non-encapsulated plugin hooks on default 404
        1..6
        ok 1 - onRequest called
        ok 2 - preHandler called
        ok 3 - onSend called
        ok 4 - onResponse called
        ok 5 - should not error
        ok 6 - should be equal
    ok 9 - run non-encapsulated plugin hooks on default 404 # time=25.655ms
    
    # Subtest: run non-encapsulated plugin hooks on custom 404
        1..11
        ok 1 - onRequest called
        ok 2 - onRequest called
        ok 3 - preHandler called
        ok 4 - preHandler called
        ok 5 - onSend called
        ok 6 - onSend called
        ok 7 - onResponse called
        ok 8 - onResponse called
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should be equal
    ok 10 - run non-encapsulated plugin hooks on custom 404 # time=17.139ms
    
    # Subtest: run hook with encapsulated 404
        1..11
        ok 1 - should not error
        ok 2 - onRequest called
        ok 3 - onRequest 2 called
        ok 4 - preHandler called
        ok 5 - preHandler 2 called
        ok 6 - onSend called
        ok 7 - onSend 2 called
        ok 8 - onResponse called
        ok 9 - onResponse 2 called
        ok 10 - should not error
        ok 11 - should be equal
    ok 11 - run hook with encapsulated 404 # time=16.618ms
    
    # Subtest: run hook with encapsulated 404 and framework-unsupported method
        1..11
        ok 1 - should not error
        ok 2 - onRequest called
        ok 3 - onRequest 2 called
        ok 4 - preHandler called
        ok 5 - preHandler 2 called
        ok 6 - onSend called
        ok 7 - onSend 2 called
        ok 8 - onResponse called
        ok 9 - onResponse 2 called
        ok 10 - should not error
        ok 11 - should be equal
    ok 12 - run hook with encapsulated 404 and framework-unsupported method # time=17.727ms
    
    # Subtest: hooks check 404
        1..13
        ok 1 - should not error
        ok 2 - onRequest
        ok 3 - should be equivalent
        ok 4 - onSend
        ok 5 - onResponse
        ok 6 - onRequest
        ok 7 - should be equivalent
        ok 8 - onSend
        ok 9 - onResponse
        ok 10 - should not error
        ok 11 - should be equal
        ok 12 - should not error
        ok 13 - should be equal
    ok 13 - hooks check 404 # time=21.179ms
    
    # Subtest: setNotFoundHandler should not suppress duplicated routes checking
        1..1
        ok 1 - expect truthy value
    ok 14 - setNotFoundHandler should not suppress duplicated routes checking # time=2.935ms
    
    # Subtest: log debug for 404
        1..1
        # Subtest: log debug
            1..7
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
        ok 1 - log debug # time=8.731ms
        
    ok 15 - log debug for 404 # time=14.951ms
    
    # Subtest: Unknown method
        1..5
        ok 1 - should not error
        ok 2 - expected to throw
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent strictly
    ok 16 - Unknown method # time=30.092ms
    
    # Subtest: recognizes errors from the http-errors module
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent strictly
    ok 17 - recognizes errors from the http-errors module # time=20.158ms
    
    # Subtest: the default 404 handler can be invoked inside a prefixed plugin
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent strictly
    ok 18 - the default 404 handler can be invoked inside a prefixed plugin # time=5.875ms
    
    # Subtest: an inherited custom 404 handler can be invoked inside a prefixed plugin
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - an inherited custom 404 handler can be invoked inside a prefixed plugin # time=8.382ms
    
    # Subtest: encapsulated custom 404 handler without a prefix is the handler for the entire 404 level
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 20 - encapsulated custom 404 handler without a prefix is the handler for the entire 404 level # time=14.738ms
    
    # Subtest: cannot set notFoundHandler after binding
        1..2
        ok 1 - should not error
        ok 2 - (unnamed test)
    ok 21 - cannot set notFoundHandler after binding # time=16.95ms
    
    # Subtest: 404 inside onSend
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 22 - 404 inside onSend # time=6.446ms
    
    # Subtest: onSend hooks run when an encapsulated route invokes the notFound handler
        1..3
        ok 1 - onSend hook called
        ok 2 - should not error
        ok 3 - should be equal
    ok 23 - onSend hooks run when an encapsulated route invokes the notFound handler # time=5.504ms
    
    # Subtest: preHandler option for setNotFoundHandler
        1..10
        # Subtest: preHandler option
            1..2
            ok 1 - should not error
            ok 2 - should be equivalent
        ok 1 - preHandler option # time=28.154ms
        
        # Subtest: preHandler hook in setNotFoundHandler should be called when callNotFound
            1..3
            ok 1 - should be equal
            ok 2 - should not error
            ok 3 - should be equivalent
        ok 2 - preHandler hook in setNotFoundHandler should be called when callNotFound # time=5.8ms
        
        # Subtest: preHandler hook in setNotFoundHandler should accept an array of functions and be called when callNotFound
            1..2
            ok 1 - should not error
            ok 2 - should be equivalent
        ok 3 - preHandler hook in setNotFoundHandler should accept an array of functions and be called when callNotFound # time=4.951ms
        
        # Subtest: preHandler option should be called after preHandler hook
            1..2
            ok 1 - should not error
            ok 2 - should be equivalent
        ok 4 - preHandler option should be called after preHandler hook # time=4.512ms
        
        # Subtest: preHandler option should be unique per prefix
            1..4
            ok 1 - should not error
            ok 2 - should be equivalent
            ok 3 - should not error
            ok 4 - should be equivalent
        ok 5 - preHandler option should be unique per prefix # time=7.93ms
        
        # Subtest: preHandler option should handle errors
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 6 - preHandler option should handle errors # time=5.287ms
        
        # Subtest: preHandler option should handle errors with custom status code
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 7 - preHandler option should handle errors with custom status code # time=6.161ms
        
        # Subtest: preHandler option could accept an array of functions
            1..2
            ok 1 - should not error
            ok 2 - should be equivalent
        ok 8 - preHandler option could accept an array of functions # time=13.264ms
        
        # Subtest: preHandler option does not interfere with preHandler
            1..4
            ok 1 - should not error
            ok 2 - should be equivalent
            ok 3 - should not error
            ok 4 - should be equivalent
        ok 9 - preHandler option does not interfere with preHandler # time=18.188ms
        
        # Subtest: preHandler option should keep the context
            1..3
            ok 1 - should be equal
            ok 2 - should not error
            ok 3 - should be equivalent
        ok 10 - preHandler option should keep the context # time=22.969ms
        
    ok 24 - preHandler option for setNotFoundHandler # time=131.974ms
    
    # Subtest: reply.notFound invoked the notFound handler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 25 - reply.notFound invoked the notFound handler # time=6.042ms
    
    # Subtest: The custom error handler should be invoked after the custom not found handler
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - type is Error
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 26 - The custom error handler should be invoked after the custom not found handler # time=7.349ms
    
    # Subtest: If the custom not found handler does not use an Error, the custom error handler should not be called
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 27 - If the custom not found handler does not use an Error, the custom error handler should not be called # time=5.113ms
    
    # Subtest: preValidation option
        1..3
        ok 1 - expect truthy value
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 28 - preValidation option # time=19.555ms
    
    # Subtest: preValidation option could accept an array of functions
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 29 - preValidation option could accept an array of functions # time=7.244ms
    
    # Subtest: Should fail to invoke callNotFound inside a 404 handler
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 30 - Should fail to invoke callNotFound inside a 404 handler # time=7.311ms
    
    # Subtest: 400 in case of bad url (pre find-my-way v2.2.0 was a 404)
        # Subtest: Dynamic route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 1 - Dynamic route # time=16.038ms
        
        # Subtest: Wildcard
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 2 - Wildcard # time=27.275ms
        
        # Subtest: No route registered
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - No route registered # time=7.266ms
        
        # Subtest: Only / is registered
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 4 - Only / is registered # time=20.421ms
        
        # Subtest: customized 404
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 5 - customized 404 # time=19.961ms
        
        1..5
    ok 31 - 400 in case of bad url (pre find-my-way v2.2.0 was a 404) # time=107.698ms
    
    # Subtest: setNotFoundHandler should be chaining fastify instance
        # Subtest: Register route after setNotFoundHandler
            1..6
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should not error
            ok 5 - should be equal
            ok 6 - should be equal
        ok 1 - Register route after setNotFoundHandler # time=18.967ms
        
        1..1
    ok 32 - setNotFoundHandler should be chaining fastify instance # time=28.947ms
    
    # Subtest: Send 404 when frameworkError calls reply.callNotFound
        # Subtest: Dynamic route
            1..4
            ok 1 - should be equal
            ok 2 - should not error
            ok 3 - should be equal
            ok 4 - should be equal
        ok 1 - Dynamic route # time=6.157ms
        
        1..1
    ok 33 - Send 404 when frameworkError calls reply.callNotFound # time=13.871ms
    
    # Subtest: hooks are applied to not found handlers /1
        ok 1 - should be equal
        1..1
    ok 34 - hooks are applied to not found handlers /1 # time=18.088ms
    
    # Subtest: hooks are applied to not found handlers /2
        ok 1 - should be equal
        1..1
    ok 35 - hooks are applied to not found handlers /2 # time=13.832ms
    
    # Subtest: hooks are applied to not found handlers /3
        ok 1 - should be equal
        1..1
    ok 36 - hooks are applied to not found handlers /3 # time=9.476ms
    
    1..36
    # time=1211.961ms
ok 1 - test/404s.test.js # time=1211.961ms

# Subtest: test/500s.test.js
    # Subtest: default 500
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - default 500 # time=59.581ms
    
    # Subtest: custom 500
        1..6
        ok 1 - type is object
        ok 2 - type is Request
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 2 - custom 500 # time=8.27ms
    
    # Subtest: encapsulated 500
        1..10
        ok 1 - type is object
        ok 2 - type is Request
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equivalent
    ok 3 - encapsulated 500 # time=27.445ms
    
    # Subtest: custom 500 with hooks
        1..7
        ok 1 - onRequest
        ok 2 - onSend
        ok 3 - onResponse
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 4 - custom 500 with hooks # time=16.925ms
    
    # Subtest: cannot set errorHandler after binding
        1..2
        ok 1 - should not error
        ok 2 - (unnamed test)
    ok 5 - cannot set errorHandler after binding # time=20.734ms
    
    # Subtest: cannot set childLoggerFactory after binding
        1..2
        ok 1 - should not error
        ok 2 - (unnamed test)
    ok 6 - cannot set childLoggerFactory after binding # time=12.287ms
    
    1..6
    # time=172.699ms
ok 2 - test/500s.test.js # time=172.699ms

# Subtest: test/allowUnsafeRegex.test.js
    # Subtest: allow unsafe regex
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - allow unsafe regex # time=72.338ms
    
    # Subtest: allow unsafe regex not match
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 2 - allow unsafe regex not match # time=9.981ms
    
    # Subtest: allow unsafe regex not safe
        1..1
        ok 1 - expected to throw
    ok 3 - allow unsafe regex not safe # time=4.534ms
    
    # Subtest: allow unsafe regex not safe by default
        1..1
        ok 1 - expected to throw
    ok 4 - allow unsafe regex not safe by default # time=6.877ms
    
    # Subtest: allow unsafe regex allow unsafe
        1..5
        ok 1 - expected to not throw
        ok 2 - should not error
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 5 - allow unsafe regex allow unsafe # time=14.229ms
    
    1..5
    # time=150.632ms
ok 3 - test/allowUnsafeRegex.test.js # time=150.632ms

# Subtest: test/als.test.js
    ok 1 - should not error
    ok 2 - expect truthy value
    ok 3 - should not error
    ok 4 - should be equal
    ok 5 - should be equivalent
    ok 6 - expect truthy value
    ok 7 - should not error
    ok 8 - should be equal
    ok 9 - should be equivalent
    ok 10 - expect truthy value
    ok 11 - should not error
    ok 12 - should be equal
    ok 13 - should be equivalent
    1..13
    # time=46.6ms
ok 4 - test/als.test.js # time=46.6ms

# Subtest: test/async-await.test.js
    # Subtest: async await
        1..11
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - should not error
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 1 - async await # time=307.267ms
    
    # Subtest: ignore the result of the promise if reply.send is called beforehand (undefined)
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should be equal
    ok 2 - ignore the result of the promise if reply.send is called beforehand (undefined) # time=10.711ms
    
    # Subtest: ignore the result of the promise if reply.send is called beforehand (object)
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should be equal
    ok 3 - ignore the result of the promise if reply.send is called beforehand (object) # time=19.509ms
    
    # Subtest: server logs an error if reply.send is called and a value is returned via async/await
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent
    ok 4 - server logs an error if reply.send is called and a value is returned via async/await # time=35.859ms
    
    # Subtest: ignore the result of the promise if reply.send is called beforehand (undefined)
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should be equal
    ok 5 - ignore the result of the promise if reply.send is called beforehand (undefined) # time=8.964ms
    
    # Subtest: ignore the result of the promise if reply.send is called beforehand (object)
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should be equal
    ok 6 - ignore the result of the promise if reply.send is called beforehand (object) # time=25.436ms
    
    # Subtest: await reply if we will be calling reply.send in the future
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 7 - await reply if we will be calling reply.send in the future # time=13.297ms
    
    # Subtest: await reply if we will be calling reply.send in the future (error case)
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 8 - await reply if we will be calling reply.send in the future (error case) # time=12.576ms
    
    # Subtest: support reply decorators with await
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 9 - support reply decorators with await # time=6.924ms
    
    # Subtest: inject async await
        1..1
        ok 1 - should be equivalent
    ok 10 - inject async await # time=13.365ms
    
    # Subtest: inject async await - when the server equal up
        1..2
        ok 1 - should be equivalent
        ok 2 - should be equivalent
    ok 11 - inject async await - when the server equal up # time=219.987ms
    
    # Subtest: async await plugin
        1..1
        ok 1 - should be equivalent
    ok 12 - async await plugin # time=208.758ms
    
    # Subtest: does not call reply.send() twice if 204 response equal already sent
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 13 - does not call reply.send() twice if 204 response equal already sent # time=13.358ms
    
    # Subtest: promise was fulfilled with undefined
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 14 - promise was fulfilled with undefined # time=14.088ms
    
    # Subtest: promise was fulfilled with undefined using inject
        ok 1 - should be equal
        ok 2 - should be equal
        1..2
    ok 15 - promise was fulfilled with undefined using inject # time=20.051ms
    
    # Subtest: error is not logged because promise was fulfilled with undefined but response was sent before promise resolution
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 16 - error is not logged because promise was fulfilled with undefined but response was sent before promise resolution # time=36.944ms
    
    # Subtest: Thrown Error instance sets HTTP status code
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - Thrown Error instance sets HTTP status code # time=17.305ms
    
    # Subtest: customErrorHandler support
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 18 - customErrorHandler support # time=9.94ms
    
    # Subtest: customErrorHandler support without throwing
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 19 - customErrorHandler support without throwing # time=10.693ms
    
    # Subtest: customErrorHandler only called if reply not already sent
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 20 - customErrorHandler only called if reply not already sent # time=7.217ms
    
    # Subtest: setNotFoundHandler should accept return value
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - setNotFoundHandler should accept return value # time=5.59ms
    
    # Subtest: customErrorHandler should accept return value
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 22 - customErrorHandler should accept return value # time=5.537ms
    
    # Subtest: await self
        ok 1 - should be equal
        1..1
    ok 23 - await self # time=4.156ms
    
    1..23
    # time=1061.598ms
ok 5 - test/async-await.test.js # time=1061.598ms

# Subtest: test/async-dispose.test.js
    ok 1 - async dispose should close fastify # SKIP
    1..1
    # skip: 1
    # time=11.25ms
ok 6 - test/async-dispose.test.js # time=11.25ms

# Subtest: test/bodyLimit.test.js
    # Subtest: bodyLimit
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should not error
        ok 5 - should be equal
    ok 1 - bodyLimit # time=71.647ms
    
    # Subtest: bodyLimit is applied to decoded content
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 2 - bodyLimit is applied to decoded content # time=37.001ms
    
    # Subtest: default request.routeOptions.bodyLimit should be 1048576
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 3 - default request.routeOptions.bodyLimit should be 1048576 # time=50.764ms
    
    # Subtest: request.routeOptions.bodyLimit should be equal to route limit
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 4 - request.routeOptions.bodyLimit should be equal to route limit # time=15.498ms
    
    # Subtest: request.routeOptions.bodyLimit should be equal to server limit
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 5 - request.routeOptions.bodyLimit should be equal to server limit # time=8.06ms
    
    1..5
    # time=197.315ms
ok 7 - test/bodyLimit.test.js # time=197.315ms

# Subtest: test/buffer.test.js
    # Subtest: Buffer test
        1..0
    ok 1 - Buffer test # time=25.04ms
    
    # Subtest: should return 200 if the body is not empty
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 2 - should return 200 if the body is not empty # time=32.698ms
    
    # Subtest: should return 400 if the body is empty
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 3 - should return 400 if the body is empty # time=6.898ms
    
    1..3
    # time=74.471ms
ok 8 - test/buffer.test.js # time=74.471ms

# Subtest: test/build/error-serializer.test.js
    # Subtest: check generated code syntax
        1..1
        ok 1 - should be equal
    ok 1 - check generated code syntax # time=1484.72ms
    
    ok 2 - ensure the current error serializer is latest # SKIP
    1..2
    # skip: 1
    # time=1497.602ms
ok 9 - test/build/error-serializer.test.js # time=1497.602ms

# Subtest: test/build/version.test.js
    # Subtest: should be the same as package.json
        1..1
        ok 1 - should be equal
    ok 1 - should be the same as package.json # time=7.031ms
    
    1..1
    # time=17.377ms
ok 10 - test/build/version.test.js # time=17.377ms

# Subtest: test/case-insensitive.test.js
    # Subtest: case insensitive
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - case insensitive # time=71.74ms
    
    # Subtest: case insensitive inject
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 2 - case insensitive inject # time=18.537ms
    
    # Subtest: case insensitive (parametric)
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 3 - case insensitive (parametric) # time=9.759ms
    
    # Subtest: case insensitive (wildcard)
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 4 - case insensitive (wildcard) # time=20.223ms
    
    1..4
    # time=149.224ms
ok 11 - test/case-insensitive.test.js # time=149.224ms

# Subtest: test/chainable.test.js
    # Subtest: chainable - get
        1..1
        ok 1 - type is [object Object]
    ok 1 - chainable - get # time=10.076ms
    
    # Subtest: chainable - post
        1..1
        ok 1 - type is [object Object]
    ok 2 - chainable - post # time=2.112ms
    
    # Subtest: chainable - route
        1..1
        ok 1 - type is [object Object]
    ok 3 - chainable - route # time=2.318ms
    
    1..3
    # time=33.392ms
ok 12 - test/chainable.test.js # time=33.392ms

# Subtest: test/childLoggerFactory.test.js
    # Subtest: Should accept a custom childLoggerFactory function
        1..4
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
    ok 1 - Should accept a custom childLoggerFactory function # time=57.444ms
    
    # Subtest: req.log should be the instance returned by the factory
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
    ok 2 - req.log should be the instance returned by the factory # time=8.516ms
    
    # Subtest: should throw error if invalid logger is returned
        1..2
        ok 1 - should not error
        ok 2 - expected to throw
    ok 3 - should throw error if invalid logger is returned # time=39.765ms
    
    1..3
    # time=119.797ms
ok 13 - test/childLoggerFactory.test.js # time=119.797ms

# Subtest: test/client-timeout.test.js
    # Subtest: requestTimeout should return 408
        1..1
        ok 1 - should be equal
    ok 1 - requestTimeout should return 408 # time=38.989ms
    
    1..1
    # time=48.116ms
ok 14 - test/client-timeout.test.js # time=48.116ms

# Subtest: test/close-pipelining.test.js
    # Subtest: Should return 503 while closing - pipelining
        ok 1 - should be equivalent
        1..1
    ok 1 - Should return 503 while closing - pipelining # time=135.039ms
    
    # Subtest: Should not return 503 while closing - pipelining - return503OnClosing: false, skip Node >= v18.19.x
        ok 1 - should be equivalent
        1..1
    ok 2 - Should not return 503 while closing - pipelining - return503OnClosing: false, skip Node >= v18.19.x # time=20.933ms
    
    ok 3 - Should close the socket abruptly - pipelining - return503OnClosing: false, skip Node < v18.19.x # SKIP
    1..3
    # skip: 1
    # time=172.945ms
ok 15 - test/close-pipelining.test.js # time=172.945ms

# Subtest: test/close.test.js
    # Subtest: close callback
        1..4
        ok 1 - should not error
        ok 2 - type is [object Object]
        ok 3 - should not error
        ok 4 - expect truthy value
    ok 1 - close callback # time=94.482ms
    
    # Subtest: inside register
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - expect truthy value
    ok 2 - inside register # time=28.254ms
    
    # Subtest: close order
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 3 - close order # time=28.518ms
    
    # Subtest: close order - async
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 4 - close order - async # time=18.461ms
    
    # Subtest: should not throw an error if the server is not listening
        1..2
        ok 1 - type is [object Object]
        ok 2 - should not error
    ok 5 - should not throw an error if the server is not listening # time=14.252ms
    
    # Subtest: onClose should keep the context
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should not error
    ok 6 - onClose should keep the context # time=9.414ms
    
    # Subtest: Should return error while closing (promise) - injection
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 7 - Should return error while closing (promise) - injection # time=53.443ms
    
    # Subtest: Should return error while closing (callback) - injection
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 8 - Should return error while closing (callback) - injection # time=118.831ms
    
    # Subtest: Current opened connection should continue to work after closing and return "connection: close" header - return503OnClosing: false, skip Node >= v18.19.x
        ok 1 - should not error
        ok 2 - should match pattern provided
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
        ok 5 - should match pattern provided
        1..5
    ok 9 - Current opened connection should continue to work after closing and return "connection: close" header - return503OnClosing: false, skip Node >= v18.19.x # time=25.447ms
    
    ok 10 - Current opened connection should NOT continue to work after closing and return "connection: close" header - return503OnClosing: false, skip Node < v18.19.x # SKIP
    # Subtest: Current opened connection should not accept new incoming connections
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 11 - Current opened connection should not accept new incoming connections # time=286.948ms
    
    # Subtest: rejected incoming connections should be logged
        1..2
        ok 1 - should not error
        ok 2 - expect truthy value
    ok 12 - rejected incoming connections should be logged # time=269.209ms
    
    # Subtest: Cannot be reopened the closed server without listen callback
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 13 - Cannot be reopened the closed server without listen callback # time=15.645ms
    
    # Subtest: Cannot be reopened the closed server has listen callback
        1..2
        ok 1 - should be equal
        ok 2 - expect truthy value
    ok 14 - Cannot be reopened the closed server has listen callback # time=9.111ms
    
    ok 15 - shutsdown while keep-alive connections are active (non-async, native) # SKIP
    ok 16 - shutsdown while keep-alive connections are active (non-async, idle, native) # SKIP
    # Subtest: triggers on-close hook in the right order with multiple bindings
        1..1
        ok 1 - should match pattern provided
    ok 17 - triggers on-close hook in the right order with multiple bindings # time=2012.823ms
    
    ok 18 - triggers on-close hook in the right order with multiple bindings (forceCloseConnections - idle) # SKIP
    ok 19 - triggers on-close hook in the right order with multiple bindings (forceCloseConnections - true) # SKIP
    # Subtest: shutsdown while keep-alive connections are active (non-async, custom)
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 20 - shutsdown while keep-alive connections are active (non-async, custom) # time=15.755ms
    
    # Subtest: preClose callback
        1..5
        ok 1 - should not error
        ok 2 - type is [object Object]
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - expect truthy value
    ok 21 - preClose callback # time=7.661ms
    
    # Subtest: preClose async
        1..2
        ok 1 - type is [object Object]
        ok 2 - should be equal
    ok 22 - preClose async # time=4.41ms
    
    # Subtest: preClose execution order
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - expect truthy value
    ok 23 - preClose execution order # time=414.329ms
    
    1..23
    # skip: 5
    # time=3457.509ms
ok 16 - test/close.test.js # time=3457.509ms

# Subtest: test/connectionTimeout.test.js
    # Subtest: connectionTimeout
        1..6
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 1 - connectionTimeout # time=58.903ms
    
    1..1
    # time=69.431ms
ok 17 - test/connectionTimeout.test.js # time=69.431ms

# Subtest: test/constrained-routes.test.js
    # Subtest: Should register a host constrained route
        1..7
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
    ok 1 - Should register a host constrained route # time=90.809ms
    
    # Subtest: Should register the same route with host constraints
        1..8
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 2 - Should register the same route with host constraints # time=9.75ms
    
    # Subtest: Should allow registering custom constrained routes
        1..8
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 3 - Should allow registering custom constrained routes # time=21.247ms
    
    # Subtest: Should allow registering custom constrained routes outside constructor
        1..8
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 4 - Should allow registering custom constrained routes outside constructor # time=16.671ms
    
    # Subtest: Custom constrained routes registered also for HEAD method generated by fastify
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 5 - Custom constrained routes registered also for HEAD method generated by fastify # time=11.345ms
    
    # Subtest: Custom constrained routes registered with addConstraintStrategy apply also for HEAD method generated by fastify
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 6 - Custom constrained routes registered with addConstraintStrategy apply also for HEAD method generated by fastify # time=13.984ms
    
    # Subtest: Add a constraint strategy after fastify instance was started
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - Cannot add constraint strategy when fastify instance is already started!
    ok 7 - Add a constraint strategy after fastify instance was started # time=7.996ms
    
    # Subtest: Add a constraint strategy should throw an error if there already exist custom strategy with the same name
        1..1
        ok 1 - There already exists a custom constraint with the name secret.
    ok 8 - Add a constraint strategy should throw an error if there already exist custom strategy with the same name # time=10.364ms
    
    # Subtest: Add a constraint strategy shouldn't throw an error if default constraint with the same name isn't used
        1..1
        ok 1 - (unnamed test)
    ok 9 - Add a constraint strategy shouldn't throw an error if default constraint with the same name isn't used # time=2.232ms
    
    # Subtest: Add a constraint strategy should throw an error if default constraint with the same name is used
        1..1
        ok 1 - There already exists a route with version constraint.
    ok 10 - Add a constraint strategy should throw an error if default constraint with the same name is used # time=5.012ms
    
    # Subtest: The hasConstraintStrategy should return false for default constraints until they are used
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 11 - The hasConstraintStrategy should return false for default constraints until they are used # time=6.284ms
    
    # Subtest: The hasConstraintStrategy should return true if there already exist a custom constraint with the same name
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 12 - The hasConstraintStrategy should return true if there already exist a custom constraint with the same name # time=2.419ms
    
    # Subtest: Should allow registering an unconstrained route after a constrained route
        1..6
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equal
    ok 13 - Should allow registering an unconstrained route after a constrained route # time=19.141ms
    
    # Subtest: Should allow registering constrained routes in a prefixed plugin
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 14 - Should allow registering constrained routes in a prefixed plugin # time=26.61ms
    
    # Subtest: Should allow registering a constrained GET route after a constrained HEAD route
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 15 - Should allow registering a constrained GET route after a constrained HEAD route # time=13.502ms
    
    # Subtest: Should allow registering a constrained GET route after an unconstrained HEAD route
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 16 - Should allow registering a constrained GET route after an unconstrained HEAD route # time=12.253ms
    
    # Subtest: Will not try to re-createprefixed HEAD route if it already exists and exposeHeadRoutes is true for constrained routes
        1..1
        ok 1 - expect truthy value
    ok 17 - Will not try to re-createprefixed HEAD route if it already exists and exposeHeadRoutes is true for constrained routes # time=5.077ms
    
    # Subtest: allows separate constrained and unconstrained HEAD routes
        1..1
        ok 1 - expect truthy value
    ok 18 - allows separate constrained and unconstrained HEAD routes # time=16.309ms
    
    # Subtest: allow async constraints
        1..5
        ok 1 - should be equivalent
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should be equal
        ok 5 - should be equal
    ok 19 - allow async constraints # time=15.269ms
    
    # Subtest: error in async constraints
        1..8
        ok 1 - should be equivalent
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should be equal
        ok 5 - should be equivalent
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should be equal
    ok 20 - error in async constraints # time=16.978ms
    
    # Subtest: Allow regex constraints in routes
        1..5
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 21 - Allow regex constraints in routes # time=8.858ms
    
    1..21
    # time=368.404ms
ok 18 - test/constrained-routes.test.js # time=368.404ms

# Subtest: test/content-length.test.js
    # Subtest: default 413 with bodyLimit option
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - default 413 with bodyLimit option # time=59.178ms
    
    # Subtest: default 400 with wrong content-length
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 2 - default 400 with wrong content-length # time=15.753ms
    
    # Subtest: custom 413 with bodyLimit option
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 3 - custom 413 with bodyLimit option # time=14.927ms
    
    # Subtest: custom 400 with wrong content-length
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 4 - custom 400 with wrong content-length # time=12.32ms
    
    # Subtest: \#2214 - wrong content-length
        ok 1 - should be equal
        1..1
    ok 5 - \#2214 - wrong content-length # time=12.045ms
    
    # Subtest: \#2543 - wrong content-length with errorHandler
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equivalent
        1..3
    ok 6 - \#2543 - wrong content-length with errorHandler # time=7.135ms
    
    1..6
    # time=142.47ms
ok 19 - test/content-length.test.js # time=142.47ms

# Subtest: test/content-parser.test.js
    # Subtest: hasContentTypeParser
        1..0
    ok 1 - hasContentTypeParser # time=11.728ms
    
    # Subtest: should know about internal parsers
        1..4
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
    ok 2 - should know about internal parsers # time=54.611ms
    
    # Subtest: should work with string and RegExp
        1..7
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect falsey value
        ok 6 - expect falsey value
        ok 7 - expect falsey value
    ok 3 - should work with string and RegExp # time=5.143ms
    
    # Subtest: getParser
        1..0
    ok 4 - getParser # time=10.361ms
    
    # Subtest: existingParser
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - expect falsey value
        ok 6 - expect falsey value
        ok 7 - expect falsey value
        1..7
    ok 5 - existingParser # time=8.375ms
    
    # Subtest: add
        1..0
    ok 6 - add # time=4.611ms
    
    # Subtest: non-Error thrown from content parser is properly handled
        1..3
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
    ok 7 - non-Error thrown from content parser is properly handled # time=27.765ms
    
    # Subtest: Error thrown 415 from content type is null and make post request to server
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 8 - Error thrown 415 from content type is null and make post request to server # time=19.523ms
    
    # Subtest: remove
        1..0
    ok 9 - remove # time=17.912ms
    
    # Subtest: remove all should remove all existing parsers and reset cache
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
    ok 10 - remove all should remove all existing parsers and reset cache # time=7.051ms
    
    # Subtest: Safeguard against malicious content-type / 1
        1..12
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
        ok 7 - should be equivalent
        ok 8 - should be equivalent
        ok 9 - should be equivalent
        ok 10 - should be equivalent
        ok 11 - should be equivalent
        ok 12 - should be equivalent
    ok 11 - Safeguard against malicious content-type / 1 # time=15.947ms
    
    # Subtest: Safeguard against malicious content-type / 2
        1..1
        ok 1 - should be equivalent
    ok 12 - Safeguard against malicious content-type / 2 # time=12.223ms
    
    # Subtest: Safeguard against malicious content-type / 3
        1..1
        ok 1 - should be equivalent
    ok 13 - Safeguard against malicious content-type / 3 # time=8.791ms
    
    # Subtest: Safeguard against content-type spoofing - string
        1..1
        ok 1 - should be called
    ok 14 - Safeguard against content-type spoofing - string # time=13.571ms
    
    # Subtest: Safeguard against content-type spoofing - regexp
        1..1
        ok 1 - should be called
    ok 15 - Safeguard against content-type spoofing - regexp # time=8.873ms
    
    # Subtest: content-type match parameters - string 1
        1..1
        ok 1 - should be called
    ok 16 - content-type match parameters - string 1 # time=14.93ms
    
    # Subtest: content-type match parameters - string 2
        1..1
        ok 1 - should be called
    ok 17 - content-type match parameters - string 2 # time=11.213ms
    
    # Subtest: content-type match parameters - regexp
        1..1
        ok 1 - should be called
    ok 18 - content-type match parameters - regexp # time=4.549ms
    
    # Subtest: content-type fail when parameters not match - string 1
        1..1
        ok 1 - should be equivalent
    ok 19 - content-type fail when parameters not match - string 1 # time=6.628ms
    
    # Subtest: content-type fail when parameters not match - string 2
        1..1
        ok 1 - should be equivalent
    ok 20 - content-type fail when parameters not match - string 2 # time=6.887ms
    
    # Subtest: content-type fail when parameters not match - regexp
        1..1
        ok 1 - should be equivalent
    ok 21 - content-type fail when parameters not match - regexp # time=11.363ms
    
    # Subtest: content-type regexp list should be cloned when plugin override
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 22 - content-type regexp list should be cloned when plugin override # time=62.128ms
    
    # Subtest: allow partial content-type - essence check
        1..1
        ok 1 - should be called
    ok 23 - allow partial content-type - essence check # time=3.997ms
    
    # Subtest: allow partial content-type - not essence check
        1..1
        ok 1 - should be called
    ok 24 - allow partial content-type - not essence check # time=3.42ms
    
    # Subtest: edge case content-type - ;
        1..1
        ok 1 - end
    ok 25 - edge case content-type - ; # time=13.089ms
    
    # Subtest: should return matching parser
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 26 - should return matching parser # time=5.324ms
    
    # Subtest: should return matching parser with caching
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 27 - should return matching parser with caching # time=4.786ms
    
    # Subtest: should prefer content type parser with string value
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 28 - should prefer content type parser with string value # time=3.233ms
    
    # Subtest: should return parser that catches all if no other is set
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 29 - should return parser that catches all if no other is set # time=4.569ms
    
    # Subtest: should return undefined if no matching parser exist
        1..2
        ok 1 - expect falsey value
        ok 2 - expect falsey value
    ok 30 - should return undefined if no matching parser exist # time=3.633ms
    
    # Subtest: returns always false for "*"
        1..2
        ok 1 - expect falsey value
        ok 2 - expect falsey value
    ok 31 - returns always false for "*" # time=2.976ms
    
    # Subtest: let you override the default parser once
        1..2
        ok 1 - Content type parser 'application/json' already present
        ok 2 - Content type parser 'text/plain' already present
    ok 32 - let you override the default parser once # time=6.729ms
    
    # Subtest: should only accept string and RegExp
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - The content type should be a string or a RegExp
        ok 4 - The content type should be a string or a RegExp
    ok 33 - should only accept string and RegExp # time=1.672ms
    
    # Subtest: should set "*" as parser that catches all
        1..1
        ok 1 - should be equal
    ok 34 - should set "*" as parser that catches all # time=2.762ms
    
    # Subtest: should remove default parser
        1..3
        ok 1 - expect truthy value
        ok 2 - expect falsey value
        ok 3 - expect falsey value
    ok 35 - should remove default parser # time=3.08ms
    
    # Subtest: should remove RegExp parser
        1..3
        ok 1 - expect truthy value
        ok 2 - expect falsey value
        ok 3 - expect falsey value
    ok 36 - should remove RegExp parser # time=3.256ms
    
    # Subtest: should throw an error if content type is neither string nor RegExp
        1..1
        ok 1 - expected to throw
    ok 37 - should throw an error if content type is neither string nor RegExp # time=1.998ms
    
    # Subtest: should return false if content type does not exist
        1..1
        ok 1 - expect falsey value
    ok 38 - should return false if content type does not exist # time=3.038ms
    
    # Subtest: should not remove any content type parser if content type does not exist
        1..2
        ok 1 - expect falsey value
        ok 2 - should be equivalent
    ok 39 - should not remove any content type parser if content type does not exist # time=2.222ms
    
    1..39
    # time=476.2ms
ok 20 - test/content-parser.test.js # time=476.2ms

# Subtest: test/content-type.test.js
    # Subtest: should remove content-type for setErrorHandler
        1..8
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
        ok 7 - should be equivalent
        ok 8 - should be equivalent
    ok 1 - should remove content-type for setErrorHandler # time=54.224ms
    
    1..1
    # time=61.84ms
ok 21 - test/content-type.test.js # time=61.84ms

# Subtest: test/context-config.test.js
    # Subtest: config
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 1 - config # time=65.163ms
    
    # Subtest: config with exposeHeadRoutes
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 2 - config with exposeHeadRoutes # time=10.639ms
    
    # Subtest: config without exposeHeadRoutes
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 3 - config without exposeHeadRoutes # time=10.291ms
    
    1..3
    # time=95.378ms
ok 22 - test/context-config.test.js # time=95.378ms

# Subtest: test/copy.test.js
    # Subtest: can be created - copy
        1..1
        ok 1 - (unnamed test)
    ok 1 - can be created - copy # time=9.84ms
    
    ok 2 - should not error
    # Subtest: request - copy
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 3 - request - copy # time=22.259ms
    
    1..3
    # time=62.329ms
ok 23 - test/copy.test.js # time=62.329ms

# Subtest: test/custom-http-server.test.js
    # Subtest: Should support a custom http server
        1..4
        ok 1 - it is called once for localhost
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - Should support a custom http server # time=64.112ms
    
    # Subtest: Should not allow forceCloseConnection=idle if the server does not support closeIdleConnections
        1..1
        ok 1 - Cannot set forceCloseConnections to 'idle' as your HTTP server does not support closeIdleConnections method
    ok 2 - Should not allow forceCloseConnection=idle if the server does not support closeIdleConnections # time=4.161ms
    
    # Subtest: Should accept user defined serverFactory and ignore secondary server creation
        ok 1 - expect resolving Promise
        1..1
    ok 3 - Should accept user defined serverFactory and ignore secondary server creation # time=7.276ms
    
    # Subtest: Should not call close on the server if it has not created it
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should be equal
        ok 6 - should be equivalent
        1..6
    ok 4 - Should not call close on the server if it has not created it # time=20.394ms
    
    1..4
    # time=117.762ms
ok 24 - test/custom-http-server.test.js # time=117.762ms

# Subtest: test/custom-parser-async.test.js
    # Subtest: contentTypeParser should add a custom async parser
        1..3
        ok 1 - should not error
        # Subtest: in POST
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 2 - in POST # time=31.719ms
        
        # Subtest: in OPTIONS
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - in OPTIONS # time=6.828ms
        
    ok 1 - contentTypeParser should add a custom async parser # time=79.378ms
    
    1..1
    # time=86.508ms
ok 25 - test/custom-parser-async.test.js # time=86.508ms

# Subtest: test/custom-parser.0.test.js
    # Subtest: contentTypeParser method should exist
        1..1
        ok 1 - expect truthy value
    ok 1 - contentTypeParser method should exist # time=15.367ms
    
    # Subtest: contentTypeParser should add a custom parser
        1..3
        ok 1 - should not error
        # Subtest: in POST
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 2 - in POST # time=28.197ms
        
        # Subtest: in OPTIONS
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - in OPTIONS # time=5.523ms
        
    ok 2 - contentTypeParser should add a custom parser # time=104.373ms
    
    # Subtest: contentTypeParser should handle multiple custom parsers
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 3 - contentTypeParser should handle multiple custom parsers # time=10.774ms
    
    # Subtest: contentTypeParser should handle an array of custom contentTypes
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 4 - contentTypeParser should handle an array of custom contentTypes # time=23.929ms
    
    # Subtest: contentTypeParser should handle errors
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 5 - contentTypeParser should handle errors # time=16.034ms
    
    # Subtest: contentTypeParser should support encapsulation
        1..6
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - expect falsey value
        ok 6 - expect falsey value
    ok 6 - contentTypeParser should support encapsulation # time=9.762ms
    
    # Subtest: contentTypeParser should support encapsulation, second try
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 7 - contentTypeParser should support encapsulation, second try # time=22.044ms
    
    # Subtest: contentTypeParser shouldn't support request with undefined "Content-Type"
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 8 - contentTypeParser shouldn't support request with undefined "Content-Type" # time=20.133ms
    
    # Subtest: the content type should be a string or RegExp
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 9 - the content type should be a string or RegExp # time=3.349ms
    
    # Subtest: the content type cannot be an empty string
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 10 - the content type cannot be an empty string # time=4.252ms
    
    # Subtest: the content type handler should be a function
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 11 - the content type handler should be a function # time=2.101ms
    
    # Subtest: catch all content type parser
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 12 - catch all content type parser # time=18.728ms
    
    # Subtest: catch all content type parser should not interfere with other conte type parsers
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 13 - catch all content type parser should not interfere with other conte type parsers # time=23.474ms
    
    # Subtest: '*' catch undefined Content-Type requests
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 14 - '*' catch undefined Content-Type requests # time=20.715ms
    
    # Subtest: cannot add custom parser after binding
        1..2
        ok 1 - should not error
        ok 2 - (unnamed test)
    ok 15 - cannot add custom parser after binding # time=4.754ms
    
    # Subtest: Can override the default json parser
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 16 - Can override the default json parser # time=17.407ms
    
    # Subtest: Can override the default plain text parser
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 17 - Can override the default plain text parser # time=14.7ms
    
    # Subtest: Can override the default json parser in a plugin
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 18 - Can override the default json parser in a plugin # time=18.262ms
    
    # Subtest: Can't override the json parser multiple times
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 19 - Can't override the json parser multiple times # time=2.288ms
    
    # Subtest: Can't override the plain text parser multiple times
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 20 - Can't override the plain text parser multiple times # time=2.172ms
    
    # Subtest: Should get the body as string
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 21 - Should get the body as string # time=15.44ms
    
    # Subtest: Should return defined body with no custom parser defined and content type = 'text/plain'
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 22 - Should return defined body with no custom parser defined and content type = 'text/plain' # time=18.22ms
    
    # Subtest: Should have typeof body object with no custom parser defined, no body defined and content type = 'text/plain'
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 23 - Should have typeof body object with no custom parser defined, no body defined and content type = 'text/plain' # time=12.298ms
    
    1..23
    # time=439.104ms
ok 26 - test/custom-parser.0.test.js # time=439.104ms

# Subtest: test/custom-parser.1.test.js
    # Subtest: Should have typeof body object with no custom parser defined, null body and content type = 'text/plain'
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 1 - Should have typeof body object with no custom parser defined, null body and content type = 'text/plain' # time=71.272ms
    
    # Subtest: Should have typeof body object with no custom parser defined, undefined body and content type = 'text/plain'
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 2 - Should have typeof body object with no custom parser defined, undefined body and content type = 'text/plain' # time=10.118ms
    
    # Subtest: Should get the body as string
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 3 - Should get the body as string # time=21.924ms
    
    # Subtest: Should get the body as buffer
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 4 - Should get the body as buffer # time=20.065ms
    
    # Subtest: Should get the body as buffer
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 5 - Should get the body as buffer # time=10.212ms
    
    # Subtest: Should parse empty bodies as a string
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
    ok 6 - Should parse empty bodies as a string # time=10.379ms
    
    # Subtest: Should parse empty bodies as a buffer
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 7 - Should parse empty bodies as a buffer # time=18.275ms
    
    # Subtest: The charset should not interfere with the content type handling
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 8 - The charset should not interfere with the content type handling # time=18.041ms
    
    1..8
    # time=204.564ms
ok 27 - test/custom-parser.1.test.js # time=204.564ms

# Subtest: test/custom-parser.2.test.js
    # Subtest: Wrong parseAs parameter
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 1 - Wrong parseAs parameter # time=16.918ms
    
    # Subtest: Should allow defining the bodyLimit per parser
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent strictly
    ok 2 - Should allow defining the bodyLimit per parser # time=51.148ms
    
    # Subtest: route bodyLimit should take precedence over a custom parser bodyLimit
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent strictly
    ok 3 - route bodyLimit should take precedence over a custom parser bodyLimit # time=8.823ms
    
    1..3
    # time=89.471ms
ok 28 - test/custom-parser.2.test.js # time=89.471ms

# Subtest: test/custom-parser.3.test.js
    # Subtest: should be able to use default parser for extra content type
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent strictly
    ok 1 - should be able to use default parser for extra content type # time=68.549ms
    
    # Subtest: contentTypeParser should add a custom parser with RegExp value
        1..3
        ok 1 - should not error
        # Subtest: in POST
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 2 - in POST # time=7.085ms
        
        # Subtest: in OPTIONS
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - in OPTIONS # time=4.219ms
        
    ok 2 - contentTypeParser should add a custom parser with RegExp value # time=21.273ms
    
    # Subtest: contentTypeParser should add multiple custom parsers with RegExp values
        1..6
        ok 1 - should be equal
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 3 - contentTypeParser should add multiple custom parsers with RegExp values # time=42.79ms
    
    # Subtest: catch all content type parser should not interfere with content type parser
        1..10
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equivalent
    ok 4 - catch all content type parser should not interfere with content type parser # time=19.904ms
    
    1..4
    # time=164.829ms
ok 29 - test/custom-parser.3.test.js # time=164.829ms

# Subtest: test/custom-parser.4.test.js
    # Subtest: should prefer string content types over RegExp ones
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 1 - should prefer string content types over RegExp ones # time=70.462ms
    
    # Subtest: removeContentTypeParser should support arrays of content types to remove
        1..8
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 2 - removeContentTypeParser should support arrays of content types to remove # time=14.712ms
    
    # Subtest: removeContentTypeParser should support encapsulation
        1..6
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 3 - removeContentTypeParser should support encapsulation # time=27.355ms
    
    # Subtest: removeAllContentTypeParsers should support encapsulation
        1..6
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 4 - removeAllContentTypeParsers should support encapsulation # time=19.161ms
    
    1..4
    # time=143.166ms
ok 30 - test/custom-parser.4.test.js # time=143.166ms

# Subtest: test/custom-parser.5.test.js
    # Subtest: cannot remove all content type parsers after binding
        1..2
        ok 1 - should not error
        ok 2 - expected to throw
    ok 1 - cannot remove all content type parsers after binding # time=40.179ms
    
    # Subtest: cannot remove content type parsers after binding
        1..2
        ok 1 - should not error
        ok 2 - expected to throw
    ok 2 - cannot remove content type parsers after binding # time=4.95ms
    
    # Subtest: should be able to override the default json parser after removeAllContentTypeParsers
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 3 - should be able to override the default json parser after removeAllContentTypeParsers # time=32.44ms
    
    # Subtest: should be able to override the default plain text parser after removeAllContentTypeParsers
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 4 - should be able to override the default plain text parser after removeAllContentTypeParsers # time=22.365ms
    
    # Subtest: should be able to add a custom content type parser after removeAllContentTypeParsers
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 5 - should be able to add a custom content type parser after removeAllContentTypeParsers # time=14.968ms
    
    1..5
    # time=130.014ms
ok 31 - test/custom-parser.5.test.js # time=130.014ms

# Subtest: test/custom-querystring-parser.test.js
    # Subtest: Custom querystring parser
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
    ok 1 - Custom querystring parser # time=90.291ms
    
    # Subtest: Custom querystring parser should be called also if there is nothing to parse
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
    ok 2 - Custom querystring parser should be called also if there is nothing to parse # time=19.314ms
    
    # Subtest: Querystring without value
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
    ok 3 - Querystring without value # time=47.019ms
    
    # Subtest: Custom querystring parser should be a function
        1..1
        ok 1 - should be equal
    ok 4 - Custom querystring parser should be a function # time=3.877ms
    
    1..4
    # time=181.124ms
ok 32 - test/custom-querystring-parser.test.js # time=181.124ms

# Subtest: test/decorator.test.js
    # Subtest: server methods should exist
        1..2
        ok 1 - expect truthy value
        ok 2 - expect truthy value
    ok 1 - server methods should exist # time=16.331ms
    
    # Subtest: should check if the given decoration already exist when null
        1..1
        ok 1 - expect truthy value
    ok 2 - should check if the given decoration already exist when null # time=55.241ms
    
    # Subtest: server methods should be encapsulated via .register
        1..2
        ok 1 - expect truthy value
        ok 2 - expect falsey value
    ok 3 - server methods should be encapsulated via .register # time=5.666ms
    
    # Subtest: hasServerMethod should check if the given method already exist
        1..2
        ok 1 - expect truthy value
        ok 2 - expect falsey value
    ok 4 - hasServerMethod should check if the given method already exist # time=11.574ms
    
    # Subtest: decorate should throw if a declared dependency is not present
        1..3
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - (unnamed test)
    ok 5 - decorate should throw if a declared dependency is not present # time=20.106ms
    
    # Subtest: decorate should throw if declared dependency is not array
        1..3
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - (unnamed test)
    ok 6 - decorate should throw if declared dependency is not array # time=7.87ms
    
    # Subtest: should pass error for missing request decorator
        1..2
        ok 1 - type is Error
        ok 2 - should match pattern provided
    ok 7 - should pass error for missing request decorator # time=7.331ms
    
    # Subtest: decorateReply inside register
        1..11
        ok 1 - should not error
        ok 2 - test exists
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 8 - decorateReply inside register # time=44.091ms
    
    # Subtest: decorateReply as plugin (inside .after)
        1..11
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 9 - decorateReply as plugin (inside .after) # time=32.052ms
    
    # Subtest: decorateReply as plugin (outside .after)
        1..11
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 10 - decorateReply as plugin (outside .after) # time=19.546ms
    
    # Subtest: decorateRequest inside register
        1..11
        ok 1 - should not error
        ok 2 - test exists
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 11 - decorateRequest inside register # time=21.581ms
    
    # Subtest: decorateRequest as plugin (inside .after)
        1..11
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 12 - decorateRequest as plugin (inside .after) # time=33.28ms
    
    # Subtest: decorateRequest as plugin (outside .after)
        1..11
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 13 - decorateRequest as plugin (outside .after) # time=19.896ms
    
    # Subtest: decorators should be instance separated
        1..1
        ok 1 - (unnamed test)
    ok 14 - decorators should be instance separated # time=1.884ms
    
    # Subtest: hasRequestDecorator
        # Subtest: is a function
            1..1
            ok 1 - expect truthy value
        ok 1 - is a function # time=1.906ms
        
        # Subtest: should check if the given request decoration already exist
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 2 - should check if the given request decoration already exist # time=2.31ms
        
        # Subtest: should check if the given request decoration already exist when null
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 3 - should check if the given request decoration already exist when null # time=2.162ms
        
        # Subtest: should be plugin encapsulable
            1..4
            ok 1 - expect falsey value
            ok 2 - expect falsey value
            ok 3 - expect truthy value
            ok 4 - expect falsey value
        ok 4 - should be plugin encapsulable # time=7.754ms
        
        # Subtest: should be inherited
            1..2
            ok 1 - expect truthy value
            ok 2 - expect truthy value
        ok 5 - should be inherited # time=11.917ms
        
        1..5
    ok 15 - hasRequestDecorator # time=45.956ms
    
    # Subtest: hasReplyDecorator
        # Subtest: is a function
            1..1
            ok 1 - expect truthy value
        ok 1 - is a function # time=2.063ms
        
        # Subtest: should check if the given reply decoration already exist
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 2 - should check if the given reply decoration already exist # time=2.341ms
        
        # Subtest: should check if the given reply decoration already exist when null
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 3 - should check if the given reply decoration already exist when null # time=2.233ms
        
        # Subtest: should be plugin encapsulable
            1..4
            ok 1 - expect falsey value
            ok 2 - expect falsey value
            ok 3 - expect truthy value
            ok 4 - expect falsey value
        ok 4 - should be plugin encapsulable # time=13.695ms
        
        # Subtest: should be inherited
            1..2
            ok 1 - expect truthy value
            ok 2 - expect truthy value
        ok 5 - should be inherited # time=12.094ms
        
        1..5
    ok 16 - hasReplyDecorator # time=59.676ms
    
    # Subtest: should register properties via getter/setter objects
        1..3
        ok 1 - expect truthy value
        ok 2 - a getter
        ok 3 - expect falsey value
    ok 17 - should register properties via getter/setter objects # time=11.355ms
    
    # Subtest: decorateRequest should work with getter/setter
        1..5
        ok 1 - expect falsey value
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - (unnamed test)
    ok 18 - decorateRequest should work with getter/setter # time=35.256ms
    
    # Subtest: decorateReply should work with getter/setter
        1..5
        ok 1 - expect falsey value
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - (unnamed test)
    ok 19 - decorateReply should work with getter/setter # time=7.792ms
    
    # Subtest: should register empty values
        1..2
        ok 1 - expect truthy value
        ok 2 - expect falsey value
    ok 20 - should register empty values # time=3.629ms
    
    # Subtest: nested plugins can override things
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 21 - nested plugins can override things # time=5.874ms
    
    # Subtest: a decorator should addSchema to all the encapsulated tree
        1..1
        ok 1 - should not error
    ok 22 - a decorator should addSchema to all the encapsulated tree # time=11.649ms
    
    # Subtest: after can access to a decorated instance and previous plugin decoration
        1..11
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
    ok 23 - after can access to a decorated instance and previous plugin decoration # time=17.689ms
    
    # Subtest: decorate* should throw if called after ready
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 24 - decorate* should throw if called after ready # time=36.469ms
    
    # Subtest: decorate* should emit warning if an array is passed
        1..1
        ok 1 - should be equal
    ok 25 - decorate* should emit warning if an array is passed # time=13.994ms
    
    # Subtest: decorate* should emit warning if object type is passed
        1..1
        ok 1 - should be equal
    ok 26 - decorate* should emit warning if object type is passed # time=8.06ms
    
    # Subtest: decorate* should not emit warning if object with getter/setter is passed
        1..0
    ok 27 - decorate* should not emit warning if object with getter/setter is passed # time=7.727ms
    
    # Subtest: decorate* should not emit warning if string,bool,numbers are passed
        1..0
    ok 28 - decorate* should not emit warning if string,bool,numbers are passed # time=7.815ms
    
    # Subtest: Request/reply decorators should be able to access the server instance
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not be equal
        ok 4 - should be equal
        ok 5 - should not be equal
        ok 6 - should be equal
    ok 29 - Request/reply decorators should be able to access the server instance # time=9.392ms
    
    # Subtest: plugin required decorators
        1..0
    ok 30 - plugin required decorators # time=3.361ms
    
    # Subtest: decorateRequest/decorateReply empty string
        1..7
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 31 - decorateRequest/decorateReply empty string # time=10.679ms
    
    # Subtest: decorateRequest/decorateReply is undefined
        1..7
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 32 - decorateRequest/decorateReply is undefined # time=8.128ms
    
    # Subtest: decorateRequest/decorateReply is not set to a value
        1..7
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 33 - decorateRequest/decorateReply is not set to a value # time=10.468ms
    
    # Subtest: decorateRequest with dependencies
        1..2
        ok 1 - expected to not throw
        ok 2 - expect truthy value
    ok 34 - decorateRequest with dependencies # time=2.354ms
    
    # Subtest: decorateRequest with dependencies (functions)
        1..2
        ok 1 - expected to not throw
        ok 2 - expect truthy value
    ok 35 - decorateRequest with dependencies (functions) # time=2.129ms
    
    # Subtest: chain of decorators on Request
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        1..6
    ok 36 - chain of decorators on Request # time=26.611ms
    
    # Subtest: chain of decorators on Reply
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        1..6
    ok 37 - chain of decorators on Reply # time=11.961ms
    
    1..37
    # time=703.472ms
ok 33 - test/decorator.test.js # time=703.472ms

# Subtest: test/default-route.test.js
    # Subtest: setDefaultRoute should emit a deprecation warning
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 1 - setDefaultRoute should emit a deprecation warning # time=24.91ms
    
    # Subtest: getDefaultRoute should emit a deprecation warning
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 2 - getDefaultRoute should emit a deprecation warning # time=3.011ms
    
    # Subtest: should fail if defaultRoute is not a function
        1..1
        ok 1 - should be equal
    ok 3 - should fail if defaultRoute is not a function # time=6.012ms
    
    # Subtest: correctly sets, returns, and calls defaultRoute
        1..3
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
    ok 4 - correctly sets, returns, and calls defaultRoute # time=23.623ms
    
    1..4
    # time=67.507ms
ok 34 - test/default-route.test.js # time=67.507ms

# Subtest: test/delete.test.js
    # Subtest: shorthand - delete
        1..1
        ok 1 - (unnamed test)
    ok 1 - shorthand - delete # time=9.219ms
    
    # Subtest: shorthand - delete params
        1..1
        ok 1 - (unnamed test)
    ok 2 - shorthand - delete params # time=2.436ms
    
    # Subtest: shorthand - delete, querystring schema
        1..1
        ok 1 - (unnamed test)
    ok 3 - shorthand - delete, querystring schema # time=1.654ms
    
    # Subtest: shorthand - get, headers schema
        1..1
        ok 1 - (unnamed test)
    ok 4 - shorthand - get, headers schema # time=1.564ms
    
    # Subtest: missing schema - delete
        1..1
        ok 1 - (unnamed test)
    ok 5 - missing schema - delete # time=1.568ms
    
    # Subtest: body - delete
        1..1
        ok 1 - (unnamed test)
    ok 6 - body - delete # time=1.564ms
    
    # Subtest: shorthand - delete with application/json Content-Type header and without body
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 7 - shorthand - delete with application/json Content-Type header and without body # time=30.759ms
    
    ok 8 - should not error
    # Subtest: shorthand - request delete
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 9 - shorthand - request delete # time=34.094ms
    
    # Subtest: shorthand - request delete params schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 10 - shorthand - request delete params schema # time=10.768ms
    
    # Subtest: shorthand - request delete params schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 11 - shorthand - request delete params schema error # time=5.274ms
    
    # Subtest: shorthand - request delete headers schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 12 - shorthand - request delete headers schema # time=4.778ms
    
    # Subtest: shorthand - request delete headers schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 13 - shorthand - request delete headers schema error # time=4.136ms
    
    # Subtest: shorthand - request delete querystring schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 14 - shorthand - request delete querystring schema # time=5.048ms
    
    # Subtest: shorthand - request delete querystring schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 15 - shorthand - request delete querystring schema error # time=4.072ms
    
    # Subtest: shorthand - request delete missing schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 16 - shorthand - request delete missing schema # time=4.555ms
    
    # Subtest: shorthand - delete with body
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - shorthand - delete with body # time=6.573ms
    
    1..17
    # time=243.647ms
ok 35 - test/delete.test.js # time=243.647ms

# Subtest: test/diagnostics-channel.test.js
    # Subtest: diagnostics_channel when present and subscribers
        1..3
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should be equal
    ok 1 - diagnostics_channel when present and subscribers # time=375.558ms
    
    # Subtest: diagnostics_channel when present and no subscribers
        1..1
        ok 1 - should be equal
    ok 2 - diagnostics_channel when present and no subscribers # time=7.094ms
    
    # Subtest: diagnostics_channel when not present
        1..1
        ok 1 - expected to not throw
    ok 3 - diagnostics_channel when not present # time=7.25ms
    
    1..3
    # time=405.203ms
ok 36 - test/diagnostics-channel.test.js # time=405.203ms

# Subtest: test/encapsulated-child-logger-factory.test.js
    # Subtest: encapsulates an child logger factory
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 1 - encapsulates an child logger factory # time=53.442ms
    
    # Subtest: child logger factory set on root scope when using fastify-plugin
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 2 - child logger factory set on root scope when using fastify-plugin # time=9.586ms
    
    1..2
    # time=71.434ms
ok 37 - test/encapsulated-child-logger-factory.test.js # time=71.434ms

# Subtest: test/encapsulated-error-handler.test.js
    # Subtest: encapuslates an error handler
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 1 - encapuslates an error handler # time=52.491ms
    
    # Subtest: onError hook nested
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 2 - onError hook nested # time=7.768ms
    
    1..2
    # time=68.642ms
ok 38 - test/encapsulated-error-handler.test.js # time=68.642ms

# Subtest: test/esm/index.test.js
    # Subtest: named exports support
        ok 1 - should be equal
        1..1
    ok 1 - named exports support # time=32.625ms
    
    ok 2 - should be equal
    1..2
    # time=39.841ms
ok 39 - test/esm/index.test.js # time=39.841ms

# Subtest: test/fastify-instance.test.js
    # Subtest: root fastify instance is an object
        1..1
        ok 1 - type is object
    ok 1 - root fastify instance is an object # time=15.824ms
    
    # Subtest: fastify instance should contains ajv options
        1..1
        ok 1 - should be equivalent
    ok 2 - fastify instance should contains ajv options # time=6.831ms
    
    # Subtest: fastify instance should contains ajv options.plugins nested arrays
        1..1
        ok 1 - should be equivalent
    ok 3 - fastify instance should contains ajv options.plugins nested arrays # time=2.732ms
    
    # Subtest: fastify instance get invalid ajv options
        1..1
        ok 1 - expected to throw
    ok 4 - fastify instance get invalid ajv options # time=2.24ms
    
    # Subtest: fastify instance get invalid ajv options.plugins
        1..1
        ok 1 - expected to throw
    ok 5 - fastify instance get invalid ajv options.plugins # time=1.452ms
    
    # Subtest: fastify instance should contain default errorHandler
        1..3
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - should be equivalent
    ok 6 - fastify instance should contain default errorHandler # time=3.182ms
    
    # Subtest: errorHandler in plugin should be separate from the external one
        1..4
        ok 1 - should not be equivalent
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - should be equivalent
    ok 7 - errorHandler in plugin should be separate from the external one # time=34.346ms
    
    # Subtest: fastify instance should contain default childLoggerFactory
        1..3
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - should be equivalent
    ok 8 - fastify instance should contain default childLoggerFactory # time=2.657ms
    
    # Subtest: childLoggerFactory in plugin should be separate from the external one
        1..4
        ok 1 - should not be equivalent
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - should be equivalent
    ok 9 - childLoggerFactory in plugin should be separate from the external one # time=5.13ms
    
    # Subtest: ready should resolve in order when called multiply times (promises only)
        ok 1 - Should resolve in order
        1..1
    ok 10 - ready should resolve in order when called multiply times (promises only) # time=13.087ms
    
    # Subtest: ready should reject in order when called multiply times (promises only)
        ok 1 - Should resolve in order
        1..1
    ok 11 - ready should reject in order when called multiply times (promises only) # time=506.742ms
    
    # Subtest: ready should reject in order when called multiply times (callbacks only)
        ok 1 - should be equal
        ok 2 - Should resolve in order
        1..2
    ok 12 - ready should reject in order when called multiply times (callbacks only) # time=506.404ms
    
    # Subtest: ready should resolve in order when called multiply times (callbacks only)
        ok 1 - Should resolve in order
        1..1
    ok 13 - ready should resolve in order when called multiply times (callbacks only) # time=14.069ms
    
    # Subtest: ready should resolve in order when called multiply times (mixed)
        ok 1 - Should resolve in order
        1..1
    ok 14 - ready should resolve in order when called multiply times (mixed) # time=3.492ms
    
    # Subtest: ready should reject in order when called multiply times (mixed)
        ok 1 - should be equal
        ok 2 - Should resolve in order
        1..2
    ok 15 - ready should reject in order when called multiply times (mixed) # time=510.965ms
    
    # Subtest: ready should resolve in order when called multiply times (mixed)
        ok 1 - Should resolve in order
        1..1
    ok 16 - ready should resolve in order when called multiply times (mixed) # time=3.771ms
    
    # Subtest: fastify instance should contains listeningOrigin property (with port and host)
        1..1
        ok 1 - should be equivalent
    ok 17 - fastify instance should contains listeningOrigin property (with port and host) # time=19.767ms
    
    # Subtest: fastify instance should contains listeningOrigin property (with port and https)
        1..1
        ok 1 - should be equivalent
    ok 18 - fastify instance should contains listeningOrigin property (with port and https) # time=33.692ms
    
    # Subtest: fastify instance should contains listeningOrigin property (unix socket)
        ok 1 - should be equivalent
        1..1
    ok 19 - fastify instance should contains listeningOrigin property (unix socket) # time=17.773ms
    
    # Subtest: fastify instance should contains listeningOrigin property (IPv6)
        1..1
        ok 1 - should be equivalent
    ok 20 - fastify instance should contains listeningOrigin property (IPv6) # time=9.336ms
    
    1..20
    # time=1763.213ms
ok 40 - test/fastify-instance.test.js # time=1763.213ms

# Subtest: test/fluent-schema.test.js
    # Subtest: use fluent-json-schema object
        1..15
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
        ok 10 - should not error
        ok 11 - should be equal
        ok 12 - should be equivalent
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equivalent
    ok 1 - use fluent-json-schema object # time=153.632ms
    
    # Subtest: use complex fluent-json-schema object
        1..1
        ok 1 - should not error
    ok 2 - use complex fluent-json-schema object # time=30.189ms
    
    # Subtest: use fluent schema and plain JSON schema
        1..1
        ok 1 - should not error
    ok 3 - use fluent schema and plain JSON schema # time=60.388ms
    
    # Subtest: Should call valueOf internally
        1..1
        ok 1 - should not error
    ok 4 - Should call valueOf internally # time=50.829ms
    
    1..4
    # time=307.677ms
ok 41 - test/fluent-schema.test.js # time=307.677ms

# Subtest: test/genReqId.test.js
    # Subtest: Should accept a custom genReqId function
        1..4
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
    ok 1 - Should accept a custom genReqId function # time=60.242ms
    
    # Subtest: Custom genReqId function gets raw request as argument
        1..9
        ok 1 - should not error
        ok 2 - expect falsey value
        ok 3 - expect falsey value
        ok 4 - expect truthy value
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should not error
        ok 9 - should be equal
    ok 2 - Custom genReqId function gets raw request as argument # time=11.789ms
    
    1..2
    # time=79.995ms
ok 42 - test/genReqId.test.js # time=79.995ms

# Subtest: test/get.test.js
    # Subtest: shorthand - get
        1..1
        ok 1 - (unnamed test)
    ok 1 - shorthand - get # time=11.091ms
    
    # Subtest: shorthand - get (return null)
        1..1
        ok 1 - (unnamed test)
    ok 2 - shorthand - get (return null) # time=2.276ms
    
    # Subtest: shorthand - get params
        1..1
        ok 1 - (unnamed test)
    ok 3 - shorthand - get params # time=2.238ms
    
    # Subtest: shorthand - get, querystring schema
        1..1
        ok 1 - (unnamed test)
    ok 4 - shorthand - get, querystring schema # time=1.737ms
    
    # Subtest: shorthand - get, headers schema
        1..1
        ok 1 - (unnamed test)
    ok 5 - shorthand - get, headers schema # time=1.841ms
    
    # Subtest: missing schema - get
        1..1
        ok 1 - (unnamed test)
    ok 6 - missing schema - get # time=1.922ms
    
    # Subtest: custom serializer - get
        1..1
        ok 1 - (unnamed test)
    ok 7 - custom serializer - get # time=2.525ms
    
    # Subtest: empty response
        1..1
        ok 1 - (unnamed test)
    ok 8 - empty response # time=1.722ms
    
    # Subtest: send a falsy boolean
        1..1
        ok 1 - (unnamed test)
    ok 9 - send a falsy boolean # time=1.817ms
    
    ok 10 - should not error
    # Subtest: shorthand - request get
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 11 - shorthand - request get # time=43.492ms
    
    # Subtest: shorthand - request get params schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 12 - shorthand - request get params schema # time=6.473ms
    
    # Subtest: shorthand - request get params schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 13 - shorthand - request get params schema error # time=9.347ms
    
    # Subtest: shorthand - request get headers schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 14 - shorthand - request get headers schema # time=4.847ms
    
    # Subtest: shorthand - request get headers schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 15 - shorthand - request get headers schema error # time=4.469ms
    
    # Subtest: shorthand - request get querystring schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 16 - shorthand - request get querystring schema # time=8.443ms
    
    # Subtest: shorthand - request get querystring schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - shorthand - request get querystring schema error # time=4.122ms
    
    # Subtest: shorthand - request get missing schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 18 - shorthand - request get missing schema # time=4.365ms
    
    # Subtest: shorthand - custom serializer
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 19 - shorthand - custom serializer # time=4.424ms
    
    # Subtest: shorthand - empty response
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 20 - shorthand - empty response # time=9.259ms
    
    # Subtest: shorthand - send a falsy boolean
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - shorthand - send a falsy boolean # time=7.379ms
    
    # Subtest: shorthand - send null value
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 22 - shorthand - send null value # time=5.308ms
    
    1..22
    # time=280.371ms
ok 43 - test/get.test.js # time=280.371ms

# Subtest: test/handler-context.test.js
    # Subtest: handlers receive correct `this` context
        1..4
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 1 - handlers receive correct `this` context # time=53.495ms
    
    # Subtest: handlers have access to the internal context
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - type is Object
        ok 4 - expect truthy value
        ok 5 - should be equal
    ok 2 - handlers have access to the internal context # time=6.551ms
    
    1..2
    # time=69.147ms
ok 44 - test/handler-context.test.js # time=69.147ms

# Subtest: test/has-route.test.js
    # Subtest: hasRoute
        1..4
        # Subtest: hasRoute - invalid options
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
        ok 1 - hasRoute - invalid options # time=6.169ms
        
        # Subtest: hasRoute - primitive method
            1..2
            ok 1 - should be equal
            ok 2 - should be equal
        ok 2 - hasRoute - primitive method # time=6.037ms
        
        # Subtest: hasRoute - with constraints
            1..2
            ok 1 - should be equal
            ok 2 - should be equal
        ok 3 - hasRoute - with constraints # time=3.849ms
        
        # Subtest: hasRoute - parametric route regexp with constraints
            1..1
            ok 1 - should be equal
        ok 4 - hasRoute - parametric route regexp with constraints # time=3.549ms
        
    ok 1 - hasRoute # time=50.711ms
    
    1..1
    # time=57.146ms
ok 45 - test/has-route.test.js # time=57.146ms

# Subtest: test/head.test.js
    # Subtest: shorthand - head
        1..1
        ok 1 - (unnamed test)
    ok 1 - shorthand - head # time=9.413ms
    
    # Subtest: shorthand - custom head
        1..1
        ok 1 - (unnamed test)
    ok 2 - shorthand - custom head # time=3.708ms
    
    # Subtest: shorthand - custom head with constraints
        1..1
        ok 1 - (unnamed test)
    ok 3 - shorthand - custom head with constraints # time=3.116ms
    
    # Subtest: shorthand - should not reset a head route
        1..1
        ok 1 - (unnamed test)
    ok 4 - shorthand - should not reset a head route # time=2.011ms
    
    # Subtest: shorthand - should override head route when setting multiple routes
        1..1
        ok 1 - (unnamed test)
    ok 5 - shorthand - should override head route when setting multiple routes # time=2.628ms
    
    # Subtest: shorthand - should override head route when setting multiple routes
        1..1
        ok 1 - (unnamed test)
    ok 6 - shorthand - should override head route when setting multiple routes # time=2.163ms
    
    # Subtest: shorthand - should set get and head route in the same api call
        1..1
        ok 1 - (unnamed test)
    ok 7 - shorthand - should set get and head route in the same api call # time=1.491ms
    
    # Subtest: shorthand - head params
        1..1
        ok 1 - (unnamed test)
    ok 8 - shorthand - head params # time=2.117ms
    
    # Subtest: shorthand - head, querystring schema
        1..1
        ok 1 - (unnamed test)
    ok 9 - shorthand - head, querystring schema # time=1.39ms
    
    # Subtest: missing schema - head
        1..1
        ok 1 - (unnamed test)
    ok 10 - missing schema - head # time=1.547ms
    
    ok 11 - should not error
    # Subtest: shorthand - request head
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 12 - shorthand - request head # time=34.74ms
    
    # Subtest: shorthand - request head params schema
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 13 - shorthand - request head params schema # time=5.365ms
    
    # Subtest: shorthand - request head params schema error
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 14 - shorthand - request head params schema error # time=4.482ms
    
    # Subtest: shorthand - request head querystring schema
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 15 - shorthand - request head querystring schema # time=3.781ms
    
    # Subtest: shorthand - request head querystring schema error
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 16 - shorthand - request head querystring schema error # time=7.407ms
    
    # Subtest: shorthand - request head missing schema
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 17 - shorthand - request head missing schema # time=3.534ms
    
    # Subtest: shorthand - request head custom head
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 18 - shorthand - request head custom head # time=4.119ms
    
    # Subtest: shorthand - request head custom head with constraints
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 19 - shorthand - request head custom head with constraints # time=4.388ms
    
    # Subtest: shorthand - should not reset a head route
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 20 - shorthand - should not reset a head route # time=3.647ms
    
    # Subtest: shorthand - should override head route when setting multiple routes
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 21 - shorthand - should override head route when setting multiple routes # time=3.928ms
    
    # Subtest: shorthand - should override head route when setting multiple routes
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 22 - shorthand - should override head route when setting multiple routes # time=3.807ms
    
    # Subtest: shorthand - should set get and head route in the same api call
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 23 - shorthand - should set get and head route in the same api call # time=3.908ms
    
    1..23
    # time=243.782ms
ok 46 - test/head.test.js # time=243.782ms

# Subtest: test/header-overflow.test.js
    # Subtest: Should return 431 if request header fields are too large
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 1 - Should return 431 if request header fields are too large # time=56.143ms
    
    # Subtest: Should return 431 if URI is too long
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 2 - Should return 431 if URI is too long # time=8.894ms
    
    1..2
    # time=74.843ms
ok 47 - test/header-overflow.test.js # time=74.843ms

# Subtest: test/hooks-async.test.js
    # Subtest: async hooks
        1..21
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - expect truthy value
        ok 11 - expect truthy value
        ok 12 - expect truthy value
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should not error
        ok 16 - should be equal
        ok 17 - should be equal
        ok 18 - should be equivalent
        ok 19 - should not error
        ok 20 - should be equal
        ok 21 - expect truthy value
    ok 1 - async hooks # time=120.997ms
    
    # Subtest: modify payload
        1..10
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - expect truthy value
        ok 4 - should be equivalent
        ok 5 - expect truthy value
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
    ok 2 - modify payload # time=20.611ms
    
    # Subtest: onRequest hooks should be able to block a request
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 3 - onRequest hooks should be able to block a request # time=16.301ms
    
    # Subtest: preParsing hooks should be able to modify the payload
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 4 - preParsing hooks should be able to modify the payload # time=15.71ms
    
    # Subtest: preParsing hooks should be able to supply statusCode
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 5 - preParsing hooks should be able to supply statusCode # time=10.205ms
    
    # Subtest: preParsing hooks should ignore statusCode 200 in stream error
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 6 - preParsing hooks should ignore statusCode 200 in stream error # time=9.682ms
    
    # Subtest: preParsing hooks should ignore non-number statusCode in stream error
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 7 - preParsing hooks should ignore non-number statusCode in stream error # time=15.099ms
    
    # Subtest: preParsing hooks should default to statusCode 400 if stream error
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 8 - preParsing hooks should default to statusCode 400 if stream error # time=12.064ms
    
    # Subtest: preParsing hooks should handle errors
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 9 - preParsing hooks should handle errors # time=9.539ms
    
    # Subtest: preHandler hooks should be able to block a request
        1..5
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 10 - preHandler hooks should be able to block a request # time=6.987ms
    
    # Subtest: preValidation hooks should be able to block a request
        1..5
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 11 - preValidation hooks should be able to block a request # time=11.766ms
    
    # Subtest: preValidation hooks should be able to change request body before validation
        1..4
        ok 1 - (unnamed test)
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 12 - preValidation hooks should be able to change request body before validation # time=109.779ms
    
    # Subtest: preSerialization hooks should be able to modify the payload
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 13 - preSerialization hooks should be able to modify the payload # time=14.943ms
    
    # Subtest: preSerialization hooks should handle errors
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 14 - preSerialization hooks should handle errors # time=17.672ms
    
    # Subtest: preValidation hooks should handle throwing null
        1..4
        ok 1 - expect truthy value
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 15 - preValidation hooks should handle throwing null # time=16.625ms
    
    # Subtest: preValidation hooks should handle throwing a string
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 16 - preValidation hooks should handle throwing a string # time=8.024ms
    
    # Subtest: onRequest hooks should be able to block a request (last hook)
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 17 - onRequest hooks should be able to block a request (last hook) # time=7.221ms
    
    # Subtest: preHandler hooks should be able to block a request (last hook)
        1..5
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 18 - preHandler hooks should be able to block a request (last hook) # time=5.286ms
    
    # Subtest: onRequest respond with a stream
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
    ok 19 - onRequest respond with a stream # time=10.235ms
    
    # Subtest: preHandler respond with a stream
        1..7
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - expect truthy value
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
    ok 20 - preHandler respond with a stream # time=7.733ms
    
    # Subtest: Should log a warning if is an async function with `done`
        # Subtest: 2 arguments
            1..2
            ok 1 - should be equal
            ok 2 - should be equal
        ok 1 - 2 arguments # time=2.613ms
        
        # Subtest: 3 arguments
            1..2
            ok 1 - should be equal
            ok 2 - should be equal
        ok 2 - 3 arguments # time=2.145ms
        
        # Subtest: 4 arguments
            1..6
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
        ok 3 - 4 arguments # time=3.762ms
        
        1..3
    ok 21 - Should log a warning if is an async function with `done` # time=19.067ms
    
    # Subtest: early termination, onRequest async
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 22 - early termination, onRequest async # time=8.105ms
    
    # Subtest: The this should be the same of the encapsulation level
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        1..4
    ok 23 - The this should be the same of the encapsulation level # time=9.398ms
    
    # Subtest: preSerializationEnd should handle errors if the serialize method throws
        # Subtest: works with sync preSerialization
            1..2
            ok 1 - should not error
            ok 2 - should not be equal
        ok 1 - works with sync preSerialization # time=21.705ms
        
        # Subtest: works with async preSerialization
            1..2
            ok 1 - should not error
            ok 2 - should not be equal
        ok 2 - works with async preSerialization # time=5.084ms
        
        1..2
    ok 24 - preSerializationEnd should handle errors if the serialize method throws # time=30.826ms
    
    # Subtest: nested hooks to do not crash on 404
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 25 - nested hooks to do not crash on 404 # time=7.927ms
    
    # Subtest: Register an hook (preHandler) as route option should fail if mixing async and callback style
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 26 - Register an hook (preHandler) as route option should fail if mixing async and callback style # time=2.09ms
    
    # Subtest: Register an hook (onSend) as route option should fail if mixing async and callback style
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 27 - Register an hook (onSend) as route option should fail if mixing async and callback style # time=2.034ms
    
    # Subtest: Register an hook (preSerialization) as route option should fail if mixing async and callback style
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 28 - Register an hook (preSerialization) as route option should fail if mixing async and callback style # time=2.065ms
    
    # Subtest: Register an hook (onError) as route option should fail if mixing async and callback style
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 29 - Register an hook (onError) as route option should fail if mixing async and callback style # time=2.068ms
    
    # Subtest: Register an hook (preParsing) as route option should fail if mixing async and callback style
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 30 - Register an hook (preParsing) as route option should fail if mixing async and callback style # time=1.986ms
    
    # Subtest: Register an hook (onRequestAbort) as route option should fail if mixing async and callback style
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 31 - Register an hook (onRequestAbort) as route option should fail if mixing async and callback style # time=3.297ms
    
    1..31
    # time=566.664ms
ok 48 - test/hooks-async.test.js # time=566.664ms

# Subtest: test/hooks.on-listen.test.js
    # Subtest: onListen should not be processed when .ready() is called
        1..1
        ok 1 - should not error
    ok 1 - onListen should not be processed when .ready() is called # time=23.308ms
    
    # Subtest: localhost onListen should be called in order
        1..2
        ok 1 - 1st called in root
        ok 2 - 2nd called in root
    ok 2 - localhost onListen should be called in order # time=9.86ms
    
    # Subtest: localhost async onListen should be called in order
        1..3
        ok 1 - 1st async called in root
        ok 2 - 2nd async called in root
        ok 3 - the onListen hooks are awaited
    ok 3 - localhost async onListen should be called in order # time=13.344ms
    
    # Subtest: localhost onListen sync should log errors as warnings and continue /1
        1..8
        ok 1 - 1st call
        ok 2 - called in root
        ok 3 - 2nd call
        ok 4 - called onListen error
        ok 5 - should be equal
        ok 6 - Logged Error Message
        ok 7 - 3rd call
        ok 8 - onListen hooks continue after error
    ok 4 - localhost onListen sync should log errors as warnings and continue /1 # time=23.884ms
    
    # Subtest: localhost onListen sync should log errors as warnings and continue /2
        1..7
        ok 1 - 1st call
        ok 2 - called in root
        ok 3 - 2nd call
        ok 4 - called onListen error
        ok 5 - Logged Error Message
        ok 6 - 3rd call
        ok 7 - onListen hooks continue after error
    ok 5 - localhost onListen sync should log errors as warnings and continue /2 # time=10.909ms
    
    # Subtest: localhost onListen async should log errors as warnings and continue
        1..4
        ok 1 - called in root
        ok 2 - called onListen error
        ok 3 - Logged Error Message
        ok 4 - onListen hooks continue after error
    ok 6 - localhost onListen async should log errors as warnings and continue # time=16.372ms
    
    # Subtest: localhost Register onListen hook after a plugin inside a plugin
        1..3
        ok 1 - called
        ok 2 - called
        ok 3 - called
    ok 7 - localhost Register onListen hook after a plugin inside a plugin # time=13.425ms
    
    # Subtest: localhost Register onListen hook after a plugin inside a plugin should log errors as warnings and continue
        1..6
        ok 1 - called
        ok 2 - Logged Error Message
        ok 3 - called
        ok 4 - Logged Error Message
        ok 5 - called
        ok 6 - Logged Error Message
    ok 8 - localhost Register onListen hook after a plugin inside a plugin should log errors as warnings and continue # time=10.577ms
    
    # Subtest: localhost onListen encapsulation should be called in order
        1..6
        ok 1 - called in root
        ok 2 - the this binding is the right instance
        ok 3 - called in childOne
        ok 4 - the this binding is the right instance
        ok 5 - called in childTwo
        ok 6 - the this binding is the right instance
    ok 9 - localhost onListen encapsulation should be called in order # time=8.332ms
    
    # Subtest: localhost onListen encapsulation should be called in order and should log errors as warnings and continue
        1..7
        ok 1 - called in root
        ok 2 - the this binding is the right instance
        ok 3 - called in childOne
        ok 4 - the this binding is the right instance
        ok 5 - called in childTwo
        ok 6 - the this binding is the right instance
        ok 7 - Logged Error Message
    ok 10 - localhost onListen encapsulation should be called in order and should log errors as warnings and continue # time=19.759ms
    
    # Subtest: non-localhost onListen should be called in order
        1..2
        ok 1 - 1st called in root
        ok 2 - 2nd called in root
    ok 11 - non-localhost onListen should be called in order # time=6.776ms
    
    # Subtest: non-localhost async onListen should be called in order
        1..2
        ok 1 - 1st async called in root
        ok 2 - 2nd async called in root
    ok 12 - non-localhost async onListen should be called in order # time=7.686ms
    
    # Subtest: non-localhost sync onListen should log errors as warnings and continue
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - Logged Error Message
        ok 4 - should still run
    ok 13 - non-localhost sync onListen should log errors as warnings and continue # time=20.243ms
    
    # Subtest: non-localhost async onListen should log errors as warnings and continue
        1..6
        ok 1 - should be equal
        ok 2 - called in root
        ok 3 - 2nd async failed in root
        ok 4 - Logged Error Message
        ok 5 - should be equal
        ok 6 - should still run
    ok 14 - non-localhost async onListen should log errors as warnings and continue # time=16.132ms
    
    # Subtest: non-localhost Register onListen hook after a plugin inside a plugin
        1..3
        ok 1 - called
        ok 2 - called
        ok 3 - called
    ok 15 - non-localhost Register onListen hook after a plugin inside a plugin # time=15.431ms
    
    # Subtest: non-localhost Register onListen hook after a plugin inside a plugin should log errors as warnings and continue
        1..6
        ok 1 - called
        ok 2 - Logged Error Message
        ok 3 - called
        ok 4 - Logged Error Message
        ok 5 - called
        ok 6 - Logged Error Message
    ok 16 - non-localhost Register onListen hook after a plugin inside a plugin should log errors as warnings and continue # time=7.38ms
    
    # Subtest: non-localhost onListen encapsulation should be called in order
        1..6
        ok 1 - called in root
        ok 2 - the this binding is the right instance
        ok 3 - called in childOne
        ok 4 - the this binding is the right instance
        ok 5 - called in childTwo
        ok 6 - the this binding is the right instance
    ok 17 - non-localhost onListen encapsulation should be called in order # time=6.012ms
    
    # Subtest: non-localhost onListen encapsulation should be called in order and should log errors as warnings and continue
        1..7
        ok 1 - called in root
        ok 2 - the this binding is the right instance
        ok 3 - called in childOne
        ok 4 - the this binding is the right instance
        ok 5 - called in childTwo
        ok 6 - the this binding is the right instance
        ok 7 - Logged Error Message
    ok 18 - non-localhost onListen encapsulation should be called in order and should log errors as warnings and continue # time=6.965ms
    
    # Subtest: onListen localhost should work in order with callback
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - 1st called in root
        ok 4 - 2nd called in root
    ok 19 - onListen localhost should work in order with callback # time=5.003ms
    
    # Subtest: onListen localhost should work in order with callback in async
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - 1st called in root
        ok 4 - 2nd called in root
    ok 20 - onListen localhost should work in order with callback in async # time=4.341ms
    
    # Subtest: onListen localhost sync with callback should log errors as warnings and continue
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - 1st called in root
        ok 4 - error sync called in root
        ok 5 - Logged Error Message
        ok 6 - 1st called in root
    ok 21 - onListen localhost sync with callback should log errors as warnings and continue # time=6.105ms
    
    # Subtest: onListen localhost async with callback should log errors as warnings and continue
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - 1st called in root
        ok 4 - error sync called in root
        ok 5 - Logged Error Message
        ok 6 - 3rd called in root
    ok 22 - onListen localhost async with callback should log errors as warnings and continue # time=6.041ms
    
    # Subtest: Register onListen hook localhost with callback after a plugin inside a plugin
        1..5
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - called
        ok 4 - called
        ok 5 - called
    ok 23 - Register onListen hook localhost with callback after a plugin inside a plugin # time=5.702ms
    
    # Subtest: onListen localhost with callback encapsulation should be called in order
        1..8
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - called in root
        ok 4 - the this binding is the right instance
        ok 5 - called in childOne
        ok 6 - the this binding is the right instance
        ok 7 - called in childTwo
        ok 8 - the this binding is the right instance
    ok 24 - onListen localhost with callback encapsulation should be called in order # time=26.001ms
    
    # Subtest: onListen non-localhost should work in order with callback in sync
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - 1st called in root
        ok 4 - 2nd called in root
    ok 25 - onListen non-localhost should work in order with callback in sync # time=15.882ms
    
    # Subtest: onListen non-localhost should work in order with callback in async
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - 1st called in root
        ok 4 - 2nd called in root
    ok 26 - onListen non-localhost should work in order with callback in async # time=9.327ms
    
    # Subtest: onListen non-localhost sync with callback should log errors as warnings and continue
        1..8
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - 1st called in root
        ok 5 - should be equal
        ok 6 - Logged Error Message
        ok 7 - should be equal
        ok 8 - 3rd called in root
    ok 27 - onListen non-localhost sync with callback should log errors as warnings and continue # time=8.181ms
    
    # Subtest: onListen non-localhost async with callback should log errors as warnings and continue
        1..8
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - 1st called in root
        ok 5 - error sync called in root
        ok 6 - Logged Error Message
        ok 7 - should be equal
        ok 8 - 3rd called in root
    ok 28 - onListen non-localhost async with callback should log errors as warnings and continue # time=6.576ms
    
    # Subtest: Register onListen hook non-localhost with callback after a plugin inside a plugin
        1..5
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - called
        ok 4 - called
        ok 5 - called
    ok 29 - Register onListen hook non-localhost with callback after a plugin inside a plugin # time=5.098ms
    
    # Subtest: onListen non-localhost with callback encapsulation should be called in order
        1..8
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - called in root
        ok 4 - the this binding is the right instance
        ok 5 - called in childOne
        ok 6 - the this binding is the right instance
        ok 7 - called in childTwo
        ok 8 - the this binding is the right instance
    ok 30 - onListen non-localhost with callback encapsulation should be called in order # time=6.406ms
    
    # Subtest: onListen sync should work if user does not pass done
        1..2
        ok 1 - 1st called in root
        ok 2 - 2nd called in root
    ok 31 - onListen sync should work if user does not pass done # time=4.017ms
    
    # Subtest: async onListen does not need to be awaited
        ok 1 - 1st async called in root
        ok 2 - 2nd async called in root
        1..2
    ok 32 - async onListen does not need to be awaited # time=4.797ms
    
    # Subtest: onListen hooks do not block /1
        1..2
        ok 1 - should not error
        ok 2 - expect truthy value
    ok 33 - onListen hooks do not block /1 # time=3.587ms
    
    # Subtest: onListen hooks do not block /2
        1..1
        ok 1 - expect truthy value
    ok 34 - onListen hooks do not block /2 # time=6.984ms
    
    1..34
    # time=972.053ms
ok 49 - test/hooks.on-listen.test.js # time=972.053ms

# Subtest: test/hooks.on-ready.test.js
    # Subtest: onReady should be called in order
        1..7
        ok 1 - called in root
        ok 2 - the this binding is the right instance
        ok 3 - called in childOne
        ok 4 - the this binding is the right instance
        ok 5 - called in childTwo
        ok 6 - the this binding is the right instance
        ok 7 - should not error
    ok 1 - onReady should be called in order # time=65.621ms
    
    # Subtest: onReady should be called once
        ok 1 - Should resolve in order
        ok 2 - Should call onReady only once
        1..2
    ok 2 - onReady should be called once # time=7.609ms
    
    # Subtest: async onReady should be called in order
        1..7
        ok 1 - called in root
        ok 2 - the this binding is the right instance
        ok 3 - called in childOne
        ok 4 - the this binding is the right instance
        ok 5 - called in childTwo
        ok 6 - the this binding is the right instance
        ok 7 - ready
    ok 3 - async onReady should be called in order # time=17.914ms
    
    # Subtest: mix ready and onReady
        1..2
        ok 1 - should be equal
        ok 2 - ready hooks execute once
    ok 4 - mix ready and onReady # time=6.449ms
    
    # Subtest: listen and onReady order
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - trigger the onReady
        ok 9 - do not trigger the onReady
    ok 5 - listen and onReady order # time=21.957ms
    
    # Subtest: multiple ready calls
        1..11
        ok 1 - ready and hooks not triggered yet
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - trigger the onReady
        ok 10 - do not trigger the onReady
        ok 11 - do not trigger the onReady
    ok 6 - multiple ready calls # time=9.176ms
    
    # Subtest: onReady should manage error in sync
        1..4
        ok 1 - called in root
        ok 2 - called in childOne
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 7 - onReady should manage error in sync # time=14.627ms
    
    # Subtest: onReady should manage error in async
        1..4
        ok 1 - called in root
        ok 2 - called in childOne
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 8 - onReady should manage error in async # time=10.334ms
    
    # Subtest: onReady should manage sync error
        1..4
        ok 1 - called in root
        ok 2 - called in childOne
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 9 - onReady should manage sync error # time=9.473ms
    
    # Subtest: onReady can not add decorators or application hooks
        1..3
        ok 1 - called in root
        ok 2 - expect truthy value
        ok 3 - should not error
    ok 10 - onReady can not add decorators or application hooks # time=5.843ms
    
    # Subtest: onReady cannot add lifecycle hooks
        1..5
        ok 1 - called in root
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 11 - onReady cannot add lifecycle hooks # time=8.191ms
    
    # Subtest: onReady throw loading error
        1..2
        ok 1 - FST_ERR_HOOK_INVALID_ASYNC_HANDLER
        ok 2 - expect truthy value
    ok 12 - onReady throw loading error # time=6.111ms
    
    # Subtest: onReady does not call done
        1..6
        ok 1 - called in root
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
        ok 6 - should be equal
    ok 13 - onReady does not call done # time=513.226ms
    
    # Subtest: onReady execution order
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 14 - onReady execution order # time=4.55ms
    
    # Subtest: ready return the server with callback
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 15 - ready return the server with callback # time=21.817ms
    
    # Subtest: ready return the server with Promise
        1..1
        ok 1 - should be equivalent
    ok 16 - ready return the server with Promise # time=16.492ms
    
    # Subtest: ready return registered
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
    ok 17 - ready return registered # time=16.006ms
    
    # Subtest: do not crash with error in follow up onReady hook
        ok 1 - expect rejected Promise
        1..1
    ok 18 - do not crash with error in follow up onReady hook # time=4.352ms
    
    1..18
    # time=783.952ms
ok 50 - test/hooks.on-ready.test.js # time=783.952ms

# Subtest: test/hooks.test.js
    # Subtest: hooks
        1..49
        ok 1 - (unnamed test)
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - (unnamed test)
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - (unnamed test)
        ok 8 - (unnamed test)
        ok 9 - (unnamed test)
        ok 10 - (unnamed test)
        ok 11 - (unnamed test)
        ok 12 - (unnamed test)
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equal
        ok 18 - should be equal
        ok 19 - should be equal
        ok 20 - should be equal
        ok 21 - should be equal
        ok 22 - should be equal
        ok 23 - should be equal
        ok 24 - should be equal
        ok 25 - expect truthy value
        ok 26 - expect truthy value
        ok 27 - expect truthy value
        ok 28 - expect truthy value
        ok 29 - should be equal
        ok 30 - should be equal
        ok 31 - should be equal
        ok 32 - should be equal
        ok 33 - should be equal
        ok 34 - should be equal
        ok 35 - should be equal
        ok 36 - should be equal
        ok 37 - should be equal
        ok 38 - expect truthy value
        ok 39 - expect truthy value
        ok 40 - expect truthy value
        ok 41 - expect truthy value
        ok 42 - should not error
        ok 43 - should be equal
        ok 44 - should be equal
        ok 45 - should be equivalent
        ok 46 - should not error
        ok 47 - should be equal
        ok 48 - should not error
        ok 49 - should be equal
    ok 1 - hooks # time=218.152ms
    
    # Subtest: onRequest hook should support encapsulation / 1
        1..5
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 2 - onRequest hook should support encapsulation / 1 # time=26.536ms
    
    # Subtest: onRequest hook should support encapsulation / 2
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 3 - onRequest hook should support encapsulation / 2 # time=13.221ms
    
    # Subtest: onRequest hook should support encapsulation / 3
        1..20
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect falsey value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - expect truthy value
        ok 11 - expect truthy value
        ok 12 - expect truthy value
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equal
        ok 19 - should be equal
        ok 20 - should be equivalent
    ok 4 - onRequest hook should support encapsulation / 3 # time=35.125ms
    
    # Subtest: preHandler hook should support encapsulation / 5
        1..17
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - should not error
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equivalent
        ok 14 - should not error
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equivalent
    ok 5 - preHandler hook should support encapsulation / 5 # time=15.768ms
    
    # Subtest: onRoute hook should be called / 1
        1..2
        ok 1 - (unnamed test)
        ok 2 - should not error
    ok 6 - onRoute hook should be called / 1 # time=13ms
    
    # Subtest: onRoute hook should be called / 2
        1..5
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
    ok 7 - onRoute hook should be called / 2 # time=10.184ms
    
    # Subtest: onRoute hook should be called / 3
        1..5
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - should not error
        ok 4 - (unnamed test)
        ok 5 - should not error
    ok 8 - onRoute hook should be called / 3 # time=21.703ms
    
    # Subtest: onRoute hook should be called (encapsulation support) / 4
        1..4
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - (unnamed test)
        ok 4 - should not error
    ok 9 - onRoute hook should be called (encapsulation support) / 4 # time=6.739ms
    
    # Subtest: onRoute hook should be called (encapsulation support) / 5
        1..2
        ok 1 - (unnamed test)
        ok 2 - should not error
    ok 10 - onRoute hook should be called (encapsulation support) / 5 # time=13.321ms
    
    # Subtest: onRoute hook should be called (encapsulation support) / 6
        1..1
        ok 1 - should not error
    ok 11 - onRoute hook should be called (encapsulation support) / 6 # time=5.688ms
    
    # Subtest: onRoute should keep the context
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should not error
    ok 12 - onRoute should keep the context # time=13.701ms
    
    # Subtest: onRoute hook should pass correct route
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should not error
    ok 13 - onRoute hook should pass correct route # time=12.202ms
    
    # Subtest: onRoute hook should pass correct route with custom prefix
        1..11
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should not error
    ok 14 - onRoute hook should pass correct route with custom prefix # time=10.916ms
    
    # Subtest: onRoute hook should pass correct route with custom options
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - type is function
        ok 6 - should not error
    ok 15 - onRoute hook should pass correct route with custom options # time=22.016ms
    
    # Subtest: onRoute hook should receive any route option
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
    ok 16 - onRoute hook should receive any route option # time=10.487ms
    
    # Subtest: onRoute hook should preserve system route configuration
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
    ok 17 - onRoute hook should preserve system route configuration # time=10.621ms
    
    # Subtest: onRoute hook should preserve handler function in options of shorthand route system configuration
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 18 - onRoute hook should preserve handler function in options of shorthand route system configuration # time=6.602ms
    
    # Subtest: onRoute hook should be called once when prefixTrailingSlash
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 19 - onRoute hook should be called once when prefixTrailingSlash # time=19.608ms
    
    # Subtest: onRoute hook should able to change the route url
        1..5
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 20 - onRoute hook should able to change the route url # time=31.573ms
    
    # Subtest: onRoute hook that throws should be caught
        1..1
        ok 1 - expect truthy value
    ok 21 - onRoute hook that throws should be caught # time=7.555ms
    
    # Subtest: onRoute hook with many prefix
        1..3
        ok 1 - should match pattern provided
        ok 2 - should match pattern provided
        ok 3 - should not error
    ok 22 - onRoute hook with many prefix # time=7.393ms
    
    # Subtest: onRoute hook should not be called when it registered after route
        1..3
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - should not error
    ok 23 - onRoute hook should not be called when it registered after route # time=4.245ms
    
    # Subtest: onResponse hook should log request error
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 24 - onResponse hook should log request error # time=23.697ms
    
    # Subtest: onResponse hook should support encapsulation / 1
        1..5
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 25 - onResponse hook should support encapsulation / 1 # time=24.242ms
    
    # Subtest: onResponse hook should support encapsulation / 2
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 26 - onResponse hook should support encapsulation / 2 # time=16.088ms
    
    # Subtest: onResponse hook should support encapsulation / 3
        1..16
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equivalent
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equivalent
    ok 27 - onResponse hook should support encapsulation / 3 # time=28.964ms
    
    # Subtest: onSend hook should support encapsulation / 1
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 28 - onSend hook should support encapsulation / 1 # time=4.36ms
    
    # Subtest: onSend hook should support encapsulation / 2
        1..16
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equivalent
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equivalent
    ok 29 - onSend hook should support encapsulation / 2 # time=21.391ms
    
    # Subtest: onSend hook is called after payload is serialized and headers are set
        1..30
        ok 1 - should be equivalent
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should not error
        ok 12 - should be equal
        ok 13 - should be equivalent
        ok 14 - should be equal
        ok 15 - should not error
        ok 16 - should be equal
        ok 17 - should be equivalent
        ok 18 - should be equal
        ok 19 - should not error
        ok 20 - should be equal
        ok 21 - should be equivalent
        ok 22 - should be equal
        ok 23 - should not error
        ok 24 - should be equal
        ok 25 - should be equivalent
        ok 26 - should be equal
        ok 27 - should not error
        ok 28 - should be equal
        ok 29 - should be equivalent
        ok 30 - should be equal
    ok 30 - onSend hook is called after payload is serialized and headers are set # time=32.955ms
    
    # Subtest: modify payload
        1..10
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - expect truthy value
        ok 4 - should be equivalent
        ok 5 - expect truthy value
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
    ok 31 - modify payload # time=7.811ms
    
    # Subtest: clear payload
        1..6
        ok 1 - expect truthy value
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 32 - clear payload # time=5.409ms
    
    # Subtest: onSend hook throws
        1..11
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should not error
        ok 11 - should be equal
    ok 33 - onSend hook throws # time=48.892ms
    
    # Subtest: onSend hook should receive valid request and reply objects if onRequest hook fails
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 34 - onSend hook should receive valid request and reply objects if onRequest hook fails # time=6.894ms
    
    # Subtest: onSend hook should receive valid request and reply objects if a custom content type parser fails
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 35 - onSend hook should receive valid request and reply objects if a custom content type parser fails # time=6.086ms
    
    # Subtest: Content-Length header should be updated if onSend hook modifies the payload
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 36 - Content-Length header should be updated if onSend hook modifies the payload # time=4.066ms
    
    # Subtest: cannot add hook after binding
        1..2
        ok 1 - should not error
        ok 2 - (unnamed test)
    ok 37 - cannot add hook after binding # time=12.199ms
    
    # Subtest: onRequest hooks should be able to block a request
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 38 - onRequest hooks should be able to block a request # time=5.701ms
    
    # Subtest: preValidation hooks should be able to block a request
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 39 - preValidation hooks should be able to block a request # time=5.775ms
    
    # Subtest: preValidation hooks should be able to change request body before validation
        1..4
        ok 1 - (unnamed test)
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 40 - preValidation hooks should be able to change request body before validation # time=54.901ms
    
    # Subtest: preParsing hooks should be able to block a request
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 41 - preParsing hooks should be able to block a request # time=5.507ms
    
    # Subtest: preHandler hooks should be able to block a request
        1..5
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 42 - preHandler hooks should be able to block a request # time=9.595ms
    
    # Subtest: onRequest hooks should be able to block a request (last hook)
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 43 - onRequest hooks should be able to block a request (last hook) # time=5.57ms
    
    # Subtest: preHandler hooks should be able to block a request (last hook)
        1..5
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 44 - preHandler hooks should be able to block a request (last hook) # time=5.055ms
    
    # Subtest: preParsing hooks should handle errors
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 45 - preParsing hooks should handle errors # time=4.333ms
    
    # Subtest: onRequest respond with a stream
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
    ok 46 - onRequest respond with a stream # time=39.292ms
    
    # Subtest: preHandler respond with a stream
        1..7
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - expect truthy value
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
    ok 47 - preHandler respond with a stream # time=8.469ms
    
    # Subtest: Register an hook after a plugin inside a plugin
        1..6
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 48 - Register an hook after a plugin inside a plugin # time=8.286ms
    
    # Subtest: Register an hook after a plugin inside a plugin (with preHandler option)
        1..7
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 49 - Register an hook after a plugin inside a plugin (with preHandler option) # time=7.378ms
    
    # Subtest: Register hooks inside a plugin after an encapsulated plugin
        1..7
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 50 - Register hooks inside a plugin after an encapsulated plugin # time=17.815ms
    
    # Subtest: onRequest hooks should run in the order in which they are defined
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 51 - onRequest hooks should run in the order in which they are defined # time=9.919ms
    
    # Subtest: preHandler hooks should run in the order in which they are defined
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 52 - preHandler hooks should run in the order in which they are defined # time=15.25ms
    
    # Subtest: onSend hooks should run in the order in which they are defined
        1..8
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should be equivalent
    ok 53 - onSend hooks should run in the order in which they are defined # time=23.948ms
    
    # Subtest: onResponse hooks should run in the order in which they are defined
        1..8
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should be equivalent
    ok 54 - onResponse hooks should run in the order in which they are defined # time=8.838ms
    
    # Subtest: onRequest, preHandler, and onResponse hooks that resolve to a value do not cause an error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 55 - onRequest, preHandler, and onResponse hooks that resolve to a value do not cause an error # time=7.419ms
    
    # Subtest: If a response header has been set inside an hook it shoulod not be overwritten by the final response handler
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
    ok 56 - If a response header has been set inside an hook it shoulod not be overwritten by the final response handler # time=4.767ms
    
    # Subtest: If the content type has been set inside an hook it should not be changed
        1..5
        ok 1 - expect truthy value
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
    ok 57 - If the content type has been set inside an hook it should not be changed # time=8.669ms
    
    # Subtest: request in onRequest, preParsing, preValidation and onResponse
        1..18
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
        ok 7 - should be equivalent
        ok 8 - should be equivalent
        ok 9 - should be equivalent
        ok 10 - should be equivalent
        ok 11 - should be equivalent
        ok 12 - should be equivalent
        ok 13 - should be equivalent
        ok 14 - should be equivalent
        ok 15 - should be equivalent
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equal
    ok 58 - request in onRequest, preParsing, preValidation and onResponse # time=15.473ms
    
    # Subtest: preValidation hook should support encapsulation / 1
        1..5
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 59 - preValidation hook should support encapsulation / 1 # time=19.518ms
    
    # Subtest: preValidation hook should support encapsulation / 2
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 60 - preValidation hook should support encapsulation / 2 # time=6.433ms
    
    # Subtest: preValidation hook should support encapsulation / 3
        1..20
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect falsey value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - expect truthy value
        ok 11 - expect truthy value
        ok 12 - expect truthy value
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equal
        ok 19 - should be equal
        ok 20 - should be equivalent
    ok 61 - preValidation hook should support encapsulation / 3 # time=31.407ms
    
    # Subtest: onError hook
        1..3
        ok 1 - should match pattern provided
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 62 - onError hook # time=5.557ms
    
    # Subtest: reply.send should throw if called inside the onError hook
        1..3
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 63 - reply.send should throw if called inside the onError hook # time=4.765ms
    
    # Subtest: onError hook with setErrorHandler
        # Subtest: Send error
            1..3
            ok 1 - should match pattern provided
            ok 2 - should not error
            ok 3 - should be equivalent
        ok 1 - Send error # time=13.163ms
        
        1..1
    ok 64 - onError hook with setErrorHandler # time=23.346ms
    
    # Subtest: preParsing hook should run before parsing and be able to modify the payload
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 65 - preParsing hook should run before parsing and be able to modify the payload # time=15.581ms
    
    # Subtest: preParsing hooks should run in the order in which they are defined
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 66 - preParsing hooks should run in the order in which they are defined # time=7.371ms
    
    # Subtest: preParsing hooks should support encapsulation
        1..9
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 67 - preParsing hooks should support encapsulation # time=11.913ms
    
    # Subtest: preParsing hook should support encapsulation / 1
        1..5
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 68 - preParsing hook should support encapsulation / 1 # time=6.336ms
    
    # Subtest: preParsing hook should support encapsulation / 2
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 69 - preParsing hook should support encapsulation / 2 # time=3.816ms
    
    # Subtest: preParsing hook should support encapsulation / 3
        1..20
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect falsey value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - expect truthy value
        ok 11 - expect truthy value
        ok 12 - expect truthy value
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equal
        ok 19 - should be equal
        ok 20 - should be equivalent
    ok 70 - preParsing hook should support encapsulation / 3 # time=14.786ms
    
    # Subtest: preSerialization hook should run before serialization and be able to modify the payload
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 71 - preSerialization hook should run before serialization and be able to modify the payload # time=14.35ms
    
    # Subtest: preSerialization hook should be able to throw errors which are validated against schema response
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
        1..6
    ok 72 - preSerialization hook should be able to throw errors which are validated against schema response # time=32.857ms
    
    # Subtest: preSerialization hook which returned error should still run onError hooks
        1..4
        ok 1 - should not error
        ok 2 - (unnamed test)
        ok 3 - should not error
        ok 4 - should be equal
    ok 73 - preSerialization hook which returned error should still run onError hooks # time=9.436ms
    
    # Subtest: preSerialization hooks should run in the order in which they are defined
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 74 - preSerialization hooks should run in the order in which they are defined # time=6.864ms
    
    # Subtest: preSerialization hooks should support encapsulation
        1..9
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 75 - preSerialization hooks should support encapsulation # time=15.308ms
    
    # Subtest: onRegister hook should be called / 1
        1..3
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - should not error
    ok 76 - onRegister hook should be called / 1 # time=4.582ms
    
    # Subtest: onRegister hook should be called / 2
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
    ok 77 - onRegister hook should be called / 2 # time=5.227ms
    
    # Subtest: onRegister hook should be called / 3
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
    ok 78 - onRegister hook should be called / 3 # time=6.095ms
    
    # Subtest: onRegister hook should be called (encapsulation)
        1..1
        ok 1 - should not error
    ok 79 - onRegister hook should be called (encapsulation) # time=2.988ms
    
    # Subtest: early termination, onRequest
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 80 - early termination, onRequest # time=4.091ms
    
    # Subtest: reply.send should throw if undefined error is thrown
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 81 - reply.send should throw if undefined error is thrown # time=4.933ms
    
    # Subtest: reply.send should throw if undefined error is thrown at preParsing hook
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 82 - reply.send should throw if undefined error is thrown at preParsing hook # time=4.324ms
    
    # Subtest: reply.send should throw if undefined error is thrown at onSend hook
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 83 - reply.send should throw if undefined error is thrown at onSend hook # time=5.798ms
    
    # Subtest: onTimeout should be triggered
        1..6
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - onTimeout
        ok 5 - type is Error
        ok 6 - should be equal
    ok 84 - onTimeout should be triggered # time=514.213ms
    
    # Subtest: onTimeout should be triggered and socket _meta is set
        1..6
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - onTimeout
        ok 5 - type is Error
        ok 6 - should be equal
    ok 85 - onTimeout should be triggered and socket _meta is set # time=509.81ms
    
    # Subtest: registering invalid hooks should throw an error
        1..3
        ok 1 - expected to throw: Error onRequest hook should be a function, instead got [object Undefined]
        ok 2 - expected to throw: Error onRequest hook should be a function, instead got [object Null]
        ok 3 - expected to throw: Error onSend hook should be a function, instead got [object Undefined]
    ok 86 - registering invalid hooks should throw an error # time=5.748ms
    
    # Subtest: onRequestAbort should be triggered
        1..7
        ok 1 - should not error
        ok 2 - handler called
        ok 3 - called in hook
        ok 4 - request has pendingResolve
        ok 5 - called in route
        ok 6 - handler promise resolved
        ok 7 - onSend should be called
    ok 87 - onRequestAbort should be triggered # time=510.595ms
    
    # Subtest: onRequestAbort should support encapsulation
        1..6
        ok 1 - should not error
        ok 2 - called in root
        ok 3 - should be equivalent strictly
        ok 4 - called in child
        ok 5 - should be equivalent strictly
        ok 6 - called in route
    ok 88 - onRequestAbort should support encapsulation # time=510.836ms
    
    # Subtest: onRequestAbort should handle errors / 1
        1..2
        ok 1 - should not error
        ok 2 - (unnamed test)
    ok 89 - onRequestAbort should handle errors / 1 # time=507.027ms
    
    # Subtest: onRequestAbort should handle errors / 2
        1..2
        ok 1 - should not error
        ok 2 - (unnamed test)
    ok 90 - onRequestAbort should handle errors / 2 # time=508.731ms
    
    # Subtest: onRequestAbort should handle async errors / 1
        1..2
        ok 1 - should not error
        ok 2 - (unnamed test)
    ok 91 - onRequestAbort should handle async errors / 1 # time=507.198ms
    
    # Subtest: onRequestAbort should handle async errors / 2
        1..2
        ok 1 - should not error
        ok 2 - (unnamed test)
    ok 92 - onRequestAbort should handle async errors / 2 # time=508.193ms
    
    1..92
    # time=5998.919ms
ok 51 - test/hooks.test.js # time=5998.919ms

# Subtest: test/http2/closing.test.js
    # Subtest: http/2 request while fastify closing
        ok 1 - http2 successfully loaded
        ok 2 - should not error
        # Subtest: return 200
            ok 1 - should be equal
            1..1
        ok 3 - return 200 # time=21.957ms
        
        1..3
    ok 1 - http/2 request while fastify closing # time=64.671ms
    
    # Subtest: http/2 request while fastify closing - return503OnClosing: false
        ok 1 - http2 successfully loaded
        ok 2 - should not error
        # Subtest: return 200
            ok 1 - should be equal
            1..1
        ok 3 - return 200 # time=7.321ms
        
        1..3
    ok 2 - http/2 request while fastify closing - return503OnClosing: false # time=55.819ms
    
    # Subtest: http/2 closes successfully with async await
        1..0
    ok 3 - http/2 closes successfully with async await # time=118.574ms
    
    # Subtest: https/2 closes successfully with async await
        1..0
    ok 4 - https/2 closes successfully with async await # time=36.652ms
    
    # Subtest: http/2 server side session emits a timeout event
        ok 1 - should be equal
        1..1
    ok 5 - http/2 server side session emits a timeout event # time=121.641ms
    
    1..5
    # time=433.617ms
ok 52 - test/http2/closing.test.js # time=433.617ms

# Subtest: test/http2/constraint.test.js
    # Subtest: A route supports host constraints under http2 protocol and secure connection
        1..5
        ok 1 - Key/cert successfully loaded
        ok 2 - should not error
        # Subtest: https get request - no constrain
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - https get request - no constrain # time=68.154ms
        
        # Subtest: https get request - constrain
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 4 - https get request - constrain # time=10.682ms
        
        # Subtest: https get request - constrain - not found
            1..1
            ok 1 - should be equal
        ok 5 - https get request - constrain - not found # time=7.072ms
        
    ok 1 - A route supports host constraints under http2 protocol and secure connection # time=155.576ms
    
    1..1
    # time=179.992ms
ok 53 - test/http2/constraint.test.js # time=179.992ms

# Subtest: test/http2/head.test.js
    ok 1 - http2 successfully loaded
    ok 2 - should not error
    # Subtest: http HEAD request
        1..1
        ok 1 - should be equal
    ok 3 - http HEAD request # time=27.609ms
    
    1..3
    # time=75.632ms
ok 54 - test/http2/head.test.js # time=75.632ms

# Subtest: test/http2/missing-http2-module.test.js
    # Subtest: should throw when http2 module cannot be found
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 1 - should throw when http2 module cannot be found # time=12.014ms
    
    1..1
    # time=22.354ms
ok 55 - test/http2/missing-http2-module.test.js # time=22.354ms

# Subtest: test/http2/plain.test.js
    ok 1 - http2 successfully loaded
    ok 2 - should not error
    # Subtest: http get request
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 3 - http get request # time=34.796ms
    
    # Subtest: http hostname
        1..1
        ok 1 - should be equal
    ok 4 - http hostname # time=5.438ms
    
    1..4
    # time=89.221ms
ok 56 - test/http2/plain.test.js # time=89.221ms

# Subtest: test/http2/secure-with-fallback.test.js
    # Subtest: secure with fallback
        1..7
        ok 1 - Key/cert successfully loaded
        ok 2 - should not error
        # Subtest: https get error
            1..1
            ok 1 - should be equal
        ok 3 - https get error # time=66.062ms
        
        # Subtest: https post
            1..2
            ok 1 - should be equal
            ok 2 - should be equivalent
        ok 4 - https post # time=18.723ms
        
        # Subtest: https get request
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 5 - https get request # time=8.18ms
        
        # Subtest: http1 get request
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 6 - http1 get request # time=20.678ms
        
        # Subtest: http1 get error
            1..2
            ok 1 - should not error
            ok 2 - should be equal
        ok 7 - http1 get error # time=7.348ms
        
    ok 1 - secure with fallback # time=192.3ms
    
    1..1
    # time=215.407ms
ok 57 - test/http2/secure-with-fallback.test.js # time=215.407ms

# Subtest: test/http2/secure.test.js
    # Subtest: secure
        1..4
        ok 1 - Key/cert successfully loaded
        ok 2 - should not error
        # Subtest: https get request
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - https get request # time=43.908ms
        
        # Subtest: https get request without trust proxy - protocol
            1..2
            ok 1 - should be equivalent
            ok 2 - should be equivalent
        ok 4 - https get request without trust proxy - protocol # time=40.937ms
        
    ok 1 - secure # time=152.206ms
    
    1..1
    # time=175.666ms
ok 58 - test/http2/secure.test.js # time=175.666ms

# Subtest: test/http2/unknown-http-method.test.js
    ok 1 - should not error
    # Subtest: http UNKNOWN_METHOD request
        1..2
        ok 1 - should be equal
        ok 2 - should be equivalent
    ok 2 - http UNKNOWN_METHOD request # time=37.429ms
    
    1..2
    # time=62.904ms
ok 59 - test/http2/unknown-http-method.test.js # time=62.904ms

# Subtest: test/https/custom-https-server.test.js
    # Subtest: Should support a custom https server
        1..4
        ok 1 - it is called once for localhost
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - Should support a custom https server # time=93.596ms
    
    1..1
    # time=103.062ms
ok 60 - test/https/custom-https-server.test.js # time=103.062ms

# Subtest: test/https/https.test.js
    # Subtest: https
        1..4
        ok 1 - Key/cert successfully loaded
        ok 2 - should not error
        # Subtest: https get request
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 3 - https get request # time=42.512ms
        
        # Subtest: https get request without trust proxy - protocol
            1..4
            ok 1 - should not error
            ok 2 - should be equivalent
            ok 3 - should not error
            ok 4 - should be equivalent
        ok 4 - https get request without trust proxy - protocol # time=13.06ms
        
    ok 1 - https # time=122.416ms
    
    1..1
    # time=145.576ms
ok 61 - test/https/https.test.js # time=145.576ms

# Subtest: test/imports.test.js
    # Subtest: should import as default
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 1 - should import as default # time=244.369ms
    
    # Subtest: should import as esm
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 2 - should import as esm # time=2.755ms
    
    1..2
    # time=259.944ms
ok 62 - test/imports.test.js # time=259.944ms

# Subtest: test/inject.test.js
    # Subtest: inject should exist
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 1 - inject should exist # time=16.056ms
    
    # Subtest: should wait for the ready event
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 2 - should wait for the ready event # time=572.194ms
    
    # Subtest: inject get request
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 3 - inject get request # time=6.26ms
    
    # Subtest: inject get request - code check
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 4 - inject get request - code check # time=16.115ms
    
    # Subtest: inject get request - headers check
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 5 - inject get request - headers check # time=10.914ms
    
    # Subtest: inject get request - querystring
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 6 - inject get request - querystring # time=10.792ms
    
    # Subtest: inject get request - params
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 7 - inject get request - params # time=9.791ms
    
    # Subtest: inject get request - wildcard
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 8 - inject get request - wildcard # time=5.528ms
    
    # Subtest: inject get request - headers
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 9 - inject get request - headers # time=22.249ms
    
    # Subtest: inject post request
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 10 - inject post request # time=15.905ms
    
    # Subtest: inject post request - send stream
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 11 - inject post request - send stream # time=12.599ms
    
    # Subtest: inject get request - reply stream
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 12 - inject get request - reply stream # time=12.7ms
    
    # Subtest: inject promisify - waiting for ready event
        1..1
        ok 1 - should be equal
    ok 13 - inject promisify - waiting for ready event # time=4.413ms
    
    # Subtest: inject promisify - after the ready event
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 14 - inject promisify - after the ready event # time=13.315ms
    
    # Subtest: inject promisify - when the server is up
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 15 - inject promisify - when the server is up # time=19.249ms
    
    # Subtest: should reject in error case
        1..1
        ok 1 - should be equal
    ok 16 - should reject in error case # time=514.047ms
    
    # Subtest: inject a multipart request using form-body
        1..2
        ok 1 - should be equal
        ok 2 - expect truthy value
    ok 17 - inject a multipart request using form-body # time=7.025ms
    
    # Subtest: should error the promise if ready errors
        1..3
        ok 1 - after is called
        ok 2 - expect truthy value
        ok 3 - should be equal
    ok 18 - should error the promise if ready errors # time=17.895ms
    
    # Subtest: should throw error if callback specified and if ready errors
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 19 - should throw error if callback specified and if ready errors # time=9.831ms
    
    # Subtest: should support builder-style injection with ready app
        1..3
        ok 1 - should be equivalent
        ok 2 - should be equal
        ok 3 - should be equal
    ok 20 - should support builder-style injection with ready app # time=10.216ms
    
    # Subtest: should support builder-style injection with non-ready app
        1..3
        ok 1 - should be equivalent
        ok 2 - should be equal
        ok 3 - should be equal
    ok 21 - should support builder-style injection with non-ready app # time=8.555ms
    
    # Subtest: should handle errors in builder-style injection correctly
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 22 - should handle errors in builder-style injection correctly # time=8.202ms
    
    # Subtest: Should not throw on access to routeConfig frameworkErrors handler - FST_ERR_BAD_URL
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should be equivalent
(node:729) [FSTDEP017] DeprecationWarning: You are accessing the deprecated "request.routerPath" property. Use "request.routeOptions.url" instead. Property "req.routerPath" will be removed in `fastify@5`.
(Use `node --trace-deprecation ...` to show where the warning was created)
        ok 4 - should not error
        ok 5 - should be equal
    ok 23 - Should not throw on access to routeConfig frameworkErrors handler - FST_ERR_BAD_URL # time=11.971ms
    
    1..23
    # time=1384.537ms
ok 63 - test/inject.test.js # time=1384.537ms

# Subtest: test/internals/all.test.js
    # Subtest: fastify.all should add all the methods to the same url
        1..32
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equivalent
        ok 9 - should not error
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equivalent
        ok 13 - should not error
        ok 14 - should be equivalent
        ok 15 - should not error
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equivalent
        ok 19 - should not error
        ok 20 - should be equivalent
        ok 21 - should not error
        ok 22 - should be equivalent
        ok 23 - should not error
        ok 24 - should be equivalent
        ok 25 - should not error
        ok 26 - should be equivalent
        ok 27 - should not error
        ok 28 - should be equivalent
        ok 29 - should not error
        ok 30 - should be equivalent
        ok 31 - should not error
        ok 32 - should be equivalent
    ok 1 - fastify.all should add all the methods to the same url # time=77.468ms
    
    1..1
    # time=84.651ms
ok 64 - test/internals/all.test.js # time=84.651ms

# Subtest: test/internals/contentTypeParser.test.js
    # Subtest: rawBody function
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 1 - rawBody function # time=11.569ms
    
    # Subtest: Should support Webpack and faux modules
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 2 - Should support Webpack and faux modules # time=8.395ms
    
    1..2
    # time=31.836ms
ok 65 - test/internals/contentTypeParser.test.js # time=31.836ms

# Subtest: test/internals/context.test.js
    # Subtest: context
        1..1
        # Subtest: Should not contain undefined as key prop
            ok 1 - type is Context
            ok 2 - type is Context
            ok 3 - expect falsey value
            ok 4 - expect falsey value
            1..4
        ok 1 - Should not contain undefined as key prop # time=45.626ms
        
    ok 1 - context # time=54.719ms
    
    1..1
    # time=60.597ms
ok 66 - test/internals/context.test.js # time=60.597ms

# Subtest: test/internals/decorator.test.js
    # Subtest: decorate should add the given method to its instance
        1..1
        ok 1 - expect truthy value
    ok 1 - decorate should add the given method to its instance # time=6.647ms
    
    # Subtest: decorate is chainable
        1..3
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
    ok 2 - decorate is chainable # time=2.361ms
    
    # Subtest: checkExistence should check if a property is part of the given instance
        1..1
        ok 1 - expect truthy value
    ok 3 - checkExistence should check if a property is part of the given instance # time=1.333ms
    
    # Subtest: checkExistence should find the instance if not given
        1..1
        ok 1 - expect truthy value
    ok 4 - checkExistence should find the instance if not given # time=1.336ms
    
    # Subtest: checkExistence should check the prototype as well
        1..1
        ok 1 - expect truthy value
    ok 5 - checkExistence should check the prototype as well # time=1.288ms
    
    # Subtest: checkDependencies should throw if a dependency is not present
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 6 - checkDependencies should throw if a dependency is not present # time=2.363ms
    
    # Subtest: decorate should internally call checkDependencies
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 7 - decorate should internally call checkDependencies # time=2.728ms
    
    # Subtest: decorate should recognize getter/setter objects
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - (unnamed test)
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 8 - decorate should recognize getter/setter objects # time=3.419ms
    
    1..8
    # time=51.234ms
ok 67 - test/internals/decorator.test.js # time=51.234ms

# Subtest: test/internals/errors.test.js
    # Subtest: should expose 78 errors
        1..1
        ok 1 - should be equal
    ok 1 - should expose 78 errors # time=6.257ms
    
    # Subtest: ensure name and codes of Errors are identical
        1..78
        ok 1 - FST_ERR_NOT_FOUND
        ok 2 - FST_ERR_OPTIONS_NOT_OBJ
        ok 3 - FST_ERR_QSP_NOT_FN
        ok 4 - FST_ERR_SCHEMA_CONTROLLER_BUCKET_OPT_NOT_FN
        ok 5 - FST_ERR_SCHEMA_ERROR_FORMATTER_NOT_FN
        ok 6 - FST_ERR_AJV_CUSTOM_OPTIONS_OPT_NOT_OBJ
        ok 7 - FST_ERR_AJV_CUSTOM_OPTIONS_OPT_NOT_ARR
        ok 8 - FST_ERR_VERSION_CONSTRAINT_NOT_STR
        ok 9 - FST_ERR_VALIDATION
        ok 10 - FST_ERR_LISTEN_OPTIONS_INVALID
        ok 11 - FST_ERR_CTP_ALREADY_PRESENT
        ok 12 - FST_ERR_CTP_INVALID_TYPE
        ok 13 - FST_ERR_CTP_EMPTY_TYPE
        ok 14 - FST_ERR_CTP_INVALID_HANDLER
        ok 15 - FST_ERR_CTP_INVALID_PARSE_TYPE
        ok 16 - FST_ERR_CTP_BODY_TOO_LARGE
        ok 17 - FST_ERR_CTP_INVALID_MEDIA_TYPE
        ok 18 - FST_ERR_CTP_INVALID_CONTENT_LENGTH
        ok 19 - FST_ERR_CTP_EMPTY_JSON_BODY
        ok 20 - FST_ERR_CTP_INSTANCE_ALREADY_STARTED
        ok 21 - FST_ERR_DEC_ALREADY_PRESENT
        ok 22 - FST_ERR_DEC_DEPENDENCY_INVALID_TYPE
        ok 23 - FST_ERR_DEC_MISSING_DEPENDENCY
        ok 24 - FST_ERR_DEC_AFTER_START
        ok 25 - FST_ERR_HOOK_INVALID_TYPE
        ok 26 - FST_ERR_HOOK_INVALID_HANDLER
        ok 27 - FST_ERR_HOOK_INVALID_ASYNC_HANDLER
        ok 28 - FST_ERR_HOOK_NOT_SUPPORTED
        ok 29 - FST_ERR_MISSING_MIDDLEWARE
        ok 30 - FST_ERR_HOOK_TIMEOUT
        ok 31 - FST_ERR_LOG_INVALID_DESTINATION
        ok 32 - FST_ERR_LOG_INVALID_LOGGER
        ok 33 - FST_ERR_REP_INVALID_PAYLOAD_TYPE
        ok 34 - FST_ERR_REP_ALREADY_SENT
        ok 35 - FST_ERR_REP_SENT_VALUE
        ok 36 - FST_ERR_SEND_INSIDE_ONERR
        ok 37 - FST_ERR_SEND_UNDEFINED_ERR
        ok 38 - FST_ERR_BAD_STATUS_CODE
        ok 39 - FST_ERR_BAD_TRAILER_NAME
        ok 40 - FST_ERR_BAD_TRAILER_VALUE
        ok 41 - FST_ERR_FAILED_ERROR_SERIALIZATION
        ok 42 - FST_ERR_MISSING_SERIALIZATION_FN
        ok 43 - FST_ERR_MISSING_CONTENTTYPE_SERIALIZATION_FN
        ok 44 - FST_ERR_REQ_INVALID_VALIDATION_INVOCATION
        ok 45 - FST_ERR_SCH_MISSING_ID
        ok 46 - FST_ERR_SCH_ALREADY_PRESENT
        ok 47 - FST_ERR_SCH_CONTENT_MISSING_SCHEMA
        ok 48 - FST_ERR_SCH_DUPLICATE
        ok 49 - FST_ERR_SCH_VALIDATION_BUILD
        ok 50 - FST_ERR_SCH_SERIALIZATION_BUILD
        ok 51 - FST_ERR_SCH_RESPONSE_SCHEMA_NOT_NESTED_2XX
        ok 52 - FST_ERR_HTTP2_INVALID_VERSION
        ok 53 - FST_ERR_INIT_OPTS_INVALID
        ok 54 - FST_ERR_FORCE_CLOSE_CONNECTIONS_IDLE_NOT_AVAILABLE
        ok 55 - FST_ERR_DUPLICATED_ROUTE
        ok 56 - FST_ERR_BAD_URL
        ok 57 - FST_ERR_ASYNC_CONSTRAINT
        ok 58 - FST_ERR_DEFAULT_ROUTE_INVALID_TYPE
        ok 59 - FST_ERR_INVALID_URL
        ok 60 - FST_ERR_ROUTE_OPTIONS_NOT_OBJ
        ok 61 - FST_ERR_ROUTE_DUPLICATED_HANDLER
        ok 62 - FST_ERR_ROUTE_HANDLER_NOT_FN
        ok 63 - FST_ERR_ROUTE_MISSING_HANDLER
        ok 64 - FST_ERR_ROUTE_METHOD_INVALID
        ok 65 - FST_ERR_ROUTE_METHOD_NOT_SUPPORTED
        ok 66 - FST_ERR_ROUTE_BODY_VALIDATION_SCHEMA_NOT_SUPPORTED
        ok 67 - FST_ERR_ROUTE_BODY_LIMIT_OPTION_NOT_INT
        ok 68 - FST_ERR_ROUTE_REWRITE_NOT_STR
        ok 69 - FST_ERR_REOPENED_CLOSE_SERVER
        ok 70 - FST_ERR_REOPENED_SERVER
        ok 71 - FST_ERR_INSTANCE_ALREADY_LISTENING
        ok 72 - FST_ERR_PLUGIN_VERSION_MISMATCH
        ok 73 - FST_ERR_PLUGIN_NOT_PRESENT_IN_INSTANCE
        ok 74 - FST_ERR_PLUGIN_CALLBACK_NOT_FN
        ok 75 - FST_ERR_PLUGIN_NOT_VALID
        ok 76 - FST_ERR_ROOT_PLG_BOOTED
        ok 77 - FST_ERR_PARENT_PLUGIN_BOOTED
        ok 78 - FST_ERR_PLUGIN_TIMEOUT
    ok 2 - ensure name and codes of Errors are identical # time=34.531ms
    
    # Subtest: FST_ERR_NOT_FOUND
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 3 - FST_ERR_NOT_FOUND # time=2.954ms
    
    # Subtest: FST_ERR_OPTIONS_NOT_OBJ
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 4 - FST_ERR_OPTIONS_NOT_OBJ # time=2.726ms
    
    # Subtest: FST_ERR_QSP_NOT_FN
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 5 - FST_ERR_QSP_NOT_FN # time=2.768ms
    
    # Subtest: FST_ERR_SCHEMA_CONTROLLER_BUCKET_OPT_NOT_FN
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 6 - FST_ERR_SCHEMA_CONTROLLER_BUCKET_OPT_NOT_FN # time=2.679ms
    
    # Subtest: FST_ERR_SCHEMA_ERROR_FORMATTER_NOT_FN
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 7 - FST_ERR_SCHEMA_ERROR_FORMATTER_NOT_FN # time=7.228ms
    
    # Subtest: FST_ERR_AJV_CUSTOM_OPTIONS_OPT_NOT_OBJ
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 8 - FST_ERR_AJV_CUSTOM_OPTIONS_OPT_NOT_OBJ # time=6.212ms
    
    # Subtest: FST_ERR_AJV_CUSTOM_OPTIONS_OPT_NOT_ARR
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 9 - FST_ERR_AJV_CUSTOM_OPTIONS_OPT_NOT_ARR # time=4.396ms
    
    # Subtest: FST_ERR_VERSION_CONSTRAINT_NOT_STR
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 10 - FST_ERR_VERSION_CONSTRAINT_NOT_STR # time=8.649ms
    
    # Subtest: FST_ERR_CTP_ALREADY_PRESENT
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 11 - FST_ERR_CTP_ALREADY_PRESENT # time=3.534ms
    
    # Subtest: FST_ERR_CTP_INVALID_TYPE
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 12 - FST_ERR_CTP_INVALID_TYPE # time=2.803ms
    
    # Subtest: FST_ERR_CTP_EMPTY_TYPE
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 13 - FST_ERR_CTP_EMPTY_TYPE # time=2.605ms
    
    # Subtest: FST_ERR_CTP_INVALID_HANDLER
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 14 - FST_ERR_CTP_INVALID_HANDLER # time=2.643ms
    
    # Subtest: FST_ERR_CTP_INVALID_PARSE_TYPE
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 15 - FST_ERR_CTP_INVALID_PARSE_TYPE # time=2.633ms
    
    # Subtest: FST_ERR_CTP_BODY_TOO_LARGE
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 16 - FST_ERR_CTP_BODY_TOO_LARGE # time=7.945ms
    
    # Subtest: FST_ERR_CTP_INVALID_MEDIA_TYPE
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 17 - FST_ERR_CTP_INVALID_MEDIA_TYPE # time=6.069ms
    
    # Subtest: FST_ERR_CTP_INVALID_CONTENT_LENGTH
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 18 - FST_ERR_CTP_INVALID_CONTENT_LENGTH # time=2.822ms
    
    # Subtest: FST_ERR_CTP_EMPTY_JSON_BODY
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 19 - FST_ERR_CTP_EMPTY_JSON_BODY # time=4.171ms
    
    # Subtest: FST_ERR_CTP_INSTANCE_ALREADY_STARTED
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 20 - FST_ERR_CTP_INSTANCE_ALREADY_STARTED # time=2.652ms
    
    # Subtest: FST_ERR_DEC_ALREADY_PRESENT
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 21 - FST_ERR_DEC_ALREADY_PRESENT # time=2.642ms
    
    # Subtest: FST_ERR_DEC_DEPENDENCY_INVALID_TYPE
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 22 - FST_ERR_DEC_DEPENDENCY_INVALID_TYPE # time=2.674ms
    
    # Subtest: FST_ERR_DEC_MISSING_DEPENDENCY
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 23 - FST_ERR_DEC_MISSING_DEPENDENCY # time=2.591ms
    
    # Subtest: FST_ERR_DEC_AFTER_START
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 24 - FST_ERR_DEC_AFTER_START # time=2.641ms
    
    # Subtest: FST_ERR_HOOK_INVALID_TYPE
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 25 - FST_ERR_HOOK_INVALID_TYPE # time=2.645ms
    
    # Subtest: FST_ERR_HOOK_INVALID_HANDLER
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 26 - FST_ERR_HOOK_INVALID_HANDLER # time=2.823ms
    
    # Subtest: FST_ERR_HOOK_INVALID_ASYNC_HANDLER
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 27 - FST_ERR_HOOK_INVALID_ASYNC_HANDLER # time=2.637ms
    
    # Subtest: FST_ERR_HOOK_NOT_SUPPORTED
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 28 - FST_ERR_HOOK_NOT_SUPPORTED # time=2.581ms
    
    # Subtest: FST_ERR_MISSING_MIDDLEWARE
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 29 - FST_ERR_MISSING_MIDDLEWARE # time=2.618ms
    
    # Subtest: FST_ERR_HOOK_TIMEOUT
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 30 - FST_ERR_HOOK_TIMEOUT # time=3.937ms
    
    # Subtest: FST_ERR_LOG_INVALID_DESTINATION
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 31 - FST_ERR_LOG_INVALID_DESTINATION # time=2.678ms
    
    # Subtest: FST_ERR_LOG_INVALID_LOGGER
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 32 - FST_ERR_LOG_INVALID_LOGGER # time=2.674ms
    
    # Subtest: FST_ERR_REP_INVALID_PAYLOAD_TYPE
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 33 - FST_ERR_REP_INVALID_PAYLOAD_TYPE # time=2.678ms
    
    # Subtest: FST_ERR_REP_ALREADY_SENT
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 34 - FST_ERR_REP_ALREADY_SENT # time=2.674ms
    
    # Subtest: FST_ERR_REP_SENT_VALUE
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 35 - FST_ERR_REP_SENT_VALUE # time=2.654ms
    
    # Subtest: FST_ERR_SEND_INSIDE_ONERR
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 36 - FST_ERR_SEND_INSIDE_ONERR # time=2.665ms
    
    # Subtest: FST_ERR_SEND_UNDEFINED_ERR
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 37 - FST_ERR_SEND_UNDEFINED_ERR # time=3.058ms
    
    # Subtest: FST_ERR_BAD_STATUS_CODE
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 38 - FST_ERR_BAD_STATUS_CODE # time=4.812ms
    
    # Subtest: FST_ERR_BAD_TRAILER_NAME
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 39 - FST_ERR_BAD_TRAILER_NAME # time=6.077ms
    
    # Subtest: FST_ERR_BAD_TRAILER_VALUE
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 40 - FST_ERR_BAD_TRAILER_VALUE # time=4.937ms
    
    # Subtest: FST_ERR_FAILED_ERROR_SERIALIZATION
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 41 - FST_ERR_FAILED_ERROR_SERIALIZATION # time=4.561ms
    
    # Subtest: FST_ERR_MISSING_SERIALIZATION_FN
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 42 - FST_ERR_MISSING_SERIALIZATION_FN # time=11.525ms
    
    # Subtest: FST_ERR_MISSING_CONTENTTYPE_SERIALIZATION_FN
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 43 - FST_ERR_MISSING_CONTENTTYPE_SERIALIZATION_FN # time=2.675ms
    
    # Subtest: FST_ERR_REQ_INVALID_VALIDATION_INVOCATION
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 44 - FST_ERR_REQ_INVALID_VALIDATION_INVOCATION # time=2.626ms
    
    # Subtest: FST_ERR_SCH_MISSING_ID
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 45 - FST_ERR_SCH_MISSING_ID # time=2.625ms
    
    # Subtest: FST_ERR_SCH_ALREADY_PRESENT
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 46 - FST_ERR_SCH_ALREADY_PRESENT # time=2.646ms
    
    # Subtest: FST_ERR_SCH_CONTENT_MISSING_SCHEMA
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 47 - FST_ERR_SCH_CONTENT_MISSING_SCHEMA # time=2.571ms
    
    # Subtest: FST_ERR_SCH_DUPLICATE
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 48 - FST_ERR_SCH_DUPLICATE # time=2.845ms
    
    # Subtest: FST_ERR_SCH_VALIDATION_BUILD
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 49 - FST_ERR_SCH_VALIDATION_BUILD # time=7.017ms
    
    # Subtest: FST_ERR_SCH_SERIALIZATION_BUILD
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 50 - FST_ERR_SCH_SERIALIZATION_BUILD # time=3.056ms
    
    # Subtest: FST_ERR_SCH_RESPONSE_SCHEMA_NOT_NESTED_2XX
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 51 - FST_ERR_SCH_RESPONSE_SCHEMA_NOT_NESTED_2XX # time=2.635ms
    
    # Subtest: FST_ERR_HTTP2_INVALID_VERSION
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 52 - FST_ERR_HTTP2_INVALID_VERSION # time=2.586ms
    
    # Subtest: FST_ERR_INIT_OPTS_INVALID
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 53 - FST_ERR_INIT_OPTS_INVALID # time=2.597ms
    
    # Subtest: FST_ERR_FORCE_CLOSE_CONNECTIONS_IDLE_NOT_AVAILABLE
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 54 - FST_ERR_FORCE_CLOSE_CONNECTIONS_IDLE_NOT_AVAILABLE # time=2.647ms
    
    # Subtest: FST_ERR_DUPLICATED_ROUTE
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 55 - FST_ERR_DUPLICATED_ROUTE # time=2.608ms
    
    # Subtest: FST_ERR_BAD_URL
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 56 - FST_ERR_BAD_URL # time=2.615ms
    
    # Subtest: FST_ERR_ASYNC_CONSTRAINT
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 57 - FST_ERR_ASYNC_CONSTRAINT # time=2.632ms
    
    # Subtest: FST_ERR_DEFAULT_ROUTE_INVALID_TYPE
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 58 - FST_ERR_DEFAULT_ROUTE_INVALID_TYPE # time=2.603ms
    
    # Subtest: FST_ERR_INVALID_URL
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 59 - FST_ERR_INVALID_URL # time=2.571ms
    
    # Subtest: FST_ERR_ROUTE_OPTIONS_NOT_OBJ
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 60 - FST_ERR_ROUTE_OPTIONS_NOT_OBJ # time=2.609ms
    
    # Subtest: FST_ERR_ROUTE_DUPLICATED_HANDLER
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 61 - FST_ERR_ROUTE_DUPLICATED_HANDLER # time=2.593ms
    
    # Subtest: FST_ERR_ROUTE_HANDLER_NOT_FN
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 62 - FST_ERR_ROUTE_HANDLER_NOT_FN # time=2.979ms
    
    # Subtest: FST_ERR_ROUTE_MISSING_HANDLER
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 63 - FST_ERR_ROUTE_MISSING_HANDLER # time=3.196ms
    
    # Subtest: FST_ERR_ROUTE_METHOD_INVALID
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 64 - FST_ERR_ROUTE_METHOD_INVALID # time=2.63ms
    
    # Subtest: FST_ERR_ROUTE_METHOD_NOT_SUPPORTED
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 65 - FST_ERR_ROUTE_METHOD_NOT_SUPPORTED # time=2.639ms
    
    # Subtest: FST_ERR_ROUTE_BODY_VALIDATION_SCHEMA_NOT_SUPPORTED
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 66 - FST_ERR_ROUTE_BODY_VALIDATION_SCHEMA_NOT_SUPPORTED # time=2.584ms
    
    # Subtest: FST_ERR_ROUTE_BODY_LIMIT_OPTION_NOT_INT
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 67 - FST_ERR_ROUTE_BODY_LIMIT_OPTION_NOT_INT # time=2.591ms
    
    # Subtest: FST_ERR_ROUTE_BODY_LIMIT_OPTION_NOT_INT
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 68 - FST_ERR_ROUTE_BODY_LIMIT_OPTION_NOT_INT # time=2.587ms
    
    # Subtest: FST_ERR_ROUTE_REWRITE_NOT_STR
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 69 - FST_ERR_ROUTE_REWRITE_NOT_STR # time=2.685ms
    
    # Subtest: FST_ERR_REOPENED_CLOSE_SERVER
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 70 - FST_ERR_REOPENED_CLOSE_SERVER # time=2.565ms
    
    # Subtest: FST_ERR_REOPENED_SERVER
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 71 - FST_ERR_REOPENED_SERVER # time=2.632ms
    
    # Subtest: FST_ERR_INSTANCE_ALREADY_LISTENING
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 72 - FST_ERR_INSTANCE_ALREADY_LISTENING # time=2.635ms
    
    # Subtest: FST_ERR_PLUGIN_VERSION_MISMATCH
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 73 - FST_ERR_PLUGIN_VERSION_MISMATCH # time=2.577ms
    
    # Subtest: FST_ERR_PLUGIN_NOT_PRESENT_IN_INSTANCE
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 74 - FST_ERR_PLUGIN_NOT_PRESENT_IN_INSTANCE # time=7.059ms
    
    # Subtest: FST_ERR_PLUGIN_CALLBACK_NOT_FN
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 75 - FST_ERR_PLUGIN_CALLBACK_NOT_FN # time=9.788ms
    
    # Subtest: FST_ERR_PLUGIN_NOT_VALID
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 76 - FST_ERR_PLUGIN_NOT_VALID # time=6.047ms
    
    # Subtest: FST_ERR_ROOT_PLG_BOOTED
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 77 - FST_ERR_ROOT_PLG_BOOTED # time=2.951ms
    
    # Subtest: FST_ERR_PARENT_PLUGIN_BOOTED
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 78 - FST_ERR_PARENT_PLUGIN_BOOTED # time=2.522ms
    
    # Subtest: FST_ERR_PLUGIN_TIMEOUT
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 79 - FST_ERR_PLUGIN_TIMEOUT # time=2.51ms
    
    # Subtest: FST_ERR_VALIDATION
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 80 - FST_ERR_VALIDATION # time=2.447ms
    
    # Subtest: FST_ERR_LISTEN_OPTIONS_INVALID
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 81 - FST_ERR_LISTEN_OPTIONS_INVALID # time=2.465ms
    
    # Subtest: Ensure that all errors are in Errors.md TOC
        1..78
        ok 1 - FST_ERR_NOT_FOUND
        ok 2 - FST_ERR_OPTIONS_NOT_OBJ
        ok 3 - FST_ERR_QSP_NOT_FN
        ok 4 - FST_ERR_SCHEMA_CONTROLLER_BUCKET_OPT_NOT_FN
        ok 5 - FST_ERR_SCHEMA_ERROR_FORMATTER_NOT_FN
        ok 6 - FST_ERR_AJV_CUSTOM_OPTIONS_OPT_NOT_OBJ
        ok 7 - FST_ERR_AJV_CUSTOM_OPTIONS_OPT_NOT_ARR
        ok 8 - FST_ERR_VERSION_CONSTRAINT_NOT_STR
        ok 9 - FST_ERR_VALIDATION
        ok 10 - FST_ERR_LISTEN_OPTIONS_INVALID
        ok 11 - FST_ERR_CTP_ALREADY_PRESENT
        ok 12 - FST_ERR_CTP_INVALID_TYPE
        ok 13 - FST_ERR_CTP_EMPTY_TYPE
        ok 14 - FST_ERR_CTP_INVALID_HANDLER
        ok 15 - FST_ERR_CTP_INVALID_PARSE_TYPE
        ok 16 - FST_ERR_CTP_BODY_TOO_LARGE
        ok 17 - FST_ERR_CTP_INVALID_MEDIA_TYPE
        ok 18 - FST_ERR_CTP_INVALID_CONTENT_LENGTH
        ok 19 - FST_ERR_CTP_EMPTY_JSON_BODY
        ok 20 - FST_ERR_CTP_INSTANCE_ALREADY_STARTED
        ok 21 - FST_ERR_DEC_ALREADY_PRESENT
        ok 22 - FST_ERR_DEC_DEPENDENCY_INVALID_TYPE
        ok 23 - FST_ERR_DEC_MISSING_DEPENDENCY
        ok 24 - FST_ERR_DEC_AFTER_START
        ok 25 - FST_ERR_HOOK_INVALID_TYPE
        ok 26 - FST_ERR_HOOK_INVALID_HANDLER
        ok 27 - FST_ERR_HOOK_INVALID_ASYNC_HANDLER
        ok 28 - FST_ERR_HOOK_NOT_SUPPORTED
        ok 29 - FST_ERR_MISSING_MIDDLEWARE
        ok 30 - FST_ERR_HOOK_TIMEOUT
        ok 31 - FST_ERR_LOG_INVALID_DESTINATION
        ok 32 - FST_ERR_LOG_INVALID_LOGGER
        ok 33 - FST_ERR_REP_INVALID_PAYLOAD_TYPE
        ok 34 - FST_ERR_REP_ALREADY_SENT
        ok 35 - FST_ERR_REP_SENT_VALUE
        ok 36 - FST_ERR_SEND_INSIDE_ONERR
        ok 37 - FST_ERR_SEND_UNDEFINED_ERR
        ok 38 - FST_ERR_BAD_STATUS_CODE
        ok 39 - FST_ERR_BAD_TRAILER_NAME
        ok 40 - FST_ERR_BAD_TRAILER_VALUE
        ok 41 - FST_ERR_FAILED_ERROR_SERIALIZATION
        ok 42 - FST_ERR_MISSING_SERIALIZATION_FN
        ok 43 - FST_ERR_MISSING_CONTENTTYPE_SERIALIZATION_FN
        ok 44 - FST_ERR_REQ_INVALID_VALIDATION_INVOCATION
        ok 45 - FST_ERR_SCH_MISSING_ID
        ok 46 - FST_ERR_SCH_ALREADY_PRESENT
        ok 47 - FST_ERR_SCH_CONTENT_MISSING_SCHEMA
        ok 48 - FST_ERR_SCH_DUPLICATE
        ok 49 - FST_ERR_SCH_VALIDATION_BUILD
        ok 50 - FST_ERR_SCH_SERIALIZATION_BUILD
        ok 51 - FST_ERR_SCH_RESPONSE_SCHEMA_NOT_NESTED_2XX
        ok 52 - FST_ERR_HTTP2_INVALID_VERSION
        ok 53 - FST_ERR_INIT_OPTS_INVALID
        ok 54 - FST_ERR_FORCE_CLOSE_CONNECTIONS_IDLE_NOT_AVAILABLE
        ok 55 - FST_ERR_DUPLICATED_ROUTE
        ok 56 - FST_ERR_BAD_URL
        ok 57 - FST_ERR_ASYNC_CONSTRAINT
        ok 58 - FST_ERR_DEFAULT_ROUTE_INVALID_TYPE
        ok 59 - FST_ERR_INVALID_URL
        ok 60 - FST_ERR_ROUTE_OPTIONS_NOT_OBJ
        ok 61 - FST_ERR_ROUTE_DUPLICATED_HANDLER
        ok 62 - FST_ERR_ROUTE_HANDLER_NOT_FN
        ok 63 - FST_ERR_ROUTE_MISSING_HANDLER
        ok 64 - FST_ERR_ROUTE_METHOD_INVALID
        ok 65 - FST_ERR_ROUTE_METHOD_NOT_SUPPORTED
        ok 66 - FST_ERR_ROUTE_BODY_VALIDATION_SCHEMA_NOT_SUPPORTED
        ok 67 - FST_ERR_ROUTE_BODY_LIMIT_OPTION_NOT_INT
        ok 68 - FST_ERR_ROUTE_REWRITE_NOT_STR
        ok 69 - FST_ERR_REOPENED_CLOSE_SERVER
        ok 70 - FST_ERR_REOPENED_SERVER
        ok 71 - FST_ERR_INSTANCE_ALREADY_LISTENING
        ok 72 - FST_ERR_PLUGIN_VERSION_MISMATCH
        ok 73 - FST_ERR_PLUGIN_NOT_PRESENT_IN_INSTANCE
        ok 74 - FST_ERR_PLUGIN_CALLBACK_NOT_FN
        ok 75 - FST_ERR_PLUGIN_NOT_VALID
        ok 76 - FST_ERR_ROOT_PLG_BOOTED
        ok 77 - FST_ERR_PARENT_PLUGIN_BOOTED
        ok 78 - FST_ERR_PLUGIN_TIMEOUT
    ok 82 - Ensure that all errors are in Errors.md TOC # time=27.011ms
    
    # Subtest: Ensure that non-existing errors are not in Errors.md TOC
        1..78
        ok 1 - FST_ERR_NOT_FOUND
        ok 2 - FST_ERR_OPTIONS_NOT_OBJ
        ok 3 - FST_ERR_QSP_NOT_FN
        ok 4 - FST_ERR_SCHEMA_CONTROLLER_BUCKET_OPT_NOT_FN
        ok 5 - FST_ERR_SCHEMA_ERROR_FORMATTER_NOT_FN
        ok 6 - FST_ERR_AJV_CUSTOM_OPTIONS_OPT_NOT_OBJ
        ok 7 - FST_ERR_AJV_CUSTOM_OPTIONS_OPT_NOT_ARR
        ok 8 - FST_ERR_VERSION_CONSTRAINT_NOT_STR
        ok 9 - FST_ERR_CTP_ALREADY_PRESENT
        ok 10 - FST_ERR_CTP_INVALID_TYPE
        ok 11 - FST_ERR_CTP_EMPTY_TYPE
        ok 12 - FST_ERR_CTP_INVALID_HANDLER
        ok 13 - FST_ERR_CTP_INVALID_PARSE_TYPE
        ok 14 - FST_ERR_CTP_BODY_TOO_LARGE
        ok 15 - FST_ERR_CTP_INVALID_MEDIA_TYPE
        ok 16 - FST_ERR_CTP_INVALID_CONTENT_LENGTH
        ok 17 - FST_ERR_CTP_EMPTY_JSON_BODY
        ok 18 - FST_ERR_CTP_INSTANCE_ALREADY_STARTED
        ok 19 - FST_ERR_INSTANCE_ALREADY_LISTENING
        ok 20 - FST_ERR_DEC_ALREADY_PRESENT
        ok 21 - FST_ERR_DEC_DEPENDENCY_INVALID_TYPE
        ok 22 - FST_ERR_DEC_MISSING_DEPENDENCY
        ok 23 - FST_ERR_DEC_AFTER_START
        ok 24 - FST_ERR_HOOK_INVALID_TYPE
        ok 25 - FST_ERR_HOOK_INVALID_HANDLER
        ok 26 - FST_ERR_HOOK_INVALID_ASYNC_HANDLER
        ok 27 - FST_ERR_HOOK_NOT_SUPPORTED
        ok 28 - FST_ERR_MISSING_MIDDLEWARE
        ok 29 - FST_ERR_HOOK_TIMEOUT
        ok 30 - FST_ERR_LOG_INVALID_DESTINATION
        ok 31 - FST_ERR_LOG_INVALID_LOGGER
        ok 32 - FST_ERR_REP_INVALID_PAYLOAD_TYPE
        ok 33 - FST_ERR_REP_ALREADY_SENT
        ok 34 - FST_ERR_REP_SENT_VALUE
        ok 35 - FST_ERR_SEND_INSIDE_ONERR
        ok 36 - FST_ERR_SEND_UNDEFINED_ERR
        ok 37 - FST_ERR_BAD_STATUS_CODE
        ok 38 - FST_ERR_BAD_TRAILER_NAME
        ok 39 - FST_ERR_BAD_TRAILER_VALUE
        ok 40 - FST_ERR_FAILED_ERROR_SERIALIZATION
        ok 41 - FST_ERR_MISSING_SERIALIZATION_FN
        ok 42 - FST_ERR_MISSING_CONTENTTYPE_SERIALIZATION_FN
        ok 43 - FST_ERR_REQ_INVALID_VALIDATION_INVOCATION
        ok 44 - FST_ERR_SCH_MISSING_ID
        ok 45 - FST_ERR_SCH_ALREADY_PRESENT
        ok 46 - FST_ERR_SCH_CONTENT_MISSING_SCHEMA
        ok 47 - FST_ERR_SCH_DUPLICATE
        ok 48 - FST_ERR_SCH_VALIDATION_BUILD
        ok 49 - FST_ERR_SCH_SERIALIZATION_BUILD
        ok 50 - FST_ERR_SCH_RESPONSE_SCHEMA_NOT_NESTED_2XX
        ok 51 - FST_ERR_HTTP2_INVALID_VERSION
        ok 52 - FST_ERR_INIT_OPTS_INVALID
        ok 53 - FST_ERR_FORCE_CLOSE_CONNECTIONS_IDLE_NOT_AVAILABLE
        ok 54 - FST_ERR_DUPLICATED_ROUTE
        ok 55 - FST_ERR_BAD_URL
        ok 56 - FST_ERR_ASYNC_CONSTRAINT
        ok 57 - FST_ERR_DEFAULT_ROUTE_INVALID_TYPE
        ok 58 - FST_ERR_INVALID_URL
        ok 59 - FST_ERR_ROUTE_OPTIONS_NOT_OBJ
        ok 60 - FST_ERR_ROUTE_DUPLICATED_HANDLER
        ok 61 - FST_ERR_ROUTE_HANDLER_NOT_FN
        ok 62 - FST_ERR_ROUTE_MISSING_HANDLER
        ok 63 - FST_ERR_ROUTE_METHOD_INVALID
        ok 64 - FST_ERR_ROUTE_METHOD_NOT_SUPPORTED
        ok 65 - FST_ERR_ROUTE_BODY_VALIDATION_SCHEMA_NOT_SUPPORTED
        ok 66 - FST_ERR_ROUTE_BODY_LIMIT_OPTION_NOT_INT
        ok 67 - FST_ERR_ROUTE_REWRITE_NOT_STR
        ok 68 - FST_ERR_REOPENED_CLOSE_SERVER
        ok 69 - FST_ERR_REOPENED_SERVER
        ok 70 - FST_ERR_PLUGIN_VERSION_MISMATCH
        ok 71 - FST_ERR_PLUGIN_CALLBACK_NOT_FN
        ok 72 - FST_ERR_PLUGIN_NOT_VALID
        ok 73 - FST_ERR_ROOT_PLG_BOOTED
        ok 74 - FST_ERR_PARENT_PLUGIN_BOOTED
        ok 75 - FST_ERR_PLUGIN_TIMEOUT
        ok 76 - FST_ERR_PLUGIN_NOT_PRESENT_IN_INSTANCE
        ok 77 - FST_ERR_VALIDATION
        ok 78 - FST_ERR_LISTEN_OPTIONS_INVALID
    ok 83 - Ensure that non-existing errors are not in Errors.md TOC # time=53.87ms
    
    # Subtest: Ensure that all errors are in Errors.md documented
        1..78
        ok 1 - FST_ERR_NOT_FOUND
        ok 2 - FST_ERR_OPTIONS_NOT_OBJ
        ok 3 - FST_ERR_QSP_NOT_FN
        ok 4 - FST_ERR_SCHEMA_CONTROLLER_BUCKET_OPT_NOT_FN
        ok 5 - FST_ERR_SCHEMA_ERROR_FORMATTER_NOT_FN
        ok 6 - FST_ERR_AJV_CUSTOM_OPTIONS_OPT_NOT_OBJ
        ok 7 - FST_ERR_AJV_CUSTOM_OPTIONS_OPT_NOT_ARR
        ok 8 - FST_ERR_VERSION_CONSTRAINT_NOT_STR
        ok 9 - FST_ERR_VALIDATION
        ok 10 - FST_ERR_LISTEN_OPTIONS_INVALID
        ok 11 - FST_ERR_CTP_ALREADY_PRESENT
        ok 12 - FST_ERR_CTP_INVALID_TYPE
        ok 13 - FST_ERR_CTP_EMPTY_TYPE
        ok 14 - FST_ERR_CTP_INVALID_HANDLER
        ok 15 - FST_ERR_CTP_INVALID_PARSE_TYPE
        ok 16 - FST_ERR_CTP_BODY_TOO_LARGE
        ok 17 - FST_ERR_CTP_INVALID_MEDIA_TYPE
        ok 18 - FST_ERR_CTP_INVALID_CONTENT_LENGTH
        ok 19 - FST_ERR_CTP_EMPTY_JSON_BODY
        ok 20 - FST_ERR_CTP_INSTANCE_ALREADY_STARTED
        ok 21 - FST_ERR_DEC_ALREADY_PRESENT
        ok 22 - FST_ERR_DEC_DEPENDENCY_INVALID_TYPE
        ok 23 - FST_ERR_DEC_MISSING_DEPENDENCY
        ok 24 - FST_ERR_DEC_AFTER_START
        ok 25 - FST_ERR_HOOK_INVALID_TYPE
        ok 26 - FST_ERR_HOOK_INVALID_HANDLER
        ok 27 - FST_ERR_HOOK_INVALID_ASYNC_HANDLER
        ok 28 - FST_ERR_HOOK_NOT_SUPPORTED
        ok 29 - FST_ERR_MISSING_MIDDLEWARE
        ok 30 - FST_ERR_HOOK_TIMEOUT
        ok 31 - FST_ERR_LOG_INVALID_DESTINATION
        ok 32 - FST_ERR_LOG_INVALID_LOGGER
        ok 33 - FST_ERR_REP_INVALID_PAYLOAD_TYPE
        ok 34 - FST_ERR_REP_ALREADY_SENT
        ok 35 - FST_ERR_REP_SENT_VALUE
        ok 36 - FST_ERR_SEND_INSIDE_ONERR
        ok 37 - FST_ERR_SEND_UNDEFINED_ERR
        ok 38 - FST_ERR_BAD_STATUS_CODE
        ok 39 - FST_ERR_BAD_TRAILER_NAME
        ok 40 - FST_ERR_BAD_TRAILER_VALUE
        ok 41 - FST_ERR_FAILED_ERROR_SERIALIZATION
        ok 42 - FST_ERR_MISSING_SERIALIZATION_FN
        ok 43 - FST_ERR_MISSING_CONTENTTYPE_SERIALIZATION_FN
        ok 44 - FST_ERR_REQ_INVALID_VALIDATION_INVOCATION
        ok 45 - FST_ERR_SCH_MISSING_ID
        ok 46 - FST_ERR_SCH_ALREADY_PRESENT
        ok 47 - FST_ERR_SCH_CONTENT_MISSING_SCHEMA
        ok 48 - FST_ERR_SCH_DUPLICATE
        ok 49 - FST_ERR_SCH_VALIDATION_BUILD
        ok 50 - FST_ERR_SCH_SERIALIZATION_BUILD
        ok 51 - FST_ERR_SCH_RESPONSE_SCHEMA_NOT_NESTED_2XX
        ok 52 - FST_ERR_HTTP2_INVALID_VERSION
        ok 53 - FST_ERR_INIT_OPTS_INVALID
        ok 54 - FST_ERR_FORCE_CLOSE_CONNECTIONS_IDLE_NOT_AVAILABLE
        ok 55 - FST_ERR_DUPLICATED_ROUTE
        ok 56 - FST_ERR_BAD_URL
        ok 57 - FST_ERR_ASYNC_CONSTRAINT
        ok 58 - FST_ERR_DEFAULT_ROUTE_INVALID_TYPE
        ok 59 - FST_ERR_INVALID_URL
        ok 60 - FST_ERR_ROUTE_OPTIONS_NOT_OBJ
        ok 61 - FST_ERR_ROUTE_DUPLICATED_HANDLER
        ok 62 - FST_ERR_ROUTE_HANDLER_NOT_FN
        ok 63 - FST_ERR_ROUTE_MISSING_HANDLER
        ok 64 - FST_ERR_ROUTE_METHOD_INVALID
        ok 65 - FST_ERR_ROUTE_METHOD_NOT_SUPPORTED
        ok 66 - FST_ERR_ROUTE_BODY_VALIDATION_SCHEMA_NOT_SUPPORTED
        ok 67 - FST_ERR_ROUTE_BODY_LIMIT_OPTION_NOT_INT
        ok 68 - FST_ERR_ROUTE_REWRITE_NOT_STR
        ok 69 - FST_ERR_REOPENED_CLOSE_SERVER
        ok 70 - FST_ERR_REOPENED_SERVER
        ok 71 - FST_ERR_INSTANCE_ALREADY_LISTENING
        ok 72 - FST_ERR_PLUGIN_VERSION_MISMATCH
        ok 73 - FST_ERR_PLUGIN_NOT_PRESENT_IN_INSTANCE
        ok 74 - FST_ERR_PLUGIN_CALLBACK_NOT_FN
        ok 75 - FST_ERR_PLUGIN_NOT_VALID
        ok 76 - FST_ERR_ROOT_PLG_BOOTED
        ok 77 - FST_ERR_PARENT_PLUGIN_BOOTED
        ok 78 - FST_ERR_PLUGIN_TIMEOUT
    ok 84 - Ensure that all errors are in Errors.md documented # time=54.472ms
    
    # Subtest: Ensure that non-existing errors are not in Errors.md documented
        1..78
        ok 1 - FST_ERR_NOT_FOUND
        ok 2 - FST_ERR_OPTIONS_NOT_OBJ
        ok 3 - FST_ERR_QSP_NOT_FN
        ok 4 - FST_ERR_SCHEMA_CONTROLLER_BUCKET_OPT_NOT_FN
        ok 5 - FST_ERR_SCHEMA_ERROR_FORMATTER_NOT_FN
        ok 6 - FST_ERR_AJV_CUSTOM_OPTIONS_OPT_NOT_OBJ
        ok 7 - FST_ERR_AJV_CUSTOM_OPTIONS_OPT_NOT_ARR
        ok 8 - FST_ERR_VERSION_CONSTRAINT_NOT_STR
        ok 9 - FST_ERR_CTP_ALREADY_PRESENT
        ok 10 - FST_ERR_CTP_INVALID_TYPE
        ok 11 - FST_ERR_CTP_EMPTY_TYPE
        ok 12 - FST_ERR_CTP_INVALID_HANDLER
        ok 13 - FST_ERR_CTP_INVALID_PARSE_TYPE
        ok 14 - FST_ERR_CTP_BODY_TOO_LARGE
        ok 15 - FST_ERR_CTP_INVALID_MEDIA_TYPE
        ok 16 - FST_ERR_CTP_INVALID_CONTENT_LENGTH
        ok 17 - FST_ERR_CTP_EMPTY_JSON_BODY
        ok 18 - FST_ERR_CTP_INSTANCE_ALREADY_STARTED
        ok 19 - FST_ERR_INSTANCE_ALREADY_LISTENING
        ok 20 - FST_ERR_DEC_ALREADY_PRESENT
        ok 21 - FST_ERR_DEC_DEPENDENCY_INVALID_TYPE
        ok 22 - FST_ERR_DEC_MISSING_DEPENDENCY
        ok 23 - FST_ERR_DEC_AFTER_START
        ok 24 - FST_ERR_HOOK_INVALID_TYPE
        ok 25 - FST_ERR_HOOK_INVALID_HANDLER
        ok 26 - FST_ERR_HOOK_INVALID_ASYNC_HANDLER
        ok 27 - FST_ERR_HOOK_NOT_SUPPORTED
        ok 28 - FST_ERR_MISSING_MIDDLEWARE
        ok 29 - FST_ERR_HOOK_TIMEOUT
        ok 30 - FST_ERR_LOG_INVALID_DESTINATION
        ok 31 - FST_ERR_LOG_INVALID_LOGGER
        ok 32 - FST_ERR_REP_INVALID_PAYLOAD_TYPE
        ok 33 - FST_ERR_REP_ALREADY_SENT
        ok 34 - FST_ERR_REP_SENT_VALUE
        ok 35 - FST_ERR_SEND_INSIDE_ONERR
        ok 36 - FST_ERR_SEND_UNDEFINED_ERR
        ok 37 - FST_ERR_BAD_STATUS_CODE
        ok 38 - FST_ERR_BAD_TRAILER_NAME
        ok 39 - FST_ERR_BAD_TRAILER_VALUE
        ok 40 - FST_ERR_FAILED_ERROR_SERIALIZATION
        ok 41 - FST_ERR_MISSING_SERIALIZATION_FN
        ok 42 - FST_ERR_MISSING_CONTENTTYPE_SERIALIZATION_FN
        ok 43 - FST_ERR_REQ_INVALID_VALIDATION_INVOCATION
        ok 44 - FST_ERR_SCH_MISSING_ID
        ok 45 - FST_ERR_SCH_ALREADY_PRESENT
        ok 46 - FST_ERR_SCH_CONTENT_MISSING_SCHEMA
        ok 47 - FST_ERR_SCH_DUPLICATE
        ok 48 - FST_ERR_SCH_VALIDATION_BUILD
        ok 49 - FST_ERR_SCH_SERIALIZATION_BUILD
        ok 50 - FST_ERR_SCH_RESPONSE_SCHEMA_NOT_NESTED_2XX
        ok 51 - FST_ERR_HTTP2_INVALID_VERSION
        ok 52 - FST_ERR_INIT_OPTS_INVALID
        ok 53 - FST_ERR_FORCE_CLOSE_CONNECTIONS_IDLE_NOT_AVAILABLE
        ok 54 - FST_ERR_DUPLICATED_ROUTE
        ok 55 - FST_ERR_BAD_URL
        ok 56 - FST_ERR_ASYNC_CONSTRAINT
        ok 57 - FST_ERR_DEFAULT_ROUTE_INVALID_TYPE
        ok 58 - FST_ERR_INVALID_URL
        ok 59 - FST_ERR_ROUTE_OPTIONS_NOT_OBJ
        ok 60 - FST_ERR_ROUTE_DUPLICATED_HANDLER
        ok 61 - FST_ERR_ROUTE_HANDLER_NOT_FN
        ok 62 - FST_ERR_ROUTE_MISSING_HANDLER
        ok 63 - FST_ERR_ROUTE_METHOD_INVALID
        ok 64 - FST_ERR_ROUTE_METHOD_NOT_SUPPORTED
        ok 65 - FST_ERR_ROUTE_BODY_VALIDATION_SCHEMA_NOT_SUPPORTED
        ok 66 - FST_ERR_ROUTE_BODY_LIMIT_OPTION_NOT_INT
        ok 67 - FST_ERR_ROUTE_REWRITE_NOT_STR
        ok 68 - FST_ERR_REOPENED_CLOSE_SERVER
        ok 69 - FST_ERR_REOPENED_SERVER
        ok 70 - FST_ERR_PLUGIN_VERSION_MISMATCH
        ok 71 - FST_ERR_PLUGIN_CALLBACK_NOT_FN
        ok 72 - FST_ERR_PLUGIN_NOT_VALID
        ok 73 - FST_ERR_ROOT_PLG_BOOTED
        ok 74 - FST_ERR_PARENT_PLUGIN_BOOTED
        ok 75 - FST_ERR_PLUGIN_TIMEOUT
        ok 76 - FST_ERR_PLUGIN_NOT_PRESENT_IN_INSTANCE
        ok 77 - FST_ERR_VALIDATION
        ok 78 - FST_ERR_LISTEN_OPTIONS_INVALID
    ok 85 - Ensure that non-existing errors are not in Errors.md documented # time=27.893ms
    
    1..85
    # time=698.645ms
ok 68 - test/internals/errors.test.js # time=698.645ms

# Subtest: test/internals/handleRequest.test.js
    # Subtest: handleRequest function - sent reply
        1..1
        ok 1 - should be equal
    ok 1 - handleRequest function - sent reply # time=6.277ms
    
    # Subtest: handleRequest function - invoke with error
        1..1
        ok 1 - should be equal
    ok 2 - handleRequest function - invoke with error # time=1.546ms
    
    # Subtest: handler function - invalid schema
        1..1
        ok 1 - errorHandler called
    ok 3 - handler function - invalid schema # time=54.251ms
    
    # Subtest: handler function - reply
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - (unnamed test)
    ok 4 - handler function - reply # time=2.986ms
    
    # Subtest: handler function - preValidationCallback with finished response
        1..0
    ok 5 - handler function - preValidationCallback with finished response # time=0.968ms
    
    # Subtest: request should be defined in onSend Hook on post request with content type application/json
        1..8
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - should not error
        ok 8 - should be equal
    ok 6 - request should be defined in onSend Hook on post request with content type application/json # time=127.305ms
    
    # Subtest: request should be defined in onSend Hook on post request with content type application/x-www-form-urlencoded
        1..7
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - should not error
        ok 7 - should be equal
    ok 7 - request should be defined in onSend Hook on post request with content type application/x-www-form-urlencoded # time=10.888ms
    
    # Subtest: request should be defined in onSend Hook on options request with content type application/x-www-form-urlencoded
        1..7
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - should not error
        ok 7 - should be equal
    ok 8 - request should be defined in onSend Hook on options request with content type application/x-www-form-urlencoded # time=20.588ms
    
    # Subtest: request should respond with an error if an unserialized payload is sent inside an async handler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent strictly
    ok 9 - request should respond with an error if an unserialized payload is sent inside an async handler # time=35.378ms
    
    1..9
    # time=281.922ms
ok 69 - test/internals/handleRequest.test.js # time=281.922ms

# Subtest: test/internals/hookRunner.test.js
    # Subtest: hookRunner - Basic
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
    ok 1 - hookRunner - Basic # time=10.034ms
    
    # Subtest: hookRunner - In case of error should skip to done
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
    ok 2 - hookRunner - In case of error should skip to done # time=3.921ms
    
    # Subtest: hookRunner - Should handle throw
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
    ok 3 - hookRunner - Should handle throw # time=3.704ms
    
    # Subtest: hookRunner - Should handle promises
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
    ok 4 - hookRunner - Should handle promises # time=24.197ms
    
    # Subtest: hookRunner - In case of error should skip to done (with promises)
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
    ok 5 - hookRunner - In case of error should skip to done (with promises) # time=4.018ms
    
    # Subtest: hookRunner - Be able to exit before its natural end
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 6 - hookRunner - Be able to exit before its natural end # time=2.399ms
    
    # Subtest: hookRunner - Promises that resolve to a value do not change the state
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 7 - hookRunner - Promises that resolve to a value do not change the state # time=3.098ms
    
    # Subtest: onSendHookRunner - Basic
        1..13
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should be equivalent
        ok 9 - should be equal
        ok 10 - should not error
        ok 11 - should be equivalent
        ok 12 - should be equivalent
        ok 13 - should be equal
    ok 8 - onSendHookRunner - Basic # time=11.712ms
    
    # Subtest: onSendHookRunner - Can change the payload
        1..7
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equivalent
        ok 7 - should be equivalent
    ok 9 - onSendHookRunner - Can change the payload # time=4.574ms
    
    # Subtest: onSendHookRunner - In case of error should skip to done
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 10 - onSendHookRunner - In case of error should skip to done # time=3.694ms
    
    # Subtest: onSendHookRunner - Should handle promises
        1..7
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equivalent
        ok 7 - should be equivalent
    ok 11 - onSendHookRunner - Should handle promises # time=4.363ms
    
    # Subtest: onSendHookRunner - In case of error should skip to done (with promises)
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 12 - onSendHookRunner - In case of error should skip to done (with promises) # time=3.831ms
    
    # Subtest: onSendHookRunner - Be able to exit before its natural end
        1..2
        ok 1 - should be equivalent
        ok 2 - should be equivalent
    ok 13 - onSendHookRunner - Be able to exit before its natural end # time=1.845ms
    
    1..13
    # time=113.468ms
ok 70 - test/internals/hookRunner.test.js # time=113.468ms

# Subtest: test/internals/hooks.test.js
    # Subtest: hooks should have 4 array with the registered hooks
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        1..8
    ok 1 - hooks should have 4 array with the registered hooks # time=9.007ms
    
    # Subtest: hooks.add should add a hook to the given hook
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        1..14
    ok 2 - hooks.add should add a hook to the given hook # time=6.29ms
    
    # Subtest: hooks should throw on unexisting handler
        1..1
        ok 1 - (unnamed test)
    ok 3 - hooks should throw on unexisting handler # time=2.1ms
    
    # Subtest: should throw on wrong parameters
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 4 - should throw on wrong parameters # time=2.552ms
    
    1..4
    # time=36.402ms
ok 71 - test/internals/hooks.test.js # time=36.402ms

# Subtest: test/internals/initialConfig.test.js
    # Subtest: Fastify.initialConfig is an object
        1..1
        ok 1 - type is object
    ok 1 - Fastify.initialConfig is an object # time=15.73ms
    
    # Subtest: without options passed to Fastify, initialConfig should expose default values
        1..1
        ok 1 - should be equivalent
    ok 2 - without options passed to Fastify, initialConfig should expose default values # time=8.342ms
    
    # Subtest: Fastify.initialConfig should expose all options
        1..21
        ok 1 - should be equal
        ok 2 - for security reason the key cert is hidden
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - expect truthy value
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equal
        ok 18 - should be equal
        ok 19 - should be equal
        ok 20 - should be equal
        ok 21 - should be equal
    ok 3 - Fastify.initialConfig should expose all options # time=15.849ms
    
    # Subtest: Should throw if you try to modify Fastify.initialConfig
        1..4
        ok 1 - type is TypeError
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - (unnamed test)
    ok 4 - Should throw if you try to modify Fastify.initialConfig # time=3.869ms
    
    # Subtest: We must avoid shallow freezing and ensure that the whole object is freezed
        1..4
        ok 1 - type is TypeError
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - key cert removed
    ok 5 - We must avoid shallow freezing and ensure that the whole object is freezed # time=30.264ms
    
    # Subtest: https value check
        1..1
        ok 1 - expect falsey value
    ok 6 - https value check # time=1.725ms
    
    # Subtest: Return an error if options do not match the validation schema
        1..6
        ok 1 - type is Error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
        ok 6 - (unnamed test)
    ok 7 - Return an error if options do not match the validation schema # time=4.275ms
    
    # Subtest: Original options must not be frozen
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 8 - Original options must not be frozen # time=4.327ms
    
    # Subtest: Original options must not be altered (test deep cloning)
        1..3
        ok 1 - should be equal
        ok 2 - should be equivalent
        ok 3 - should be equivalent
    ok 9 - Original options must not be altered (test deep cloning) # time=5.51ms
    
    # Subtest: Should not have issues when passing stream options to Pino.js
        1..17
        ok 1 - type is object
        ok 2 - should be equivalent
        ok 3 - listen at log message is ok
        ok 4 - should not error
        ok 5 - reqId is defined
        ok 6 - child logger binding is set
        ok 7 - req is defined
        ok 8 - message is set
        ok 9 - method is get
        ok 10 - expect truthy value
        ok 11 - should be equal
        ok 12 - reqId is defined
        ok 13 - child logger binding is set
        ok 14 - res is defined
        ok 15 - message is set
        ok 16 - statusCode is 200
        ok 17 - responseTime is defined
    ok 10 - Should not have issues when passing stream options to Pino.js # time=49.277ms
    
    # Subtest: deepFreezeObject() should not throw on TypedArray
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - (unnamed test)
    ok 11 - deepFreezeObject() should not throw on TypedArray # time=2.868ms
    
    # Subtest: Fastify.initialConfig should accept the deprecated versioning option
        1..1
        ok 1 - should be equal
    ok 12 - Fastify.initialConfig should accept the deprecated versioning option # time=3.981ms
    
    # Subtest: pluginTimeout should be parsed correctly
        ok 1 - should be equal
        ok 2 - should be equal
        1..2
    ok 13 - pluginTimeout should be parsed correctly # time=2.692ms
    
    1..13
    # time=235.252ms
ok 72 - test/internals/initialConfig.test.js # time=235.252ms

# Subtest: test/internals/logger.test.js
    # Subtest: time resolution
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 1 - time resolution # time=6.927ms
    
    # Subtest: The logger should add a unique id for every request
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - the id should not be duplicated
        ok 5 - expect truthy value
        ok 6 - should not error
        ok 7 - the id should not be duplicated
        ok 8 - expect truthy value
        ok 9 - should not error
        ok 10 - the id should not be duplicated
        ok 11 - expect truthy value
        ok 12 - should not error
        ok 13 - the id should not be duplicated
        ok 14 - expect truthy value
        ok 15 - should not error
        ok 16 - the id should not be duplicated
        ok 17 - expect truthy value
        ok 18 - should not error
        ok 19 - the id should not be duplicated
        ok 20 - expect truthy value
        ok 21 - should not error
        ok 22 - the id should not be duplicated
        ok 23 - expect truthy value
        ok 24 - should not error
        ok 25 - the id should not be duplicated
        ok 26 - expect truthy value
        ok 27 - should not error
        ok 28 - the id should not be duplicated
        ok 29 - expect truthy value
        ok 30 - should not error
        ok 31 - the id should not be duplicated
        1..31
    ok 2 - The logger should add a unique id for every request # time=68.088ms
    
    # Subtest: The logger should reuse request id header for req.id
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - the request id from the header should be returned
        1..4
    ok 3 - The logger should reuse request id header for req.id # time=8.284ms
    
    # Subtest: The logger should error if both stream and file destination are given
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 4 - The logger should error if both stream and file destination are given # time=2.517ms
    
    # Subtest: The serializer prevent fails if the request socket is undefined
        1..1
        ok 1 - should be equivalent
    ok 5 - The serializer prevent fails if the request socket is undefined # time=5.971ms
    
    1..5
    # time=103.933ms
ok 73 - test/internals/logger.test.js # time=103.933ms

# Subtest: test/internals/plugin.test.js
    # Subtest: shouldSkipOverride should check the 'skip-override' symbol
        1..2
        ok 1 - expect truthy value
        ok 2 - expect falsey value
    ok 1 - shouldSkipOverride should check the 'skip-override' symbol # time=7.184ms
    
    # Subtest: getPluginName should return plugin name if the file is cached
        1..1
        ok 1 - should be equal
    ok 2 - getPluginName should return plugin name if the file is cached # time=1.834ms
    
    # Subtest: getPluginName should not throw when require.cache is undefined
        1..1
        ok 1 - should be equal
    ok 3 - getPluginName should not throw when require.cache is undefined # time=1.411ms
    
    # Subtest: getMeta should return the object stored with the 'plugin-meta' symbol
        1..1
        ok 1 - should be equivalent
    ok 4 - getMeta should return the object stored with the 'plugin-meta' symbol # time=5.127ms
    
    # Subtest: checkDecorators should check if the given decorator is present in the instance
        1..1
        ok 1 - Everything ok
    ok 5 - checkDecorators should check if the given decorator is present in the instance # time=1.734ms
    
    # Subtest: checkDecorators should check if the given decorator is present in the instance (errored)
        1..1
        ok 1 - should be equal
    ok 6 - checkDecorators should check if the given decorator is present in the instance (errored) # time=1.831ms
    
    # Subtest: checkDecorators should accept optional decorators
        1..1
        ok 1 - Everything ok
    ok 7 - checkDecorators should accept optional decorators # time=1.306ms
    
    # Subtest: checkDependencies should check if the given dependency is present in the instance
        1..1
        ok 1 - Everything ok
    ok 8 - checkDependencies should check if the given dependency is present in the instance # time=1.444ms
    
    # Subtest: checkDependencies should check if the given dependency is present in the instance (errored)
        1..1
        ok 1 - should be equal
    ok 9 - checkDependencies should check if the given dependency is present in the instance (errored) # time=2.471ms
    
    1..9
    # time=74.647ms
ok 74 - test/internals/plugin.test.js # time=74.647ms

# Subtest: test/internals/reply-serialize.test.js
    # Subtest: Reply\#compileSerializationSchema
        1..4
        # Subtest: Should return a serialization function
            1..4
            ok 1 - type is Function
            ok 2 - type is string
            ok 3 - should be equal
            ok 4 - should be equal
        ok 1 - Should return a serialization function # time=63.697ms
        
        # Subtest: Should reuse the serialize fn across multiple invocations - Route without schema
            1..17
            ok 1 - build the schema compilation function
            ok 2 - type is Function
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - Are the same validate function
            ok 6 - type is Function
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - Are the same validate function
            ok 10 - type is Function
            ok 11 - should be equal
            ok 12 - should be equal
            ok 13 - Are the same validate function
            ok 14 - type is Function
            ok 15 - should be equal
            ok 16 - should be equal
            ok 17 - should be equal
        ok 2 - Should reuse the serialize fn across multiple invocations - Route without schema # time=14.264ms
        
        # Subtest: Should use the custom serializer compiler for the route
            1..17
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equivalent
            ok 7 - {"hello":"world"}
            ok 8 - should be equivalent
            ok 9 - {"hello":"world"}
            ok 10 - should be equal
            ok 11 - should be equal
            ok 12 - should be equal
            ok 13 - should be equal
            ok 14 - should be equal
            ok 15 - should be equal
            ok 16 - should be equivalent
            ok 17 - {"fullName":"Jone","phone":1090243795}
        ok 3 - Should use the custom serializer compiler for the route # time=17.709ms
        
        # Subtest: Should build a WeakMap for cache when called
            1..4
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - type is WeakMap
            ok 4 - should be equal
        ok 4 - Should build a WeakMap for cache when called # time=16.828ms
        
    ok 1 - Reply\#compileSerializationSchema # time=129.987ms
    
    # Subtest: Reply\#getSerializationFunction
        1..3
        # Subtest: Should retrieve the serialization function from the Schema definition
            1..13
            ok 1 - type is Function
            ok 2 - type is Function
            ok 3 - type is Function
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - expect falsey value
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
            ok 11 - should be equal
            ok 12 - should be equal
            ok 13 - should be equal
        ok 1 - Should retrieve the serialization function from the Schema definition # time=27.903ms
        
        # Subtest: Should retrieve the serialization function from the cached one
            1..6
            ok 1 - type is Function
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
        ok 2 - Should retrieve the serialization function from the cached one # time=17.143ms
        
        # Subtest: Should not instantiate a WeakMap if it is not needed
            1..4
            ok 1 - expect falsey value
            ok 2 - should be equal
            ok 3 - expect falsey value
            ok 4 - should be equal
        ok 3 - Should not instantiate a WeakMap if it is not needed # time=8.432ms
        
    ok 2 - Reply\#getSerializationFunction # time=72.284ms
    
    # Subtest: Reply\#serializeInput
        1..6
        # Subtest: Should throw if missed serialization function from HTTP status
            1..2
            ok 1 - should be equal
            ok 2 - should be equivalent
        ok 1 - Should throw if missed serialization function from HTTP status # time=30.44ms
        
        # Subtest: Should throw if missed serialization function from HTTP status with specific content type
            1..2
            ok 1 - should be equal
            ok 2 - should be equivalent
        ok 2 - Should throw if missed serialization function from HTTP status with specific content type # time=24.137ms
        
        # Subtest: Should use a serializer fn from HTTP status
            1..6
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
        ok 3 - Should use a serializer fn from HTTP status # time=29.822ms
        
        # Subtest: Should compile a serializer out of a schema if serializer fn missed
            1..10
            ok 1 - should be equal
            ok 2 - expect falsey value
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
        ok 4 - Should compile a serializer out of a schema if serializer fn missed # time=16.683ms
        
        # Subtest: Should use a cached serializer fn
            1..12
            ok 1 - should be equal
            ok 2 - expect falsey value
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
            ok 11 - should be equal
            ok 12 - should be equal
        ok 5 - Should use a cached serializer fn # time=15.213ms
        
        # Subtest: Should instantiate a WeakMap after first call
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - type is WeakMap
        ok 6 - Should instantiate a WeakMap after first call # time=17.904ms
        
    ok 3 - Reply\#serializeInput # time=151.594ms
    
    1..3
    # time=407.059ms
ok 75 - test/internals/reply-serialize.test.js # time=407.059ms

# Subtest: test/internals/reply.test.js
    # Subtest: Once called, Reply should return an object with methods
        1..16
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - expect falsey value
    ok 1 - Once called, Reply should return an object with methods # time=16.65ms
    
    # Subtest: reply.send will logStream error and destroy the stream
        1..1
        ok 1 - Error not logged and not streamed
    ok 2 - reply.send will logStream error and destroy the stream # time=4.794ms
    
    # Subtest: reply.send throw with circular JSON
        1..1
        ok 1 - Converting circular structure to JSON
    ok 3 - reply.send throw with circular JSON # time=1.836ms
    
    # Subtest: reply.send returns itself
        1..1
        ok 1 - should be equal
    ok 4 - reply.send returns itself # time=1.86ms
    
    # Subtest: reply.serializer should set a custom serializer
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 5 - reply.serializer should set a custom serializer # time=1.647ms
    
    # Subtest: reply.serializer should support running preSerialization hooks
        1..3
        ok 1 - preSerialization
        ok 2 - should not error
        ok 3 - should be equal
    ok 6 - reply.serializer should support running preSerialization hooks # time=114.969ms
    
    # Subtest: reply.serialize should serialize payload
        1..1
        ok 1 - should be equal
    ok 7 - reply.serialize should serialize payload # time=1.545ms
    
    # Subtest: reply.serialize should serialize payload with a custom serializer
        1..2
        ok 1 - should be equal
        ok 2 - custom serializer not called
    ok 8 - reply.serialize should serialize payload with a custom serializer # time=1.677ms
    
    # Subtest: reply.serialize should serialize payload with a context default serializer
        1..2
        ok 1 - should be equal
        ok 2 - custom serializer not called
    ok 9 - reply.serialize should serialize payload with a context default serializer # time=1.577ms
    
    # Subtest: reply.serialize should serialize payload with Fastify instance
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 10 - reply.serialize should serialize payload with Fastify instance # time=17.337ms
    
    # Subtest: within an instance
        ok 1 - should not error
        # Subtest: custom serializer should be used
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 2 - custom serializer should be used # time=64.729ms
        
        # Subtest: status code and content-type should be correct
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 3 - status code and content-type should be correct # time=6.027ms
        
        # Subtest: auto status code should be 200
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 4 - auto status code should be 200 # time=4.013ms
        
        # Subtest: auto type should be text/plain
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 5 - auto type should be text/plain # time=3.934ms
        
        # Subtest: redirect to `/` - 1
            1..1
            ok 1 - should be equal
        ok 6 - redirect to `/` - 1 # time=3.403ms
        
        # Subtest: redirect to `/` - 2
            1..1
            ok 1 - should be equal
        ok 7 - redirect to `/` - 2 # time=2.784ms
        
        # Subtest: redirect to `/` - 3
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 8 - redirect to `/` - 3 # time=5.371ms
        
        # Subtest: redirect to `/` - 4
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 9 - redirect to `/` - 4 # time=5.224ms
        
        # Subtest: redirect to `/` - 5
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
        ok 10 - redirect to `/` - 5 # time=5.281ms
        
        # Subtest: redirect to `/` - 6
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 11 - redirect to `/` - 6 # time=5.461ms
        
        # Subtest: redirect to `/` - 7
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 12 - redirect to `/` - 7 # time=5.308ms
        
        # Subtest: redirect to `/` - 8
            1..1
            ok 1 - should be equal
        ok 13 - redirect to `/` - 8 # time=2.448ms
        
        # Subtest: redirect to `/` - 9
            1..1
            ok 1 - should be equal
        ok 14 - redirect to `/` - 9 # time=2.555ms
        
        # Subtest: redirect with async function to `/` - 10
            1..1
            ok 1 - should be equal
        ok 15 - redirect with async function to `/` - 10 # time=2.927ms
        
        1..15
    ok 11 - within an instance # time=151.988ms
    
    # Subtest: buffer without content type should send a application/octet-stream and raw buffer
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 12 - buffer without content type should send a application/octet-stream and raw buffer # time=27.523ms
    
    # Subtest: Uint8Array without content type should send a application/octet-stream and raw buffer
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 13 - Uint8Array without content type should send a application/octet-stream and raw buffer # time=50.051ms
    
    # Subtest: Uint16Array without content type should send a application/octet-stream and raw buffer
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 14 - Uint16Array without content type should send a application/octet-stream and raw buffer # time=10.272ms
    
    # Subtest: TypedArray with content type should not send application/octet-stream
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 15 - TypedArray with content type should not send application/octet-stream # time=69.271ms
    
    # Subtest: buffer with content type should not send application/octet-stream
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 16 - buffer with content type should not send application/octet-stream # time=8.261ms
    
    # Subtest: stream with content type should not send application/octet-stream
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 17 - stream with content type should not send application/octet-stream # time=30.055ms
    
    # Subtest: stream without content type should not send application/octet-stream
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 18 - stream without content type should not send application/octet-stream # time=82.862ms
    
    # Subtest: stream using reply.raw.writeHead should return customize headers
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 19 - stream using reply.raw.writeHead should return customize headers # time=20.457ms
    
    # Subtest: plain string without content type should send a text/plain
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 20 - plain string without content type should send a text/plain # time=20.014ms
    
    # Subtest: plain string with content type should be sent unmodified
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 21 - plain string with content type should be sent unmodified # time=17.053ms
    
    # Subtest: plain string with content type and custom serializer should be serialized
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 22 - plain string with content type and custom serializer should be serialized # time=9.864ms
    
    # Subtest: plain string with content type application/json should NOT be serialized as json
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 23 - plain string with content type application/json should NOT be serialized as json # time=17.521ms
    
    # Subtest: plain string with custom json content type should NOT be serialized as json
        1..19
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equal
        ok 13 - should be equivalent
        ok 14 - should not error
        ok 15 - should be equal
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equal
        ok 19 - should be equivalent
    ok 24 - plain string with custom json content type should NOT be serialized as json # time=19.851ms
    
    # Subtest: non-string with content type application/json SHOULD be serialized as json
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 25 - non-string with content type application/json SHOULD be serialized as json # time=9.92ms
    
    # Subtest: non-string with custom json's content-type SHOULD be serialized as json
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 26 - non-string with custom json's content-type SHOULD be serialized as json # time=6.41ms
    
    # Subtest: non-string with custom json content type SHOULD be serialized as json
        1..16
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equal
        ok 13 - should be equivalent
        ok 14 - should not error
        ok 15 - should be equal
        ok 16 - should be equivalent
    ok 27 - non-string with custom json content type SHOULD be serialized as json # time=15.779ms
    
    # Subtest: error object with a content type that is not application/json should work
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 28 - error object with a content type that is not application/json should work # time=16.591ms
    
    # Subtest: undefined payload should be sent as-is
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 29 - undefined payload should be sent as-is # time=28.207ms
    
    # Subtest: for HEAD method, no body should be sent but content-length should be
        1..11
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
    ok 30 - for HEAD method, no body should be sent but content-length should be # time=20.322ms
    
    # Subtest: reply.send(new NotFound()) should not invoke the 404 handler
        1..9
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 31 - reply.send(new NotFound()) should not invoke the 404 handler # time=13.354ms
    
    # Subtest: reply can set multiple instances of same header
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - expect truthy value
        ok 4 - should be equivalent strictly
    ok 32 - reply can set multiple instances of same header # time=7.787ms
    
    # Subtest: reply.hasHeader returns correct values
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 33 - reply.hasHeader returns correct values # time=9.445ms
    
    # Subtest: reply.getHeader returns correct values
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent strictly
        ok 4 - should be equivalent strictly
        ok 5 - should be equivalent strictly
    ok 34 - reply.getHeader returns correct values # time=16.286ms
    
    # Subtest: reply.getHeader returns raw header if there is not in the reply headers
        1..1
        ok 1 - should be equal
    ok 35 - reply.getHeader returns raw header if there is not in the reply headers # time=2.588ms
    
    # Subtest: reply.getHeaders returns correct values
        1..3
        ok 1 - should be equivalent strictly
        ok 2 - should be equivalent strictly
        ok 3 - should not error
    ok 36 - reply.getHeaders returns correct values # time=7.618ms
    
    # Subtest: reply.removeHeader can remove the value
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent strictly
        ok 5 - (unnamed test)
    ok 37 - reply.removeHeader can remove the value # time=7.167ms
    
    # Subtest: reply.header can reset the value
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent strictly
        ok 3 - (unnamed test)
    ok 38 - reply.header can reset the value # time=5.764ms
    
    # Subtest: reply.hasHeader computes raw and fastify headers
        1..4
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - (unnamed test)
    ok 39 - reply.hasHeader computes raw and fastify headers # time=6.482ms
    
    # Subtest: Reply should handle JSON content type with a charset
        1..16
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should not error
        ok 12 - should be equal
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should not error
        ok 16 - should be equal
    ok 40 - Reply should handle JSON content type with a charset # time=14.899ms
    
    # Subtest: Content type and charset set previously
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 41 - Content type and charset set previously # time=4.201ms
    
    # Subtest: .status() is an alias for .code()
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 42 - .status() is an alias for .code() # time=7.124ms
    
    # Subtest: .statusCode is getter and setter
        1..4
        ok 1 - 200
        ok 2 - 418
        ok 3 - should not error
        ok 4 - should be equal
    ok 43 - .statusCode is getter and setter # time=5.988ms
    
    # Subtest: reply.header setting multiple cookies as multiple Set-Cookie headers
        1..7
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should be equivalent strictly
        ok 4 - should not error
        ok 5 - should not error
        ok 6 - expect truthy value
        ok 7 - should be equivalent strictly
    ok 44 - reply.header setting multiple cookies as multiple Set-Cookie headers # time=13.093ms
    
    # Subtest: should emit deprecation warning when trying to modify the reply.sent property
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - (unnamed test)
    ok 45 - should emit deprecation warning when trying to modify the reply.sent property # time=5.24ms
    
    # Subtest: should emit deprecation warning when trying to use the reply.context.config property
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - (unnamed test)
    ok 46 - should emit deprecation warning when trying to use the reply.context.config property # time=4.807ms
    
    # Subtest: should throw error when passing falsy value to reply.sent
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - (unnamed test)
    ok 47 - should throw error when passing falsy value to reply.sent # time=7.057ms
    
    # Subtest: should throw error when attempting to set reply.sent more than once
        1..3
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - (unnamed test)
    ok 48 - should throw error when attempting to set reply.sent more than once # time=4.251ms
    
    # Subtest: should not throw error when attempting to set reply.sent if the underlining request was sent
        1..3
        ok 1 - expected to not throw
        ok 2 - should not error
        ok 3 - (unnamed test)
    ok 49 - should not throw error when attempting to set reply.sent if the underlining request was sent # time=4.288ms
    
    # Subtest: reply.getResponseTime() should return 0 before the timer is initialised on the reply by setting up response listeners
        1..1
        ok 1 - should be equal
    ok 50 - reply.getResponseTime() should return 0 before the timer is initialised on the reply by setting up response listeners # time=1.704ms
    
    # Subtest: reply.getResponseTime() should return a number greater than 0 after the timer is initialised on the reply by setting up response listeners
        1..1
        ok 1 - expect truthy value
    ok 51 - reply.getResponseTime() should return a number greater than 0 after the timer is initialised on the reply by setting up response listeners # time=4.307ms
    
    # Subtest: reply.getResponseTime() should return the time since a request started while inflight
        1..1
        ok 1 - should not be equal
    ok 52 - reply.getResponseTime() should return the time since a request started while inflight # time=3.521ms
    
    # Subtest: reply.getResponseTime() should return the same value after a request is finished
        1..1
        ok 1 - should be equal
    ok 53 - reply.getResponseTime() should return the same value after a request is finished # time=7.34ms
    
    # Subtest: reply should use the custom serializer
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 54 - reply should use the custom serializer # time=10.964ms
    
    # Subtest: reply should use the right serializer in encapsulated context
        1..9
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should not error
        ok 9 - should be equal
    ok 55 - reply should use the right serializer in encapsulated context # time=19.614ms
    
    # Subtest: reply should use the right serializer in deep encapsulated context
        1..8
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 56 - reply should use the right serializer in deep encapsulated context # time=15.034ms
    
    # Subtest: reply should use the route serializer
        1..3
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equal
    ok 57 - reply should use the route serializer # time=4.27ms
    
    # Subtest: cannot set the replySerializer when the server is running
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 58 - cannot set the replySerializer when the server is running # time=4.145ms
    
    # Subtest: reply should not call the custom serializer for errors and not found
        1..9
        ok 1 - should be equivalent
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should not error
        ok 9 - should be equal
    ok 59 - reply should not call the custom serializer for errors and not found # time=8.113ms
    
    # Subtest: reply.then
        1..4
        # Subtest: without an error
            1..1
            ok 1 - fulfilled called
        ok 1 - without an error # time=9.896ms
        
        # Subtest: with an error
            1..1
            ok 1 - should be equal
        ok 2 - with an error # time=1.728ms
        
        # Subtest: with error but without reject callback
            1..1
            ok 1 - (unnamed test)
        ok 3 - with error but without reject callback # time=6.323ms
        
        # Subtest: with error, without reject callback, with logger
            1..1
            ok 1 - should be equal
        ok 4 - with error, without reject callback, with logger # time=2.985ms
        
    ok 60 - reply.then # time=28.96ms
    
    # Subtest: reply.sent should read from response.writableEnded if it is defined
        1..1
        ok 1 - should be equal
    ok 61 - reply.sent should read from response.writableEnded if it is defined # time=2.206ms
    
    # Subtest: redirect to an invalid URL should not crash the server
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        1..7
    ok 62 - redirect to an invalid URL should not crash the server # time=30.561ms
    
    # Subtest: invalid response headers should not crash the server
        ok 1 - only the first invalid header is logged
        ok 2 - should be equal
        ok 3 - should be equivalent
        1..3
    ok 63 - invalid response headers should not crash the server # time=13.824ms
    
    # Subtest: invalid response headers when sending back an error
        ok 1 - only the first invalid header is logged
        ok 2 - should be equal
        ok 3 - should be equivalent
        1..3
    ok 64 - invalid response headers when sending back an error # time=7.626ms
    
    # Subtest: invalid response headers and custom error handler
        ok 1 - custom error handler receives the error
        ok 2 - only the first invalid header is logged
        ok 3 - should be equal
        ok 4 - should be equivalent
        1..4
    ok 65 - invalid response headers and custom error handler # time=6.782ms
    
    # Subtest: reply.send will intercept ERR_HTTP_HEADERS_SENT and log an error message
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 66 - reply.send will intercept ERR_HTTP_HEADERS_SENT and log an error message # time=1.854ms
    
    # Subtest: Uint8Array view of ArrayBuffer returns correct byteLength
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 67 - Uint8Array view of ArrayBuffer returns correct byteLength # time=10.839ms
    
    1..67
    # time=1224.925ms
ok 76 - test/internals/reply.test.js # time=1224.925ms

# Subtest: test/internals/reqIdGenFactory.test.js
    # Subtest: should create incremental ids deterministically
        1..1
        ok 1 - (unnamed test)
    ok 1 - should create incremental ids deterministically # time=10.019ms
    
    # Subtest: should have prefix "req-"
        1..1
        ok 1 - expect truthy value
    ok 2 - should have prefix "req-" # time=1.562ms
    
    # Subtest: different id generator functions should have separate internal counters
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
    ok 3 - different id generator functions should have separate internal counters # time=2.937ms
    
    # Subtest: should start counting with 1
        1..1
        ok 1 - should be equal
    ok 4 - should start counting with 1 # time=1.197ms
    
    # Subtest: should handle requestIdHeader and return provided id in header
        1..1
        ok 1 - should be equal
    ok 5 - should handle requestIdHeader and return provided id in header # time=1.382ms
    
    # Subtest: should handle requestIdHeader and fallback if id is not provided in header
        1..1
        ok 1 - should be equal
    ok 6 - should handle requestIdHeader and fallback if id is not provided in header # time=1.26ms
    
    # Subtest: should handle requestIdHeader and increment internal counter if no header was provided
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 7 - should handle requestIdHeader and increment internal counter if no header was provided # time=3.312ms
    
    # Subtest: should use optGenReqId to generate ids
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 8 - should use optGenReqId to generate ids # time=2.377ms
    
    # Subtest: should use optGenReqId to generate ids if requestIdHeader is used but not provided
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 9 - should use optGenReqId to generate ids if requestIdHeader is used but not provided # time=2.45ms
    
    # Subtest: should not use optGenReqId to generate ids if requestIdHeader is used and provided
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 10 - should not use optGenReqId to generate ids if requestIdHeader is used and provided # time=1.615ms
    
    # Subtest: should fallback to use optGenReqId to generate ids if requestIdHeader is sometimes provided
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 11 - should fallback to use optGenReqId to generate ids if requestIdHeader is sometimes provided # time=2.429ms
    
    1..11
    # time=76.648ms
ok 77 - test/internals/reqIdGenFactory.test.js # time=76.648ms

# Subtest: test/internals/request-validate.test.js
    # Subtest: \#compileValidationSchema
        1..7
        # Subtest: Should return a function - Route without schema
            1..3
            ok 1 - type is Function
            ok 2 - expect truthy value
            ok 3 - expect falsey value
        ok 1 - Should return a function - Route without schema # time=122.29ms
        
        # Subtest: Validate function errors property should be null after validation when input is valid
            1..3
            ok 1 - expect truthy value
            ok 2 - expect truthy value
            ok 3 - should be equal
        ok 2 - Validate function errors property should be null after validation when input is valid # time=29.733ms
        
        # Subtest: Validate function errors property should be an array of errors after validation when input is valid
            1..4
            ok 1 - expect falsey value
            ok 2 - expect truthy value
            ok 3 - expect truthy value
            ok 4 - expect truthy value
        ok 3 - Validate function errors property should be an array of errors after validation when input is valid # time=50.448ms
        
        # Subtest: Should reuse the validate fn across multiple invocations - Route without schema
            1..16
            ok 1 - type is Function
            ok 2 - expect truthy value
            ok 3 - expect falsey value
            ok 4 - Are the same validate function
            ok 5 - type is Function
            ok 6 - expect truthy value
            ok 7 - expect falsey value
            ok 8 - Are the same validate function
            ok 9 - type is Function
            ok 10 - expect truthy value
            ok 11 - expect falsey value
            ok 12 - Are the same validate function
            ok 13 - type is Function
            ok 14 - expect truthy value
            ok 15 - expect falsey value
            ok 16 - should be equal
        ok 4 - Should reuse the validate fn across multiple invocations - Route without schema # time=32.528ms
        
        # Subtest: Should return a function - Route with schema
            1..3
            ok 1 - type is Function
            ok 2 - expect truthy value
            ok 3 - expect falsey value
        ok 5 - Should return a function - Route with schema # time=80.642ms
        
        # Subtest: Should use the custom validator compiler for the route
            1..10
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equivalent
            ok 7 - expect truthy value
            ok 8 - should be equivalent
            ok 9 - expect truthy value
            ok 10 - should be equal
        ok 6 - Should use the custom validator compiler for the route # time=20.237ms
        
        # Subtest: Should instantiate a WeakMap when executed for first time
            1..5
            ok 1 - should be equal
            ok 2 - type is Function
            ok 3 - type is WeakMap
            ok 4 - type is Function
            ok 5 - type is WeakMap
        ok 7 - Should instantiate a WeakMap when executed for first time # time=52.616ms
        
    ok 1 - \#compileValidationSchema # time=409.824ms
    
    # Subtest: \#getValidationFunction
        1..6
        # Subtest: Should return a validation function
            1..1
            ok 1 - should be equal
        ok 1 - Should return a validation function # time=33.508ms
        
        # Subtest: Validate function errors property should be null after validation when input is valid
            1..3
            ok 1 - expect truthy value
            ok 2 - expect truthy value
            ok 3 - should be equal
        ok 2 - Validate function errors property should be null after validation when input is valid # time=68.702ms
        
        # Subtest: Validate function errors property should be an array of errors after validation when input is valid
            1..4
            ok 1 - expect falsey value
            ok 2 - expect truthy value
            ok 3 - expect truthy value
            ok 4 - expect truthy value
        ok 3 - Validate function errors property should be an array of errors after validation when input is valid # time=18.977ms
        
        # Subtest: Should return undefined if no schema compiled
            1..2
            ok 1 - expect falsey value
            ok 2 - expect falsey value
        ok 4 - Should return undefined if no schema compiled # time=4.041ms
        
        # Subtest: Should return the validation function from each HTTP part
            1..15
            ok 1 - expect truthy value
            ok 2 - expect truthy value
            ok 3 - expect falsey value
            ok 4 - expect truthy value
            ok 5 - expect truthy value
            ok 6 - expect falsey value
            ok 7 - expect truthy value
            ok 8 - expect truthy value
            ok 9 - expect truthy value
            ok 10 - expect truthy value
            ok 11 - expect falsey value
            ok 12 - should be equal
            ok 13 - expect truthy value
            ok 14 - expect falsey value
            ok 15 - should be equal
        ok 5 - Should return the validation function from each HTTP part # time=66.563ms
        
        # Subtest: Should not set a WeakMap if there is no schema
            1..1
            ok 1 - should be equal
        ok 6 - Should not set a WeakMap if there is no schema # time=11.724ms
        
    ok 2 - \#getValidationFunction # time=215.515ms
    
    # Subtest: \#validate
        1..7
        # Subtest: Should return true/false if input valid - Route without schema
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 1 - Should return true/false if input valid - Route without schema # time=55.968ms
        
        # Subtest: Should use the custom validator compiler for the route
            1..9
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equivalent
            ok 6 - should be equivalent
            ok 7 - expect truthy value
            ok 8 - expect truthy value
            ok 9 - should be equal
        ok 2 - Should use the custom validator compiler for the route # time=13.99ms
        
        # Subtest: Should return true/false if input valid - With Schema for Route defined
            1..8
            ok 1 - expect truthy value
            ok 2 - expect falsey value
            ok 3 - expect falsey value
            ok 4 - expect truthy value
            ok 5 - expect falsey value
            ok 6 - expect truthy value
            ok 7 - expect truthy value
            ok 8 - expect falsey value
        ok 3 - Should return true/false if input valid - With Schema for Route defined # time=41.29ms
        
        # Subtest: Should throw if missing validation fn for HTTP part and not schema provided
            1..10
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
        ok 4 - Should throw if missing validation fn for HTTP part and not schema provided # time=17.073ms
        
        # Subtest: Should throw if missing validation fn for HTTP part and not valid schema provided
            1..10
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
        ok 5 - Should throw if missing validation fn for HTTP part and not valid schema provided # time=33.432ms
        
        # Subtest: Should throw if invalid schema passed
            1..10
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
        ok 6 - Should throw if invalid schema passed # time=20.208ms
        
        # Subtest: Should set a WeakMap if compiling the very first schema
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - type is WeakMap
        ok 7 - Should set a WeakMap if compiling the very first schema # time=45.275ms
        
    ok 3 - \#validate # time=245.664ms
    
    # Subtest: Nested Context
        1..1
        # Subtest: Level_1
            1..3
            # Subtest: \#compileValidationSchema
                1..5
                # Subtest: Should return a function - Route without schema
                    1..3
                    ok 1 - type is Function
                    ok 2 - expect truthy value
                    ok 3 - expect falsey value
                ok 1 - Should return a function - Route without schema # time=45.94ms
                
                # Subtest: Should reuse the validate fn across multiple invocations - Route without schema
                    1..16
                    ok 1 - type is Function
                    ok 2 - expect truthy value
                    ok 3 - expect falsey value
                    ok 4 - Are the same validate function
                    ok 5 - type is Function
                    ok 6 - expect truthy value
                    ok 7 - expect falsey value
                    ok 8 - Are the same validate function
                    ok 9 - type is Function
                    ok 10 - expect truthy value
                    ok 11 - expect falsey value
                    ok 12 - Are the same validate function
                    ok 13 - type is Function
                    ok 14 - expect truthy value
                    ok 15 - expect falsey value
                    ok 16 - should be equal
                ok 2 - Should reuse the validate fn across multiple invocations - Route without schema # time=50.869ms
                
                # Subtest: Should return a function - Route with schema
                    1..3
                    ok 1 - type is Function
                    ok 2 - expect truthy value
                    ok 3 - expect falsey value
                ok 3 - Should return a function - Route with schema # time=52.094ms
                
                # Subtest: Should use the custom validator compiler for the route
                    1..10
                    ok 1 - should be equal
                    ok 2 - should be equal
                    ok 3 - should be equal
                    ok 4 - should be equal
                    ok 5 - should be equal
                    ok 6 - should be equivalent
                    ok 7 - expect truthy value
                    ok 8 - should be equivalent
                    ok 9 - expect truthy value
                    ok 10 - should be equal
                ok 4 - Should use the custom validator compiler for the route # time=17.896ms
                
                # Subtest: Should compile the custom validation - nested with schema.headers
                    1..4
                    ok 1 - should be equal
                    ok 2 - should be equal
                    ok 3 - should be equal
                    ok 4 - should be equal
                ok 5 - Should compile the custom validation - nested with schema.headers # time=6.172ms
                
            ok 1 - \#compileValidationSchema # time=184.73ms
            
            # Subtest: \#getValidationFunction
                1..6
                # Subtest: Should return a validation function
                    1..1
                    ok 1 - should be equal
                ok 1 - Should return a validation function # time=36.562ms
                
                # Subtest: Should return undefined if no schema compiled
                    1..1
                    ok 1 - expect falsey value
                ok 2 - Should return undefined if no schema compiled # time=4.306ms
                
                # Subtest: Should return the validation function from each HTTP part
                    1..15
                    ok 1 - expect truthy value
                    ok 2 - expect truthy value
                    ok 3 - expect falsey value
                    ok 4 - expect truthy value
                    ok 5 - expect truthy value
                    ok 6 - expect falsey value
                    ok 7 - expect truthy value
                    ok 8 - expect truthy value
                    ok 9 - expect truthy value
                    ok 10 - expect truthy value
                    ok 11 - expect falsey value
                    ok 12 - should be equal
                    ok 13 - expect truthy value
                    ok 14 - expect falsey value
                    ok 15 - should be equal
                ok 3 - Should return the validation function from each HTTP part # time=36.601ms
                
                # Subtest: Should return a validation function - nested
                    1..6
                    ok 1 - should be equal
                    ok 2 - should be equal
                    ok 3 - should be equal
                    ok 4 - expect falsey value
                    ok 5 - should be equal
                    ok 6 - should be equal
                ok 4 - Should return a validation function - nested # time=16.938ms
                
                # Subtest: Should return undefined if no schema compiled - nested
                    1..3
                    ok 1 - should be equal
                    ok 2 - expect falsey value
                    ok 3 - should be equal
                ok 5 - Should return undefined if no schema compiled - nested # time=10.279ms
                
                # Subtest: Should per-route defined validation compiler
                    1..5
                    ok 1 - should be equal
                    ok 2 - should be equal
                    ok 3 - should not be equal
                    ok 4 - should be equal
                    ok 5 - should be equal
                ok 6 - Should per-route defined validation compiler # time=7.489ms
                
            ok 2 - \#getValidationFunction # time=124.27ms
            
            # Subtest: \#validate
                1..3
                # Subtest: Should return true/false if input valid - Route without schema
                    1..2
                    ok 1 - expect falsey value
                    ok 2 - expect truthy value
                ok 1 - Should return true/false if input valid - Route without schema # time=31.818ms
                
                # Subtest: Should use the custom validator compiler for the route
                    1..10
                    ok 1 - should be equal
                    ok 2 - should be equal
                    ok 3 - should be equal
                    ok 4 - should be equal
                    ok 5 - should be equivalent
                    ok 6 - should be equivalent
                    ok 7 - expect truthy value
                    ok 8 - expect truthy value
                    ok 9 - should be equal
                    ok 10 - should be equal
                ok 2 - Should use the custom validator compiler for the route # time=11.205ms
                
                # Subtest: Should return true/false if input valid - With Schema for Route defined and scoped validator compiler
                    1..13
                    ok 1 - expect truthy value
                    ok 2 - expect falsey value
                    ok 3 - expect falsey value
                    ok 4 - expect truthy value
                    ok 5 - expect falsey value
                    ok 6 - expect truthy value
                    ok 7 - expect truthy value
                    ok 8 - expect falsey value
                    ok 9 - should be equal
                    ok 10 - should be equal
                    ok 11 - should be equal
                    ok 12 - should be equal
                    ok 13 - should be equal
                ok 3 - Should return true/false if input valid - With Schema for Route defined and scoped validator compiler # time=117.17ms
                
            ok 3 - \#validate # time=167.311ms
            
        ok 1 - Level_1 # time=484.849ms
        
    ok 4 - Nested Context # time=489.737ms
    
    1..4
    # time=1374.698ms
ok 78 - test/internals/request-validate.test.js # time=1374.698ms

# Subtest: test/internals/request.test.js
    # Subtest: Regular request
        ok 1 - type is Request
        ok 2 - type is Function
        ok 3 - type is Function
        ok 4 - type is Function
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equal
        ok 18 - should be equal
        ok 19 - should be equal
        ok 20 - should be equal
        ok 21 - should be equal
        ok 22 - should be equal
        ok 23 - should be equal
        ok 24 - expect falsey value
        ok 25 - should be equal
        1..25
    ok 1 - Regular request # time=18ms
    
    # Subtest: Request with undefined config
        ok 1 - type is Request
        ok 2 - type is Function
        ok 3 - type is Function
        ok 4 - type is Function
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equal
        ok 18 - should be equal
        ok 19 - should be equal
        ok 20 - should be equal
        ok 21 - should be equal
        ok 22 - should be equal
        ok 23 - should be equal
        ok 24 - expect falsey value
        ok 25 - should be equal
        1..25
    ok 2 - Request with undefined config # time=10.35ms
    
    # Subtest: Regular request - hostname from authority
        1..2
        ok 1 - type is Request
        ok 2 - should be equal
    ok 3 - Regular request - hostname from authority # time=2.042ms
    
    # Subtest: Regular request - host header has precedence over authority
        1..2
        ok 1 - type is Request
        ok 2 - should be equal
    ok 4 - Regular request - host header has precedence over authority # time=1.826ms
    
    # Subtest: Request with trust proxy
        1..22
        ok 1 - type is _Request
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equivalent
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - type is Function
        ok 17 - type is Function
        ok 18 - type is Function
        ok 19 - should be equal
        ok 20 - should be equal
        ok 21 - should be equal
        ok 22 - should be equal
    ok 5 - Request with trust proxy # time=15.873ms
    
    # Subtest: Request with trust proxy, encrypted
        1..2
        ok 1 - type is _Request
        ok 2 - should be equal
    ok 6 - Request with trust proxy, encrypted # time=1.757ms
    
    # Subtest: Request with trust proxy - no x-forwarded-host header
        1..2
        ok 1 - type is _Request
        ok 2 - should be equal
    ok 7 - Request with trust proxy - no x-forwarded-host header # time=2.085ms
    
    # Subtest: Request with trust proxy - no x-forwarded-host header and fallback to authority
        1..2
        ok 1 - type is _Request
        ok 2 - should be equal
    ok 8 - Request with trust proxy - no x-forwarded-host header and fallback to authority # time=1.746ms
    
    # Subtest: Request with trust proxy - x-forwarded-host header has precedence over host
        1..2
        ok 1 - type is _Request
        ok 2 - should be equal
    ok 9 - Request with trust proxy - x-forwarded-host header has precedence over host # time=1.721ms
    
    # Subtest: Request with trust proxy - handles multiple entries in x-forwarded-host/proto
        1..3
        ok 1 - type is _Request
        ok 2 - should be equal
        ok 3 - should be equal
    ok 10 - Request with trust proxy - handles multiple entries in x-forwarded-host/proto # time=2.102ms
    
    # Subtest: Request with trust proxy - plain
        1..1
        ok 1 - should be equivalent
    ok 11 - Request with trust proxy - plain # time=1.449ms
    
    # Subtest: Request with undefined socket
        1..18
        ok 1 - type is Request
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equivalent
        ok 16 - type is Function
        ok 17 - type is Function
        ok 18 - type is Function
    ok 12 - Request with undefined socket # time=7.673ms
    
    # Subtest: Request with trust proxy and undefined socket
        1..1
        ok 1 - should be equivalent
    ok 13 - Request with trust proxy and undefined socket # time=1.344ms
    
    1..13
    # time=118.365ms
ok 79 - test/internals/request.test.js # time=118.365ms

# Subtest: test/internals/server.test.js
    # Subtest: start listening
        ok 1 - server started
        1..1
    ok 1 - start listening # time=39.851ms
    
    # Subtest: DNS errors does not stop the main server on localhost - promise interface
        ok 1 - server started
        1..1
    ok 2 - DNS errors does not stop the main server on localhost - promise interface # time=14.912ms
    
    # Subtest: DNS errors does not stop the main server on localhost - callback interface
        1..2
        ok 1 - should not error
        ok 2 - server started
    ok 3 - DNS errors does not stop the main server on localhost - callback interface # time=17.846ms
    
    # Subtest: DNS returns empty binding
        1..2
        ok 1 - should not error
        ok 2 - server started
    ok 4 - DNS returns empty binding # time=20.164ms
    
    # Subtest: DNS returns more than two binding
        1..2
        ok 1 - should not error
        ok 2 - server started
    ok 5 - DNS returns more than two binding # time=26.287ms
    
    1..5
    # time=132.92ms
ok 80 - test/internals/server.test.js # time=132.92ms

# Subtest: test/internals/validation.test.js
    # Subtest: Symbols
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
    ok 1 - Symbols # time=9.162ms
    
    # Subtest: compileSchemasForValidation schema - missing schema
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 2 - compileSchemasForValidation schema - missing schema # time=2.068ms
    
    # Subtest: compileSchemasForValidation schema - missing output schema
        1..1
        ok 1 - should be equal
    ok 3 - compileSchemasForValidation schema - missing output schema # time=1.215ms
    
    # Subtest: compileSchemasForSerialization schema - missing schema
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 4 - compileSchemasForSerialization schema - missing schema # time=1.553ms
    
    # Subtest: compileSchemasForSerialization schema - missing output schema
        1..1
        ok 1 - should be equal
    ok 5 - compileSchemasForSerialization schema - missing output schema # time=1.084ms
    
    # Subtest: build schema - output schema
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 6 - build schema - output schema # time=52.439ms
    
    # Subtest: build schema - payload schema
        1..1
        ok 1 - should be equal
    ok 7 - build schema - payload schema # time=2.694ms
    
    # Subtest: build schema - avoid repeated normalize schema
        1..3
        ok 1 - should not be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 8 - build schema - avoid repeated normalize schema # time=2.568ms
    
    # Subtest: build schema - query schema
        1..2
        ok 1 - type is string
        ok 2 - should be equal
    ok 9 - build schema - query schema # time=2.87ms
    
    # Subtest: build schema - query schema abbreviated
        1..2
        ok 1 - type is string
        ok 2 - should be equal
    ok 10 - build schema - query schema abbreviated # time=5.138ms
    
    # Subtest: build schema - querystring schema
        1..2
        ok 1 - type is string
        ok 2 - should be equal
    ok 11 - build schema - querystring schema # time=2.541ms
    
    # Subtest: build schema - querystring schema abbreviated
        1..2
        ok 1 - type is string
        ok 2 - should be equal
    ok 12 - build schema - querystring schema abbreviated # time=2.574ms
    
    # Subtest: build schema - must throw if querystring and query schema exist
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 13 - build schema - must throw if querystring and query schema exist # time=2.104ms
    
    # Subtest: build schema - params schema
        1..1
        ok 1 - should be equal
    ok 14 - build schema - params schema # time=2.168ms
    
    # Subtest: build schema - headers schema
        1..1
        ok 1 - should be equal
    ok 15 - build schema - headers schema # time=2.317ms
    
    # Subtest: build schema - headers are lowercase
        1..1
        ok 1 - lowercase content-type exists
    ok 16 - build schema - headers are lowercase # time=1.419ms
    
    # Subtest: build schema - headers are not lowercased in case of custom object
        1..1
        ok 1 - type is Headers
    ok 17 - build schema - headers are not lowercased in case of custom object # time=1.377ms
    
    # Subtest: build schema - headers are not lowercased in case of custom validator provided
        1..1
        ok 1 - type is Headers
    ok 18 - build schema - headers are not lowercased in case of custom validator provided # time=1.365ms
    
    # Subtest: build schema - uppercased headers are not included
        1..1
        ok 1 - uppercase does not exist
    ok 19 - build schema - uppercased headers are not included # time=1.37ms
    
    # Subtest: build schema - mixed schema types are individually skipped or normalized
        1..6
        ok 1 - type is CustomSchemaClass
        ok 2 - type is CustomSchemaClass
        ok 3 - should be equivalent
        ok 4 - type is CustomSchemaClass
        ok 5 - type is CustomSchemaClass
        ok 6 - should be equivalent
    ok 20 - build schema - mixed schema types are individually skipped or normalized # time=9.354ms
    
    1..20
    # time=155.764ms
ok 81 - test/internals/validation.test.js # time=155.764ms

# Subtest: test/keepAliveTimeout.test.js
    # Subtest: keepAliveTimeout
        1..6
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not be equal
        ok 6 - should be equal
    ok 1 - keepAliveTimeout # time=58.49ms
    
    1..1
    # time=69.78ms
ok 82 - test/keepAliveTimeout.test.js # time=69.78ms

# Subtest: test/listen.1.test.js
    # Subtest: listen works without arguments
        ok 1 - should be equal
        ok 2 - expect truthy value
        1..2
    ok 1 - listen works without arguments # time=29.798ms
    
    # Subtest: Async/await listen with arguments
        1..1
        ok 1 - should be equal
    ok 2 - Async/await listen with arguments # time=5.678ms
    
    # Subtest: Promise listen with arguments
        1..1
        ok 1 - should be equal
    ok 3 - Promise listen with arguments # time=10.892ms
    
    # Subtest: listen accepts a callback
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 4 - listen accepts a callback # time=9.903ms
    
    # Subtest: listen accepts options and a callback
        1..1
        ok 1 - should not error
    ok 5 - listen accepts options and a callback # time=8.546ms
    
    # Subtest: listen after Promise.resolve()
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 6 - listen after Promise.resolve() # time=10.695ms
    
    1..6
    # time=115.176ms
ok 83 - test/listen.1.test.js # time=115.176ms

# Subtest: test/listen.2.test.js
    # Subtest: register after listen using Promise.resolve()
        1..1
        ok 1 - resolved
    ok 1 - register after listen using Promise.resolve() # time=28.927ms
    
    # Subtest: double listen errors
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - expect truthy value
    ok 2 - double listen errors # time=10.827ms
    
    # Subtest: double listen errors callback with (err, address)
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - expect truthy value
    ok 3 - double listen errors callback with (err, address) # time=15.324ms
    
    # Subtest: nonlocalhost double listen errors callback with (err, address)
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - expect truthy value
    ok 4 - nonlocalhost double listen errors callback with (err, address) # time=8.843ms
    
    # Subtest: listen twice on the same port
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - expect truthy value
    ok 5 - listen twice on the same port # time=18.609ms
    
    # Subtest: listen twice on the same port callback with (err, address)
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - expect truthy value
    ok 6 - listen twice on the same port callback with (err, address) # time=7.502ms
    
    1..6
    # time=129.163ms
ok 84 - test/listen.2.test.js # time=129.163ms

# Subtest: test/listen.3.test.js
    # Subtest: listen on socket
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent strictly
        ok 3 - should be equal
    ok 1 - listen on socket # time=32.743ms
    
    # Subtest: listen without callback with (address)
        1..1
        ok 1 - should be equal
    ok 2 - listen without callback with (address) # time=6.479ms
    
    # Subtest: double listen without callback rejects
        1..1
        ok 1 - expect truthy value
    ok 3 - double listen without callback rejects # time=13.39ms
    
    # Subtest: double listen without callback with (address)
        1..2
        ok 1 - should be equal
        ok 2 - expect truthy value
    ok 4 - double listen without callback with (address) # time=10.051ms
    
    1..4
    # time=103.099ms
ok 85 - test/listen.3.test.js # time=103.099ms

# Subtest: test/listen.4.test.js
    # Subtest: listen twice on the same port without callback rejects
        1..1
        ok 1 - expect truthy value
    ok 1 - listen twice on the same port without callback rejects # time=31.887ms
    
    # Subtest: listen twice on the same port without callback rejects with (address)
        1..2
        ok 1 - should be equal
        ok 2 - expect truthy value
    ok 2 - listen twice on the same port without callback rejects with (address) # time=14.997ms
    
    # Subtest: listen on invalid port without callback rejects
        ok 1 - expect truthy value
        1..1
    ok 3 - listen on invalid port without callback rejects # time=9.343ms
    
    # Subtest: listen logs the port as info
        1..1
        ok 1 - expect truthy value
    ok 4 - listen logs the port as info # time=8.195ms
    
    # Subtest: listen on localhost binds IPv4 and IPv6 - promise interface
        1..4
        ok 1 - should be equal
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 5 - listen on localhost binds IPv4 and IPv6 - promise interface # time=42.161ms
    
    # Subtest: listen on localhost binds to all interfaces (both IPv4 and IPv6 if present) - callback interface
        1..8
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should be equivalent
    ok 6 - listen on localhost binds to all interfaces (both IPv4 and IPv6 if present) - callback interface # time=23.113ms
    
    # Subtest: addresses getter
        1..4
        ok 1 - before ready
        ok 2 - after ready
        ok 3 - after listen
        ok 4 - after close
    ok 7 - addresses getter # time=16.45ms
    
    1..7
    # time=194.478ms
ok 86 - test/listen.4.test.js # time=194.478ms

# Subtest: test/listen.deprecated.test.js
    # Subtest: listen accepts a port and a callback
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 1 - listen accepts a port and a callback # time=34.501ms
    
    # Subtest: listen accepts a port and a callback with (err, address)
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 2 - listen accepts a port and a callback with (err, address) # time=4.54ms
    
    # Subtest: listen accepts a port, address, and callback
        1..1
        ok 1 - should not error
    ok 3 - listen accepts a port, address, and callback # time=10.564ms
    
    # Subtest: listen accepts options, backlog and a callback
        1..1
        ok 1 - should not error
    ok 4 - listen accepts options, backlog and a callback # time=9.397ms
    
    # Subtest: listen accepts options (no port), backlog and a callback
        1..1
        ok 1 - should not error
    ok 5 - listen accepts options (no port), backlog and a callback # time=5.765ms
    
    # Subtest: listen accepts options (no host), backlog and a callback
        1..1
        ok 1 - should not error
    ok 6 - listen accepts options (no host), backlog and a callback # time=8.506ms
    
    # Subtest: listen accepts options (no port, no host), backlog and a callback
        1..1
        ok 1 - should not error
    ok 7 - listen accepts options (no port, no host), backlog and a callback # time=4.742ms
    
    # Subtest: listen accepts a port, address and a callback with (err, address)
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 8 - listen accepts a port, address and a callback with (err, address) # time=3.519ms
    
    # Subtest: listen accepts a port, address, backlog and callback
        1..1
        ok 1 - should not error
    ok 9 - listen accepts a port, address, backlog and callback # time=10.821ms
    
    # Subtest: listen accepts a port, address, backlog and callback with (err, address)
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 10 - listen accepts a port, address, backlog and callback with (err, address) # time=7.69ms
    
    # Subtest: listen without callback (port zero)
        1..1
        ok 1 - should be equal
    ok 11 - listen without callback (port zero) # time=12.584ms
    
    # Subtest: listen without callback (port not given)
        1..1
        ok 1 - should be equal
    ok 12 - listen without callback (port not given) # time=7.116ms
    
    # Subtest: listen null without callback with (address)
        1..1
        ok 1 - should be equal
    ok 13 - listen null without callback with (address) # time=3.565ms
    
    # Subtest: listen without port without callback with (address)
        1..1
        ok 1 - should be equal
    ok 14 - listen without port without callback with (address) # time=10.918ms
    
    # Subtest: listen with undefined without callback with (address)
        1..1
        ok 1 - should be equal
    ok 15 - listen with undefined without callback with (address) # time=16.058ms
    
    # Subtest: listen when firstArg is string(pipe) and without backlog
        1..1
        ok 1 - should be equal
    ok 16 - listen when firstArg is string(pipe) and without backlog # time=5.429ms
    
    # Subtest: listen when firstArg is string(pipe) and with backlog
        1..1
        ok 1 - should be equal
    ok 17 - listen when firstArg is string(pipe) and with backlog # time=6.96ms
    
    # Subtest: listen when firstArg is { path: string(pipe) } and with backlog and callback
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 18 - listen when firstArg is { path: string(pipe) } and with backlog and callback # time=3.965ms
    
    # Subtest: listen accepts a port as string, and callback
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 19 - listen accepts a port as string, and callback # time=15.203ms
    
    # Subtest: listen accepts a port as string, address and callback
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
    ok 20 - listen accepts a port as string, address and callback # time=13.79ms
    
    # Subtest: listen with invalid port string without callback with (address)
        1..1
        ok 1 - should be equal
    ok 21 - listen with invalid port string without callback with (address) # time=11.841ms
    
    1..21
    # time=288.619ms
ok 87 - test/listen.deprecated.test.js # time=288.619ms

# Subtest: test/lock.test.js
    # Subtest: can be created - lock
        1..1
        ok 1 - (unnamed test)
    ok 1 - can be created - lock # time=9.576ms
    
    ok 2 - should not error
    # Subtest: request - lock
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 3 - request - lock # time=24.417ms
    
    1..3
    # time=65.05ms
ok 88 - test/lock.test.js # time=65.05ms

# Subtest: test/logger/instantiation.test.js
    # Subtest: logger instantiation
        1..11
        # Subtest: can use external logger instance
            1..5
            ok 1 - expect truthy value
            ok 2 - "Server listening at http://127.0.0.1:34371" dont match "/^Server listening at /"
            ok 3 - "incoming request" dont match "/^incoming request$/"
            ok 4 - "log success" dont match "/^log success$/"
            ok 5 - "request completed" dont match "/^request completed$/"
        ok 1 - can use external logger instance # time=59.349ms
        
        # Subtest: should create a default logger if provided one is invalid
            1..8
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
        ok 2 - should create a default logger if provided one is invalid # time=5.992ms
        
        # Subtest: expose the logger
            1..2
            ok 1 - expect truthy value
            ok 2 - should be equivalent
        ok 3 - expose the logger # time=17.706ms
        
        # Subtest: Wrap IPv6 address in listening log message
            1..1
            ok 1 - should be equivalent
        ok 4 - Wrap IPv6 address in listening log message # time=11.826ms
        
        # Subtest: Do not wrap IPv4 address
            1..1
            ok 1 - should be equivalent
        ok 5 - Do not wrap IPv4 address # time=9.281ms
        
        # Subtest: file option
            ok 1 - expect truthy value
            ok 2 - should match pattern provided
            ok 3 - should be equal
            ok 4 - should match pattern provided
            ok 5 - should be equal
            ok 6 - should match pattern provided
            1..6
        ok 6 - file option # time=267.237ms
        
        # Subtest: should be able to use a custom logger
            1..7
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
        ok 7 - should be able to use a custom logger # time=6.406ms
        
        # Subtest: should throw in case a partially matching logger is provided
            1..1
            ok 1 - Invalid logger object provided. The logger instance should have these functions(s): 'fatal,child'.
        ok 8 - should throw in case a partially matching logger is provided # time=2.193ms
        
        # Subtest: can use external logger instance with custom serializer
            1..5
            ok 1 - expect truthy value
            ok 2 - should be equivalent
            ok 3 - should be equivalent
            ok 4 - should be equivalent
            ok 5 - should be equivalent
        ok 9 - can use external logger instance with custom serializer # time=21.079ms
        
        # Subtest: The logger should accept custom serializer
            1..5
            ok 1 - expect truthy value
            ok 2 - should match pattern provided
            ok 3 - should match pattern provided
            ok 4 - should match pattern provided
            ok 5 - should match pattern provided
        ok 10 - The logger should accept custom serializer # time=19.718ms
        
        # Subtest: should throw in case the external logger provided does not have a child method
            1..1
            ok 1 - Invalid logger object provided. The logger instance should have these functions(s): 'child'.
        ok 11 - should throw in case the external logger provided does not have a child method # time=1.444ms
        
    ok 1 - logger instantiation # time=737.102ms
    
    1..1
    # time=742.686ms
ok 89 - test/logger/instantiation.test.js # time=742.686ms

# Subtest: test/logger/logging.test.js
    # Subtest: logging
        1..12
        # Subtest: The default 404 handler logs the incoming request
            1..4
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
        ok 1 - The default 404 handler logs the incoming request # time=47.879ms
        
        # Subtest: should not rely on raw request to log errors
            1..5
            ok 1 - expect truthy value
            ok 2 - should match pattern provided
            ok 3 - should match pattern provided
            ok 4 - should match pattern provided
            ok 5 - should match pattern provided
        ok 2 - should not rely on raw request to log errors # time=39.115ms
        
        # Subtest: should log the error if no error handler is defined
            1..5
            ok 1 - expect truthy value
            ok 2 - should match pattern provided
            ok 3 - should match pattern provided
            ok 4 - should match pattern provided
            ok 5 - should match pattern provided
        ok 3 - should log the error if no error handler is defined # time=24.411ms
        
        # Subtest: should log as info if error status code >= 400 and < 500 if no error handler is defined
            1..5
            ok 1 - expect truthy value
            ok 2 - should match pattern provided
            ok 3 - should match pattern provided
            ok 4 - should match pattern provided
            ok 5 - should match pattern provided
        ok 4 - should log as info if error status code >= 400 and < 500 if no error handler is defined # time=18.289ms
        
        # Subtest: should log as error if error status code >= 500 if no error handler is defined
            1..5
            ok 1 - expect truthy value
            ok 2 - should match pattern provided
            ok 3 - should match pattern provided
            ok 4 - should match pattern provided
            ok 5 - should match pattern provided
        ok 5 - should log as error if error status code >= 500 if no error handler is defined # time=8.977ms
        
        # Subtest: should not log the error if error handler is defined and it does not error
            1..5
            ok 1 - expect truthy value
            ok 2 - expect truthy value
            ok 3 - should match pattern provided
            ok 4 - should match pattern provided
            ok 5 - should match pattern provided
        ok 6 - should not log the error if error handler is defined and it does not error # time=20.124ms
        
        # Subtest: reply.send logs an error if called twice in a row
            1..5
            ok 1 - should be equivalent
            ok 2 - should be equivalent
            ok 3 - should be equivalent
            ok 4 - should be equivalent
            ok 5 - should be equivalent
        ok 7 - reply.send logs an error if called twice in a row # time=18.644ms
        
        # Subtest: should not log incoming request and outgoing response when disabled
            1..3
            ok 1 - reqId is defined
            ok 2 - message is set
            ok 3 - should be equal
        ok 8 - should not log incoming request and outgoing response when disabled # time=11.874ms
        
        # Subtest: should not log incoming request and outgoing response for 404 onBadUrl when disabled
            1..3
            ok 1 - reqId is defined
            ok 2 - message is set
            ok 3 - should be equal
        ok 9 - should not log incoming request and outgoing response for 404 onBadUrl when disabled # time=19.689ms
        
        # Subtest: defaults to info level
            1..5
            ok 1 - expect truthy value
            ok 2 - should be equal
            ok 3 - should match pattern provided
            ok 4 - should be equal
            ok 5 - should match pattern provided
        ok 10 - defaults to info level # time=21.621ms
        
        # Subtest: test log stream
            1..6
            ok 1 - expect truthy value
            ok 2 - should match pattern provided
            ok 3 - should be equal
            ok 4 - should match pattern provided
            ok 5 - should be equal
            ok 6 - should match pattern provided
        ok 11 - test log stream # time=10.518ms
        
        # Subtest: test error log stream
            1..8
            ok 1 - expect truthy value
            ok 2 - should match pattern provided
            ok 3 - should be equal
            ok 4 - should match pattern provided
            ok 5 - should be equal
            ok 6 - should match pattern provided
            ok 7 - should be equal
            ok 8 - should match pattern provided
        ok 12 - test error log stream # time=22.537ms
        
    ok 1 - logging # time=324.079ms
    
    1..1
    # time=358.657ms
ok 90 - test/logger/logging.test.js # time=358.657ms

# Subtest: test/logger/options.test.js
    # Subtest: logger options
        1..12
        # Subtest: logger can be silented
            1..17
            ok 1 - expect truthy value
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
            ok 11 - should be equal
            ok 12 - should be equal
            ok 13 - should be equal
            ok 14 - should be equal
            ok 15 - should be equal
            ok 16 - should be equal
            ok 17 - should be equal
        ok 1 - logger can be silented # time=22.631ms
        
        # Subtest: Should set a custom logLevel for a plugin
            1..5
            ok 1 - should be equivalent
            ok 2 - should be equivalent
            ok 3 - should be equivalent
            ok 4 - should be equivalent
            ok 5 - should be equivalent
        ok 2 - Should set a custom logLevel for a plugin # time=45.686ms
        
        # Subtest: Should set a custom logSerializers for a plugin
            1..4
            ok 1 - should be equivalent
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
        ok 3 - Should set a custom logSerializers for a plugin # time=7.519ms
        
        # Subtest: Should set a custom logLevel for every plugin
            1..15
            ok 1 - should be equivalent
            ok 2 - should be equivalent
            ok 3 - should be equivalent
            ok 4 - expect truthy value
            ok 5 - should be equal
            ok 6 - expect truthy value
            ok 7 - should be equal
            ok 8 - expect truthy value
            ok 9 - should be equal
            ok 10 - expect truthy value
            ok 11 - should be equal
            ok 12 - expect truthy value
            ok 13 - should be equal
            ok 14 - expect truthy value
            ok 15 - should be equal
        ok 4 - Should set a custom logLevel for every plugin # time=32.367ms
        
        # Subtest: Should set a custom logSerializers for every plugin
            1..12
            ok 1 - should be equivalent
            ok 2 - should be equivalent
            ok 3 - should be equivalent
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
            ok 11 - should be equal
            ok 12 - should be equal
        ok 5 - Should set a custom logSerializers for every plugin # time=20.547ms
        
        # Subtest: Should override serializers from route
            1..4
            ok 1 - should be equivalent
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
        ok 6 - Should override serializers from route # time=7.754ms
        
        # Subtest: Should override serializers from plugin
            1..4
            ok 1 - should be equivalent
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
        ok 7 - Should override serializers from plugin # time=17.967ms
        
        # Subtest: Should increase the log level for a specific plugin
            1..3
            ok 1 - should be equivalent
            ok 2 - should be equal
            ok 3 - should be equal
        ok 8 - Should increase the log level for a specific plugin # time=12.684ms
        
        # Subtest: Should set the log level for the customized 404 handler
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
        ok 9 - Should set the log level for the customized 404 handler # time=15.669ms
        
        # Subtest: Should set the log level for the customized 500 handler
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
        ok 10 - Should set the log level for the customized 500 handler # time=6.308ms
        
        # Subtest: Should set a custom log level for a specific route
            1..5
            ok 1 - should be equivalent
            ok 2 - should be equivalent
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
        ok 11 - Should set a custom log level for a specific route # time=29.773ms
        
        # Subtest: should pass when using unWritable props in the logger option
            1..8
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
        ok 12 - should pass when using unWritable props in the logger option # time=10.909ms
        
    ok 1 - logger options # time=289.085ms
    
    1..1
    # time=300.81ms
ok 91 - test/logger/options.test.js # time=300.81ms

# Subtest: test/logger/request.test.js
    # Subtest: request
        1..7
        # Subtest: The request id header key can be customized
            1..8
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - message is set
            ok 5 - should be equal
            ok 6 - message is set
            ok 7 - should be equal
            ok 8 - message is set
        ok 1 - The request id header key can be customized # time=49.722ms
        
        # Subtest: The request id header key can be ignored
            1..8
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - message is set
            ok 5 - should be equal
            ok 6 - message is set
            ok 7 - should be equal
            ok 8 - message is set
        ok 2 - The request id header key can be ignored # time=8.532ms
        
        # Subtest: The request id header key can be customized along with a custom id generator
            1..10
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should match pattern provided
            ok 6 - should match pattern provided
            ok 7 - should match pattern provided
            ok 8 - should match pattern provided
            ok 9 - should match pattern provided
            ok 10 - should match pattern provided
        ok 3 - The request id header key can be customized along with a custom id generator # time=17.886ms
        
        # Subtest: The request id header key can be ignored along with a custom id generator
            1..10
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should match pattern provided
            ok 6 - should match pattern provided
            ok 7 - should match pattern provided
            ok 8 - should match pattern provided
            ok 9 - should match pattern provided
            ok 10 - should match pattern provided
        ok 4 - The request id header key can be ignored along with a custom id generator # time=29.305ms
        
        # Subtest: The request id log label can be changed
            1..5
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should match pattern provided
            ok 4 - should match pattern provided
            ok 5 - should match pattern provided
        ok 5 - The request id log label can be changed # time=13.823ms
        
        # Subtest: should redact the authorization header if so specified
            1..6
            ok 1 - should be equivalent
            ok 2 - should be equal
            ok 3 - should be equivalent
            ok 4 - should match pattern provided
            ok 5 - should match pattern provided
            ok 6 - should match pattern provided
        ok 6 - should redact the authorization header if so specified # time=29.132ms
        
        # Subtest: should not throw error when serializing custom req
            1..1
            ok 1 - should be equivalent
        ok 7 - should not throw error when serializing custom req # time=2.578ms
        
    ok 1 - request # time=200.653ms
    
    1..1
    # time=221.088ms
ok 92 - test/logger/request.test.js # time=221.088ms

# Subtest: test/logger/response.test.js
    # Subtest: response serialization
        1..4
        # Subtest: Should use serializers from plugin and route
            1..4
            ok 1 - should be equivalent
            ok 2 - should match pattern provided
            ok 3 - should match pattern provided
            ok 4 - should match pattern provided
        ok 1 - Should use serializers from plugin and route # time=64.508ms
        
        # Subtest: Should use serializers from instance fastify and route
            1..4
            ok 1 - should be equivalent
            ok 2 - should match pattern provided
            ok 3 - should match pattern provided
            ok 4 - should match pattern provided
        ok 2 - Should use serializers from instance fastify and route # time=7.826ms
        
        # Subtest: Should use serializers inherit from contexts
            1..4
            ok 1 - should be equivalent
            ok 2 - should match pattern provided
            ok 3 - should match pattern provided
            ok 4 - should match pattern provided
        ok 3 - Should use serializers inherit from contexts # time=20.553ms
        
        # Subtest: should serialize request and response
            1..4
            ok 1 - should be equal
            ok 2 - should match pattern provided
            ok 3 - should match pattern provided
            ok 4 - should match pattern provided
        ok 4 - should serialize request and response # time=20.011ms
        
    ok 1 - response serialization # time=127.799ms
    
    1..1
    # time=139.18ms
ok 93 - test/logger/response.test.js # time=139.18ms

# Subtest: test/maxRequestsPerSocket.test.js
    # Subtest: maxRequestsPerSocket on node version >= 16.10.0
        1..8
        ok 1 - should not error
        ok 2 - should match pattern provided
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
        ok 5 - should match pattern provided
        ok 6 - should match pattern provided
        ok 7 - should match pattern provided
        ok 8 - should match pattern provided
    ok 1 - maxRequestsPerSocket on node version >= 16.10.0 # time=64.49ms
    
    # Subtest: maxRequestsPerSocket zero should behave same as null
        1..10
        ok 1 - should not error
        ok 2 - should match pattern provided
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
        ok 5 - should match pattern provided
        ok 6 - should match pattern provided
        ok 7 - should match pattern provided
        ok 8 - should match pattern provided
        ok 9 - should match pattern provided
        ok 10 - should match pattern provided
    ok 2 - maxRequestsPerSocket zero should behave same as null # time=13.433ms
    
    # Subtest: maxRequestsPerSocket should be set
        1..1
        ok 1 - should be equivalent
    ok 3 - maxRequestsPerSocket should be set # time=2.171ms
    
    # Subtest: maxRequestsPerSocket should 0
        1..1
        ok 1 - should be equivalent
    ok 4 - maxRequestsPerSocket should 0 # time=1.841ms
    
    # Subtest: requestTimeout passed to server
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 5 - requestTimeout passed to server # time=27.249ms
    
    1..5
    # time=122.719ms
ok 94 - test/maxRequestsPerSocket.test.js # time=122.719ms

# Subtest: test/middleware.test.js
    # Subtest: Should be able to override the default use API
        1..1
        ok 1 - should be equal
    ok 1 - Should be able to override the default use API # time=15.726ms
    
    # Subtest: Cannot decorate use twice
        1..1
        ok 1 - expect truthy value
    ok 2 - Cannot decorate use twice # time=2.561ms
    
    # Subtest: Encapsulation works
        1..1
        ok 1 - should be equal
    ok 3 - Encapsulation works # time=10.372ms
    
    1..3
    # time=44.492ms
ok 95 - test/middleware.test.js # time=44.492ms

# Subtest: test/mkcol.test.js
    # Subtest: can be created - mkcol
        1..1
        ok 1 - (unnamed test)
    ok 1 - can be created - mkcol # time=9.321ms
    
    ok 2 - should not error
    # Subtest: request - mkcol
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 3 - request - mkcol # time=21.366ms
    
    1..3
    # time=59.903ms
ok 96 - test/mkcol.test.js # time=59.903ms

# Subtest: test/move.test.js
    # Subtest: shorthand - move
        1..1
        ok 1 - (unnamed test)
    ok 1 - shorthand - move # time=9.191ms
    
    ok 2 - should not error
    # Subtest: request - move
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 3 - request - move # time=22.003ms
    
    1..3
    # time=60.402ms
ok 97 - test/move.test.js # time=60.402ms

# Subtest: test/noop-set.test.js
    # Subtest: does a lot of nothing
        ok 1 - type is object
        ok 2 - should be equal
        1..2
    ok 1 - does a lot of nothing # time=7.618ms
    
    1..1
    # time=14.546ms
ok 98 - test/noop-set.test.js # time=14.546ms

# Subtest: test/nullable-validation.test.js
    # Subtest: nullable string
        1..3
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 1 - nullable string # time=121.295ms
    
    # Subtest: object or null body
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 2 - object or null body # time=51.346ms
    
    # Subtest: nullable body
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 3 - nullable body # time=56.282ms
    
    # Subtest: Nullable body with 204
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 4 - Nullable body with 204 # time=25.491ms
    
    1..4
    # time=264.07ms
ok 99 - test/nullable-validation.test.js # time=264.07ms

# Subtest: test/options.error-handler.test.js
    # Subtest: OPTIONS can be created
        1..1
        ok 1 - (unnamed test)
    ok 1 - OPTIONS can be created # time=8.982ms
    
    # Subtest: OPTIONS without schema can be created
        1..1
        ok 1 - (unnamed test)
    ok 2 - OPTIONS without schema can be created # time=2.025ms
    
    # Subtest: OPTIONS with body and querystring
        1..1
        ok 1 - (unnamed test)
    ok 3 - OPTIONS with body and querystring # time=1.506ms
    
    # Subtest: OPTIONS with bodyLimit option
        1..1
        ok 1 - (unnamed test)
    ok 4 - OPTIONS with bodyLimit option # time=1.732ms
    
    # Subtest: OPTIONS can be created
        1..1
        ok 1 - (unnamed test)
    ok 5 - OPTIONS can be created # time=2.602ms
    
    # Subtest: OPTIONS - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 6 - OPTIONS - correctly replies # time=58.135ms
    
    # Subtest: OPTIONS - correctly replies with very large body
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 7 - OPTIONS - correctly replies with very large body # time=9.591ms
    
    # Subtest: OPTIONS - correctly replies if the content type has the charset
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 8 - OPTIONS - correctly replies if the content type has the charset # time=4.672ms
    
    # Subtest: OPTIONS without schema - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 9 - OPTIONS without schema - correctly replies # time=4.069ms
    
    # Subtest: OPTIONS with body and querystring - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 10 - OPTIONS with body and querystring - correctly replies # time=4.092ms
    
    # Subtest: OPTIONS with no body - correctly replies
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 11 - OPTIONS with no body - correctly replies # time=15.336ms
    
    # Subtest: OPTIONS returns 415 - incorrect media type if body is not json
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 12 - OPTIONS returns 415 - incorrect media type if body is not json # time=3.379ms
    
    # Subtest: OPTIONS returns 415 - should return 415 if Content-Type is not json or plain text
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 13 - OPTIONS returns 415 - should return 415 if Content-Type is not json or plain text # time=4.683ms
    
    # Subtest: OPTIONS returns 400 - Bad Request
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 14 - OPTIONS returns 400 - Bad Request # time=6.092ms
    
    # Subtest: OPTIONS returns 413 - Payload Too Large
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 15 - OPTIONS returns 413 - Payload Too Large # time=6.162ms
    
    # Subtest: OPTIONS should fail with empty body and application/json content-type
        1..0
    ok 16 - OPTIONS should fail with empty body and application/json content-type # time=0.985ms
    
    # Subtest: OPTIONS - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - OPTIONS - correctly replies # time=4.468ms
    
    # Subtest: OPTIONS - 400 on bad parameters
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 18 - OPTIONS - 400 on bad parameters # time=4.487ms
    
    # Subtest: OPTIONS - input-validation coerce
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - OPTIONS - input-validation coerce # time=3.728ms
    
    # Subtest: OPTIONS - input-validation custom schema compiler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 20 - OPTIONS - input-validation custom schema compiler # time=4.05ms
    
    # Subtest: OPTIONS - input-validation joi schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - OPTIONS - input-validation joi schema compiler ok # time=6.278ms
    
    # Subtest: OPTIONS - input-validation joi schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 22 - OPTIONS - input-validation joi schema compiler ko # time=5.738ms
    
    # Subtest: OPTIONS - input-validation yup schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 23 - OPTIONS - input-validation yup schema compiler ok # time=5.486ms
    
    # Subtest: OPTIONS - input-validation yup schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should match pattern provided
    ok 24 - OPTIONS - input-validation yup schema compiler ko # time=5.934ms
    
    # Subtest: OPTIONS - input-validation instance custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 25 - OPTIONS - input-validation instance custom schema compiler encapsulated # time=4.076ms
    
    # Subtest: OPTIONS - input-validation custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 26 - OPTIONS - input-validation custom schema compiler encapsulated # time=3.964ms
    
    ok 27 - type is object
    ok 28 - type is Request
    ok 29 - type is object
    ok 30 - type is Request
    ok 31 - type is object
    ok 32 - type is Request
    ok 33 - type is object
    ok 34 - type is Request
    ok 35 - type is object
    ok 36 - type is Request
    1..36
    # time=445.498ms
ok 100 - test/options.error-handler.test.js # time=445.498ms

# Subtest: test/options.test.js
    # Subtest: OPTIONS can be created
        1..1
        ok 1 - (unnamed test)
    ok 1 - OPTIONS can be created # time=9.105ms
    
    # Subtest: OPTIONS without schema can be created
        1..1
        ok 1 - (unnamed test)
    ok 2 - OPTIONS without schema can be created # time=2.032ms
    
    # Subtest: OPTIONS with body and querystring
        1..1
        ok 1 - (unnamed test)
    ok 3 - OPTIONS with body and querystring # time=1.494ms
    
    # Subtest: OPTIONS with bodyLimit option
        1..1
        ok 1 - (unnamed test)
    ok 4 - OPTIONS with bodyLimit option # time=2.366ms
    
    # Subtest: OPTIONS can be created
        1..1
        ok 1 - (unnamed test)
    ok 5 - OPTIONS can be created # time=2.581ms
    
    # Subtest: OPTIONS - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 6 - OPTIONS - correctly replies # time=57.721ms
    
    # Subtest: OPTIONS - correctly replies with very large body
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 7 - OPTIONS - correctly replies with very large body # time=9.571ms
    
    # Subtest: OPTIONS - correctly replies if the content type has the charset
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 8 - OPTIONS - correctly replies if the content type has the charset # time=4.591ms
    
    # Subtest: OPTIONS without schema - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 9 - OPTIONS without schema - correctly replies # time=4.047ms
    
    # Subtest: OPTIONS with body and querystring - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 10 - OPTIONS with body and querystring - correctly replies # time=4.081ms
    
    # Subtest: OPTIONS with no body - correctly replies
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 11 - OPTIONS with no body - correctly replies # time=15.295ms
    
    # Subtest: OPTIONS returns 415 - incorrect media type if body is not json
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 12 - OPTIONS returns 415 - incorrect media type if body is not json # time=3.445ms
    
    # Subtest: OPTIONS returns 415 - should return 415 if Content-Type is not json or plain text
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 13 - OPTIONS returns 415 - should return 415 if Content-Type is not json or plain text # time=4.405ms
    
    # Subtest: OPTIONS returns 400 - Bad Request
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 14 - OPTIONS returns 400 - Bad Request # time=5.384ms
    
    # Subtest: OPTIONS returns 413 - Payload Too Large
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 15 - OPTIONS returns 413 - Payload Too Large # time=5.835ms
    
    # Subtest: OPTIONS should fail with empty body and application/json content-type
        1..0
    ok 16 - OPTIONS should fail with empty body and application/json content-type # time=0.983ms
    
    # Subtest: OPTIONS - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - OPTIONS - correctly replies # time=4.323ms
    
    # Subtest: OPTIONS - 400 on bad parameters
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 18 - OPTIONS - 400 on bad parameters # time=4.335ms
    
    # Subtest: OPTIONS - input-validation coerce
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - OPTIONS - input-validation coerce # time=3.656ms
    
    # Subtest: OPTIONS - input-validation custom schema compiler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 20 - OPTIONS - input-validation custom schema compiler # time=4.007ms
    
    # Subtest: OPTIONS - input-validation joi schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - OPTIONS - input-validation joi schema compiler ok # time=6.26ms
    
    # Subtest: OPTIONS - input-validation joi schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 22 - OPTIONS - input-validation joi schema compiler ko # time=16.682ms
    
    # Subtest: OPTIONS - input-validation yup schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 23 - OPTIONS - input-validation yup schema compiler ok # time=10.356ms
    
    # Subtest: OPTIONS - input-validation yup schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should match pattern provided
    ok 24 - OPTIONS - input-validation yup schema compiler ko # time=7.442ms
    
    # Subtest: OPTIONS - input-validation instance custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 25 - OPTIONS - input-validation instance custom schema compiler encapsulated # time=4.069ms
    
    # Subtest: OPTIONS - input-validation custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 26 - OPTIONS - input-validation custom schema compiler encapsulated # time=3.964ms
    
    1..26
    # time=457.045ms
ok 101 - test/options.test.js # time=457.045ms

# Subtest: test/output-validation.test.js
    # Subtest: shorthand - output string
        1..1
        ok 1 - (unnamed test)
    ok 1 - shorthand - output string # time=9.786ms
    
    # Subtest: shorthand - output number
        1..1
        ok 1 - (unnamed test)
    ok 2 - shorthand - output number # time=2.028ms
    
    # Subtest: wrong object for schema - output
        1..1
        ok 1 - (unnamed test)
    ok 3 - wrong object for schema - output # time=1.782ms
    
    # Subtest: empty response
        1..1
        ok 1 - (unnamed test)
    ok 4 - empty response # time=1.615ms
    
    # Subtest: unlisted response code
        1..1
        ok 1 - (unnamed test)
    ok 5 - unlisted response code # time=1.628ms
    
    ok 6 - should not error
    # Subtest: shorthand - string get ok
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 7 - shorthand - string get ok # time=42.086ms
    
    # Subtest: shorthand - number get ok
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 8 - shorthand - number get ok # time=5.895ms
    
    # Subtest: shorthand - wrong-object-for-schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 9 - shorthand - wrong-object-for-schema # time=5.51ms
    
    # Subtest: shorthand - empty
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 10 - shorthand - empty # time=3.301ms
    
    # Subtest: shorthand - 400
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 11 - shorthand - 400 # time=4.302ms
    
    1..11
    # time=151.655ms
ok 102 - test/output-validation.test.js # time=151.655ms

# Subtest: test/patch.error-handler.test.js
    # Subtest: PATCH can be created
        1..1
        ok 1 - (unnamed test)
    ok 1 - PATCH can be created # time=9.063ms
    
    # Subtest: PATCH without schema can be created
        1..1
        ok 1 - (unnamed test)
    ok 2 - PATCH without schema can be created # time=2.019ms
    
    # Subtest: PATCH with body and querystring
        1..1
        ok 1 - (unnamed test)
    ok 3 - PATCH with body and querystring # time=2.159ms
    
    # Subtest: PATCH with bodyLimit option
        1..1
        ok 1 - (unnamed test)
    ok 4 - PATCH with bodyLimit option # time=1.646ms
    
    # Subtest: PATCH can be created
        1..1
        ok 1 - (unnamed test)
    ok 5 - PATCH can be created # time=2.58ms
    
    # Subtest: PATCH - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 6 - PATCH - correctly replies # time=57.691ms
    
    # Subtest: PATCH - correctly replies with very large body
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 7 - PATCH - correctly replies with very large body # time=7.823ms
    
    # Subtest: PATCH - correctly replies if the content type has the charset
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 8 - PATCH - correctly replies if the content type has the charset # time=6.816ms
    
    # Subtest: PATCH without schema - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 9 - PATCH without schema - correctly replies # time=4.204ms
    
    # Subtest: PATCH with body and querystring - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 10 - PATCH with body and querystring - correctly replies # time=4.242ms
    
    # Subtest: PATCH with no body - correctly replies
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 11 - PATCH with no body - correctly replies # time=16.108ms
    
    # Subtest: PATCH returns 415 - incorrect media type if body is not json
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 12 - PATCH returns 415 - incorrect media type if body is not json # time=5.373ms
    
    # Subtest: PATCH returns 400 - Bad Request
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 13 - PATCH returns 400 - Bad Request # time=5.69ms
    
    # Subtest: PATCH returns 413 - Payload Too Large
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
    ok 14 - PATCH returns 413 - Payload Too Large # time=11.621ms
    
    # Subtest: PATCH should fail with empty body and application/json content-type
        1..12
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equivalent
        ok 9 - should not error
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equivalent
    ok 15 - PATCH should fail with empty body and application/json content-type # time=14.892ms
    
    # Subtest: PATCH - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 16 - PATCH - correctly replies # time=4.8ms
    
    # Subtest: PATCH - 400 on bad parameters
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - PATCH - 400 on bad parameters # time=4.838ms
    
    # Subtest: PATCH - input-validation coerce
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 18 - PATCH - input-validation coerce # time=3.825ms
    
    # Subtest: PATCH - input-validation custom schema compiler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - PATCH - input-validation custom schema compiler # time=4.804ms
    
    # Subtest: PATCH - input-validation joi schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 20 - PATCH - input-validation joi schema compiler ok # time=6.07ms
    
    # Subtest: PATCH - input-validation joi schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - PATCH - input-validation joi schema compiler ko # time=5.853ms
    
    # Subtest: PATCH - input-validation yup schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 22 - PATCH - input-validation yup schema compiler ok # time=5.526ms
    
    # Subtest: PATCH - input-validation yup schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should match pattern provided
    ok 23 - PATCH - input-validation yup schema compiler ko # time=5.909ms
    
    # Subtest: PATCH - input-validation instance custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 24 - PATCH - input-validation instance custom schema compiler encapsulated # time=4.185ms
    
    # Subtest: PATCH - input-validation custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 25 - PATCH - input-validation custom schema compiler encapsulated # time=3.967ms
    
    ok 26 - type is object
    ok 27 - type is Request
    ok 28 - type is object
    ok 29 - type is Request
    ok 30 - type is object
    ok 31 - type is Request
    ok 32 - type is object
    ok 33 - type is Request
    ok 34 - type is object
    ok 35 - type is Request
    ok 36 - type is object
    ok 37 - type is Request
    ok 38 - type is object
    ok 39 - type is Request
    ok 40 - type is object
    ok 41 - type is Request
    ok 42 - type is object
    ok 43 - type is Request
    ok 44 - type is object
    ok 45 - type is Request
    ok 46 - type is object
    ok 47 - type is Request
    ok 48 - type is object
    ok 49 - type is Request
    1..49
    # time=467.241ms
ok 103 - test/patch.error-handler.test.js # time=467.241ms

# Subtest: test/patch.test.js
    # Subtest: PATCH can be created
        1..1
        ok 1 - (unnamed test)
    ok 1 - PATCH can be created # time=9.072ms
    
    # Subtest: PATCH without schema can be created
        1..1
        ok 1 - (unnamed test)
    ok 2 - PATCH without schema can be created # time=2.032ms
    
    # Subtest: PATCH with body and querystring
        1..1
        ok 1 - (unnamed test)
    ok 3 - PATCH with body and querystring # time=1.594ms
    
    # Subtest: PATCH with bodyLimit option
        1..1
        ok 1 - (unnamed test)
    ok 4 - PATCH with bodyLimit option # time=1.685ms
    
    # Subtest: PATCH can be created
        1..1
        ok 1 - (unnamed test)
    ok 5 - PATCH can be created # time=2.634ms
    
    # Subtest: PATCH - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 6 - PATCH - correctly replies # time=57.44ms
    
    # Subtest: PATCH - correctly replies with very large body
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 7 - PATCH - correctly replies with very large body # time=9.693ms
    
    # Subtest: PATCH - correctly replies if the content type has the charset
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 8 - PATCH - correctly replies if the content type has the charset # time=4.625ms
    
    # Subtest: PATCH without schema - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 9 - PATCH without schema - correctly replies # time=4.774ms
    
    # Subtest: PATCH with body and querystring - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 10 - PATCH with body and querystring - correctly replies # time=4.056ms
    
    # Subtest: PATCH with no body - correctly replies
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 11 - PATCH with no body - correctly replies # time=15.336ms
    
    # Subtest: PATCH returns 415 - incorrect media type if body is not json
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 12 - PATCH returns 415 - incorrect media type if body is not json # time=4.715ms
    
    # Subtest: PATCH returns 400 - Bad Request
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 13 - PATCH returns 400 - Bad Request # time=5.35ms
    
    # Subtest: PATCH returns 413 - Payload Too Large
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
    ok 14 - PATCH returns 413 - Payload Too Large # time=11.463ms
    
    # Subtest: PATCH should fail with empty body and application/json content-type
        1..12
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equivalent
        ok 9 - should not error
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equivalent
    ok 15 - PATCH should fail with empty body and application/json content-type # time=14.64ms
    
    # Subtest: PATCH - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 16 - PATCH - correctly replies # time=4.503ms
    
    # Subtest: PATCH - 400 on bad parameters
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - PATCH - 400 on bad parameters # time=4.535ms
    
    # Subtest: PATCH - input-validation coerce
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 18 - PATCH - input-validation coerce # time=3.75ms
    
    # Subtest: PATCH - input-validation custom schema compiler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - PATCH - input-validation custom schema compiler # time=4.053ms
    
    # Subtest: PATCH - input-validation joi schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 20 - PATCH - input-validation joi schema compiler ok # time=6.027ms
    
    # Subtest: PATCH - input-validation joi schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - PATCH - input-validation joi schema compiler ko # time=5.737ms
    
    # Subtest: PATCH - input-validation yup schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 22 - PATCH - input-validation yup schema compiler ok # time=5.458ms
    
    # Subtest: PATCH - input-validation yup schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should match pattern provided
    ok 23 - PATCH - input-validation yup schema compiler ko # time=5.826ms
    
    # Subtest: PATCH - input-validation instance custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 24 - PATCH - input-validation instance custom schema compiler encapsulated # time=4.705ms
    
    # Subtest: PATCH - input-validation custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 25 - PATCH - input-validation custom schema compiler encapsulated # time=3.953ms
    
    1..25
    # time=457.162ms
ok 104 - test/patch.test.js # time=457.162ms

# Subtest: test/plugin.1.test.js
    # Subtest: require a plugin
        1..1
        ok 1 - expect truthy value
    ok 1 - require a plugin # time=37.374ms
    
    # Subtest: plugin metadata - ignore prefix
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 2 - plugin metadata - ignore prefix # time=23.19ms
    
    # Subtest: plugin metadata - naming plugins
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 3 - plugin metadata - naming plugins # time=6.166ms
    
    # Subtest: fastify.register with fastify-plugin should not encapsulate his code
        1..10
        ok 1 - expect falsey value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - should not error
        ok 6 - expect truthy value
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equivalent
    ok 4 - fastify.register with fastify-plugin should not encapsulate his code # time=59.868ms
    
    # Subtest: fastify.register with fastify-plugin should provide access to external fastify instance if opts argument is a function
        1..22
        ok 1 - expect falsey value
        ok 2 - expect falsey value
        ok 3 - expect falsey value
        ok 4 - expect truthy value
        ok 5 - expect falsey value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect falsey value
        ok 10 - expect truthy value
        ok 11 - expect falsey value
        ok 12 - expect truthy value
        ok 13 - expect truthy value
        ok 14 - should be equal
        ok 15 - expect falsey value
        ok 16 - expect falsey value
        ok 17 - should not error
        ok 18 - expect truthy value
        ok 19 - should not error
        ok 20 - should be equal
        ok 21 - should be equal
        ok 22 - should be equivalent
    ok 5 - fastify.register with fastify-plugin should provide access to external fastify instance if opts argument is a function # time=27.492ms
    
    # Subtest: fastify.register with fastify-plugin registers fastify level plugins
        1..15
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - should not error
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
        ok 12 - should not error
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equivalent
    ok 6 - fastify.register with fastify-plugin registers fastify level plugins # time=32.485ms
    
    1..6
    # time=203.454ms
ok 105 - test/plugin.1.test.js # time=203.454ms

# Subtest: test/plugin.2.test.js
    # Subtest: check dependencies - should not throw
        1..12
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - expect falsey value
        ok 6 - should not error
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equivalent
    ok 1 - check dependencies - should not throw # time=86.146ms
    
    # Subtest: check dependencies - should throw
        1..12
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - expect falsey value
        ok 6 - should not error
        ok 7 - expect truthy value
        ok 8 - expect falsey value
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equivalent
    ok 2 - check dependencies - should throw # time=16.023ms
    
    # Subtest: set the plugin name based on the plugin displayName symbol
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
    ok 3 - set the plugin name based on the plugin displayName symbol # time=24.315ms
    
    # Subtest: plugin name will change when using no encapsulation
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
    ok 4 - plugin name will change when using no encapsulation # time=15.506ms
    
    # Subtest: plugin name is undefined when accessing in no plugin context
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 5 - plugin name is undefined when accessing in no plugin context # time=4.429ms
    
    # Subtest: set the plugin name based on the plugin function name
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
    ok 6 - set the plugin name based on the plugin function name # time=9.619ms
    
    # Subtest: approximate a plugin name when no meta data is available
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
    ok 7 - approximate a plugin name when no meta data is available # time=7.684ms
    
    # Subtest: approximate a plugin name also when fastify-plugin has no meta data
        1..4
        ok 1 - should match pattern provided
        ok 2 - should match pattern provided
        ok 3 - should match pattern provided
        ok 4 - should not error
    ok 8 - approximate a plugin name also when fastify-plugin has no meta data # time=17.93ms
    
    # Subtest: plugin encapsulation
        1..10
        ok 1 - expect falsey value
        ok 2 - should not error
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equivalent
    ok 9 - plugin encapsulation # time=23.5ms
    
    1..9
    # time=223.578ms
ok 106 - test/plugin.2.test.js # time=223.578ms

# Subtest: test/plugin.3.test.js
    # Subtest: if a plugin raises an error and there is not a callback to handle it, the server must not start
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 1 - if a plugin raises an error and there is not a callback to handle it, the server must not start # time=43.799ms
    
    # Subtest: add hooks after route declaration
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 2 - add hooks after route declaration # time=43.355ms
    
    # Subtest: nested plugins
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
    ok 3 - nested plugins # time=21.212ms
    
    # Subtest: nested plugins awaited
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
    ok 4 - nested plugins awaited # time=12.579ms
    
    # Subtest: plugin metadata - decorators
        1..1
        ok 1 - expect truthy value
    ok 5 - plugin metadata - decorators # time=12.938ms
    
    # Subtest: plugin metadata - decorators - should throw
        1..1
        ok 1 - should be equal
    ok 6 - plugin metadata - decorators - should throw # time=6.669ms
    
    # Subtest: plugin metadata - decorators - should throw with plugin name
        1..1
        ok 1 - should be equal
    ok 7 - plugin metadata - decorators - should throw with plugin name # time=8.492ms
    
    # Subtest: plugin metadata - dependencies
        1..1
        ok 1 - everything right
    ok 8 - plugin metadata - dependencies # time=4.894ms
    
    # Subtest: plugin metadata - dependencies (nested)
        1..1
        ok 1 - everything right
    ok 9 - plugin metadata - dependencies (nested) # time=8.163ms
    
    1..9
    # time=178.454ms
ok 107 - test/plugin.3.test.js # time=178.454ms

# Subtest: test/plugin.4.test.js
    # Subtest: pluginTimeout
        1..5
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - expect truthy value
        ok 5 - should be equal
    ok 1 - pluginTimeout # time=64.565ms
    
    # Subtest: pluginTimeout - named function
        1..5
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - expect truthy value
        ok 5 - should be equal
    ok 2 - pluginTimeout - named function # time=16.03ms
    
    # Subtest: pluginTimeout default
        1..5
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - expect truthy value
        ok 5 - should be equal
    ok 3 - pluginTimeout default # time=-1145993.035ms
    
    # Subtest: plugin metadata - version
        1..1
        ok 1 - everything right
    ok 4 - plugin metadata - version # time=15.542ms
    
    # Subtest: plugin metadata - version range
        1..1
        ok 1 - everything right
    ok 5 - plugin metadata - version range # time=6.514ms
    
    # Subtest: plugin metadata - version not matching requirement
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 6 - plugin metadata - version not matching requirement # time=3.455ms
    
    # Subtest: plugin metadata - version not matching requirement 2
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 7 - plugin metadata - version not matching requirement 2 # time=10.72ms
    
    # Subtest: plugin metadata - version not matching requirement 3
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 8 - plugin metadata - version not matching requirement 3 # time=6.166ms
    
    # Subtest: plugin metadata - release candidate
        1..2
        ok 1 - should not error
        ok 2 - everything right
    ok 9 - plugin metadata - release candidate # time=11.257ms
    
    # Subtest: fastify-rc loads prior version plugins
        1..2
        ok 1 - should not error
        ok 2 - everything right
    ok 10 - fastify-rc loads prior version plugins # time=5.227ms
    
    # Subtest: hasPlugin method exists as a function
        1..1
        ok 1 - should be equal
    ok 11 - hasPlugin method exists as a function # time=2.613ms
    
    # Subtest: hasPlugin returns true if the specified plugin has been registered
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
    ok 12 - hasPlugin returns true if the specified plugin has been registered # time=5.683ms
    
    # Subtest: hasPlugin returns false if the specified plugin has not been registered
        1..1
        ok 1 - expect falsey value
    ok 13 - hasPlugin returns false if the specified plugin has not been registered # time=2.17ms
    
    # Subtest: hasPlugin returns false when using encapsulation
        1..25
        ok 1 - expect truthy value
        ok 2 - expect falsey value
        ok 3 - expect falsey value
        ok 4 - expect falsey value
        ok 5 - expect falsey value
        ok 6 - expect falsey value
        ok 7 - expect truthy value
        ok 8 - expect falsey value
        ok 9 - expect falsey value
        ok 10 - expect falsey value
        ok 11 - expect falsey value
        ok 12 - expect falsey value
        ok 13 - expect truthy value
        ok 14 - expect falsey value
        ok 15 - expect falsey value
        ok 16 - expect falsey value
        ok 17 - expect falsey value
        ok 18 - expect falsey value
        ok 19 - expect truthy value
        ok 20 - expect falsey value
        ok 21 - expect falsey value
        ok 22 - expect falsey value
        ok 23 - expect falsey value
        ok 24 - expect falsey value
        ok 25 - expect truthy value
    ok 14 - hasPlugin returns false when using encapsulation # time=31.35ms
    
    # Subtest: hasPlugin returns true when using no encapsulation
        1..26
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - expect falsey value
        ok 5 - expect falsey value
        ok 6 - expect falsey value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect falsey value
        ok 10 - expect falsey value
        ok 11 - expect falsey value
        ok 12 - expect truthy value
        ok 13 - expect truthy value
        ok 14 - expect truthy value
        ok 15 - expect falsey value
        ok 16 - expect falsey value
        ok 17 - expect truthy value
        ok 18 - expect truthy value
        ok 19 - expect truthy value
        ok 20 - expect truthy value
        ok 21 - expect falsey value
        ok 22 - expect truthy value
        ok 23 - expect truthy value
        ok 24 - expect truthy value
        ok 25 - expect truthy value
        ok 26 - expect truthy value
    ok 15 - hasPlugin returns true when using no encapsulation # time=20.868ms
    
    # Subtest: hasPlugin returns true when using encapsulation
        1..2
        ok 1 - expect truthy value
        ok 2 - expect truthy value
    ok 16 - hasPlugin returns true when using encapsulation # time=4.885ms
    
    # Subtest: registering plugins with mixed style should return a warning
        1..12
        ok 1 - should match pattern provided
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should match pattern provided
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should match pattern provided
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should match pattern provided
        ok 11 - should be equal
        ok 12 - should be equal
    ok 17 - registering plugins with mixed style should return a warning # time=45.631ms
    
    1..17
    # time=300.166ms
ok 108 - test/plugin.4.test.js # time=300.166ms

# Subtest: test/post-empty-body.test.js
    # Subtest: post empty body
        ok 1 - should be equal
        ok 2 - should be equal
        1..2
    ok 1 - post empty body # time=117.302ms
    
    1..1
    # time=149.538ms
ok 109 - test/post-empty-body.test.js # time=149.538ms

# Subtest: test/pretty-print.test.js
    # Subtest: pretty print - static routes
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 1 - pretty print - static routes # time=47.98ms
    
    # Subtest: pretty print - internal tree - static routes
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 2 - pretty print - internal tree - static routes # time=6.984ms
    
    # Subtest: pretty print - parametric routes
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 3 - pretty print - parametric routes # time=5.106ms
    
    # Subtest: pretty print - internal tree - parametric routes
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 4 - pretty print - internal tree - parametric routes # time=14.249ms
    
    # Subtest: pretty print - mixed parametric routes
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 5 - pretty print - mixed parametric routes # time=12.469ms
    
    # Subtest: pretty print - wildcard routes
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 6 - pretty print - wildcard routes # time=6.575ms
    
    # Subtest: pretty print - internal tree - wildcard routes
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 7 - pretty print - internal tree - wildcard routes # time=11.132ms
    
    # Subtest: pretty print - empty plugins
        1..2
        ok 1 - should be equal
        ok 2 - should match pattern provided
    ok 8 - pretty print - empty plugins # time=13.502ms
    
    # Subtest: pretty print - nested plugins
        1..4
        ok 1 - should be equal
        ok 2 - should match pattern provided
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
    ok 9 - pretty print - nested plugins # time=10.618ms
    
    # Subtest: pretty print - commonPrefix
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 10 - pretty print - commonPrefix # time=6.423ms
    
    # Subtest: pretty print - includeMeta, includeHooks
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 11 - pretty print - includeMeta, includeHooks # time=19.217ms
    
    1..11
    # time=192.786ms
ok 110 - test/pretty-print.test.js # time=192.786ms

# Subtest: test/promises.test.js
    ok 1 - should not error
    # Subtest: shorthand - sget return promise es6 get
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 2 - shorthand - sget return promise es6 get # time=38.987ms
    
    # Subtest: shorthand - sget promise es6 get return error
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 3 - shorthand - sget promise es6 get return error # time=6.312ms
    
    # Subtest: sget promise double send
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 4 - sget promise double send # time=4.264ms
    
    # Subtest: thenable
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 5 - thenable # time=5.597ms
    
    # Subtest: thenable (error)
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 6 - thenable (error) # time=3.389ms
    
    # Subtest: return-reply
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 7 - return-reply # time=4.957ms
    
    1..7
    # time=93.994ms
ok 111 - test/promises.test.js # time=93.994ms

# Subtest: test/propfind.test.js
    # Subtest: can be created - propfind
        1..1
        ok 1 - (unnamed test)
    ok 1 - can be created - propfind # time=9.224ms
    
    ok 2 - should not error
    # Subtest: request - propfind
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 3 - request - propfind # time=26.123ms
    
    # Subtest: request with other path - propfind
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 4 - request with other path - propfind # time=4.937ms
    
    # Subtest: request with body - propfind
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 5 - request with body - propfind # time=3.988ms
    
    1..5
    # time=76.05ms
ok 112 - test/propfind.test.js # time=76.05ms

# Subtest: test/proppatch.test.js
    # Subtest: shorthand - proppatch
        1..1
        ok 1 - (unnamed test)
    ok 1 - shorthand - proppatch # time=9.404ms
    
    ok 2 - should not error
    # Subtest: request - proppatch
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 3 - request - proppatch # time=23.228ms
    
    1..3
    # time=62.179ms
ok 113 - test/proppatch.test.js # time=62.179ms

# Subtest: test/proto-poisoning.test.js
    # Subtest: proto-poisoning error
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 1 - proto-poisoning error # time=63.326ms
    
    # Subtest: proto-poisoning remove
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 2 - proto-poisoning remove # time=9.984ms
    
    # Subtest: proto-poisoning ignore
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 3 - proto-poisoning ignore # time=18.36ms
    
    # Subtest: constructor-poisoning error (default in v3)
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 4 - constructor-poisoning error (default in v3) # time=32.761ms
    
    # Subtest: constructor-poisoning error
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 5 - constructor-poisoning error # time=16.541ms
    
    # Subtest: constructor-poisoning remove
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 6 - constructor-poisoning remove # time=6.758ms
    
    1..6
    # time=161.946ms
ok 114 - test/proto-poisoning.test.js # time=161.946ms

# Subtest: test/put.error-handler.test.js
    # Subtest: PUT can be created
        1..1
        ok 1 - (unnamed test)
    ok 1 - PUT can be created # time=9.078ms
    
    # Subtest: PUT without schema can be created
        1..1
        ok 1 - (unnamed test)
    ok 2 - PUT without schema can be created # time=2.079ms
    
    # Subtest: PUT with body and querystring
        1..1
        ok 1 - (unnamed test)
    ok 3 - PUT with body and querystring # time=1.485ms
    
    # Subtest: PUT with bodyLimit option
        1..1
        ok 1 - (unnamed test)
    ok 4 - PUT with bodyLimit option # time=1.736ms
    
    # Subtest: PUT can be created
        1..1
        ok 1 - (unnamed test)
    ok 5 - PUT can be created # time=2.606ms
    
    # Subtest: PUT - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 6 - PUT - correctly replies # time=56.818ms
    
    # Subtest: PUT - correctly replies with very large body
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 7 - PUT - correctly replies with very large body # time=9.471ms
    
    # Subtest: PUT - correctly replies if the content type has the charset
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 8 - PUT - correctly replies if the content type has the charset # time=4.643ms
    
    # Subtest: PUT without schema - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 9 - PUT without schema - correctly replies # time=4.137ms
    
    # Subtest: PUT with body and querystring - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 10 - PUT with body and querystring - correctly replies # time=4.143ms
    
    # Subtest: PUT with no body - correctly replies
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 11 - PUT with no body - correctly replies # time=15.339ms
    
    # Subtest: PUT returns 415 - incorrect media type if body is not json
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 12 - PUT returns 415 - incorrect media type if body is not json # time=4.998ms
    
    # Subtest: PUT returns 400 - Bad Request
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 13 - PUT returns 400 - Bad Request # time=5.431ms
    
    # Subtest: PUT returns 413 - Payload Too Large
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
    ok 14 - PUT returns 413 - Payload Too Large # time=11.266ms
    
    # Subtest: PUT should fail with empty body and application/json content-type
        1..12
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equivalent
        ok 9 - should not error
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equivalent
    ok 15 - PUT should fail with empty body and application/json content-type # time=14.605ms
    
    # Subtest: PUT - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 16 - PUT - correctly replies # time=4.647ms
    
    # Subtest: PUT - 400 on bad parameters
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - PUT - 400 on bad parameters # time=4.584ms
    
    # Subtest: PUT - input-validation coerce
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 18 - PUT - input-validation coerce # time=4.268ms
    
    # Subtest: PUT - input-validation custom schema compiler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - PUT - input-validation custom schema compiler # time=4.092ms
    
    # Subtest: PUT - input-validation joi schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 20 - PUT - input-validation joi schema compiler ok # time=5.935ms
    
    # Subtest: PUT - input-validation joi schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - PUT - input-validation joi schema compiler ko # time=5.799ms
    
    # Subtest: PUT - input-validation yup schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 22 - PUT - input-validation yup schema compiler ok # time=5.53ms
    
    # Subtest: PUT - input-validation yup schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should match pattern provided
    ok 23 - PUT - input-validation yup schema compiler ko # time=5.903ms
    
    # Subtest: PUT - input-validation instance custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 24 - PUT - input-validation instance custom schema compiler encapsulated # time=4.234ms
    
    # Subtest: PUT - input-validation custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 25 - PUT - input-validation custom schema compiler encapsulated # time=4.051ms
    
    ok 26 - type is object
    ok 27 - type is Request
    ok 28 - type is object
    ok 29 - type is Request
    ok 30 - type is object
    ok 31 - type is Request
    ok 32 - type is object
    ok 33 - type is Request
    ok 34 - type is object
    ok 35 - type is Request
    ok 36 - type is object
    ok 37 - type is Request
    ok 38 - type is object
    ok 39 - type is Request
    ok 40 - type is object
    ok 41 - type is Request
    ok 42 - type is object
    ok 43 - type is Request
    ok 44 - type is object
    ok 45 - type is Request
    ok 46 - type is object
    ok 47 - type is Request
    ok 48 - type is object
    ok 49 - type is Request
    1..49
    # time=461.816ms
ok 115 - test/put.error-handler.test.js # time=461.816ms

# Subtest: test/put.test.js
    # Subtest: PUT can be created
        1..1
        ok 1 - (unnamed test)
    ok 1 - PUT can be created # time=9.083ms
    
    # Subtest: PUT without schema can be created
        1..1
        ok 1 - (unnamed test)
    ok 2 - PUT without schema can be created # time=2.155ms
    
    # Subtest: PUT with body and querystring
        1..1
        ok 1 - (unnamed test)
    ok 3 - PUT with body and querystring # time=1.511ms
    
    # Subtest: PUT with bodyLimit option
        1..1
        ok 1 - (unnamed test)
    ok 4 - PUT with bodyLimit option # time=1.718ms
    
    # Subtest: PUT can be created
        1..1
        ok 1 - (unnamed test)
    ok 5 - PUT can be created # time=2.66ms
    
    # Subtest: PUT - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 6 - PUT - correctly replies # time=57.589ms
    
    # Subtest: PUT - correctly replies with very large body
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 7 - PUT - correctly replies with very large body # time=8.169ms
    
    # Subtest: PUT - correctly replies if the content type has the charset
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 8 - PUT - correctly replies if the content type has the charset # time=7.686ms
    
    # Subtest: PUT without schema - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 9 - PUT without schema - correctly replies # time=4.311ms
    
    # Subtest: PUT with body and querystring - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 10 - PUT with body and querystring - correctly replies # time=4.281ms
    
    # Subtest: PUT with no body - correctly replies
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 11 - PUT with no body - correctly replies # time=19.31ms
    
    # Subtest: PUT returns 415 - incorrect media type if body is not json
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 12 - PUT returns 415 - incorrect media type if body is not json # time=4.784ms
    
    # Subtest: PUT returns 400 - Bad Request
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 13 - PUT returns 400 - Bad Request # time=5.323ms
    
    # Subtest: PUT returns 413 - Payload Too Large
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
    ok 14 - PUT returns 413 - Payload Too Large # time=11.197ms
    
    # Subtest: PUT should fail with empty body and application/json content-type
        1..12
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equivalent
        ok 9 - should not error
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equivalent
    ok 15 - PUT should fail with empty body and application/json content-type # time=14.97ms
    
    # Subtest: PUT - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 16 - PUT - correctly replies # time=4.609ms
    
    # Subtest: PUT - 400 on bad parameters
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - PUT - 400 on bad parameters # time=4.535ms
    
    # Subtest: PUT - input-validation coerce
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 18 - PUT - input-validation coerce # time=3.836ms
    
    # Subtest: PUT - input-validation custom schema compiler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - PUT - input-validation custom schema compiler # time=4.227ms
    
    # Subtest: PUT - input-validation joi schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 20 - PUT - input-validation joi schema compiler ok # time=6.048ms
    
    # Subtest: PUT - input-validation joi schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - PUT - input-validation joi schema compiler ko # time=5.928ms
    
    # Subtest: PUT - input-validation yup schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 22 - PUT - input-validation yup schema compiler ok # time=5.6ms
    
    # Subtest: PUT - input-validation yup schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should match pattern provided
    ok 23 - PUT - input-validation yup schema compiler ko # time=5.894ms
    
    # Subtest: PUT - input-validation instance custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 24 - PUT - input-validation instance custom schema compiler encapsulated # time=4.228ms
    
    # Subtest: PUT - input-validation custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 25 - PUT - input-validation custom schema compiler encapsulated # time=4.037ms
    
    1..25
    # time=462.03ms
ok 116 - test/put.test.js # time=462.03ms

# Subtest: test/register.test.js
    # Subtest: register
        1..17
        ok 1 - should not be equal
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not be equal
        ok 6 - expect truthy value
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should not error
        ok 10 - should not error
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equivalent
        ok 14 - should not error
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equivalent
    ok 1 - register # time=84.428ms
    
    # Subtest: internal route declaration should pass the error generated by the register to the done handler / 1
        1..1
        ok 1 - should be equal
    ok 2 - internal route declaration should pass the error generated by the register to the done handler / 1 # time=5.783ms
    
    # Subtest: internal route declaration should pass the error generated by the register to the done handler / 2
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 3 - internal route declaration should pass the error generated by the register to the done handler / 2 # time=16.804ms
    
    # Subtest: awaitable register and after
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        1..3
    ok 4 - awaitable register and after # time=13.212ms
    
    # Subtest: awaitable register error handling
        ok 1 - expect rejected Promise: Error kaboom
        ok 2 - expect rejected Promise: Error kaboom
        ok 3 - expect rejected Promise: Error kaboom
        1..3
    ok 5 - awaitable register error handling # time=13.916ms
    
    # Subtest: awaitable after error handling
        ok 1 - expect rejected Promise: Error kaboom
        ok 2 - expect rejected Promise
        1..2
    ok 6 - awaitable after error handling # time=9.674ms
    
    # Subtest: chainable register
        1..3
        ok 1 - first loaded
        ok 2 - second loaded
        ok 3 - third loaded
    ok 7 - chainable register # time=13.426ms
    
    1..7
    # time=182.656ms
ok 117 - test/register.test.js # time=182.656ms

# Subtest: test/reply-code.test.js
    # Subtest: code should handle null/undefined/float
        1..8
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
    ok 1 - code should handle null/undefined/float # time=60.1ms
    
    # Subtest: code should handle 204
        1..13
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - stream ended
    ok 2 - code should handle 204 # time=12.577ms
    
    # Subtest: code should handle onSend hook on 204
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
    ok 3 - code should handle onSend hook on 204 # time=6.788ms
    
    1..3
    # time=88.367ms
ok 118 - test/reply-code.test.js # time=88.367ms

# Subtest: test/reply-error.test.js
    # Subtest: Reply error handling - code: 400
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - Reply error handling - code: 400 # time=141.169ms
    
    # Subtest: Reply error handling - code: 401
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 2 - Reply error handling - code: 401 # time=5.851ms
    
    # Subtest: Reply error handling - code: 402
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 3 - Reply error handling - code: 402 # time=13.653ms
    
    # Subtest: Reply error handling - code: 403
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 4 - Reply error handling - code: 403 # time=9.02ms
    
    # Subtest: Reply error handling - code: 404
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 5 - Reply error handling - code: 404 # time=9.181ms
    
    # Subtest: Reply error handling - code: 405
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 6 - Reply error handling - code: 405 # time=8.364ms
    
    # Subtest: Reply error handling - code: 406
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 7 - Reply error handling - code: 406 # time=9.626ms
    
    # Subtest: Reply error handling - code: 407
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 8 - Reply error handling - code: 407 # time=13.501ms
    
    # Subtest: Reply error handling - code: 408
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 9 - Reply error handling - code: 408 # time=9.952ms
    
    # Subtest: Reply error handling - code: 409
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 10 - Reply error handling - code: 409 # time=9.194ms
    
    # Subtest: Reply error handling - code: 410
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 11 - Reply error handling - code: 410 # time=13.266ms
    
    # Subtest: Reply error handling - code: 411
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 12 - Reply error handling - code: 411 # time=7.446ms
    
    # Subtest: Reply error handling - code: 412
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 13 - Reply error handling - code: 412 # time=15.008ms
    
    # Subtest: Reply error handling - code: 413
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 14 - Reply error handling - code: 413 # time=11.418ms
    
    # Subtest: Reply error handling - code: 414
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 15 - Reply error handling - code: 414 # time=15.966ms
    
    # Subtest: Reply error handling - code: 415
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 16 - Reply error handling - code: 415 # time=11.753ms
    
    # Subtest: Reply error handling - code: 416
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 17 - Reply error handling - code: 416 # time=4.811ms
    
    # Subtest: Reply error handling - code: 417
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 18 - Reply error handling - code: 417 # time=12.929ms
    
    # Subtest: Reply error handling - code: 418
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 19 - Reply error handling - code: 418 # time=8.812ms
    
    # Subtest: Reply error handling - code: 421
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 20 - Reply error handling - code: 421 # time=8.776ms
    
    # Subtest: Reply error handling - code: 422
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 21 - Reply error handling - code: 422 # time=8.019ms
    
    # Subtest: Reply error handling - code: 423
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 22 - Reply error handling - code: 423 # time=4.458ms
    
    # Subtest: Reply error handling - code: 424
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 23 - Reply error handling - code: 424 # time=4.274ms
    
    # Subtest: Reply error handling - code: 425
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 24 - Reply error handling - code: 425 # time=4.433ms
    
    # Subtest: Reply error handling - code: 426
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 25 - Reply error handling - code: 426 # time=4.406ms
    
    # Subtest: Reply error handling - code: 428
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 26 - Reply error handling - code: 428 # time=5.003ms
    
    # Subtest: Reply error handling - code: 429
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 27 - Reply error handling - code: 429 # time=13.698ms
    
    # Subtest: Reply error handling - code: 431
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 28 - Reply error handling - code: 431 # time=5.757ms
    
    # Subtest: Reply error handling - code: 451
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 29 - Reply error handling - code: 451 # time=4.273ms
    
    # Subtest: Reply error handling - code: 500
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 30 - Reply error handling - code: 500 # time=5.104ms
    
    # Subtest: Reply error handling - code: 501
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 31 - Reply error handling - code: 501 # time=8.896ms
    
    # Subtest: Reply error handling - code: 502
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 32 - Reply error handling - code: 502 # time=8.187ms
    
    # Subtest: Reply error handling - code: 503
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 33 - Reply error handling - code: 503 # time=4.837ms
    
    # Subtest: Reply error handling - code: 504
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 34 - Reply error handling - code: 504 # time=5.616ms
    
    # Subtest: Reply error handling - code: 505
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 35 - Reply error handling - code: 505 # time=4.246ms
    
    # Subtest: Reply error handling - code: 506
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 36 - Reply error handling - code: 506 # time=4.245ms
    
    # Subtest: Reply error handling - code: 507
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 37 - Reply error handling - code: 507 # time=4.261ms
    
    # Subtest: Reply error handling - code: 508
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 38 - Reply error handling - code: 508 # time=8.403ms
    
    # Subtest: Reply error handling - code: 509
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 39 - Reply error handling - code: 509 # time=4.189ms
    
    # Subtest: Reply error handling - code: 510
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 40 - Reply error handling - code: 510 # time=17.912ms
    
    # Subtest: Reply error handling - code: 511
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 41 - Reply error handling - code: 511 # time=8.333ms
    
    # Subtest: preHandler hook error handling with external code
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 42 - preHandler hook error handling with external code # time=10.07ms
    
    # Subtest: onRequest hook error handling with external done
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 43 - onRequest hook error handling with external done # time=4.54ms
    
    # Subtest: Should reply 400 on client error
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 44 - Should reply 400 on client error # time=42.007ms
    
    # Subtest: Should set the response from client error handler
        1..5
        ok 1 - should not error
        ok 2 - type is Error
        ok 3 - should be equal
        ok 4 - Log level is not warn
        ok 5 - should be equal
    ok 45 - Should set the response from client error handler # time=27.171ms
    
    # Subtest: Error instance sets HTTP status code
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 46 - Error instance sets HTTP status code # time=5.561ms
    
    # Subtest: Error status code below 400 defaults to 500
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 47 - Error status code below 400 defaults to 500 # time=4.459ms
    
    # Subtest: Error.status property support
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 48 - Error.status property support # time=4.228ms
    
    # Subtest: Support rejection with values that are not Error instances
        1..11
        # Subtest: Type: number
            1..4
            ok 1 - should be equal
            ok 2 - should not error
            ok 3 - should be equal
            ok 4 - should be equal
        ok 1 - Type: number # time=18.04ms
        
        # Subtest: Type: string
            1..4
            ok 1 - should be equal
            ok 2 - should not error
            ok 3 - should be equal
            ok 4 - should be equal
        ok 2 - Type: string # time=4.236ms
        
        # Subtest: Type: object
            1..4
            ok 1 - should be equivalent
            ok 2 - should not error
            ok 3 - should be equal
            ok 4 - should be equal
        ok 3 - Type: object # time=4.746ms
        
        # Subtest: Type: object
            1..4
            ok 1 - should be equivalent
            ok 2 - should not error
            ok 3 - should be equal
            ok 4 - should be equal
        ok 4 - Type: object # time=7.939ms
        
        # Subtest: Type: object
            1..4
            ok 1 - should be equivalent
            ok 2 - should not error
            ok 3 - should be equal
            ok 4 - should be equal
        ok 5 - Type: object # time=4.137ms
        
        # Subtest: Type: undefined
            1..4
            ok 1 - should be equal
            ok 2 - should not error
            ok 3 - should be equal
            ok 4 - should be equal
        ok 6 - Type: undefined # time=4.245ms
        
        # Subtest: Type: number
            1..4
            ok 1 - should be equal
            ok 2 - should not error
            ok 3 - should be equal
            ok 4 - should be equal
        ok 7 - Type: number # time=4.055ms
        
        # Subtest: Type: string
            1..4
            ok 1 - should be equal
            ok 2 - should not error
            ok 3 - should be equal
            ok 4 - should be equal
        ok 8 - Type: string # time=3.994ms
        
        # Subtest: Type: object
            1..4
            ok 1 - should be equivalent
            ok 2 - should not error
            ok 3 - should be equal
            ok 4 - should be equal
        ok 9 - Type: object # time=4.37ms
        
        # Subtest: Type: object
            1..4
            ok 1 - should be equivalent
            ok 2 - should not error
            ok 3 - should be equal
            ok 4 - should be equal
        ok 10 - Type: object # time=4.262ms
        
        # Subtest: Type: object
            1..4
            ok 1 - should be equivalent
            ok 2 - should not error
            ok 3 - should be equal
            ok 4 - should be equal
        ok 11 - Type: object # time=4.299ms
        
    ok 49 - Support rejection with values that are not Error instances # time=78.045ms
    
    # Subtest: invalid schema - ajv
        1..4
        ok 1 - expect truthy value
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 50 - invalid schema - ajv # time=68.31ms
    
    # Subtest: should set the status code and the headers from the error object (from route handler) (no custom error handler)
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 51 - should set the status code and the headers from the error object (from route handler) (no custom error handler) # time=9.398ms
    
    # Subtest: should set the status code and the headers from the error object (from custom error handler)
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 52 - should set the status code and the headers from the error object (from custom error handler) # time=10.38ms
    
    # Subtest: '*' should throw an error due to serializer can not handle the payload type
        1..3
        ok 1 - type is TypeError
        ok 2 - should be equal
        ok 3 - should be equal
    ok 53 - '*' should throw an error due to serializer can not handle the payload type # time=4.367ms
    
    # Subtest: should throw an error if the custom serializer does not serialize the payload to a valid type
        1..3
        ok 1 - type is TypeError
        ok 2 - should be equal
        ok 3 - should be equal
    ok 54 - should throw an error if the custom serializer does not serialize the payload to a valid type # time=3.964ms
    
    # Subtest: should not set headers or status code for custom error handler
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 55 - should not set headers or status code for custom error handler # time=6.398ms
    
    # Subtest: error thrown by custom error handler routes to default error handler
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 56 - error thrown by custom error handler routes to default error handler # time=5.808ms
    
    # Subtest: allow re-thrown error to default error handler when route handler is async and error handler is sync
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 57 - allow re-thrown error to default error handler when route handler is async and error handler is sync # time=4.77ms
    
    # Subtest: should throw error if error code is undefined
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 58 - should throw error if error code is undefined # time=8.097ms
    
    # Subtest: should throw error if error code is null
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 59 - should throw error if error code is null # time=3.021ms
    
    # Subtest: should throw error if error code is error_code
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 60 - should throw error if error code is error_code # time=3.213ms
    
    # Subtest: should throw error if error code is 0
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 61 - should throw error if error code is 0 # time=2.993ms
    
    # Subtest: should throw error if error code is 1
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 62 - should throw error if error code is 1 # time=3.163ms
    
    # Subtest: should throw error if error code is 99
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 63 - should throw error if error code is 99 # time=2.997ms
    
    # Subtest: should throw error if error code is 600
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 64 - should throw error if error code is 600 # time=3.2ms
    
    # Subtest: should throw error if error code is 700
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 65 - should throw error if error code is 700 # time=6.663ms
    
    # Subtest: error handler is triggered when a string is thrown from sync handler
        1..3
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
    ok 66 - error handler is triggered when a string is thrown from sync handler # time=3.946ms
    
    # Subtest: status code should be set to 500 and return an error json payload if route handler throws any non Error object expression
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 67 - status code should be set to 500 and return an error json payload if route handler throws any non Error object expression # time=4.321ms
    
    # Subtest: should preserve the status code set by the user if an expression is thrown in a sync route
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 68 - should preserve the status code set by the user if an expression is thrown in a sync route # time=3.504ms
    
    # Subtest: should trigger error handlers if a sync route throws any non-error object
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 69 - should trigger error handlers if a sync route throws any non-error object # time=3.524ms
    
    # Subtest: should trigger error handlers if a sync route throws undefined
        1..1
        ok 1 - should be equal
    ok 70 - should trigger error handlers if a sync route throws undefined # time=8.311ms
    
    # Subtest: setting content-type on reply object should not hang the server case 1
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 71 - setting content-type on reply object should not hang the server case 1 # time=3.74ms
    
    # Subtest: setting content-type on reply object should not hang the server case 2
        1..1
        ok 1 - should be equivalent
    ok 72 - setting content-type on reply object should not hang the server case 2 # time=3.738ms
    
    # Subtest: setting content-type on reply object should not hang the server case 3
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 73 - setting content-type on reply object should not hang the server case 3 # time=3.467ms
    
    # Subtest: pipe stream inside error handler should not cause error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 74 - pipe stream inside error handler should not cause error # time=17.178ms
    
    1..74
    # time=959.766ms
ok 119 - test/reply-error.test.js # time=959.766ms

# Subtest: test/reply-trailers.test.js
    # Subtest: send trailers when payload is empty string
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not contain all provided fields
    ok 1 - send trailers when payload is empty string # time=71.046ms
    
    # Subtest: send trailers when payload is empty buffer
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not contain all provided fields
    ok 2 - send trailers when payload is empty buffer # time=7.668ms
    
    # Subtest: send trailers when payload is undefined
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not contain all provided fields
    ok 3 - send trailers when payload is undefined # time=14.916ms
    
    # Subtest: send trailers when payload is json
        1..7
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not contain all provided fields
    ok 4 - send trailers when payload is json # time=17.982ms
    
    # Subtest: send trailers when payload is stream
        1..7
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not contain all provided fields
    ok 5 - send trailers when payload is stream # time=17.123ms
    
    # Subtest: send trailers when using async-await
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not contain all provided fields
    ok 6 - send trailers when using async-await # time=5.95ms
    
    # Subtest: error in trailers should be ignored
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not contain all provided fields
        ok 5 - should not contain all provided fields
    ok 7 - error in trailers should be ignored # time=14.706ms
    
    # Subtest: should emit deprecation warning when using direct return
        1..7
(node:1268) [FSTDEP013] DeprecationWarning: Direct return of "trailers" function is deprecated. Please use "callback" or "async-await" for return value. The support of direct return will removed in `fastify@5`.
(Use `node --trace-deprecation ...` to show where the warning was created)
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not contain all provided fields
    ok 8 - should emit deprecation warning when using direct return # time=15.651ms
    
    # Subtest: trailer handler counter
        1..2
        # Subtest: callback with timeout
            1..9
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should not error
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should not contain all provided fields
        ok 1 - callback with timeout # time=511.304ms
        
        # Subtest: async-await
            1..9
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should not error
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should not contain all provided fields
        ok 2 - async-await # time=517.595ms
        
    ok 9 - trailer handler counter # time=1041.31ms
    
    # Subtest: removeTrailer
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect falsey value
        ok 6 - should not contain all provided fields
    ok 10 - removeTrailer # time=6.78ms
    
    # Subtest: remove all trailers
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - expect falsey value
        ok 4 - expect falsey value
        ok 5 - expect falsey value
        ok 6 - should not contain all provided fields
    ok 11 - remove all trailers # time=15.851ms
    
    # Subtest: hasTrailer
        1..10
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - expect falsey value
        ok 10 - should not contain all provided fields
    ok 12 - hasTrailer # time=14.239ms
    
    # Subtest: throw error when trailer header name is not allowed
        1..14
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should not error
        ok 14 - should be equal
    ok 13 - throw error when trailer header name is not allowed # time=16.788ms
    
    # Subtest: throw error when trailer header value is not function
        1..10
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should not error
        ok 10 - should be equal
    ok 14 - throw error when trailer header value is not function # time=15.283ms
    
    1..14
    # time=1294.517ms
ok 120 - test/reply-trailers.test.js # time=1294.517ms

# Subtest: test/request-error.test.js
    # Subtest: default 400 on request error
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - default 400 on request error # time=71.906ms
    
    # Subtest: default 400 on request error with custom error handler
        1..6
        ok 1 - type is object
        ok 2 - type is Request
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 2 - default 400 on request error with custom error handler # time=8.394ms
    
    # Subtest: default clientError handler ignores ECONNRESET
        1..3
        ok 1 - should not error
        ok 2 - should match pattern provided
        ok 3 - should not match pattern provided
    ok 3 - default clientError handler ignores ECONNRESET # time=32.141ms
    
    # Subtest: default clientError handler ignores sockets in destroyed state
        1..1
        ok 1 - (unnamed test)
    ok 4 - default clientError handler ignores sockets in destroyed state # time=2.186ms
    
    # Subtest: default clientError handler destroys sockets in writable state
        1..2
        ok 1 - should match pattern provided
        ok 2 - destroy should be called
    ok 5 - default clientError handler destroys sockets in writable state # time=2.577ms
    
    # Subtest: default clientError handler destroys http sockets in non-writable state
        1..1
        ok 1 - destroy should be called
    ok 6 - default clientError handler destroys http sockets in non-writable state # time=1.704ms
    
    # Subtest: error handler binding
        1..5
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 7 - error handler binding # time=16.65ms
    
    # Subtest: encapsulated error handler binding
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should be equal
    ok 8 - encapsulated error handler binding # time=16.115ms
    
    # Subtest: default clientError replies with bad request on reused keep-alive connection
        1..2
        ok 1 - should not error
        ok 2 - should match pattern provided
    ok 9 - default clientError replies with bad request on reused keep-alive connection # time=12.495ms
    
    # Subtest: request.routeOptions should be immutable
        1..14
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - expected to throw: TypeError Cannot set property routeOptions of \#<Request> which has only a getter
        ok 5 - expected to throw: TypeError Cannot assign to read only property 'method' of object '\#<Object>'
        ok 6 - expected to throw: TypeError Cannot assign to read only property 'url' of object '\#<Object>'
        ok 7 - expected to throw: TypeError Cannot assign to read only property 'bodyLimit' of object '\#<Object>'
        ok 8 - expected to throw: TypeError Cannot assign to read only property 'attachValidation' of object '\#<Object>'
        ok 9 - expected to throw: TypeError Cannot assign to read only property 'logLevel' of object '\#<Object>'
        ok 10 - expected to throw: TypeError Cannot assign to read only property 'version' of object '\#<Object>'
        ok 11 - expected to throw: TypeError Cannot assign to read only property 'prefixTrailingSlash' of object '\#<Object>'
        ok 12 - expected to throw: TypeError Cannot add property newAttribute, object is not extensible
        ok 13 - should not error
        ok 14 - should be equal
    ok 10 - request.routeOptions should be immutable # time=23.719ms
    
    # Subtest: test request.routeOptions.version
        1..7
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
    ok 11 - test request.routeOptions.version # time=12.964ms
    
    1..11
    # time=217.651ms
ok 121 - test/request-error.test.js # time=217.651ms

# Subtest: test/request-id.test.js
    # Subtest: The request id header key can be customized
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 1 - The request id header key can be customized # time=52.154ms
    
    # Subtest: The request id header key can be customized
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 2 - The request id header key can be customized # time=5.334ms
    
    # Subtest: The request id header key can be customized
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 3 - The request id header key can be customized # time=50.377ms
    
    # Subtest: The request id header key can be customized
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 4 - The request id header key can be customized # time=8.481ms
    
    # Subtest: The request id header key can be customized
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 5 - The request id header key can be customized # time=17.945ms
    
    1..5
    # time=156.745ms
ok 122 - test/request-id.test.js # time=156.745ms

# Subtest: test/request.deprecated.test.js
    # Subtest: Should expose router options via getters on request and reply
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
    ok 1 - Should expose router options via getters on request and reply # time=106.937ms
    
    1..1
    # time=114.272ms
ok 123 - test/request.deprecated.test.js # time=114.272ms

# Subtest: test/requestTimeout.test.js
    # Subtest: requestTimeout passed to server
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
    ok 1 - requestTimeout passed to server # time=45.576ms
    
    # Subtest: requestTimeout should be set
        1..1
        ok 1 - should be equivalent
    ok 2 - requestTimeout should be set # time=4.614ms
    
    # Subtest: requestTimeout should 0
        1..1
        ok 1 - should be equivalent
    ok 3 - requestTimeout should 0 # time=2.104ms
    
    1..3
    # time=68.437ms
ok 124 - test/requestTimeout.test.js # time=68.437ms

# Subtest: test/route-hooks.test.js
    # Subtest: preHandler
        1..3
        ok 1 - hook called
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 1 - preHandler # time=135.422ms
    
    # Subtest: preHandler option should be called after preHandler hook
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
    ok 2 - preHandler option should be called after preHandler hook # time=6.822ms
    
    # Subtest: preHandler option could accept an array of functions
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
    ok 3 - preHandler option could accept an array of functions # time=13.203ms
    
    # Subtest: preHandler option could accept an array of async functions
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
    ok 4 - preHandler option could accept an array of async functions # time=9.971ms
    
    # Subtest: preHandler option does not interfere with preHandler hook
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
    ok 5 - preHandler option does not interfere with preHandler hook # time=12.413ms
    
    # Subtest: onSend
        1..3
        ok 1 - hook called
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 6 - onSend # time=7.046ms
    
    # Subtest: onSend option should be called after onSend hook
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
    ok 7 - onSend option should be called after onSend hook # time=11.914ms
    
    # Subtest: onSend option could accept an array of functions
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
    ok 8 - onSend option could accept an array of functions # time=8.448ms
    
    # Subtest: onSend option could accept an array of async functions
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
    ok 9 - onSend option could accept an array of async functions # time=11.545ms
    
    # Subtest: onSend option does not interfere with onSend hook
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
    ok 10 - onSend option does not interfere with onSend hook # time=11.36ms
    
    # Subtest: onRequest
        1..3
        ok 1 - hook called
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 11 - onRequest # time=25.296ms
    
    # Subtest: onRequest option should be called after onRequest hook
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
    ok 12 - onRequest option should be called after onRequest hook # time=14.436ms
    
    # Subtest: onRequest option could accept an array of functions
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
    ok 13 - onRequest option could accept an array of functions # time=10.477ms
    
    # Subtest: onRequest option could accept an array of async functions
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
    ok 14 - onRequest option could accept an array of async functions # time=5.488ms
    
    # Subtest: onRequest option does not interfere with onRequest hook
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
    ok 15 - onRequest option does not interfere with onRequest hook # time=17.978ms
    
    # Subtest: onResponse
        1..3
        ok 1 - hook called
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 16 - onResponse # time=5.089ms
    
    # Subtest: onResponse option should be called after onResponse hook
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
    ok 17 - onResponse option should be called after onResponse hook # time=4.222ms
    
    # Subtest: onResponse option could accept an array of functions
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
    ok 18 - onResponse option could accept an array of functions # time=12.609ms
    
    # Subtest: onResponse option could accept an array of async functions
        1..3
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
    ok 19 - onResponse option could accept an array of async functions # time=8.229ms
    
    # Subtest: onResponse option does not interfere with onResponse hook
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
    ok 20 - onResponse option does not interfere with onResponse hook # time=9.478ms
    
    # Subtest: preValidation
        1..3
        ok 1 - hook called
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 21 - preValidation # time=8.78ms
    
    # Subtest: preValidation option should be called after preValidation hook
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
    ok 22 - preValidation option should be called after preValidation hook # time=6.793ms
    
    # Subtest: preValidation option could accept an array of functions
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
    ok 23 - preValidation option could accept an array of functions # time=21.371ms
    
    # Subtest: preValidation option could accept an array of async functions
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
    ok 24 - preValidation option could accept an array of async functions # time=8.249ms
    
    # Subtest: preValidation option does not interfere with preValidation hook
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
    ok 25 - preValidation option does not interfere with preValidation hook # time=16.907ms
    
    # Subtest: preParsing
        1..3
        ok 1 - hook called
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 26 - preParsing # time=15.304ms
    
    # Subtest: preParsing option should be called after preParsing hook
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
    ok 27 - preParsing option should be called after preParsing hook # time=3.847ms
    
    # Subtest: preParsing option could accept an array of functions
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
    ok 28 - preParsing option could accept an array of functions # time=9.371ms
    
    # Subtest: preParsing option could accept an array of async functions
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
    ok 29 - preParsing option could accept an array of async functions # time=6.241ms
    
    # Subtest: preParsing option does not interfere with preParsing hook
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
    ok 30 - preParsing option does not interfere with preParsing hook # time=9.206ms
    
    # Subtest: preHandler option should be unique per route
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 31 - preHandler option should be unique per route # time=9.629ms
    
    # Subtest: preHandler option should handle errors
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 32 - preHandler option should handle errors # time=5.634ms
    
    # Subtest: preHandler option should handle throwing objects
        1..4
        ok 1 - the error object throws by the user
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 33 - preHandler option should handle throwing objects # time=6.147ms
    
    # Subtest: preHandler option should handle throwing objects by default
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 34 - preHandler option should handle throwing objects by default # time=9.244ms
    
    # Subtest: preHandler option should handle errors with custom status code
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 35 - preHandler option should handle errors with custom status code # time=9.555ms
    
    # Subtest: preHandler option should keep the context
        1..3
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 36 - preHandler option should keep the context # time=9.927ms
    
    # Subtest: preHandler option should keep the context (array)
        1..3
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 37 - preHandler option should keep the context (array) # time=5.745ms
    
    # Subtest: onRequest option should be unique per route
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 38 - onRequest option should be unique per route # time=5.055ms
    
    # Subtest: onRequest option should handle errors
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 39 - onRequest option should handle errors # time=3.878ms
    
    # Subtest: onRequest option should handle throwing objects
        1..4
        ok 1 - the error object throws by the user
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 40 - onRequest option should handle throwing objects # time=4.682ms
    
    # Subtest: onRequest option should handle throwing objects by default
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 41 - onRequest option should handle throwing objects by default # time=11.402ms
    
    # Subtest: onRequest option should handle errors with custom status code
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 42 - onRequest option should handle errors with custom status code # time=4.457ms
    
    # Subtest: onRequest option should keep the context
        1..3
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 43 - onRequest option should keep the context # time=8.903ms
    
    # Subtest: onRequest option should keep the context (array)
        1..3
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 44 - onRequest option should keep the context (array) # time=4.065ms
    
    # Subtest: preValidation option should be unique per route
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 45 - preValidation option should be unique per route # time=5.003ms
    
    # Subtest: preValidation option should handle errors
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 46 - preValidation option should handle errors # time=3.927ms
    
    # Subtest: preValidation option should handle throwing objects
        1..4
        ok 1 - the error object throws by the user
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 47 - preValidation option should handle throwing objects # time=4.514ms
    
    # Subtest: preValidation option should handle throwing objects by default
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 48 - preValidation option should handle throwing objects by default # time=3.889ms
    
    # Subtest: preValidation option should handle errors with custom status code
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 49 - preValidation option should handle errors with custom status code # time=4.103ms
    
    # Subtest: preValidation option should keep the context
        1..3
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 50 - preValidation option should keep the context # time=3.948ms
    
    # Subtest: preValidation option should keep the context (array)
        1..3
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 51 - preValidation option should keep the context (array) # time=4.092ms
    
    # Subtest: preParsing option should be unique per route
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 52 - preParsing option should be unique per route # time=4.916ms
    
    # Subtest: preParsing option should handle errors
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 53 - preParsing option should handle errors # time=3.819ms
    
    # Subtest: preParsing option should handle throwing objects
        1..4
        ok 1 - the error object throws by the user
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 54 - preParsing option should handle throwing objects # time=9.738ms
    
    # Subtest: preParsing option should handle throwing objects by default
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 55 - preParsing option should handle throwing objects by default # time=3.835ms
    
    # Subtest: preParsing option should handle errors with custom status code
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 56 - preParsing option should handle errors with custom status code # time=8.386ms
    
    # Subtest: preParsing option should keep the context
        1..3
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 57 - preParsing option should keep the context # time=4.05ms
    
    # Subtest: preParsing option should keep the context (array)
        1..3
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 58 - preParsing option should keep the context (array) # time=3.658ms
    
    # Subtest: preValidation option should be called before preHandler hook
        1..3
        ok 1 - expect truthy value
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 59 - preValidation option should be called before preHandler hook # time=7.421ms
    
    # Subtest: preSerialization option should be able to modify the payload
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 60 - preSerialization option should be able to modify the payload # time=4.686ms
    
    # Subtest: preParsing option should be called before preValidation hook
        1..3
        ok 1 - expect truthy value
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 61 - preParsing option should be called before preValidation hook # time=4.216ms
    
    # Subtest: preParsing option should be able to modify the payload
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 62 - preParsing option should be able to modify the payload # time=4.937ms
    
    # Subtest: preParsing option should be able to supply statusCode
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 63 - preParsing option should be able to supply statusCode # time=5.483ms
    
    # Subtest: onRequest option should be called before preParsing
        1..3
        ok 1 - expect truthy value
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 64 - onRequest option should be called before preParsing # time=4.311ms
    
    # Subtest: onTimeout on route
        1..4
        ok 1 - should not error
        ok 2 - onTimeout called
        ok 3 - type is Error
        ok 4 - should be equal
    ok 65 - onTimeout on route # time=541.388ms
    
    # Subtest: onError on route
        1..3
        ok 1 - should match pattern provided
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 66 - onError on route # time=7.739ms
    
    1..66
    # time=1266.68ms
ok 125 - test/route-hooks.test.js # time=1266.68ms

# Subtest: test/route-prefix.test.js
    # Subtest: Prefix options should add a prefix for all the routes inside a register / 1
        1..6
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equivalent
    ok 1 - Prefix options should add a prefix for all the routes inside a register / 1 # time=98.51ms
    
    # Subtest: Prefix options should add a prefix for all the routes inside a register / 2
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 2 - Prefix options should add a prefix for all the routes inside a register / 2 # time=8.002ms
    
    # Subtest: Prefix options should add a prefix for all the chained routes inside a register / 3
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 3 - Prefix options should add a prefix for all the chained routes inside a register / 3 # time=20.309ms
    
    # Subtest: Prefix should support parameters as well
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 4 - Prefix should support parameters as well # time=10.91ms
    
    # Subtest: Prefix should support /
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 5 - Prefix should support / # time=9.211ms
    
    # Subtest: Prefix without /
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 6 - Prefix without / # time=5.172ms
    
    # Subtest: Prefix with trailing /
        1..6
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equivalent
    ok 7 - Prefix with trailing / # time=25.208ms
    
    # Subtest: Prefix works multiple levels deep
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 8 - Prefix works multiple levels deep # time=21.444ms
    
    # Subtest: Different register - encapsulation check
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 9 - Different register - encapsulation check # time=15.366ms
    
    # Subtest: Can retrieve prefix within encapsulated instances
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 10 - Can retrieve prefix within encapsulated instances # time=8.184ms
    
    # Subtest: matches both /prefix and /prefix/ with a / route
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 11 - matches both /prefix and /prefix/ with a / route # time=25.074ms
    
    # Subtest: prefix "/prefix/" does not match "/prefix" with a / route
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 12 - prefix "/prefix/" does not match "/prefix" with a / route # time=15.716ms
    
    # Subtest: matches both /prefix and /prefix/ with a / route - ignoreTrailingSlash: true
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 13 - matches both /prefix and /prefix/ with a / route - ignoreTrailingSlash: true # time=12.641ms
    
    # Subtest: matches both /prefix and /prefix/ with a / route - ignoreDuplicateSlashes: true
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 14 - matches both /prefix and /prefix/ with a / route - ignoreDuplicateSlashes: true # time=11.581ms
    
    # Subtest: matches both /prefix and /prefix/  with a / route - prefixTrailingSlash: "both", ignoreTrailingSlash: false
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 15 - matches both /prefix and /prefix/  with a / route - prefixTrailingSlash: "both", ignoreTrailingSlash: false # time=18.311ms
    
    # Subtest: matches both /prefix and /prefix/  with a / route - prefixTrailingSlash: "both", ignoreDuplicateSlashes: false
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 16 - matches both /prefix and /prefix/  with a / route - prefixTrailingSlash: "both", ignoreDuplicateSlashes: false # time=19.068ms
    
    # Subtest: matches both /prefix and /prefix/ with a / route - ignoreTrailingSlash: true, ignoreDuplicateSlashes: true
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 17 - matches both /prefix and /prefix/ with a / route - ignoreTrailingSlash: true, ignoreDuplicateSlashes: true # time=10.609ms
    
    # Subtest: matches both /prefix and /prefix/ with a / route - ignoreTrailingSlash: true, ignoreDuplicateSlashes: false
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 18 - matches both /prefix and /prefix/ with a / route - ignoreTrailingSlash: true, ignoreDuplicateSlashes: false # time=11.126ms
    
    # Subtest: returns 404 status code with /prefix/ and / route - prefixTrailingSlash: "both" (default), ignoreTrailingSlash: true
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 19 - returns 404 status code with /prefix/ and / route - prefixTrailingSlash: "both" (default), ignoreTrailingSlash: true # time=10.242ms
    
    # Subtest: matches both /prefix and /prefix/  with a / route - prefixTrailingSlash: "both", ignoreDuplicateSlashes: true
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 20 - matches both /prefix and /prefix/  with a / route - prefixTrailingSlash: "both", ignoreDuplicateSlashes: true # time=7.56ms
    
    # Subtest: matches both /prefix and /prefix/  with a / route - prefixTrailingSlash: "both", ignoreTrailingSlash: true, ignoreDuplicateSlashes: true
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 21 - matches both /prefix and /prefix/  with a / route - prefixTrailingSlash: "both", ignoreTrailingSlash: true, ignoreDuplicateSlashes: true # time=4.855ms
    
    # Subtest: matches both /prefix and /prefix/  with a / route - prefixTrailingSlash: "both", ignoreDuplicateSlashes: true
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 22 - matches both /prefix and /prefix/  with a / route - prefixTrailingSlash: "both", ignoreDuplicateSlashes: true # time=24.05ms
    
    # Subtest: matches only /prefix  with a / route - prefixTrailingSlash: "no-slash", ignoreTrailingSlash: false
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equal
    ok 23 - matches only /prefix  with a / route - prefixTrailingSlash: "no-slash", ignoreTrailingSlash: false # time=10.225ms
    
    # Subtest: matches only /prefix  with a / route - prefixTrailingSlash: "no-slash", ignoreDuplicateSlashes: false
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equal
    ok 24 - matches only /prefix  with a / route - prefixTrailingSlash: "no-slash", ignoreDuplicateSlashes: false # time=26.104ms
    
    # Subtest: matches only /prefix/  with a / route - prefixTrailingSlash: "slash", ignoreTrailingSlash: false
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equal
    ok 25 - matches only /prefix/  with a / route - prefixTrailingSlash: "slash", ignoreTrailingSlash: false # time=11.465ms
    
    # Subtest: calls onRoute only once when prefixing
        1..1
        ok 1 - should be equivalent
    ok 26 - calls onRoute only once when prefixing # time=4.675ms
    
    1..26
    # time=507.976ms
ok 126 - test/route-prefix.test.js # time=507.976ms

# Subtest: test/route.1.test.js
    # Subtest: route
        1..10
        # Subtest: route - get
            1..4
            ok 1 - expected to not throw
            ok 2 - should not error
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 1 - route - get # time=100.959ms
        
        # Subtest: missing schema - route
            1..4
            ok 1 - expected to not throw
            ok 2 - should not error
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 2 - missing schema - route # time=10.698ms
        
        # Subtest: invalid handler attribute - route
            1..1
            ok 1 - expected to throw
        ok 3 - invalid handler attribute - route # time=3.395ms
        
        # Subtest: Add Multiple methods per route all uppercase
            1..7
            ok 1 - expected to not throw
            ok 2 - should not error
            ok 3 - should be equal
            ok 4 - should be equivalent
            ok 5 - should not error
            ok 6 - should be equal
            ok 7 - should be equivalent
        ok 4 - Add Multiple methods per route all uppercase # time=23.252ms
        
        # Subtest: Add Multiple methods per route all lowercase
            1..7
            ok 1 - expected to not throw
            ok 2 - should not error
            ok 3 - should be equal
            ok 4 - should be equivalent
            ok 5 - should not error
            ok 6 - should be equal
            ok 7 - should be equivalent
        ok 5 - Add Multiple methods per route all lowercase # time=18.025ms
        
        # Subtest: Add Multiple methods per route mixed uppercase and lowercase
            1..7
            ok 1 - expected to not throw
            ok 2 - should not error
            ok 3 - should be equal
            ok 4 - should be equivalent
            ok 5 - should not error
            ok 6 - should be equal
            ok 7 - should be equivalent
        ok 6 - Add Multiple methods per route mixed uppercase and lowercase # time=12.085ms
        
        # Subtest: Add invalid Multiple methods per route
            1..1
            ok 1 - expected to throw: FastifyError Provided method is invalid!
        ok 7 - Add invalid Multiple methods per route # time=3.764ms
        
        # Subtest: Add method
            1..1
            ok 1 - expected to throw: FastifyError Provided method is invalid!
        ok 8 - Add method # time=2.223ms
        
        # Subtest: Add additional multiple methods to existing route
            1..7
            ok 1 - expected to not throw
            ok 2 - should not error
            ok 3 - should be equal
            ok 4 - should be equivalent
            ok 5 - should not error
            ok 6 - should be equal
            ok 7 - should be equivalent
        ok 9 - Add additional multiple methods to existing route # time=10.95ms
        
        # Subtest: cannot add another route after binding
            1..1
            ok 1 - expected to throw: FastifyError Fastify instance is already listening. Cannot add route!
        ok 10 - cannot add another route after binding # time=14.284ms
        
    ok 1 - route # time=217.632ms
    
    # Subtest: invalid schema - route
        1..3
        ok 1 - the error is throw on preReady
        ok 2 - should be equal
        ok 3 - should match pattern provided
    ok 2 - invalid schema - route # time=73.597ms
    
    1..2
    # time=297.531ms
ok 127 - test/route.1.test.js # time=297.531ms

# Subtest: test/route.2.test.js
    # Subtest: same route definition object on multiple prefixes
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 1 - same route definition object on multiple prefixes # time=34.193ms
    
    # Subtest: path can be specified in place of uri
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 2 - path can be specified in place of uri # time=26.378ms
    
    # Subtest: invalid bodyLimit option - route
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 3 - invalid bodyLimit option - route # time=3.288ms
    
    # Subtest: handler function in options of shorthand route should works correctly
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 4 - handler function in options of shorthand route should works correctly # time=15.519ms
    
    1..4
    # time=103.028ms
ok 128 - test/route.2.test.js # time=103.028ms

# Subtest: test/route.3.test.js
    # Subtest: does not mutate joi schemas
        1..4
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - does not mutate joi schemas # time=61.295ms
    
    # Subtest: multiple routes with one schema
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 2 - multiple routes with one schema # time=63.357ms
    
    # Subtest: route error handler overrides default error handler
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 3 - route error handler overrides default error handler # time=17.041ms
    
    # Subtest: route error handler does not affect other routes
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 4 - route error handler does not affect other routes # time=12.831ms
    
    # Subtest: async error handler for a route
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 5 - async error handler for a route # time=13.163ms
    
    1..5
    # time=212.895ms
ok 129 - test/route.3.test.js # time=212.895ms

# Subtest: test/route.4.test.js
    # Subtest: route error handler overrides global custom error handler
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - route error handler overrides global custom error handler # time=58.656ms
    
    # Subtest: throws when route with empty url
        1..1
        ok 1 - should be equal
    ok 2 - throws when route with empty url # time=3.923ms
    
    # Subtest: throws when route with empty url in shorthand declaration
        1..1
        ok 1 - should be equal
    ok 3 - throws when route with empty url in shorthand declaration # time=2.237ms
    
    # Subtest: throws when route-level error handler is not a function
        1..1
        ok 1 - should be equal
    ok 4 - throws when route-level error handler is not a function # time=2.17ms
    
    # Subtest: route child logger factory overrides default child logger factory
        1..3
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
    ok 5 - route child logger factory overrides default child logger factory # time=5.821ms
    
    1..5
    # time=84.076ms
ok 130 - test/route.4.test.js # time=84.076ms

# Subtest: test/route.5.test.js
    # Subtest: route child logger factory does not affect other routes
        1..6
        ok 1 - should be equal
        ok 2 - should not match pattern provided
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
    ok 1 - route child logger factory does not affect other routes # time=57.91ms
    
    # Subtest: route child logger factory overrides global custom error handler
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
    ok 2 - route child logger factory overrides global custom error handler # time=8.029ms
    
    # Subtest: Creates a HEAD route for each GET one (default)
        1..8
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
    ok 3 - Creates a HEAD route for each GET one (default) # time=20.891ms
    
    # Subtest: Do not create a HEAD route for each GET one (exposeHeadRoutes: false)
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 4 - Do not create a HEAD route for each GET one (exposeHeadRoutes: false) # time=11.578ms
    
    # Subtest: Creates a HEAD route for each GET one
        1..8
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
    ok 5 - Creates a HEAD route for each GET one # time=12.452ms
    
    1..5
    # time=127.152ms
ok 131 - test/route.5.test.js # time=127.152ms

# Subtest: test/route.6.test.js
    # Subtest: Creates a HEAD route for a GET one with prefixTrailingSlash
        1..1
        ok 1 - expect truthy value
    ok 1 - Creates a HEAD route for a GET one with prefixTrailingSlash # time=38.684ms
    
    # Subtest: Will not create a HEAD route that is not GET
        1..11
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should not error
        ok 11 - should be equal
    ok 2 - Will not create a HEAD route that is not GET # time=30.792ms
    
    # Subtest: HEAD route should handle properly each response type
        1..25
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should not error
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should not error
        ok 17 - should be equal
        ok 18 - should be equal
        ok 19 - should be equal
        ok 20 - should be equal
        ok 21 - should not error
        ok 22 - should be equal
        ok 23 - should be equal
        ok 24 - should be equal
        ok 25 - should be equal
    ok 3 - HEAD route should handle properly each response type # time=19.471ms
    
    # Subtest: HEAD route should respect custom onSend handlers
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 4 - HEAD route should respect custom onSend handlers # time=16.431ms
    
    # Subtest: route onSend can be function or array of functions
        1..12
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
    ok 5 - route onSend can be function or array of functions # time=15.519ms
    
    # Subtest: no warning for exposeHeadRoute
        1..0
    ok 6 - no warning for exposeHeadRoute # time=23.77ms
    
    1..6
    # time=156.905ms
ok 132 - test/route.6.test.js # time=156.905ms

# Subtest: test/route.7.test.js
    # Subtest: HEAD route should handle stream.on('error')
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 1 - HEAD route should handle stream.on('error') # time=77.339ms
    
    # Subtest: HEAD route should be exposed by default
        1..7
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
    ok 2 - HEAD route should be exposed by default # time=10.92ms
    
    # Subtest: HEAD route should be exposed if route exposeHeadRoute is set
        1..7
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
    ok 3 - HEAD route should be exposed if route exposeHeadRoute is set # time=20.298ms
    
    # Subtest: Set a custom HEAD route before GET one without disabling exposeHeadRoutes (global)
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 4 - Set a custom HEAD route before GET one without disabling exposeHeadRoutes (global) # time=10.283ms
    
    # Subtest: Set a custom HEAD route before GET one without disabling exposeHeadRoutes (route)
        1..7
        ok 1 - warning emitted
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
    ok 5 - Set a custom HEAD route before GET one without disabling exposeHeadRoutes (route) # time=30.018ms
    
    # Subtest: HEAD routes properly auto created for GET routes when prefixTrailingSlash: 'no-slash'
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 6 - HEAD routes properly auto created for GET routes when prefixTrailingSlash: 'no-slash' # time=17.943ms
    
    # Subtest: HEAD routes properly auto created for GET routes when prefixTrailingSlash: 'both'
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 7 - HEAD routes properly auto created for GET routes when prefixTrailingSlash: 'both' # time=17.101ms
    
    # Subtest: GET route with body schema should throw
        1..1
        ok 1 - expected to throw: Error Body validation schema for GET:/get route is not supported!
    ok 8 - GET route with body schema should throw # time=6.063ms
    
    # Subtest: HEAD route with body schema should throw
        1..1
        ok 1 - expected to throw: Error Body validation schema for HEAD:/shouldThrow route is not supported!
    ok 9 - HEAD route with body schema should throw # time=2.11ms
    
    # Subtest: [HEAD, GET] route with body schema should throw
        1..1
        ok 1 - expected to throw: Error Body validation schema for HEAD:/shouldThrowHead route is not supported!
    ok 10 - [HEAD, GET] route with body schema should throw # time=2.052ms
    
    # Subtest: GET route with body schema should throw - shorthand
        1..1
        ok 1 - expected to throw: Error Body validation schema for GET:/shouldThrow route is not supported!
    ok 11 - GET route with body schema should throw - shorthand # time=2.106ms
    
    # Subtest: HEAD route with body schema should throw - shorthand
        1..1
        ok 1 - expected to throw: Error Body validation schema for HEAD:/shouldThrow2 route is not supported!
    ok 12 - HEAD route with body schema should throw - shorthand # time=2.001ms
    
    1..12
    # time=219.36ms
ok 133 - test/route.7.test.js # time=219.36ms

# Subtest: test/route.8.test.js
    # Subtest: Request and Reply share the route config
        1..3
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - there are url and method additional properties
(node:1386) [FSTDEP012] DeprecationWarning: request.context property access is deprecated. Please use "request.routeOptions.config" or "request.routeOptions.schema" instead for accessing Route settings. The "request.context" will be removed in `fastify@5`.
(Use `node --trace-deprecation ...` to show where the warning was created)
(node:1386) [FSTDEP019] DeprecationWarning: reply.context property access is deprecated. Please use "request.routeOptions.config" or "request.routeOptions.schema" instead for accessing Route settings. The "reply.context" will be removed in `fastify@5`.
    ok 1 - Request and Reply share the route config # time=58.455ms
    
    # Subtest: Will not try to re-createprefixed HEAD route if it already exists and exposeHeadRoutes is true
        1..1
        ok 1 - expect truthy value
    ok 2 - Will not try to re-createprefixed HEAD route if it already exists and exposeHeadRoutes is true # time=6.775ms
    
    # Subtest: route with non-english characters
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 3 - route with non-english characters # time=27.394ms
    
    # Subtest: invalid url attribute - non string URL
        1..1
        ok 1 - should be equal
    ok 4 - invalid url attribute - non string URL # time=2.149ms
    
    # Subtest: exposeHeadRoute should not reuse the same route option
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 5 - exposeHeadRoute should not reuse the same route option # time=2.871ms
    
    # Subtest: using fastify.all when a catchall is defined does not degrade performance
        1..1
        ok 1 - (unnamed test)
    ok 6 - using fastify.all when a catchall is defined does not degrade performance # time=201.373ms
    
    1..6
    # time=321.485ms
ok 134 - test/route.8.test.js # time=321.485ms

# Subtest: test/router-options.test.js
    # Subtest: Should honor ignoreTrailingSlash option
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 1 - Should honor ignoreTrailingSlash option # time=65.056ms
    
    # Subtest: Should honor ignoreDuplicateSlashes option
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 2 - Should honor ignoreDuplicateSlashes option # time=6.802ms
    
    # Subtest: Should honor ignoreTrailingSlash and ignoreDuplicateSlashes options
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 3 - Should honor ignoreTrailingSlash and ignoreDuplicateSlashes options # time=14.453ms
    
    # Subtest: Should honor maxParamLength option
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 4 - Should honor maxParamLength option # time=13.653ms
    
    # Subtest: Should expose router options via getters on request and reply
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
(node:1397) [FSTDEP019] DeprecationWarning: reply.context property access is deprecated. Please use "request.routeOptions.config" or "request.routeOptions.schema" instead for accessing Route settings. The "reply.context" will be removed in `fastify@5`.
(Use `node --trace-deprecation ...` to show where the warning was created)
        ok 8 - should not error
        ok 9 - should be equal
    ok 5 - Should expose router options via getters on request and reply # time=79.997ms
    
    # Subtest: Should set is404 flag for unmatched paths
        1..3
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
    ok 6 - Should set is404 flag for unmatched paths # time=4.927ms
    
    # Subtest: Should honor frameworkErrors option - FST_ERR_BAD_URL
        1..3
        ok 1 - expect truthy value
        ok 2 - should not error
        ok 3 - should be equal
    ok 7 - Should honor frameworkErrors option - FST_ERR_BAD_URL # time=17.207ms
    
    # Subtest: Should supply Fastify request to the logger in frameworkErrors wrapper - FST_ERR_BAD_URL
        1..8
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
    ok 8 - Should supply Fastify request to the logger in frameworkErrors wrapper - FST_ERR_BAD_URL # time=22.711ms
    
    # Subtest: Should honor disableRequestLogging option in frameworkErrors wrapper - FST_ERR_BAD_URL
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 9 - Should honor disableRequestLogging option in frameworkErrors wrapper - FST_ERR_BAD_URL # time=18.301ms
    
    # Subtest: Should honor frameworkErrors option - FST_ERR_ASYNC_CONSTRAINT
        1..3
        ok 1 - expect truthy value
        ok 2 - should not error
        ok 3 - should be equal
    ok 10 - Should honor frameworkErrors option - FST_ERR_ASYNC_CONSTRAINT # time=11.351ms
    
    # Subtest: Should supply Fastify request to the logger in frameworkErrors wrapper - FST_ERR_ASYNC_CONSTRAINT
        1..8
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
    ok 11 - Should supply Fastify request to the logger in frameworkErrors wrapper - FST_ERR_ASYNC_CONSTRAINT # time=8.055ms
    
    # Subtest: Should honor disableRequestLogging option in frameworkErrors wrapper - FST_ERR_ASYNC_CONSTRAINT
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 12 - Should honor disableRequestLogging option in frameworkErrors wrapper - FST_ERR_ASYNC_CONSTRAINT # time=14.108ms
    
    1..12
    # time=317.365ms
ok 135 - test/router-options.test.js # time=317.365ms

# Subtest: test/same-shape.test.js
    # Subtest: same shape on Request
        1..1
        ok 1 - should be equal
    ok 1 - same shape on Request # time=51.083ms
    
    # Subtest: same shape on Request when object
        1..1
        ok 1 - should be equal
    ok 2 - same shape on Request when object # time=4.882ms
    
    # Subtest: same shape on Reply
        1..1
        ok 1 - should be equal
    ok 3 - same shape on Reply # time=13.556ms
    
    # Subtest: same shape on Reply when object
        1..1
        ok 1 - should be equal
    ok 4 - same shape on Reply when object # time=9.52ms
    
    1..4
    # time=97.494ms
ok 136 - test/same-shape.test.js # time=97.494ms

# Subtest: test/schema-examples.test.js
    # Subtest: Example - URI $id
        1..1
        ok 1 - should not error
    ok 1 - Example - URI $id # time=108.768ms
    
    # Subtest: Example - string $id
        1..1
        ok 1 - should not error
    ok 2 - Example - string $id # time=28.369ms
    
    # Subtest: Example - get schema
        1..1
        ok 1 - should be equivalent
    ok 3 - Example - get schema # time=6.185ms
    
    # Subtest: Example - get schema encapsulated
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        1..3
    ok 4 - Example - get schema encapsulated # time=30.961ms
    
    # Subtest: Example - validation
        1..1
        ok 1 - should not error
    ok 5 - Example - validation # time=35.588ms
    
    # Subtest: Example - ajv config
        1..1
        ok 1 - should not error
    ok 6 - Example - ajv config # time=81.635ms
    
    # Subtest: Example Joi
        1..1
        ok 1 - should not error
    ok 7 - Example Joi # time=62.476ms
    
    # Subtest: Example yup
        1..1
        ok 1 - should not error
    ok 8 - Example yup # time=11.548ms
    
    # Subtest: Example - serialization
        1..1
        ok 1 - should not error
    ok 9 - Example - serialization # time=25.301ms
    
    # Subtest: Example - serialization 2
        1..1
        ok 1 - should not error
    ok 10 - Example - serialization 2 # time=9.791ms
    
    # Subtest: Example - serializator
        1..1
        ok 1 - should not error
    ok 11 - Example - serializator # time=3.976ms
    
    # Subtest: Example - schemas examples
        1..1
        ok 1 - should not error
    ok 12 - Example - schemas examples # time=63.114ms
    
    # Subtest: should return custom error messages with ajv-errors
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 13 - should return custom error messages with ajv-errors # time=75.119ms
    
    # Subtest: should be able to handle formats of ajv-formats when added by plugins option
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 14 - should be able to handle formats of ajv-formats when added by plugins option # time=59.592ms
    
    # Subtest: should return localized error messages with ajv-i18n
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 15 - should return localized error messages with ajv-i18n # time=44.947ms
    
    1..15
    # time=666.878ms
ok 137 - test/schema-examples.test.js # time=666.878ms

# Subtest: test/schema-feature.test.js
    # Subtest: Should expose addSchema function
        1..1
        ok 1 - should be equal
    ok 1 - Should expose addSchema function # time=15.488ms
    
    # Subtest: Should expose getSchema function
        1..1
        ok 1 - should be equal
    ok 2 - Should expose getSchema function # time=1.923ms
    
    # Subtest: Should expose getSchemas function
        1..1
        ok 1 - should be equal
    ok 3 - Should expose getSchemas function # time=1.596ms
    
    # Subtest: Should expose setValidatorCompiler function
        1..1
        ok 1 - should be equal
    ok 4 - Should expose setValidatorCompiler function # time=1.486ms
    
    # Subtest: Should expose setSerializerCompiler function
        1..1
        ok 1 - should be equal
    ok 5 - Should expose setSerializerCompiler function # time=1.543ms
    
    # Subtest: cannot call setValidatorCompiler after binding
        1..2
        ok 1 - should not error
        ok 2 - (unnamed test)
    ok 6 - cannot call setValidatorCompiler after binding # time=80.382ms
    
    # Subtest: cannot call setSerializerCompiler after binding
        1..2
        ok 1 - should not error
        ok 2 - (unnamed test)
    ok 7 - cannot call setSerializerCompiler after binding # time=4.004ms
    
    # Subtest: The schemas should be added to an internal storage
        1..1
        ok 1 - should be equivalent
    ok 8 - The schemas should be added to an internal storage # time=6.574ms
    
    # Subtest: The schemas should be accessible via getSchemas
        1..1
        ok 1 - should be equivalent
    ok 9 - The schemas should be accessible via getSchemas # time=2.501ms
    
    # Subtest: The schema should be accessible by id via getSchema
        1..5
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should not error
    ok 10 - The schema should be accessible by id via getSchema # time=16.63ms
    
    # Subtest: Get validatorCompiler after setValidatorCompiler
        1..2
        ok 1 - expect truthy value
        ok 2 - should not error
    ok 11 - Get validatorCompiler after setValidatorCompiler # time=6.739ms
    
    # Subtest: Get serializerCompiler after setSerializerCompiler
        1..2
        ok 1 - expect truthy value
        ok 2 - should not error
    ok 12 - Get serializerCompiler after setSerializerCompiler # time=13.73ms
    
    # Subtest: Get compilers is empty when settle on routes
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 13 - Get compilers is empty when settle on routes # time=28.655ms
    
    # Subtest: Should throw if the $id property is missing
        1..1
        ok 1 - should be equal
    ok 14 - Should throw if the $id property is missing # time=1.705ms
    
    # Subtest: Cannot add multiple times the same id
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 15 - Cannot add multiple times the same id # time=2.024ms
    
    # Subtest: Cannot add schema for query and querystring
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 16 - Cannot add schema for query and querystring # time=4.297ms
    
    # Subtest: Should throw of the schema does not exists in input
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 17 - Should throw of the schema does not exists in input # time=59.332ms
    
    # Subtest: Should throw of the schema does not exists in output
        1..2
        ok 1 - should be equal
        ok 2 - should match pattern provided
    ok 18 - Should throw of the schema does not exists in output # time=40.851ms
    
    # Subtest: Should not change the input schemas
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - the $id is not removed
        ok 4 - should be equivalent
    ok 19 - Should not change the input schemas # time=65.879ms
    
    # Subtest: Should emit warning if the schema headers is undefined
        1..4
(node:1418) [FSTWRN001] FastifyWarning: The headers schema for POST: /:id is missing. This may indicate the schema is not well specified.
(Use `node --trace-warnings ...` to show where the warning was created)
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 20 - Should emit warning if the schema headers is undefined # time=14.84ms
    
    # Subtest: Should emit warning if the schema body is undefined
        1..4
(node:1418) [FSTWRN001] FastifyWarning: The body schema for POST: /:id is missing. This may indicate the schema is not well specified.
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 21 - Should emit warning if the schema body is undefined # time=15.572ms
    
    # Subtest: Should emit warning if the schema query is undefined
        1..4
(node:1418) [FSTWRN001] FastifyWarning: The querystring schema for POST: /:id is missing. This may indicate the schema is not well specified.
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 22 - Should emit warning if the schema query is undefined # time=10.448ms
    
    # Subtest: Should emit warning if the schema params is undefined
        1..4
(node:1418) [FSTWRN001] FastifyWarning: The params schema for POST: /:id is missing. This may indicate the schema is not well specified.
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 23 - Should emit warning if the schema params is undefined # time=9.535ms
    
    # Subtest: Should emit a warning for every route with undefined schema
        1..16
(node:1418) [FSTWRN001] FastifyWarning: The params schema for GET: /undefinedParams/:id is missing. This may indicate the schema is not well specified.
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
(node:1418) [FSTWRN001] FastifyWarning: The params schema for HEAD: /undefinedParams/:id is missing. This may indicate the schema is not well specified.
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
(node:1418) [FSTWRN001] FastifyWarning: The body schema for GET: /undefinedBody/:id is missing. This may indicate the schema is not well specified.
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
(node:1418) [FSTWRN001] FastifyWarning: The body schema for HEAD: /undefinedBody/:id is missing. This may indicate the schema is not well specified.
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should not error
        ok 16 - should be equal
    ok 24 - Should emit a warning for every route with undefined schema # time=28.666ms
    
    # Subtest: First level $ref
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 25 - First level $ref # time=33.283ms
    
    # Subtest: Customize validator compiler in instance and route
        1..28
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - headers evaluated
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - body evaluated
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - querystring evaluated
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - params evaluated
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equal
        ok 18 - should be equal
        ok 19 - should not error
        ok 20 - should be equal
        ok 21 - should be equivalent
        ok 22 - should be equivalent
        ok 23 - should be equivalent
        ok 24 - should be equivalent
        ok 25 - should match pattern provided
        ok 26 - should not error
        ok 27 - should be equal
        ok 28 - should be equivalent
    ok 26 - Customize validator compiler in instance and route # time=28.962ms
    
    # Subtest: Use the same schema across multiple routes
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 27 - Use the same schema across multiple routes # time=57.832ms
    
    # Subtest: Encapsulation should intervene
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 28 - Encapsulation should intervene # time=23.178ms
    
    # Subtest: Encapsulation isolation
        1..1
        ok 1 - should not error
    ok 29 - Encapsulation isolation # time=24.92ms
    
    # Subtest: Add schema after register
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 30 - Add schema after register # time=47.513ms
    
    # Subtest: Encapsulation isolation for getSchemas
        1..5
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should be equivalent
    ok 31 - Encapsulation isolation for getSchemas # time=9.43ms
    
    # Subtest: Use the same schema id in different places
        1..1
        ok 1 - should not error
    ok 32 - Use the same schema id in different places # time=42.26ms
    
    # Subtest: Get schema anyway should not add `properties` if allOf is present
        1..1
        ok 1 - should not error
    ok 33 - Get schema anyway should not add `properties` if allOf is present # time=95.741ms
    
    # Subtest: Get schema anyway should not add `properties` if oneOf is present
        1..1
        ok 1 - should not error
    ok 34 - Get schema anyway should not add `properties` if oneOf is present # time=40.513ms
    
    # Subtest: Get schema anyway should not add `properties` if anyOf is present
        1..1
        ok 1 - should not error
    ok 35 - Get schema anyway should not add `properties` if anyOf is present # time=76.834ms
    
    # Subtest: Shared schema should be ignored in string enum
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 36 - Shared schema should be ignored in string enum # time=31.554ms
    
    # Subtest: Shared schema should NOT be ignored in != string enum
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 37 - Shared schema should NOT be ignored in != string enum # time=22.097ms
    
    # Subtest: Case insensitive header validation
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 38 - Case insensitive header validation # time=18.838ms
    
    # Subtest: Not evaluate json-schema $schema keyword
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 39 - Not evaluate json-schema $schema keyword # time=41.612ms
    
    # Subtest: Validation context in validation result
        1..5
        ok 1 - should be equal
        ok 2 - detailed errors
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 40 - Validation context in validation result # time=30.732ms
    
    # Subtest: The schema build should not modify the input
        1..3
        ok 1 - expect truthy value
        ok 2 - should not error
        ok 3 - expect truthy value
    ok 41 - The schema build should not modify the input # time=76.3ms
    
    # Subtest: Cross schema reference with encapsulation references
        1..1
        ok 1 - should not error
    ok 42 - Cross schema reference with encapsulation references # time=74.057ms
    
    # Subtest: Check how many AJV instances are built \#1
        1..12
        ok 1 - validator not initialized
        ok 2 - validator not initialized
        ok 3 - validator not initialized
        ok 4 - validator not initialized
        ok 5 - should not error
        ok 6 - validator initialized on preReady
        ok 7 - validator initialized on preReady
        ok 8 - validator is only one for all the instances
        ok 9 - validator initialized on preReady
        ok 10 - validator is only one for all the instances
        ok 11 - validator initialized on preReady
        ok 12 - validator is only one for all the instances
    ok 43 - Check how many AJV instances are built \#1 # time=24.026ms
    
    # Subtest: onReady hook has the compilers ready
        1..6
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - should not error
        ok 6 - it is called once
    ok 44 - onReady hook has the compilers ready # time=27.464ms
    
    # Subtest: Check how many AJV instances are built \#2 - verify validatorPool
        1..13
        ok 1 - validator not initialized
        ok 2 - validator not initialized
        ok 3 - validator not initialized
        ok 4 - validator not initialized
        ok 5 - validator not initialized
        ok 6 - validator not initialized
        ok 7 - validator not initialized
        ok 8 - validator is initialized
        ok 9 - this context must share the validator with the same schemas
        ok 10 - this context must share the validator of the parent
        ok 11 - validator is initialized
        ok 12 - this context has its own compiler
        ok 13 - should not error
    ok 45 - Check how many AJV instances are built \#2 - verify validatorPool # time=57.826ms
    
    # Subtest: Add schema order should not break the startup
        1..1
        ok 1 - should not error
    ok 46 - Add schema order should not break the startup # time=32.217ms
    
    # Subtest: The schema compiler recreate itself if needed
        1..1
        ok 1 - should not error
    ok 47 - The schema compiler recreate itself if needed # time=35.787ms
    
    # Subtest: Schema controller setter
        1..2
        ok 1 - allow empty object
        ok 2 - should be equal
    ok 48 - Schema controller setter # time=4.217ms
    
    # Subtest: Schema controller bucket
        1..10
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should not error
        ok 9 - three schema added
        ok 10 - one bucket built for every register call + 1 for the root instance
    ok 49 - Schema controller bucket # time=11.011ms
    
    # Subtest: setSchemaController per instance
        1..7
        ok 1 - instance1 has created the bucket
        ok 2 - instance2 has created the bucket
        ok 3 - add is called
        ok 4 - getSchemas is called
        ok 5 - getSchema is called
        ok 6 - the schema are loaded
        ok 7 - should not error
    ok 50 - setSchemaController per instance # time=7.227ms
    
    # Subtest: setSchemaController: Inherits correctly parent schemas with a customized validator instance
        1..5
        ok 1 - Contains same number of schemas
        ok 2 - Contains expected schemas
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - Should not coearce the string into array
    ok 51 - setSchemaController: Inherits correctly parent schemas with a customized validator instance # time=53.311ms
    
    # Subtest: setSchemaController: Inherits buildSerializer from parent if not present within the instance
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - Should be called from the child
        ok 4 - Should not be called from the child
        ok 5 - Should be called from the child
        ok 6 - Should not coerce the string into array
    ok 52 - setSchemaController: Inherits buildSerializer from parent if not present within the instance # time=29.614ms
    
    # Subtest: setSchemaController: Inherits buildValidator from parent if not present within the instance
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - Should be called from the child
        ok 4 - Should not be called from the child
        ok 5 - Should be called from the child
        ok 6 - Should not coearce the string into array
    ok 53 - setSchemaController: Inherits buildValidator from parent if not present within the instance # time=20.839ms
    
    # Subtest: Should throw if not default validator passed
        1..4
        ok 1 - should be equal
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - Should not coearce the string into array
    ok 54 - Should throw if not default validator passed # time=49.366ms
    
    # Subtest: Should coerce the array if the default validator is used
        1..2
        ok 1 - should be equal
        ok 2 - Should coearce the string into array
    ok 55 - Should coerce the array if the default validator is used # time=40.515ms
    
    # Subtest: Should return a human-friendly error if response status codes are not specified
        1..2
        ok 1 - should be equal
        ok 2 - should match pattern provided
    ok 56 - Should return a human-friendly error if response status codes are not specified # time=3.906ms
    
    # Subtest: setSchemaController: custom validator instance should not mutate headers schema
        1..2
        ok 1 - type is Headers
        ok 2 - type is Headers
    ok 57 - setSchemaController: custom validator instance should not mutate headers schema # time=5.823ms
    
    1..57
    # time=1712.673ms
ok 138 - test/schema-feature.test.js # time=1712.673ms

# Subtest: test/schema-serialization.test.js
    # Subtest: basic test
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 1 - basic test # time=103.636ms
    
    # Subtest: custom serializer options
        1..3
        ok 1 - should not error
        ok 2 - it must use the ceil rouding
        ok 3 - should be equal
    ok 2 - custom serializer options # time=7.557ms
    
    # Subtest: Different content types
        1..32
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should not error
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should not error
        ok 16 - should be equal
        ok 17 - should be equal
        ok 18 - should not error
        ok 19 - should be equal
        ok 20 - should be equal
        ok 21 - should not error
        ok 22 - should be equal
        ok 23 - should be equal
        ok 24 - should not error
        ok 25 - should be equal
        ok 26 - should be equal
        ok 27 - should not error
        ok 28 - should be equal
        ok 29 - should be equal
        ok 30 - should not error
        ok 31 - should be equal
        ok 32 - should be equal
    ok 3 - Different content types # time=50.708ms
    
    # Subtest: Invalid multiple content schema, throw FST_ERR_SCH_CONTENT_MISSING_SCHEMA error
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 4 - Invalid multiple content schema, throw FST_ERR_SCH_CONTENT_MISSING_SCHEMA error # time=16.248ms
    
    # Subtest: Use the same schema id in different places
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 5 - Use the same schema id in different places # time=13.417ms
    
    # Subtest: Use shared schema and $ref with $id in response ($ref to $id)
        1..5
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 6 - Use shared schema and $ref with $id in response ($ref to $id) # time=82.147ms
    
    # Subtest: Shared schema should be pass to serializer and validator ($ref to shared schema /definitions)
        1..5
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 7 - Shared schema should be pass to serializer and validator ($ref to shared schema /definitions) # time=70.156ms
    
    # Subtest: Custom setSerializerCompiler
        1..7
        ok 1 - the serializer is set by the parent
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equal
    ok 8 - Custom setSerializerCompiler # time=22.099ms
    
    # Subtest: Custom setSerializerCompiler returns bad serialized output
        1..4
        ok 1 - returning an invalid serialization
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent strictly
    ok 9 - Custom setSerializerCompiler returns bad serialized output # time=12.435ms
    
    # Subtest: Custom serializer per route
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - the custom and route serializer has been called
        1..4
    ok 10 - Custom serializer per route # time=21.478ms
    
    # Subtest: Reply serializer win over serializer 
        1..6
        ok 1 - the custom compiler has been created
        ok 2 - the custom compiler has been created
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equal
    ok 11 - Reply serializer win over serializer # time=7.56ms
    
    # Subtest: Reply serializer win over serializer 
        1..6
        ok 1 - the custom compiler has been created
        ok 2 - the custom compiler has been created
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equal
    ok 12 - Reply serializer win over serializer # time=15.594ms
    
    # Subtest: The schema compiler recreate itself if needed
        1..1
        ok 1 - should not error
    ok 13 - The schema compiler recreate itself if needed # time=12.576ms
    
    # Subtest: The schema changes the default error handler output
        1..4
        ok 1 - should be equal
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 14 - The schema changes the default error handler output # time=19.873ms
    
    # Subtest: do not crash if status code serializer errors
        ok 1 - should be equal
        ok 2 - should be equivalent
        1..2
    ok 15 - do not crash if status code serializer errors # time=70.529ms
    
    # Subtest: custom schema serializer error, empty message
        1..2
        ok 1 - should be equal
        ok 2 - should be equivalent
    ok 16 - custom schema serializer error, empty message # time=22.712ms
    
    # Subtest: error in custom schema serialize compiler, throw FST_ERR_SCH_SERIALIZATION_BUILD error
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 17 - error in custom schema serialize compiler, throw FST_ERR_SCH_SERIALIZATION_BUILD error # time=6.015ms
    
    # Subtest: Errors in searilizer sended to errorHandler
        ok 1 - should be equal
        ok 2 - should be equivalent
        ok 3 - error presents
        ok 4 - Serialization sign presents
        1..4
    ok 18 - Errors in searilizer sended to errorHandler # time=12.516ms
    
    # Subtest: capital X
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 19 - capital X # time=11.936ms
    
    # Subtest: allow default as status code and used as last fallback
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 20 - allow default as status code and used as last fallback # time=11.736ms
    
    1..20
    # time=617.229ms
ok 139 - test/schema-serialization.test.js # time=617.229ms

# Subtest: test/schema-special-usage.test.js
    # Subtest: Ajv plugins array parameter
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 1 - Ajv plugins array parameter # time=159.903ms
    
    # Subtest: Should handle root $merge keywords in header
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 2 - Should handle root $merge keywords in header # time=63.611ms
    
    # Subtest: Should handle root $patch keywords in header
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 3 - Should handle root $patch keywords in header # time=64.289ms
    
    # Subtest: Should handle $merge keywords in body
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 4 - Should handle $merge keywords in body # time=47.156ms
    
    # Subtest: Should handle $patch keywords in body
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 5 - Should handle $patch keywords in body # time=55.158ms
    
    # Subtest: serializer read validator's schemas
        1..4
        ok 1 - is always empty because fastify.addSchema is not called
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 6 - serializer read validator's schemas # time=102.864ms
    
    # Subtest: setSchemaController in a plugin
        1..5
        ok 1 - the bucket is created
        ok 2 - the querystring schema is compiled
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 7 - setSchemaController in a plugin # time=43.509ms
    
    # Subtest: side effect on schema let the server crash
        1..0
    ok 8 - side effect on schema let the server crash # time=57.586ms
    
    # Subtest: only response schema trigger AJV pollution
        1..0
    ok 9 - only response schema trigger AJV pollution # time=17.76ms
    
    # Subtest: only response schema trigger AJV pollution \#2
        1..0
    ok 10 - only response schema trigger AJV pollution \#2 # time=37.717ms
    
    # Subtest: setSchemaController in a plugin with head routes
        1..6
        ok 1 - the bucket is created
        ok 2 - the schema is reused
        ok 3 - the schema is reused
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 11 - setSchemaController in a plugin with head routes # time=55.175ms
    
    # Subtest: multiple refs with the same ids
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 12 - multiple refs with the same ids # time=33.906ms
    
    # Subtest: JOI validation overwrite request headers
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 13 - JOI validation overwrite request headers # time=10.635ms
    
    # Subtest: Custom schema object should not trigger FST_ERR_SCH_DUPLICATE
        ok 1 - fastify is ready
        1..1
    ok 14 - Custom schema object should not trigger FST_ERR_SCH_DUPLICATE # time=5.863ms
    
    # Subtest: The default schema compilers should not be called when overwritte by the user
        ok 1 - The custom validator compiler should be called
        ok 2 - The custom serializer compiler should be called
        1..2
    ok 15 - The default schema compilers should not be called when overwritte by the user # time=41.453ms
    
    # Subtest: Supports async JOI validation
        1..7
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 16 - Supports async JOI validation # time=22.051ms
    
    # Subtest: Supports async AJV validation
        1..12
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
        ok 10 - should not error
        ok 11 - should be equal
        ok 12 - should be equivalent
    ok 17 - Supports async AJV validation # time=67.852ms
    
    # Subtest: Check all the async AJV validation paths
        1..10
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should not error
        ok 10 - should be equal
    ok 18 - Check all the async AJV validation paths # time=35.562ms
    
    # Subtest: Check mixed sync and async AJV validations
        1..12
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should not error
        ok 12 - should be equal
    ok 19 - Check mixed sync and async AJV validations # time=59.966ms
    
    # Subtest: Check if hooks and attachValidation work with AJV validations
        1..16
        ok 1 - should be equal
        ok 2 - preHandler called
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - preHandler called
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - preHandler called
        ok 11 - should not error
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - preHandler called
        ok 15 - should not error
        ok 16 - should be equal
    ok 20 - Check if hooks and attachValidation work with AJV validations # time=74.237ms
    
    1..20
    # time=1079.132ms
ok 140 - test/schema-special-usage.test.js # time=1079.132ms

# Subtest: test/schema-validation.test.js
    # Subtest: Basic validation test
        1..6
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equal
    ok 1 - Basic validation test # time=142.086ms
    
    # Subtest: External AJV instance
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 2 - External AJV instance # time=71.636ms
    
    # Subtest: Encapsulation
        1..19
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
        ok 10 - should not error
        ok 11 - should be equal
        ok 12 - the route validator does not change the instance one
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equivalent
        ok 16 - should be equal
        ok 17 - should not error
        ok 18 - should be equal
        ok 19 - should be equivalent
    ok 3 - Encapsulation # time=89.926ms
    
    # Subtest: Triple $ref with a simple $id
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 4 - Triple $ref with a simple $id # time=62.389ms
    
    # Subtest: Extending schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 5 - Extending schema # time=46.791ms
    
    # Subtest: Should work with nested ids
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 6 - Should work with nested ids # time=60.229ms
    
    # Subtest: Use the same schema across multiple routes
        1..8
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 7 - Use the same schema across multiple routes # time=25.924ms
    
    # Subtest: JSON Schema validation keywords
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 8 - JSON Schema validation keywords # time=125.666ms
    
    # Subtest: Nested id calls
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 9 - Nested id calls # time=28.494ms
    
    # Subtest: Use the same schema id in different places
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 10 - Use the same schema id in different places # time=52.372ms
    
    # Subtest: Use shared schema and $ref with $id ($ref to $id)
        1..5
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 11 - Use shared schema and $ref with $id ($ref to $id) # time=39.217ms
    
    # Subtest: Use items with $ref
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 12 - Use items with $ref # time=33.315ms
    
    # Subtest: Use $ref to /definitions
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 13 - Use $ref to /definitions # time=58.055ms
    
    # Subtest: Custom AJV settings - pt1
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 14 - Custom AJV settings - pt1 # time=31.84ms
    
    # Subtest: Custom AJV settings - pt2
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 15 - Custom AJV settings - pt2 # time=62.52ms
    
    # Subtest: Custom AJV settings on different parameters - pt1
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 16 - Custom AJV settings on different parameters - pt1 # time=34.974ms
    
    # Subtest: Custom AJV settings on different parameters - pt2
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
    ok 17 - Custom AJV settings on different parameters - pt2 # time=29.99ms
    
    # Subtest: The same $id in route's schema must not overwrite others
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 18 - The same $id in route's schema must not overwrite others # time=74.772ms
    
    # Subtest: Custom validator compiler should not mutate schema
        1..2
        ok 1 - type is Headers
        ok 2 - type is Headers
    ok 19 - Custom validator compiler should not mutate schema # time=4.181ms
    
    1..19
    # time=1096.29ms
ok 141 - test/schema-validation.test.js # time=1096.29ms

# Subtest: test/search.test.js
    # Subtest: search
        1..1
        ok 1 - (unnamed test)
    ok 1 - search # time=9.627ms
    
    # Subtest: search, params schema
        1..1
        ok 1 - (unnamed test)
    ok 2 - search, params schema # time=2.573ms
    
    # Subtest: search, querystring schema
        1..1
        ok 1 - (unnamed test)
    ok 3 - search, querystring schema # time=1.702ms
    
    # Subtest: search, body schema
        1..1
        ok 1 - (unnamed test)
    ok 4 - search, body schema # time=1.541ms
    
    ok 5 - should not error
    # Subtest: request - search
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 6 - request - search # time=39.513ms
    
    # Subtest: request search params schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 7 - request search params schema # time=6.477ms
    
    # Subtest: request search params schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 8 - request search params schema error # time=5.095ms
    
    # Subtest: request search querystring schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 9 - request search querystring schema # time=4.811ms
    
    # Subtest: request search querystring schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 10 - request search querystring schema error # time=4.651ms
    
    # Subtest: request search body schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 11 - request search body schema # time=7.055ms
    
    # Subtest: request search body schema error
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 12 - request search body schema error # time=4.905ms
    
    1..12
    # time=197.655ms
ok 142 - test/search.test.js # time=197.655ms

# Subtest: test/server.test.js
    # Subtest: listen should accept null port
        1..1
        ok 1 - should not error
    ok 1 - listen should accept null port # time=76.446ms
    
    # Subtest: listen should accept undefined port
        1..1
        ok 1 - should not error
    ok 2 - listen should accept undefined port # time=8.905ms
    
    # Subtest: listen should accept stringified number port
        1..1
        ok 1 - should not error
    ok 3 - listen should accept stringified number port # time=18.895ms
    
    # Subtest: listen should accept log text resolution function
        1..3
        ok 1 - should be equal
        ok 2 - executed
        ok 3 - should not error
    ok 4 - listen should accept log text resolution function # time=11.859ms
    
    # Subtest: listen should reject string port
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 5 - listen should reject string port # time=12.035ms
    
    # Subtest: abort signal
        # Subtest: listen should not start server
            1..2
            ok 1 - should be equal
            ok 2 - type is [object Object]
        ok 1 - listen should not start server # time=18.032ms
        
        # Subtest: listen should not start server if already aborted
            1..2
            ok 1 - should be equal
            ok 2 - type is [object Object]
        ok 2 - listen should not start server if already aborted # time=17.855ms
        
        # Subtest: listen should throw if received invalid signal
            1..2
            ok 1 - should be equal
            ok 2 - should be equal
        ok 3 - listen should throw if received invalid signal # time=10.016ms
        
        1..3
    ok 6 - abort signal # time=58.996ms
    
    # Subtest: \#5180 - preClose should be called before closing secondary server
        1..2
        ok 1 - should not error
        ok 2 - expect truthy value
    ok 7 - \#5180 - preClose should be called before closing secondary server # time=306.226ms
    
    1..7
    # time=1274.776ms
ok 143 - test/server.test.js # time=1274.776ms

# Subtest: test/skip-reply-send.test.js
    # Subtest: skip automatic reply.send() with reply.sent = true and a body
        ok 1 - should not be equal
        ok 2 - should not be equal
        ok 3 - should not be equal
        ok 4 - should not be equal
        ok 5 - should be equal
        ok 6 - should be equal
        1..6
    ok 1 - skip automatic reply.send() with reply.sent = true and a body # time=67.695ms
    
    # Subtest: skip automatic reply.send() with reply.sent = true and no body
        ok 1 - should not be equal
        ok 2 - should not be equal
        ok 3 - should not be equal
        ok 4 - should not be equal
        ok 5 - should be equal
        ok 6 - should be equal
        1..6
    ok 2 - skip automatic reply.send() with reply.sent = true and no body # time=7.562ms
    
    # Subtest: skip automatic reply.send() with reply.sent = true and an error
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        1..5
    ok 3 - skip automatic reply.send() with reply.sent = true and an error # time=20.045ms
    
    # Subtest: Hijacking inside onRequest skips all the following hooks and handler execution
        1..4
        # Subtest: Sending a response using reply.raw => onResponse hook is called
            ok 1 - should not be equal
            ok 2 - should not be equal
            ok 3 - onResponse should be called
            ok 4 - should not be equal
            ok 5 - should not be equal
            ok 6 - should be equal
            ok 7 - should be equal
            1..7
        ok 1 - Sending a response using reply.raw => onResponse hook is called # time=26.016ms
        
        # Subtest: Sending a response using req.socket => onResponse not called
            ok 1 - should not be equal
            ok 2 - should not be equal
            ok 3 - should not be equal
            ok 4 - should not be equal
            ok 5 - should not error
            ok 6 - should not be equal
            ok 7 - should not be equal
            ok 8 - should match pattern provided
            1..8
        ok 2 - Sending a response using req.socket => onResponse not called # time=51.384ms
        
        # Subtest: Throwing an error doesnt trigger any hooks
            ok 1 - should not be equal
            ok 2 - should not be equal
            ok 3 - should not error
            1..3
        ok 3 - Throwing an error doesnt trigger any hooks # time=1003.139ms
        
        # Subtest: Calling reply.send() after hijacking logs a warning
            ok 1 - should be equal
            ok 2 - should not error
            ok 3 - should be equal
            1..3
        ok 4 - Calling reply.send() after hijacking logs a warning # time=1004.128ms
        
    ok 4 - Hijacking inside onRequest skips all the following hooks and handler execution # time=2100.211ms
    
    # Subtest: Hijacking inside preParsing skips all the following hooks and handler execution
        1..4
        # Subtest: Sending a response using reply.raw => onResponse hook is called
            ok 1 - should not be equal
            ok 2 - should not be equal
            ok 3 - onRequest should be called
            ok 4 - onResponse should be called
            ok 5 - should not be equal
            ok 6 - should not be equal
            ok 7 - should be equal
            ok 8 - should be equal
            1..8
        ok 1 - Sending a response using reply.raw => onResponse hook is called # time=14.327ms
        
        # Subtest: Sending a response using req.socket => onResponse not called
            ok 1 - should not be equal
            ok 2 - should not be equal
            ok 3 - should not be equal
            ok 4 - should not be equal
            ok 5 - should not error
            ok 6 - should not be equal
            ok 7 - should not be equal
            ok 8 - onRequest should be called
            ok 9 - should match pattern provided
            1..9
        ok 2 - Sending a response using req.socket => onResponse not called # time=31.349ms
        
        # Subtest: Throwing an error doesnt trigger any hooks
            ok 1 - should not be equal
            ok 2 - should not be equal
            ok 3 - onRequest should be called
            ok 4 - should not error
            1..4
        ok 3 - Throwing an error doesnt trigger any hooks # time=1003.864ms
        
        # Subtest: Calling reply.send() after hijacking logs a warning
            ok 1 - onRequest should be called
            ok 2 - should be equal
            ok 3 - should not error
            ok 4 - should be equal
            1..4
        ok 4 - Calling reply.send() after hijacking logs a warning # time=1005.551ms
        
    ok 5 - Hijacking inside preParsing skips all the following hooks and handler execution # time=2064.158ms
    
    # Subtest: Hijacking inside preValidation skips all the following hooks and handler execution
        1..4
        # Subtest: Sending a response using reply.raw => onResponse hook is called
            ok 1 - should not be equal
            ok 2 - should not be equal
            ok 3 - onRequest should be called
            ok 4 - preParsing should be called
            ok 5 - onResponse should be called
            ok 6 - should not be equal
            ok 7 - should not be equal
            ok 8 - should be equal
            ok 9 - should be equal
            1..9
        ok 1 - Sending a response using reply.raw => onResponse hook is called # time=16.861ms
        
        # Subtest: Sending a response using req.socket => onResponse not called
            ok 1 - should not be equal
            ok 2 - should not be equal
            ok 3 - should not be equal
            ok 4 - should not be equal
            ok 5 - should not error
            ok 6 - should not be equal
            ok 7 - should not be equal
            ok 8 - onRequest should be called
            ok 9 - preParsing should be called
            ok 10 - should match pattern provided
            1..10
        ok 2 - Sending a response using req.socket => onResponse not called # time=38.841ms
        
        # Subtest: Throwing an error doesnt trigger any hooks
            ok 1 - should not be equal
            ok 2 - should not be equal
            ok 3 - onRequest should be called
            ok 4 - preParsing should be called
            ok 5 - should not error
            1..5
        ok 3 - Throwing an error doesnt trigger any hooks # time=1004.76ms
        
        # Subtest: Calling reply.send() after hijacking logs a warning
            ok 1 - onRequest should be called
            ok 2 - preParsing should be called
            ok 3 - should be equal
            ok 4 - should not error
            ok 5 - should be equal
            1..5
        ok 4 - Calling reply.send() after hijacking logs a warning # time=1004.623ms
        
    ok 6 - Hijacking inside preValidation skips all the following hooks and handler execution # time=2072.44ms
    
    # Subtest: Hijacking inside preHandler skips all the following hooks and handler execution
        1..4
        # Subtest: Sending a response using reply.raw => onResponse hook is called
            ok 1 - should not be equal
            ok 2 - should not be equal
            ok 3 - onRequest should be called
            ok 4 - preParsing should be called
            ok 5 - preValidation should be called
            ok 6 - onResponse should be called
            ok 7 - should not be equal
            ok 8 - should not be equal
            ok 9 - should be equal
            ok 10 - should be equal
            1..10
        ok 1 - Sending a response using reply.raw => onResponse hook is called # time=16.9ms
        
        # Subtest: Sending a response using req.socket => onResponse not called
            ok 1 - should not be equal
            ok 2 - should not be equal
            ok 3 - should not be equal
            ok 4 - should not be equal
            ok 5 - should not error
            ok 6 - should not be equal
            ok 7 - should not be equal
            ok 8 - onRequest should be called
            ok 9 - preParsing should be called
            ok 10 - preValidation should be called
            ok 11 - should match pattern provided
            1..11
        ok 2 - Sending a response using req.socket => onResponse not called # time=11.398ms
        
        # Subtest: Throwing an error doesnt trigger any hooks
            ok 1 - should not be equal
            ok 2 - should not be equal
            ok 3 - onRequest should be called
            ok 4 - preParsing should be called
            ok 5 - preValidation should be called
            ok 6 - should not error
            1..6
        ok 3 - Throwing an error doesnt trigger any hooks # time=1002.48ms
        
        # Subtest: Calling reply.send() after hijacking logs a warning
            ok 1 - onRequest should be called
            ok 2 - preParsing should be called
            ok 3 - preValidation should be called
            ok 4 - should be equal
            ok 5 - should not error
            ok 6 - should be equal
            1..6
        ok 4 - Calling reply.send() after hijacking logs a warning # time=1003.518ms
        
    ok 7 - Hijacking inside preHandler skips all the following hooks and handler execution # time=2040.821ms
    
    # Subtest: Hijacking inside handler skips all the following hooks and handler execution
        1..4
        # Subtest: Sending a response using reply.raw => onResponse hook is called
            ok 1 - should not be equal
            ok 2 - should not be equal
            ok 3 - onRequest should be called
            ok 4 - preParsing should be called
            ok 5 - preValidation should be called
            ok 6 - onResponse should be called
            ok 7 - should not be equal
            ok 8 - should not be equal
            ok 9 - should be equal
            ok 10 - should be equal
            1..10
        ok 1 - Sending a response using reply.raw => onResponse hook is called # time=15.1ms
        
        # Subtest: Sending a response using req.socket => onResponse not called
            ok 1 - should not be equal
            ok 2 - should not be equal
            ok 3 - should not be equal
            ok 4 - should not be equal
            ok 5 - should not error
            ok 6 - should not be equal
            ok 7 - should not be equal
            ok 8 - onRequest should be called
            ok 9 - preParsing should be called
            ok 10 - preValidation should be called
            ok 11 - should match pattern provided
            1..11
        ok 2 - Sending a response using req.socket => onResponse not called # time=16.607ms
        
        # Subtest: Throwing an error doesnt trigger any hooks
            ok 1 - onRequest should be called
            ok 2 - preParsing should be called
            ok 3 - preValidation should be called
            ok 4 - should be equal
            ok 5 - should not error
            ok 6 - should be equal
            1..6
        ok 3 - Throwing an error doesnt trigger any hooks # time=1003.291ms
        
        # Subtest: Calling reply.send() after hijacking logs a warning
            ok 1 - onRequest should be called
            ok 2 - preParsing should be called
            ok 3 - preValidation should be called
            ok 4 - should be equal
            ok 5 - should not error
            ok 6 - should be equal
            1..6
        ok 4 - Calling reply.send() after hijacking logs a warning # time=1004.757ms
        
    ok 8 - Hijacking inside handler skips all the following hooks and handler execution # time=2052.99ms
    
    1..8
    # time=10443.464ms
ok 144 - test/skip-reply-send.test.js # time=10443.464ms

# Subtest: test/stream.1.test.js
    # Subtest: should respond with a stream
        1..6
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
    ok 1 - should respond with a stream # time=69.196ms
    
    # Subtest: should respond with a stream (error)
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 2 - should respond with a stream (error) # time=11.198ms
    
    # Subtest: should trigger the onSend hook
        1..4
        ok 1 - expect truthy value
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 3 - should trigger the onSend hook # time=36.201ms
    
    # Subtest: should trigger the onSend hook only twice if pumping the stream fails, first with the stream, second with the serialized error
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 4 - should trigger the onSend hook only twice if pumping the stream fails, first with the stream, second with the serialized error # time=14.376ms
    
    1..4
    # time=141.438ms
ok 145 - test/stream.1.test.js # time=141.438ms

# Subtest: test/stream.2.test.js
    # Subtest: onSend hook stream
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
    ok 1 - onSend hook stream # time=77.02ms
    
    # Subtest: onSend hook stream should work even if payload is not a proper stream
        1..1
        ok 1 - should be equal
    ok 2 - onSend hook stream should work even if payload is not a proper stream # time=31.007ms
    
    # Subtest: onSend hook stream should work on payload with "close" ending function
        1..1
        ok 1 - (unnamed test)
    ok 3 - onSend hook stream should work on payload with "close" ending function # time=23.501ms
    
    1..3
    # time=148.945ms
ok 146 - test/stream.2.test.js # time=148.945ms

# Subtest: test/stream.3.test.js
    # Subtest: Destroying streams prematurely
        1..6
        ok 1 - should not error
        ok 2 - Received request
        ok 3 - should be equal
        ok 4 - Response closed
        ok 5 - should be equal
        ok 6 - should be equal
    ok 1 - Destroying streams prematurely # time=68.342ms
    
    # Subtest: Destroying streams prematurely should call close method
        1..7
        ok 1 - should not error
        ok 2 - Received request
        ok 3 - should be equal
        ok 4 - Response closed
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - expect truthy value
    ok 2 - Destroying streams prematurely should call close method # time=12.401ms
    
    # Subtest: Destroying streams prematurely should call close method when destroy is not a function
        1..7
        ok 1 - should not error
        ok 2 - Received request
        ok 3 - should be equal
        ok 4 - Response closed
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - expect truthy value
    ok 3 - Destroying streams prematurely should call close method when destroy is not a function # time=22.36ms
    
    1..3
    # time=121.535ms
ok 147 - test/stream.3.test.js # time=121.535ms

# Subtest: test/stream.4.test.js
    # Subtest: Destroying streams prematurely should call abort method
        1..7
        ok 1 - should not error
        ok 2 - Received request
        ok 3 - should be equal
        ok 4 - Response closed
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - expect truthy value
    ok 1 - Destroying streams prematurely should call abort method # time=68.796ms
    
    # Subtest: Destroying streams prematurely, log is disabled
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - Response closed
        ok 4 - expect truthy value
    ok 2 - Destroying streams prematurely, log is disabled # time=10.512ms
    
    # Subtest: should respond with a stream1
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 3 - should respond with a stream1 # time=39.907ms
    
    # Subtest: return a 404 if the stream emits a 404 error
        1..5
        ok 1 - should not error
        ok 2 - Received request
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 4 - return a 404 if the stream emits a 404 error # time=27.976ms
    
    # Subtest: should support send module 200 and 404
        1..8
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 5 - should support send module 200 and 404 # time=19.514ms
    
    1..5
    # time=177.454ms
ok 148 - test/stream.4.test.js # time=177.454ms

# Subtest: test/stream.5.test.js
    # Subtest: should destroy stream when response is ended
        1..4
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
    ok 1 - should destroy stream when response is ended # time=61.049ms
    
    # Subtest: should mark reply as sent before pumping the payload stream into response for async route handler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 2 - should mark reply as sent before pumping the payload stream into response for async route handler # time=39.073ms
    
    # Subtest: reply.send handles aborted requests
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 3 - reply.send handles aborted requests # time=26.544ms
    
    # Subtest: request terminated should not crash fastify
        1..10
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should end properly
    ok 4 - request terminated should not crash fastify # time=125.183ms
    
    1..4
    # time=262.053ms
ok 149 - test/stream.5.test.js # time=262.053ms

# Subtest: test/sync-routes.test.js
    # Subtest: sync route
        ok 1 - should be equal
        ok 2 - should be equal
        1..2
    ok 1 - sync route # time=52.208ms
    
    # Subtest: sync route return null
        ok 1 - should be equal
        ok 2 - should be equal
        1..2
    ok 2 - sync route return null # time=5.214ms
    
    # Subtest: sync route, error
        ok 1 - should be equal
        1..1
    ok 3 - sync route, error # time=16.294ms
    
    1..3
    # time=96.553ms
ok 150 - test/sync-routes.test.js # time=96.553ms

# Subtest: test/throw.test.js
    # Subtest: Fastify should throw on wrong options
        1..2
        ok 1 - should be equal
        ok 2 - (unnamed test)
    ok 1 - Fastify should throw on wrong options # time=7.988ms
    
    # Subtest: Fastify should throw on multiple assignment to the same route
        1..1
        ok 1 - should be equal
    ok 2 - Fastify should throw on multiple assignment to the same route # time=15.321ms
    
    # Subtest: Fastify should throw for an invalid schema, printing the error route - headers
        1..2
        ok 1 - should be equal
        ok 2 - should match pattern provided
    ok 3 - Fastify should throw for an invalid schema, printing the error route - headers # time=98.597ms
    
    # Subtest: Fastify should throw for an invalid schema, printing the error route - body
        1..2
        ok 1 - should be equal
        ok 2 - should match pattern provided
    ok 4 - Fastify should throw for an invalid schema, printing the error route - body # time=34.107ms
    
    # Subtest: Fastify should throw for an invalid shorthand option type
        1..3
        ok 1 - should be equal
        ok 2 - should match pattern provided
        ok 3 - (unnamed test)
    ok 5 - Fastify should throw for an invalid shorthand option type # time=3.265ms
    
    # Subtest: Should throw on unsupported method
        1..1
        ok 1 - (unnamed test)
    ok 6 - Should throw on unsupported method # time=1.808ms
    
    # Subtest: Should throw on missing handler
        1..1
        ok 1 - (unnamed test)
    ok 7 - Should throw on missing handler # time=2.47ms
    
    # Subtest: Should throw if one method is unsupported
        1..1
        ok 1 - (unnamed test)
    ok 8 - Should throw if one method is unsupported # time=1.591ms
    
    # Subtest: Should throw on duplicate content type parser
        1..1
        ok 1 - (unnamed test)
    ok 9 - Should throw on duplicate content type parser # time=1.896ms
    
    # Subtest: Should throw on duplicate decorator
        1..1
        ok 1 - (unnamed test)
    ok 10 - Should throw on duplicate decorator # time=4.095ms
    
    # Subtest: Should not throw on duplicate decorator encapsulation
        1..1
        ok 1 - expected to not throw
    ok 11 - Should not throw on duplicate decorator encapsulation # time=13ms
    
    # Subtest: Should throw on duplicate request decorator
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 12 - Should throw on duplicate request decorator # time=2.615ms
    
    # Subtest: Should throw if request decorator dependencies are not met
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 13 - Should throw if request decorator dependencies are not met # time=4.502ms
    
    # Subtest: Should throw on duplicate reply decorator
        1..1
        ok 1 - expect truthy value
    ok 14 - Should throw on duplicate reply decorator # time=3.534ms
    
    # Subtest: Should throw if reply decorator dependencies are not met
        1..1
        ok 1 - expect truthy value
    ok 15 - Should throw if reply decorator dependencies are not met # time=3.884ms
    
    # Subtest: Should throw if handler as the third parameter to the shortcut method is missing and the second parameter is not a function and also not an object
        1..5
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - (unnamed test)
        ok 4 - (unnamed test)
        ok 5 - (unnamed test)
    ok 16 - Should throw if handler as the third parameter to the shortcut method is missing and the second parameter is not a function and also not an object # time=5.795ms
    
    # Subtest: Should throw if handler as the third parameter to the shortcut method is missing and the second parameter is not a function and also not an object
        1..5
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - (unnamed test)
        ok 4 - (unnamed test)
        ok 5 - (unnamed test)
    ok 17 - Should throw if handler as the third parameter to the shortcut method is missing and the second parameter is not a function and also not an object # time=5.278ms
    
    # Subtest: Should throw if there is handler function as the third parameter to the shortcut method and options as the second parameter is not an object
        1..5
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - (unnamed test)
        ok 4 - (unnamed test)
        ok 5 - (unnamed test)
    ok 18 - Should throw if there is handler function as the third parameter to the shortcut method and options as the second parameter is not an object # time=5.631ms
    
    # Subtest: Should throw if found duplicate handler as the third parameter to the shortcut method and in options
        1..1
        ok 1 - (unnamed test)
    ok 19 - Should throw if found duplicate handler as the third parameter to the shortcut method and in options # time=3.095ms
    
    1..19
    # time=250.481ms
ok 151 - test/throw.test.js # time=250.481ms

# Subtest: test/trace.test.js
    # Subtest: shorthand - trace
        1..1
        ok 1 - (unnamed test)
    ok 1 - shorthand - trace # time=9.249ms
    
    1..1
    # time=19.24ms
ok 152 - test/trace.test.js # time=19.24ms

# Subtest: test/trust-proxy.test.js
    # Subtest: trust proxy, not add properties to node req
        1..8
        ok 1 - should not error
        ok 2 - ip is defined
        ok 3 - gets ip from x-forwarded-for
        ok 4 - hostname is defined
        ok 5 - gets hostname from x-forwarded-host
        ok 6 - ip is defined
        ok 7 - gets ip from x-forwarded-for
        ok 8 - gets ips from x-forwarded-for
    ok 1 - trust proxy, not add properties to node req # time=60.516ms
    
    # Subtest: trust proxy chain
        1..3
        ok 1 - should not error
        ok 2 - ip is defined
        ok 3 - gets ip from x-forwarded-for
    ok 2 - trust proxy chain # time=12.158ms
    
    # Subtest: trust proxy function
        1..3
        ok 1 - should not error
        ok 2 - ip is defined
        ok 3 - gets ip from x-forwarded-for
    ok 3 - trust proxy function # time=6.913ms
    
    # Subtest: trust proxy number
        1..4
        ok 1 - should not error
        ok 2 - ip is defined
        ok 3 - gets ip from x-forwarded-for
        ok 4 - gets ips from x-forwarded-for
    ok 4 - trust proxy number # time=21.847ms
    
    # Subtest: trust proxy IP addresses
        1..4
        ok 1 - should not error
        ok 2 - ip is defined
        ok 3 - gets ip from x-forwarded-for
        ok 4 - gets ips from x-forwarded-for
    ok 5 - trust proxy IP addresses # time=36.269ms
    
    # Subtest: trust proxy protocol
        1..13
        ok 1 - should not error
        ok 2 - ip is defined
        ok 3 - gets ip from x-forwarded-for
        ok 4 - protocol is defined
        ok 5 - gets protocol from x-forwarded-proto
        ok 6 - ip is defined
        ok 7 - gets ip from x-forwarded-for
        ok 8 - protocol is defined
        ok 9 - gets protocol from x-forwarded-proto
        ok 10 - ip is defined
        ok 11 - gets ip from x-forwarded-for
        ok 12 - protocol is defined
        ok 13 - gets protocol from x-forwarded-proto
    ok 6 - trust proxy protocol # time=22.697ms
    
    1..6
    # time=203.38ms
ok 153 - test/trust-proxy.test.js # time=203.38ms

# Subtest: test/type-provider.test.js
    # Subtest: Should export withTypeProvider function
        1..1
        ok 1 - (unnamed test)
    ok 1 - Should export withTypeProvider function # time=15.079ms
    
    # Subtest: Should return same instance
        1..1
        ok 1 - should be equal
    ok 2 - Should return same instance # time=2.091ms
    
    1..2
    # time=29.824ms
ok 154 - test/type-provider.test.js # time=29.824ms

# Subtest: test/unlock.test.js
    # Subtest: can be created - unlock
        1..1
        ok 1 - (unnamed test)
    ok 1 - can be created - unlock # time=13.714ms
    
    ok 2 - should not error
    # Subtest: request - unlock
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 3 - request - unlock # time=31.403ms
    
    1..3
    # time=86.738ms
ok 155 - test/unlock.test.js # time=86.738ms

# Subtest: test/unsupported-httpversion.test.js
    # Subtest: Will return 505 HTTP error if HTTP version (2.0 when server is 1.1) is not supported
        ok 1 - should not error
        ok 2 - should match pattern provided
        1..2
    ok 1 - Will return 505 HTTP error if HTTP version (2.0 when server is 1.1) is not supported # time=53.201ms
    
    1..1
    # time=60.875ms
ok 156 - test/unsupported-httpversion.test.js # time=60.875ms

# Subtest: test/upgrade.test.js
    # Subtest: upgrade to both servers
        1..2
        ok 1 - upgrade event {"address":"127.0.0.1","family":"IPv4","port":37067}
        ok 2 - upgrade event {"address":"::1","family":"IPv6","port":37067}
    ok 1 - upgrade to both servers # time=41.071ms
    
    1..1
    # time=49.316ms
ok 157 - test/upgrade.test.js # time=49.316ms

# Subtest: test/url-rewriting.test.js
    # Subtest: Should rewrite url
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equivalent
        ok 5 - should be equal
    ok 1 - Should rewrite url # time=67.137ms
    
    # Subtest: Should not rewrite if the url is the same
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 2 - Should not rewrite if the url is the same # time=9.573ms
    
    # Subtest: Should throw an error
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
    ok 3 - Should throw an error # time=25.714ms
    
    # Subtest: Should rewrite url but keep originalUrl unchanged
        1..7
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equivalent
        ok 7 - should be equal
    ok 4 - Should rewrite url but keep originalUrl unchanged # time=12.626ms
    
    1..4
    # time=128.482ms
ok 158 - test/url-rewriting.test.js # time=128.482ms

# Subtest: test/validation-error-handling.test.js
    # Subtest: should work with valid payload
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 1 - should work with valid payload # time=139.604ms
    
    # Subtest: should fail immediately with invalid payload
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 2 - should fail immediately with invalid payload # time=37.453ms
    
    # Subtest: should be able to use setErrorHandler specify custom validation error
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 3 - should be able to use setErrorHandler specify custom validation error # time=65.264ms
    
    # Subtest: validation error has 400 statusCode set
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 4 - validation error has 400 statusCode set # time=36.901ms
    
    # Subtest: error inside custom error handler should have validationContext
        1..1
        ok 1 - should be equal
    ok 5 - error inside custom error handler should have validationContext # time=12.044ms
    
    # Subtest: error inside custom error handler should have validationContext if specified by custom error handler
        1..1
        ok 1 - should be equal
    ok 6 - error inside custom error handler should have validationContext if specified by custom error handler # time=10.714ms
    
    # Subtest: should be able to attach validation to request
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 7 - should be able to attach validation to request # time=38.809ms
    
    # Subtest: should respect when attachValidation is explicitly set to false
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 8 - should respect when attachValidation is explicitly set to false # time=29.312ms
    
    # Subtest: Attached validation error should take precedence over setErrorHandler
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 9 - Attached validation error should take precedence over setErrorHandler # time=47.001ms
    
    # Subtest: should handle response validation error
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 10 - should handle response validation error # time=11.118ms
    
    # Subtest: should handle response validation error with promises
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 11 - should handle response validation error with promises # time=17.234ms
    
    # Subtest: should return a defined output message parsing AJV errors
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 12 - should return a defined output message parsing AJV errors # time=58.483ms
    
    # Subtest: should return a defined output message parsing JOI errors
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 13 - should return a defined output message parsing JOI errors # time=10.653ms
    
    # Subtest: should return a defined output message parsing JOI error details
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 14 - should return a defined output message parsing JOI error details # time=8.213ms
    
    # Subtest: the custom error formatter context must be the server instance
        1..4
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should be equal
    ok 15 - the custom error formatter context must be the server instance # time=29.659ms
    
    # Subtest: the custom error formatter context must be the server instance in options
        1..4
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should be equal
    ok 16 - the custom error formatter context must be the server instance in options # time=66.728ms
    
    # Subtest: should call custom error formatter
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equivalent
        ok 9 - should be equal
    ok 17 - should call custom error formatter # time=33.191ms
    
    # Subtest: should catch error inside formatter and return message
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 18 - should catch error inside formatter and return message # time=30.369ms
    
    # Subtest: cannot create a fastify instance with wrong type of errorFormatter
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 19 - cannot create a fastify instance with wrong type of errorFormatter # time=3.935ms
    
    # Subtest: should register a route based schema error formatter
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 20 - should register a route based schema error formatter # time=29.751ms
    
    # Subtest: prefer route based error formatter over global one
        1..9
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equivalent
        ok 9 - should be equal
    ok 21 - prefer route based error formatter over global one # time=37.538ms
    
    # Subtest: adding schemaErrorFormatter
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 22 - adding schemaErrorFormatter # time=29.504ms
    
    # Subtest: plugin override
        1..15
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equivalent
        ok 9 - should be equal
        ok 10 - should not error
        ok 11 - should be equivalent
        ok 12 - should be equal
        ok 13 - should not error
        ok 14 - should be equivalent
        ok 15 - should be equal
    ok 23 - plugin override # time=39.832ms
    
    1..23
    # time=851.503ms
ok 159 - test/validation-error-handling.test.js # time=851.503ms

# Subtest: test/versioned-routes.test.js
    # Subtest: Should register a versioned route
        1..11
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equivalent
        ok 9 - should be equal
        ok 10 - should not error
        ok 11 - should be equal
    ok 1 - Should register a versioned route # time=53.479ms
    
    # Subtest: Should register a versioned route via route constraints
        1..6
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equal
    ok 2 - Should register a versioned route via route constraints # time=12.117ms
    
    # Subtest: Should register the same route with different versions
        1..8
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 3 - Should register the same route with different versions # time=8.22ms
    
    # Subtest: The versioned route should take precedence
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 4 - The versioned route should take precedence # time=14.16ms
    
    # Subtest: Versioned route but not version header should return a 404
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 5 - Versioned route but not version header should return a 404 # time=11.104ms
    
    # Subtest: Should register a versioned route
        1..6
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
    ok 6 - Should register a versioned route # time=37.021ms
    
    # Subtest: Shorthand route declaration
        1..5
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 7 - Shorthand route declaration # time=7.145ms
    
    # Subtest: The not found handler should not erase the Accept-Version header
        1..13
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
        ok 7 - should be equivalent
        ok 8 - should be equivalent
        ok 9 - should be equivalent
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equivalent
        ok 13 - should be equal
    ok 8 - The not found handler should not erase the Accept-Version header # time=22.39ms
    
    # Subtest: Bad accept version (inject)
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 9 - Bad accept version (inject) # time=9.576ms
    
    # Subtest: Bad accept version (server)
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 10 - Bad accept version (server) # time=22.59ms
    
    # Subtest: test log stream
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 11 - test log stream # time=19.459ms
    
    # Subtest: Should register a versioned route with custom versioning strategy
        1..8
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 12 - Should register a versioned route with custom versioning strategy # time=20.13ms
    
    # Subtest: Should get error using an invalid a versioned route, using default validation (deprecated versioning option)
        1..3
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
    ok 13 - Should get error using an invalid a versioned route, using default validation (deprecated versioning option) # time=14.165ms
    
    # Subtest: Vary header check (for documentation example)
        1..8
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equivalent
        ok 7 - should be equal
        ok 8 - should be equal
    ok 14 - Vary header check (for documentation example) # time=12.624ms
    
    # Subtest: Should trigger a warning when a versioned route is registered via version option
        1..4
        ok 1 - FSTDEP008 has been emitted
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should be equal
    ok 15 - Should trigger a warning when a versioned route is registered via version option # time=22.642ms
    
    1..15
    # time=374.859ms
ok 160 - test/versioned-routes.test.js # time=374.859ms

# Subtest: test/wrapThenable.test.js
    # Subtest: should resolve immediately when reply[kReplyHijacked] is true
        1..0
    ok 1 - should resolve immediately when reply[kReplyHijacked] is true # time=4.082ms
    
    # Subtest: should reject immediately when reply[kReplyHijacked] is true
        1..1
        ok 1 - should be equal
    ok 2 - should reject immediately when reply[kReplyHijacked] is true # time=3.273ms
    
    1..2
    # time=17.776ms
ok 161 - test/wrapThenable.test.js # time=17.776ms

1..161
# time=156460.984ms
-----------------------------|---------|----------|---------|---------|---------------------
File                         | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s   
-----------------------------|---------|----------|---------|---------|---------------------
All files                    |   99.82 |    99.59 |    99.7 |   99.82 |                     
 src                         |    99.1 |    97.86 |      98 |    99.1 |                     
  fastify.js                 |    99.1 |    97.86 |      98 |    99.1 | 440-442,444,514-517 
 src/lib                     |   99.93 |    99.82 |     100 |   99.93 |                     
  contentTypeParser.js       |     100 |      100 |     100 |     100 |                     
  context.js                 |     100 |      100 |     100 |     100 |                     
  decorate.js                |     100 |      100 |     100 |     100 |                     
  error-handler.js           |     100 |      100 |     100 |     100 |                     
  errors.js                  |     100 |      100 |     100 |     100 |                     
  fourOhFour.js              |     100 |      100 |     100 |     100 |                     
  handleRequest.js           |     100 |      100 |     100 |     100 |                     
  headRoute.js               |     100 |      100 |     100 |     100 |                     
  hooks.js                   |     100 |      100 |     100 |     100 |                     
  httpMethods.js             |     100 |      100 |     100 |     100 |                     
  initialConfigValidation.js |     100 |      100 |     100 |     100 |                     
  logger.js                  |     100 |      100 |     100 |     100 |                     
  noop-set.js                |     100 |      100 |     100 |     100 |                     
  pluginOverride.js          |     100 |      100 |     100 |     100 |                     
  pluginUtils.js             |     100 |      100 |     100 |     100 |                     
  reply.js                   |     100 |      100 |     100 |     100 |                     
  reqIdGenFactory.js         |     100 |      100 |     100 |     100 |                     
  request.js                 |     100 |      100 |     100 |     100 |                     
  route.js                   |     100 |      100 |     100 |     100 |                     
  schema-controller.js       |     100 |      100 |     100 |     100 |                     
  schemas.js                 |     100 |      100 |     100 |     100 |                     
  server.js                  |   99.08 |    98.03 |     100 |   99.08 | 186-187,189-190     
  symbols.js                 |     100 |      100 |     100 |     100 |                     
  validation.js              |     100 |      100 |     100 |     100 |                     
  warnings.js                |     100 |      100 |     100 |     100 |                     
  wrapThenable.js            |     100 |      100 |     100 |     100 |                     
-----------------------------|---------|----------|---------|---------|---------------------

> fastify@4.25.2 test:typescript
> tsc test/types/import.ts && tsd

Tests finished with EXIT=0

==============================================
Resources info:
Memory:
               total        used        free      shared  buff/cache   available
Mem:           1.7Gi       516Mi       750Mi        26Mi       718Mi       1.2Gi
Swap:             0B          0B          0B
Storage:
Filesystem      Size  Used Avail Use% Mounted on
devtmpfs        4.0M     0  4.0M   0% /dev
tmpfs           889M   84K  888M   1% /dev/shm
tmpfs           356M   25M  331M   7% /run
/dev/vda1        20G  7.5G   13G  38% /
tmpfs           178M   12K  178M   1% /run/user/0
CPU
Architecture:                    x86_64
CPU op-mode(s):                  32-bit, 64-bit
Address sizes:                   46 bits physical, 57 bits virtual
Byte Order:                      Little Endian
CPU(s):                          1
On-line CPU(s) list:             0
Vendor ID:                       GenuineIntel
BIOS Vendor ID:                  Red Hat
Model name:                      Intel Xeon Processor (Icelake)
BIOS Model name:                 RHEL 7.6.0 PC (i440FX + PIIX, 1996)
CPU family:                      6
Model:                           134
Thread(s) per core:              1
Core(s) per socket:              1
Socket(s):                       1
Stepping:                        0
BogoMIPS:                        4589.21
Flags:                           fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush mmx fxsr sse sse2 ss syscall nx pdpe1gb rdtscp lm constant_tsc rep_good nopl xtopology cpuid tsc_known_freq pni pclmulqdq vmx ssse3 fma cx16 pcid sse4_1 sse4_2 x2apic movbe popcnt tsc_deadline_timer aes xsave avx f16c rdrand hypervisor lahf_lm abm 3dnowprefetch cpuid_fault invpcid_single ssbd ibrs ibpb stibp ibrs_enhanced tpr_shadow vnmi flexpriority ept vpid ept_ad fsgsbase tsc_adjust bmi1 avx2 smep bmi2 erms invpcid avx512f avx512dq rdseed adx smap avx512ifma clflushopt clwb avx512cd sha_ni avx512bw avx512vl xsaveopt xsavec xgetbv1 xsaves wbnoinvd arat avx512vbmi umip pku ospke avx512_vbmi2 gfni vaes vpclmulqdq avx512_vnni avx512_bitalg avx512_vpopcntdq la57 rdpid fsrm md_clear arch_capabilities
Virtualization:                  VT-x
Hypervisor vendor:               KVM
Virtualization type:             full
L1d cache:                       32 KiB (1 instance)
L1i cache:                       32 KiB (1 instance)
L2 cache:                        4 MiB (1 instance)
L3 cache:                        16 MiB (1 instance)
NUMA node(s):                    1
NUMA node0 CPU(s):               0
Vulnerability Itlb multihit:     Not affected
Vulnerability L1tf:              Not affected
Vulnerability Mds:               Not affected
Vulnerability Meltdown:          Not affected
Vulnerability Mmio stale data:   Vulnerable: Clear CPU buffers attempted, no microcode; SMT Host state unknown
Vulnerability Retbleed:          Not affected
Vulnerability Spec store bypass: Mitigation; Speculative Store Bypass disabled via prctl
Vulnerability Spectre v1:        Mitigation; usercopy/swapgs barriers and __user pointer sanitization
Vulnerability Spectre v2:        Mitigation; Enhanced IBRS, IBPB conditional, RSB filling, PBRSB-eIBRS Not affected
Vulnerability Srbds:             Not affected
Vulnerability Tsx async abort:   Mitigation; TSX disabled
==============================================
Image ubi9/nodejs-16:1 information:
==============================================
Uncompressed size of the image: 632MB
Compressed size of the image: 219MB

==============================================
Cleaning of testing containers and images started.
It may take a few seconds.
==============================================
Examining image ID files in $APP_ID_FILE_DIR=/tmp/tmp.VSRqUsBthW
Untagged: localhost/ubi9/nodejs-16:1-cloudevents
Deleted: 03309ec3944a64361144d811918ca74fc0d49969c164db41da48ae10185830e1
Deleted: 975ddaf0af903738460a3e5370fd569793c12fba99e0209ca84a70357e6d08e6
Deleted: 83642c796bd2c18465edc5f19919021aec15781e65394550d543c41d4e652e7f
Deleted: 8b4c101b5c396b793328d20211416f6ead22f2a39b756d3d96663bc05a11a29d
Deleted: c2cbfb6101449f280293b7f80a11b1dd7148e231b6f4bdcb25009fe00c95108b
Deleted: f334f1d014c872928c3c5c92bdc12ba9fdc41d96a135d9c3cca942fbad424660
Deleted: 06949a4f8c33070f0503e4bfc2346b0b1f0392aa44f58e62d9eb123679c4860f
Deleted: 0b038641923410bfd8cf690f4ac0405a37336ae3dd3f5a63f17538917ef63934
Deleted: 8f83ac965f85089dc227489d3e34dac302928154f55ed7efa3955e34b4d730c4
Deleted: 672b5dc2aa6b31fbd4ac5c77973e0fc592fe85676c78009dc9c1624c1ad3f9e2
Untagged: localhost/ubi9/nodejs-16:1-faas-js-runtime
Deleted: f6a30ec0ddb1a54d18c626c0b503e9f49059747db9d44c5a07cbb5fb7c541e20
Deleted: db48d861263ae5f37109c722b76e8022bccb01f3a8700fb410cfd0628886c464
Deleted: 02a565a4c8a7e8886c16f448b339355407814b8c3afca8552f1b913da481da0f
Deleted: e4c191d6363bc8a34467663d2963823cf5cdb147ad6ead2b150ddb82210006af
Deleted: e82cff6dd84a4245c11b8b6c2bc48a08ef3b6aa77525f41e0a90cb771bda44b7
Deleted: 10346b0146fe81cbc7db652df0a7cf01f02807946da190880b33ff17601bbf22
Deleted: d82d39ff411ae168cbfe75bc803841c2010814d56c26cc0405f2a923184e9119
Deleted: 1816ad6542cb73ef9418f0d230c5d1ce116df8667748fdf2bee60382d80145cf
Deleted: 6f883b1d088b1904d75a0ea256fbe9ed79102c10939fdd5bd29ec475ada9c8aa
Deleted: 634b546d70cbdb4319a3330e8b807b3dbfe31ae57435be085c7a4b313bf19199
Untagged: localhost/ubi9/nodejs-16:1-opossum
Deleted: e556cd78bd3d3a7625b2ccccb69741f7b9c36aa0772a8dc6f0b2bbcbd9a44c3a
Deleted: e6033fd6d006ffd88f1560b67389b097e0f95ad80fccd9fe61fd69d0692ad91b
Deleted: e9d3869473c8e0c03e4e7f9f8a1a0ac44b9f4b0d60b42c4db7c1c28ce12b8598
Deleted: 4cb6b13715f1886ac3ca9030047439f03d7d7f47ef3ed291eee17810e4a5ef3b
Deleted: fb8b7d81f4ce1f2a32b91782bade853acea168bbf70432a99ab7e10fdb9aa365
Deleted: f7673172056bbea1880b6b92f754144320877dc1f3d37dfad06fba65e2df8856
Deleted: 68c94ebe02e323bc5d487500582b2caf9b72fe736b0d2cf607c5cf2654977cad
Deleted: cbd7ef6d47bb555af4133fd8dc9fd9527292241911321b152273589f6127c91e
Deleted: 379b82eca7db040cad069e51acffa8a6c6a5b10dc3a8bfb92f016870a91bb572
Deleted: 3e0980074070d09290a5274788abe763d8f3fb91c6a0035ce24f3b679ada09ae
Untagged: localhost/ubi9/nodejs-16:1-prom-client
Deleted: c0b3f085da32d5fa4bd6d44d10f54518683e054cf66f66b0a82a50d827c1e560
Deleted: f09fc756bca7b4432ace52ecdd6394a376846e698fd11974015cb75e529fed60
Deleted: 3a9a58ab06c16d749386c100a38c92edfc04bc1074cee171733134c480ba30ea
Deleted: 0fab8569d20301cee4aba31e8662b690e31a249c105a45de3241f36413d88cc4
Deleted: e0994e164d45228807638ce808b01fc44ec168895eec512e1468d70dbfc704d7
Deleted: e35c5f44c4dd81adf52ee03d8e9d5e4f05a95f1df83df14d431bf474e7689145
Deleted: bbfb47aea996c56827b3ca71719776053039438af0166b742d4f5b93d908f5ae
Deleted: bfb60b4c89a2e1c9adcd8a141f7ad4cf4c20af90c15e9afd3e99450777a31ff6
Deleted: 30ceeed0a3d11c866aca1221f8a149ba5d081ccad7c23d88dd1ff70a7baec49c
Deleted: 37560c53ae517f38aede661672f14408402551b30791c487d818995757c418bf
Untagged: localhost/ubi9/nodejs-16:1-fastify
Deleted: 5ac5c87784225bab1694e26ae99448c589eee70fa928b1edd0f7e1fd96703030
Deleted: 55827445bc9783303a47f50a390c15d7ef468ca4d923de4652967581cfd0b086
Deleted: e84529476ec89e074291accb8c5883fa718ee0d4432e107efb3bbabd30bf9451
Deleted: a8bf9814a5ecde53be304dffd203f4a36a70e54fcc134ec5e0b6960165237ead
Deleted: e5cc44c3ab3d17024b4fdf99ab8a2149d0c39cb3cd81840ee9954b56c6eab8d2
Deleted: 87d1f986f38b7bf3e61fb6d75423a9747aacc9a33928dca9911e8a254271487f
Deleted: f83a3d3cc8ce57b994f48f5c3acf9bce2e08938dc1bdf926bc0d9d6eb09159b3
Deleted: 72e242ea33c7cb296461e5462431276857e22e92cac20c67e36288b17d0e5293
Deleted: 017d8eb4955b7d562b4d1c8d84341a4a669acd4f50ffbf145793850620863fe3
Deleted: 9465d95553a003060954af13b9b4e58beea02507b5be4a720627362bcfd3af3f
Untagged: localhost/ubi9/nodejs-16:1-express
Deleted: 9053901bb0c5bf71453c08cbaa480d1a8f1f26fcc403d6cccc017e72725fa0a9
Deleted: 7c23e6ef18ef12457b7e973c8997f256e9100002e88bbdbb08b8efe468707604
Deleted: 14933f433e5bb0fabe1557ed61c827172666a2460d8794f0cd46411125c35d6c
Deleted: c40734eed9c6143ad79078cd1bdb88d9d18aff09389fb9f7211b82acfa743100
Deleted: e2de6398f340fd9cb8bbd5d347b5fac9ca93dba968f6b62fd12974a6c70f9536
Deleted: bc8e0d548a07ae145b12c13aaee790f2a650188260abeb1627a3fb40b7429dea
Deleted: 19beb693394044e7cb081b40876d736903f8b61037af32f7ecb2723c28ac0c05
Deleted: 7d5cc8a3e9d8907d73ab66f43ef4714eebde5db4bcad7ab0f20319c2db791e4d
Deleted: 802cc917bf3f465c7bc11b95660c837a795863c0168e02be2bf6fa694db3616c
Deleted: 372426fbd4b8f8852d7d72671d8445a232d60a4dc65bfd97b4a5c6e9cbd90e5c
Untagged: localhost/ubi9/nodejs-16:1-kube-service-bindings
Deleted: 6da10a37dca61d6aed370cc2e3f928850eae541480f0cd2d080d261d92e8a6a3
Deleted: 6011a8fae87227d111a6ca6a3a31b02f5a5b6b0c38cb383c66e5d386af24d8db
Deleted: 672934639acf20f6fa1c77a0e26e32cc2e49eee9c83b42ac9b0c0f7249a65a9e
Deleted: c6e8ae5b5e2fc271751ab41b058289cd34697d182fbcfb572dcc281144fc11e0
Deleted: 782096e3a65358d61fd61a0cab840131c1b20e801c169f6cc0b2f91340bd41b1
Deleted: 34c6c1b0c944e3614c1fa13d8df38cf03a1762f27df16d8b4fe5fea056a58c32
Deleted: 2d9ff7d32e4c2a15b004d835c1860dda2264b0bdf5c49e7d1d4e520ecbf4dd06
Deleted: 6e9926d21106f667b239e8cd40d426b98db26d6ccc0635e040527e1ee5d4f9ea
Deleted: e1fc30f9da83301024484eff8e3ed4cf17dd76d8a83a9d96f95fa9280b5b3803
Deleted: a50efd0498d5866f7f28025651d329c8373154645aabb6a0a8fb34c0c8e3044d
Examining CID files in $CID_FILE_DIR=/tmp/tmp.YWBf1D3SKv
==============================================
Tests were run for image ubi9/nodejs-16:1
==============================================
Test cases results:

 [PASSED] for 'clients' test_client_express (00:00:42)
 [PASSED] for 'clients' test_client_prom (00:01:24)
 [PASSED] for 'clients' test_client_opossum (00:01:02)
 [PASSED] for 'clients' test_client_kube (00:00:33)
 [PASSED] for 'clients' test_client_faas (00:01:25)
 [PASSED] for 'clients' test_client_cloudevents (00:01:54)
 [PASSED] for 'clients' test_client_fastify (00:05:15)

Tests for ubi9/nodejs-16:1 succeeded.
-> Upstream tests are not present, skipping
npm notice 
npm notice New major version of npm available! 9.8.1 -> 10.3.0
npm notice Changelog: <https://github.com/npm/cli/releases/tag/v10.3.0>
npm notice Run `npm install -g npm@10.3.0` to update!
npm notice 
npm notice 
npm notice New major version of npm available! 9.8.1 -> 10.3.0
npm notice Changelog: <https://github.com/npm/cli/releases/tag/v10.3.0>
npm notice Run `npm install -g npm@10.3.0` to update!
npm notice 
npm notice 
npm notice New major version of npm available! 9.8.1 -> 10.3.0
npm notice Changelog: <https://github.com/npm/cli/releases/tag/v10.3.0>
npm notice Run `npm install -g npm@10.3.0` to update!
npm notice 
npm notice 
npm notice New major version of npm available! 9.8.1 -> 10.3.0
npm notice Changelog: <https://github.com/npm/cli/releases/tag/v10.3.0>
npm notice Run `npm install -g npm@10.3.0` to update!
npm notice 
npm notice 
npm notice New major version of npm available! 9.8.1 -> 10.3.0
npm notice Changelog: <https://github.com/npm/cli/releases/tag/v10.3.0>
npm notice Run `npm install -g npm@10.3.0` to update!
npm notice 
npm notice 
npm notice New major version of npm available! 9.8.1 -> 10.3.0
npm notice Changelog: <https://github.com/npm/cli/releases/tag/v10.3.0>
npm notice Run `npm install -g npm@10.3.0` to update!
npm notice 

commit 863366c1c61c26a21804c00f61f14e05c6364ba8
Author: Zuzana Miklankova <zmiklank@redhat.com>
Date:   Mon Dec 4 17:01:00 2023 +0100

    rename test-upstream-unittests make target

Running tests for image ubi9/nodejs-18:1
-----------------------------------------------
Running test test_client_express (starting at 2024-01-23 20:28:27-05:00) ... 
-----------------------------------------------
Running express client test
Running express test suite
fatal: destination path '/var/tmp/daily_scl_tests/rhel9-test-upstream/plans/nightly-container-rhel9/data/s2i-nodejs-container/test/express' already exists and is not an empty directory.
STEP 1/11: FROM ubi9/nodejs-18:1
STEP 2/11: LABEL "io.openshift.s2i.build.image"="ubi9/nodejs-18:1"       "io.openshift.s2i.build.source-location"="file:///var/tmp/daily_scl_tests/rhel9-test-upstream/plans/nightly-container-rhel9/data/s2i-nodejs-container/test/express"
--> fc35bf48393e
STEP 3/11: USER root
--> 7785a4450633
STEP 4/11: COPY upload/src/ /tmp/src
--> e13a3078743d
STEP 5/11: RUN chown -R 1001:0 /tmp/src
--> 2cc92786e826
STEP 6/11: ENV NPM_MIRROR=https://repository.engineering.redhat.com/nexus/repository/registry.npmjs.org
--> dd73a0b7054a
STEP 7/11: ENV NODE_ENV=development
--> f25a08968bfc
STEP 8/11: RUN cd /etc/pki/ca-trust/source/anchors && update-ca-trust extract
--> f08a00586d25
STEP 9/11: USER 1001
--> b8a141b18d6c
STEP 10/11: RUN /usr/libexec/s2i/assemble
---> Installing application source ...
---> Building your Node application from source

added 429 packages in 13s

63 packages are looking for funding
  run `npm fund` for details
npm notice 
npm notice New major version of npm available! 9.8.1 -> 10.3.0
npm notice Changelog: <https://github.com/npm/cli/releases/tag/v10.3.0>
npm notice Run `npm install -g npm@10.3.0` to update!
npm notice 
--> ec97a677ee17
STEP 11/11: CMD /usr/libexec/s2i/run
COMMIT ubi9/nodejs-18:1-express
--> a6ee090bf6e3
Successfully tagged localhost/ubi9/nodejs-18:1-express
a6ee090bf6e3e7f7c166a226b667f7e90b61bce09b326084c62aeb7271fcf292

> express@4.18.2 test
> mocha --require test/support/env --reporter spec --bail --check-leaks test/ test/acceptance/



  Route
    \u2714 should work without handlers
    \u2714 should not stack overflow with a large sync stack (53ms)
    .all
      \u2714 should add handler
      \u2714 should handle VERBS
      \u2714 should stack
    .VERB
      \u2714 should support .get
      \u2714 should limit to just .VERB
      \u2714 should allow fallthrough
    errors
      \u2714 should handle errors via arity 4 functions
      \u2714 should handle throw
      \u2714 should handle throwing inside error handlers
      \u2714 should handle throw in .all
      \u2714 should handle single error handler

  Router
    \u2714 should return a function with router methods
    \u2714 should support .use of other routers
    \u2714 should support dynamic routes
    \u2714 should handle blank URL
    \u2714 should handle missing URL
    \u2714 should not stack overflow with many registered routes (113ms)
    \u2714 should not stack overflow with a large sync route stack (99ms)
    \u2714 should not stack overflow with a large sync middleware stack
    .handle
      \u2714 should dispatch
    .multiple callbacks
      \u2714 should throw if a callback is null
      \u2714 should throw if a callback is undefined
      \u2714 should throw if a callback is not a function
      \u2714 should not throw if all callbacks are functions
    error
      \u2714 should skip non error middleware
      \u2714 should handle throwing inside routes with params
      \u2714 should handle throwing in handler after async param
      \u2714 should handle throwing inside error handlers
    FQDN
      \u2714 should not obscure FQDNs
      \u2714 should ignore FQDN in search
      \u2714 should ignore FQDN in path
      \u2714 should adjust FQDN req.url
      \u2714 should adjust FQDN req.url with multiple handlers
      \u2714 should adjust FQDN req.url with multiple routed handlers
    .all
      \u2714 should support using .all to capture all http verbs
      \u2714 should be called for any URL when "*"
    .use
      \u2714 should require middleware
      \u2714 should reject string as middleware
      \u2714 should reject number as middleware
      \u2714 should reject null as middleware
      \u2714 should reject Date as middleware
      \u2714 should be called for any URL
      \u2714 should accept array of middleware
    .param
      \u2714 should call param function when routing VERBS
      \u2714 should call param function when routing middleware
      \u2714 should only call once per request
      \u2714 should call when values differ
    parallel requests
      \u2714 should not mix requests (50ms)

  app.all()
    \u2714 should add a router per method
    \u2714 should run the callback for a method just once

  app.del()
    \u2714 should alias app.delete()

  app
    .engine(ext, fn)
      \u2714 should map a template engine
      \u2714 should throw when the callback is missing
      \u2714 should work without leading "."
      \u2714 should work "view engine" setting
      \u2714 should work "view engine" with leading "."

  HEAD
    \u2714 should default to GET
    \u2714 should output the same headers as GET requests

  app.head()
    \u2714 should override

  app
    \u2714 should inherit from event emitter
    \u2714 should be callable
    \u2714 should 404 without routes

  app.parent
    \u2714 should return the parent when mounted

  app.mountpath
    \u2714 should return the mounted path

  app.router
    \u2714 should throw with notice

  app.path()
    \u2714 should return the canonical

  in development
    \u2714 should disable "view cache"

  in production
    \u2714 should enable "view cache"

  without NODE_ENV
    \u2714 should default to development

  app.listen()
    \u2714 should wrap with an HTTP server

  app
    .locals
      \u2714 should default object
      .settings
        \u2714 should contain app settings 

  OPTIONS
    \u2714 should default to the routes defined
    \u2714 should only include each method once
    \u2714 should not be affected by app.all
    \u2714 should not respond if the path is not defined
    \u2714 should forward requests down the middleware chain
    when error occurs in response handler
      \u2714 should pass error to callback

  app.options()
    \u2714 should override the default behavior

  app
    .param(fn)
      \u2714 should map app.param(name, ...) logic
      \u2714 should fail if not given fn
    .param(names, fn)
      \u2714 should map the array
    .param(name, fn)
      \u2714 should map logic for a single param
      \u2714 should only call once per request
      \u2714 should call when values differ
      \u2714 should support altering req.params across routes
      \u2714 should not invoke without route handler
      \u2714 should work with encoded values
      \u2714 should catch thrown error
      \u2714 should catch thrown secondary error
      \u2714 should defer to next route
      \u2714 should defer all the param routes
      \u2714 should not call when values differ on error
      \u2714 should call when values differ when using "next"

  app
    .render(name, fn)
      \u2714 should support absolute paths
      \u2714 should support absolute paths with "view engine"
      \u2714 should expose app.locals
      \u2714 should support index.<engine>
      \u2714 should handle render error throws
      when the file does not exist
        \u2714 should provide a helpful error
      when an error occurs
        \u2714 should invoke the callback
      when an extension is given
        \u2714 should render the template
      when "view engine" is given
        \u2714 should render the template
      when "views" is given
        \u2714 should lookup the file in the path
        when array of paths
          \u2714 should lookup the file in the path
          \u2714 should lookup in later paths until found
          \u2714 should error if file does not exist
      when a "view" constructor is given
        \u2714 should create an instance of it
      caching
        \u2714 should always lookup view without cache
        \u2714 should cache with "view cache" setting
    .render(name, options, fn)
      \u2714 should render the template
      \u2714 should expose app.locals
      \u2714 should give precedence to app.render() locals
      caching
        \u2714 should cache with cache option

  app
    .request
      \u2714 should extend the request prototype
      \u2714 should only extend for the referenced app
      \u2714 should inherit to sub apps
      \u2714 should allow sub app to override
      \u2714 should not pollute parent app

  app
    .response
      \u2714 should extend the response prototype
      \u2714 should only extend for the referenced app
      \u2714 should inherit to sub apps
      \u2714 should allow sub app to override
      \u2714 should not pollute parent app

  app.route
    \u2714 should return a new route
    \u2714 should all .VERB after .all
    \u2714 should support dynamic routes
    \u2714 should not error on empty routes

  app.router
    \u2714 should restore req.params after leaving router
    \u2714 should be .use()able
    \u2714 should allow escaped regexp
    \u2714 should allow literal "."
    \u2714 should allow rewriting of the url
    \u2714 should run in order added
    \u2714 should be chainable
    methods
      \u2714 should include ACL
      \u2714 should reject numbers for app.acl
      \u2714 should include BIND
      \u2714 should reject numbers for app.bind
      \u2714 should include CHECKOUT
      \u2714 should reject numbers for app.checkout
      \u2714 should include COPY
      \u2714 should reject numbers for app.copy
      \u2714 should include DELETE
      \u2714 should reject numbers for app.delete
      \u2714 should include GET
      \u2714 should reject numbers for app.get
      \u2714 should include HEAD
      \u2714 should reject numbers for app.head
      \u2714 should include LINK
      \u2714 should reject numbers for app.link
      \u2714 should include LOCK
      \u2714 should reject numbers for app.lock
      \u2714 should include M-SEARCH
      \u2714 should reject numbers for app.m-search
      \u2714 should include MERGE
      \u2714 should reject numbers for app.merge
      \u2714 should include MKACTIVITY
      \u2714 should reject numbers for app.mkactivity
      \u2714 should include MKCALENDAR
      \u2714 should reject numbers for app.mkcalendar
      \u2714 should include MKCOL
      \u2714 should reject numbers for app.mkcol
      \u2714 should include MOVE
      \u2714 should reject numbers for app.move
      \u2714 should include NOTIFY
      \u2714 should reject numbers for app.notify
      \u2714 should include OPTIONS
      \u2714 should reject numbers for app.options
      \u2714 should include PATCH
      \u2714 should reject numbers for app.patch
      \u2714 should include POST
      \u2714 should reject numbers for app.post
      \u2714 should include PROPFIND
      \u2714 should reject numbers for app.propfind
      \u2714 should include PROPPATCH
      \u2714 should reject numbers for app.proppatch
      \u2714 should include PURGE
      \u2714 should reject numbers for app.purge
      \u2714 should include PUT
      \u2714 should reject numbers for app.put
      \u2714 should include REBIND
      \u2714 should reject numbers for app.rebind
      \u2714 should include REPORT
      \u2714 should reject numbers for app.report
      \u2714 should include SEARCH
      \u2714 should reject numbers for app.search
      \u2714 should include SOURCE
      \u2714 should reject numbers for app.source
      \u2714 should include SUBSCRIBE
      \u2714 should reject numbers for app.subscribe
      \u2714 should include TRACE
      \u2714 should reject numbers for app.trace
      \u2714 should include UNBIND
      \u2714 should reject numbers for app.unbind
      \u2714 should include UNLINK
      \u2714 should reject numbers for app.unlink
      \u2714 should include UNLOCK
      \u2714 should reject numbers for app.unlock
      \u2714 should include UNSUBSCRIBE
      \u2714 should reject numbers for app.unsubscribe
      \u2714 should include DEL
      \u2714 should reject numbers for app.del
      \u2714 should re-route when method is altered
    decode params
      \u2714 should decode correct params
      \u2714 should not accept params in malformed paths
      \u2714 should not decode spaces
      \u2714 should work with unicode
    when given a regexp
      \u2714 should match the pathname only
      \u2714 should populate req.params with the captures
      \u2714 should ensure regexp matches path prefix
    case sensitivity
      \u2714 should be disabled by default
      when "case sensitive routing" is enabled
        \u2714 should match identical casing
        \u2714 should not match otherwise
    params
      \u2714 should overwrite existing req.params by default
      \u2714 should allow merging existing req.params
      \u2714 should use params from router
      \u2714 should merge numeric indices req.params
      \u2714 should merge numeric indices req.params when more in parent
      \u2714 should merge numeric indices req.params when parent has same number
      \u2714 should ignore invalid incoming req.params
      \u2714 should restore req.params
    trailing slashes
      \u2714 should be optional by default
      when "strict routing" is enabled
        \u2714 should match trailing slashes
        \u2714 should pass-though middleware
        \u2714 should pass-though mounted middleware
        \u2714 should match no slashes
        \u2714 should match middleware when omitting the trailing slash
        \u2714 should match middleware
        \u2714 should match middleware when adding the trailing slash
        \u2714 should fail when omitting the trailing slash
        \u2714 should fail when adding the trailing slash
    *
      \u2714 should capture everything
      \u2714 should decode the capture
      \u2714 should denote a greedy capture group
      \u2714 should work with several
      \u2714 should work cross-segment
      \u2714 should allow naming
      \u2714 should not be greedy immediately after param
      \u2714 should eat everything after /
      \u2714 should span multiple segments
      \u2714 should be optional
      \u2714 should require a preceding /
      \u2714 should keep correct parameter indexes
      \u2714 should work within arrays
    :name
      \u2714 should denote a capture group
      \u2714 should match a single segment only
      \u2714 should allow several capture groups
      \u2714 should work following a partial capture group
      \u2714 should work inside literal parenthesis
      \u2714 should work in array of paths
    :name?
      \u2714 should denote an optional capture group
      \u2714 should populate the capture group
    .:name
      \u2714 should denote a format
    .:name?
      \u2714 should denote an optional format
    when next() is called
      \u2714 should continue lookup
    when next("route") is called
      \u2714 should jump to next route
    when next("router") is called
      \u2714 should jump out of router
    when next(err) is called
      \u2714 should break out of app.router
      \u2714 should call handler in same route, if exists

  app
    .VERB()
      \u2714 should not get invoked without error handler on error
      \u2714 should only call an error handling routing callback when an error is propagated

  app
    \u2714 should emit "mount" when mounted
    .use(app)
      \u2714 should mount the app
      \u2714 should support mount-points
      \u2714 should set the child's .parent
      \u2714 should support dynamic routes
      \u2714 should support mounted app anywhere
    .use(middleware)
      \u2714 should accept multiple arguments
      \u2714 should invoke middleware for all requests
      \u2714 should accept array of middleware
      \u2714 should accept multiple arrays of middleware
      \u2714 should accept nested arrays of middleware
    .use(path, middleware)
      \u2714 should require middleware
      \u2714 should reject string as middleware
      \u2714 should reject number as middleware
      \u2714 should reject null as middleware
      \u2714 should reject Date as middleware
      \u2714 should strip path from req.url
      \u2714 should accept multiple arguments
      \u2714 should invoke middleware for all requests starting with path
      \u2714 should work if path has trailing slash
      \u2714 should accept array of middleware
      \u2714 should accept multiple arrays of middleware
      \u2714 should accept nested arrays of middleware
      \u2714 should support array of paths
      \u2714 should support array of paths with middleware array
      \u2714 should support regexp path
      \u2714 should support empty string path

  config
    .set()
      \u2714 should set a value
      \u2714 should set prototype values
      \u2714 should return the app
      \u2714 should return the app when undefined
      \u2714 should return set value
      \u2714 should return undefined for prototype values
      "etag"
        \u2714 should throw on bad value
        \u2714 should set "etag fn"
      "trust proxy"
        \u2714 should set "trust proxy fn"
    .get()
      \u2714 should return undefined when unset
      \u2714 should return undefined for prototype values
      \u2714 should otherwise return the value
      when mounted
        \u2714 should default to the parent app
        \u2714 should given precedence to the child
        \u2714 should inherit "trust proxy" setting
        \u2714 should prefer child "trust proxy" setting
    .enable()
      \u2714 should set the value to true
      \u2714 should set prototype values
    .disable()
      \u2714 should set the value to false
      \u2714 should set prototype values
    .enabled()
      \u2714 should default to false
      \u2714 should return true when set
      \u2714 should default to false for prototype values
    .disabled()
      \u2714 should default to true
      \u2714 should return false when set
      \u2714 should default to true for prototype values

  exports
    \u2714 should expose Router
    \u2714 should expose json middleware
    \u2714 should expose raw middleware
    \u2714 should expose static middleware
    \u2714 should expose text middleware
    \u2714 should expose urlencoded middleware
    \u2714 should expose the application prototype
    \u2714 should expose the request prototype
    \u2714 should expose the response prototype
    \u2714 should permit modifying the .application prototype
    \u2714 should permit modifying the .request prototype
    \u2714 should permit modifying the .response prototype
    \u2714 should throw on old middlewares

  express.json()
    \u2714 should parse JSON
    \u2714 should handle Content-Length: 0
    \u2714 should handle empty message-body
    \u2714 should handle no message-body
    \u2714 should 400 when only whitespace
    \u2714 should 400 when invalid content-length
    \u2714 should 500 if stream not readable
    \u2714 should handle duplicated middleware
    when JSON is invalid
      \u2714 should 400 for bad token
      \u2714 should 400 for incomplete
      \u2714 should include original body on error object
    with limit option
      \u2714 should 413 when over limit with Content-Length
      \u2714 should 413 when over limit with chunked encoding
      \u2714 should 413 when inflated body over limit
      \u2714 should accept number of bytes
      \u2714 should not change when options altered
      \u2714 should not hang response
      \u2714 should not error when inflating
    with inflate option
      when false
        \u2714 should not accept content-encoding
      when true
        \u2714 should accept content-encoding
    with strict option
      when undefined
        \u2714 should 400 on primitives
      when false
        \u2714 should parse primitives
      when true
        \u2714 should not parse primitives
        \u2714 should not parse primitives with leading whitespaces
        \u2714 should allow leading whitespaces in JSON
        \u2714 should include correct message in stack trace
    with type option
      when "application/vnd.api+json"
        \u2714 should parse JSON for custom type
        \u2714 should ignore standard type
      when ["application/json", "application/vnd.api+json"]
        \u2714 should parse JSON for "application/json"
        \u2714 should parse JSON for "application/vnd.api+json"
        \u2714 should ignore "application/x-json"
      when a function
        \u2714 should parse when truthy value returned
        \u2714 should work without content-type
        \u2714 should not invoke without a body
    with verify option
      \u2714 should assert value if function
      \u2714 should error from verify
      \u2714 should allow custom codes
      \u2714 should allow custom type
      \u2714 should include original body on error object
      \u2714 should allow pass-through
      \u2714 should work with different charsets
      \u2714 should 415 on unknown charset prior to verify
    async local storage
      \u2714 should presist store
      \u2714 should presist store when unmatched content-type
      \u2714 should presist store when inflated
      \u2714 should presist store when inflate error
      \u2714 should presist store when parse error
      \u2714 should presist store when limit exceeded
    charset
      \u2714 should parse utf-8
      \u2714 should parse utf-16
      \u2714 should parse when content-length != char length
      \u2714 should default to utf-8
      \u2714 should fail on unknown charset
    encoding
      \u2714 should parse without encoding
      \u2714 should support identity encoding
      \u2714 should support gzip encoding
      \u2714 should support deflate encoding
      \u2714 should be case-insensitive
      \u2714 should 415 on unknown encoding
      \u2714 should 400 on malformed encoding
      \u2714 should 413 when inflated value exceeds limit

  express.raw()
    \u2714 should parse application/octet-stream
    \u2714 should 400 when invalid content-length
    \u2714 should handle Content-Length: 0
    \u2714 should handle empty message-body
    \u2714 should 500 if stream not readable
    \u2714 should handle duplicated middleware
    with limit option
      \u2714 should 413 when over limit with Content-Length
      \u2714 should 413 when over limit with chunked encoding
      \u2714 should 413 when inflated body over limit
      \u2714 should accept number of bytes
      \u2714 should not change when options altered
      \u2714 should not hang response
      \u2714 should not error when inflating
    with inflate option
      when false
        \u2714 should not accept content-encoding
      when true
        \u2714 should accept content-encoding
    with type option
      when "application/vnd+octets"
        \u2714 should parse for custom type
        \u2714 should ignore standard type
      when ["application/octet-stream", "application/vnd+octets"]
        \u2714 should parse "application/octet-stream"
        \u2714 should parse "application/vnd+octets"
        \u2714 should ignore "application/x-foo"
      when a function
        \u2714 should parse when truthy value returned
        \u2714 should work without content-type
        \u2714 should not invoke without a body
    with verify option
      \u2714 should assert value is function
      \u2714 should error from verify
      \u2714 should allow custom codes
      \u2714 should allow pass-through
    async local storage
      \u2714 should presist store
      \u2714 should presist store when unmatched content-type
      \u2714 should presist store when inflated
      \u2714 should presist store when inflate error
      \u2714 should presist store when limit exceeded
    charset
      \u2714 should ignore charset
    encoding
      \u2714 should parse without encoding
      \u2714 should support identity encoding
      \u2714 should support gzip encoding
      \u2714 should support deflate encoding
      \u2714 should be case-insensitive
      \u2714 should 415 on unknown encoding

  express.static()
    basic operations
      \u2714 should require root path
      \u2714 should require root path to be string
      \u2714 should serve static files
      \u2714 should support nesting
      \u2714 should set Content-Type
      \u2714 should set Last-Modified
      \u2714 should default max-age=0
      \u2714 should support urlencoded pathnames
      \u2714 should not choke on auth-looking URL
      \u2714 should support index.html
      \u2714 should support ../
      \u2714 should support HEAD
      \u2714 should skip POST requests
      \u2714 should support conditional requests
      \u2714 should support precondition checks
      \u2714 should serve zero-length files
      \u2714 should ignore hidden files
    current dir
      \u2714 should be served with "."
    acceptRanges
      when false
        \u2714 should not include Accept-Ranges
        \u2714 should ignore Rage request header
      when true
        \u2714 should include Accept-Ranges
        \u2714 should obey Rage request header
    cacheControl
      when false
        \u2714 should not include Cache-Control
        \u2714 should ignore maxAge
      when true
        \u2714 should include Cache-Control
    extensions
      \u2714 should be not be enabled by default
      \u2714 should be configurable
      \u2714 should support disabling extensions
      \u2714 should support fallbacks
      \u2714 should 404 if nothing found
    fallthrough
      \u2714 should default to true
      when true
        \u2714 should fall-through when OPTIONS request
        \u2714 should fall-through when URL malformed
        \u2714 should fall-through when traversing past root
        \u2714 should fall-through when URL too long
        with redirect: true
          \u2714 should fall-through when directory
          \u2714 should redirect when directory without slash
        with redirect: false
          \u2714 should fall-through when directory
          \u2714 should fall-through when directory without slash
      when false
        \u2714 should 405 when OPTIONS request
        \u2714 should 400 when URL malformed
        \u2714 should 403 when traversing past root
        \u2714 should 404 when URL too long
        with redirect: true
          \u2714 should 404 when directory
          \u2714 should redirect when directory without slash
        with redirect: false
          \u2714 should 404 when directory
          \u2714 should 404 when directory without slash
    hidden files
      \u2714 should be served when dotfiles: "allow" is given
    immutable
      \u2714 should default to false
      \u2714 should set immutable directive in Cache-Control
    lastModified
      when false
        \u2714 should not include Last-Modified
      when true
        \u2714 should include Last-Modified
    maxAge
      \u2714 should accept string
      \u2714 should be reasonable when infinite
    redirect
      \u2714 should redirect directories
      \u2714 should include HTML link
      \u2714 should redirect directories with query string
      \u2714 should not redirect to protocol-relative locations
      \u2714 should ensure redirect URL is properly encoded
      \u2714 should respond with default Content-Security-Policy
      \u2714 should not redirect incorrectly
      when false
        \u2714 should disable redirect
    setHeaders
      \u2714 should reject non-functions
      \u2714 should get called when sending file
      \u2714 should not get called on 404
      \u2714 should not get called on redirect
    when traversing past root
      \u2714 should catch urlencoded ../
      \u2714 should not allow root path disclosure
    when request has "Range" header
      \u2714 should support byte ranges
      \u2714 should be inclusive
      \u2714 should set Content-Range
      \u2714 should support -n
      \u2714 should support n-
      \u2714 should respond with 206 "Partial Content"
      \u2714 should set Content-Length to the # of octets transferred
      when last-byte-pos of the range is greater than current length
        \u2714 is taken to be equal to one less than the current length
        \u2714 should adapt the Content-Length accordingly
      when the first- byte-pos of the range is greater than the current length
        \u2714 should respond with 416
        \u2714 should include a Content-Range header of complete length
      when syntactically invalid
        \u2714 should respond with 200 and the entire contents
    when index at mount point
      \u2714 should redirect correctly
    when mounted
      \u2714 should redirect relative to the originalUrl
      \u2714 should not choke on auth-looking URL
    when mounted "root" as a file
      \u2714 should load the file when on trailing slash
      \u2714 should 404 when trailing slash
    when responding non-2xx or 304
      \u2714 should not alter the status
    when index file serving disabled
      \u2714 should next() on directory
      \u2714 should redirect to trailing slash
      \u2714 should next() on mount point
      \u2714 should redirect to trailing slash mount point

  express.text()
    \u2714 should parse text/plain
    \u2714 should 400 when invalid content-length
    \u2714 should handle Content-Length: 0
    \u2714 should handle empty message-body
    \u2714 should 500 if stream not readable
    \u2714 should handle duplicated middleware
    with defaultCharset option
      \u2714 should change default charset
      \u2714 should honor content-type charset
    with limit option
      \u2714 should 413 when over limit with Content-Length
      \u2714 should 413 when over limit with chunked encoding
      \u2714 should 413 when inflated body over limit
      \u2714 should accept number of bytes
      \u2714 should not change when options altered
      \u2714 should not hang response
      \u2714 should not error when inflating (101ms)
    with inflate option
      when false
        \u2714 should not accept content-encoding
      when true
        \u2714 should accept content-encoding
    with type option
      when "text/html"
        \u2714 should parse for custom type
        \u2714 should ignore standard type
      when ["text/html", "text/plain"]
        \u2714 should parse "text/html"
        \u2714 should parse "text/plain"
        \u2714 should ignore "text/xml"
      when a function
        \u2714 should parse when truthy value returned
        \u2714 should work without content-type
        \u2714 should not invoke without a body
    with verify option
      \u2714 should assert value is function
      \u2714 should error from verify
      \u2714 should allow custom codes
      \u2714 should allow pass-through
      \u2714 should 415 on unknown charset prior to verify
    async local storage
      \u2714 should presist store
      \u2714 should presist store when unmatched content-type
      \u2714 should presist store when inflated
      \u2714 should presist store when inflate error
      \u2714 should presist store when limit exceeded
    charset
      \u2714 should parse utf-8
      \u2714 should parse codepage charsets
      \u2714 should parse when content-length != char length
      \u2714 should default to utf-8
      \u2714 should 415 on unknown charset
    encoding
      \u2714 should parse without encoding
      \u2714 should support identity encoding
      \u2714 should support gzip encoding
      \u2714 should support deflate encoding
      \u2714 should be case-insensitive
      \u2714 should 415 on unknown encoding

  express.urlencoded()
    \u2714 should parse x-www-form-urlencoded
    \u2714 should 400 when invalid content-length
    \u2714 should handle Content-Length: 0
    \u2714 should handle empty message-body
    \u2714 should 500 if stream not readable
    \u2714 should handle duplicated middleware
    \u2714 should parse extended syntax
    with extended option
      when false
        \u2714 should not parse extended syntax
        \u2714 should parse multiple key instances
      when true
        \u2714 should parse multiple key instances
        \u2714 should parse extended syntax
        \u2714 should parse parameters with dots
        \u2714 should parse fully-encoded extended syntax
        \u2714 should parse array index notation
        \u2714 should parse array index notation with large array
        \u2714 should parse array of objects syntax
        \u2714 should parse deep object
    with inflate option
      when false
        \u2714 should not accept content-encoding
      when true
        \u2714 should accept content-encoding
    with limit option
      \u2714 should 413 when over limit with Content-Length
      \u2714 should 413 when over limit with chunked encoding
      \u2714 should 413 when inflated body over limit
      \u2714 should accept number of bytes
      \u2714 should not change when options altered
      \u2714 should not hang response
      \u2714 should not error when inflating
    with parameterLimit option
      with extended: false
        \u2714 should reject 0
        \u2714 should reject string
        \u2714 should 413 if over limit
        \u2714 should work when at the limit
        \u2714 should work if number is floating point
        \u2714 should work with large limit
        \u2714 should work with Infinity limit
      with extended: true
        \u2714 should reject 0
        \u2714 should reject string
        \u2714 should 413 if over limit
        \u2714 should work when at the limit
        \u2714 should work if number is floating point
        \u2714 should work with large limit (49ms)
        \u2714 should work with Infinity limit (114ms)
    with type option
      when "application/vnd.x-www-form-urlencoded"
        \u2714 should parse for custom type
        \u2714 should ignore standard type
      when ["urlencoded", "application/x-pairs"]
        \u2714 should parse "application/x-www-form-urlencoded"
        \u2714 should parse "application/x-pairs"
        \u2714 should ignore application/x-foo
      when a function
        \u2714 should parse when truthy value returned
        \u2714 should work without content-type
        \u2714 should not invoke without a body
    with verify option
      \u2714 should assert value if function
      \u2714 should error from verify
      \u2714 should allow custom codes
      \u2714 should allow custom type
      \u2714 should allow pass-through
      \u2714 should 415 on unknown charset prior to verify
    async local storage
      \u2714 should presist store
      \u2714 should presist store when unmatched content-type
      \u2714 should presist store when inflated
      \u2714 should presist store when inflate error
      \u2714 should presist store when limit exceeded
    charset
      \u2714 should parse utf-8
      \u2714 should parse when content-length != char length
      \u2714 should default to utf-8
      \u2714 should fail on unknown charset
    encoding
      \u2714 should parse without encoding
      \u2714 should support identity encoding
      \u2714 should support gzip encoding
      \u2714 should support deflate encoding
      \u2714 should be case-insensitive
      \u2714 should 415 on unknown encoding

  middleware
    .next()
      \u2714 should behave like connect

  throw after .end()
    \u2714 should fail gracefully

  req
    \u2714 should accept an argument list of type names
    .accepts(type)
      \u2714 should return true when Accept is not present
      \u2714 should return true when present
      \u2714 should return false otherwise
    .accepts(types)
      \u2714 should return the first when Accept is not present
      \u2714 should return the first acceptable type
      \u2714 should return false when no match is made
      \u2714 should take quality into account
      \u2714 should return the first acceptable type with canonical mime types

  req
    .acceptsCharset(type)
      when Accept-Charset is not present
        \u2714 should return true
      when Accept-Charset is present
        \u2714 should return true
        \u2714 should return false otherwise

  req
    .acceptsCharsets(type)
      when Accept-Charset is not present
        \u2714 should return true
      when Accept-Charset is present
        \u2714 should return true
        \u2714 should return false otherwise

  req
    .acceptsEncoding
      \u2714 should return encoding if accepted
      \u2714 should be false if encoding not accepted

  req
    .acceptsEncodings
      \u2714 should return encoding if accepted
      \u2714 should be false if encoding not accepted

  req
    .acceptsLanguage
      \u2714 should return language if accepted
      \u2714 should be false if language not accepted
      when Accept-Language is not present
        \u2714 should always return language

  req
    .acceptsLanguages
      \u2714 should return language if accepted
      \u2714 should be false if language not accepted
      when Accept-Language is not present
        \u2714 should always return language

  req
    .baseUrl
      \u2714 should be empty for top-level route
      \u2714 should contain lower path
      \u2714 should contain full lower path
      \u2714 should travel through routers correctly

  req
    .fresh
      \u2714 should return true when the resource is not modified
      \u2714 should return false when the resource is modified
      \u2714 should return false without response headers

  req
    .get(field)
      \u2714 should return the header field value
      \u2714 should special-case Referer
      \u2714 should throw missing header name
      \u2714 should throw for non-string header name

  req
    .host
      \u2714 should return the Host when present
      \u2714 should strip port number
      \u2714 should return undefined otherwise
      \u2714 should work with IPv6 Host
      \u2714 should work with IPv6 Host and port
      when "trust proxy" is enabled
        \u2714 should respect X-Forwarded-Host
        \u2714 should ignore X-Forwarded-Host if socket addr not trusted
        \u2714 should default to Host
        when trusting hop count
          \u2714 should respect X-Forwarded-Host
      when "trust proxy" is disabled
        \u2714 should ignore X-Forwarded-Host

  req
    .hostname
      \u2714 should return the Host when present
      \u2714 should strip port number
      \u2714 should return undefined otherwise
      \u2714 should work with IPv6 Host
      \u2714 should work with IPv6 Host and port
      when "trust proxy" is enabled
        \u2714 should respect X-Forwarded-Host
        \u2714 should ignore X-Forwarded-Host if socket addr not trusted
        \u2714 should default to Host
        when multiple X-Forwarded-Host
          \u2714 should use the first value
          \u2714 should remove OWS around comma
          \u2714 should strip port number
      when "trust proxy" is disabled
        \u2714 should ignore X-Forwarded-Host

  req
    .ip
      when X-Forwarded-For is present
        when "trust proxy" is enabled
          \u2714 should return the client addr
          \u2714 should return the addr after trusted proxy based on count
          \u2714 should return the addr after trusted proxy based on list
          \u2714 should return the addr after trusted proxy, from sub app
        when "trust proxy" is disabled
          \u2714 should return the remote address
      when X-Forwarded-For is not present
        \u2714 should return the remote address

  req
    .ips
      when X-Forwarded-For is present
        when "trust proxy" is enabled
          \u2714 should return an array of the specified addresses
          \u2714 should stop at first untrusted
        when "trust proxy" is disabled
          \u2714 should return an empty array
      when X-Forwarded-For is not present
        \u2714 should return []

  req.is()
    when given a mime type
      \u2714 should return the type when matching
      \u2714 should return false when not matching
      \u2714 should ignore charset
    when content-type is not present
      \u2714 should return false
    when given an extension
      \u2714 should lookup the mime type
    when given */subtype
      \u2714 should return the full type when matching
      \u2714 should return false when not matching
      \u2714 should ignore charset
    when given type/*
      \u2714 should return the full type when matching
      \u2714 should return false when not matching
      \u2714 should ignore charset

  req
    .param(name, default)
      \u2714 should use the default value unless defined
    .param(name)
      \u2714 should check req.query
      \u2714 should check req.body
      \u2714 should check req.params

  req
    .path
      \u2714 should return the parsed pathname

  req
    .protocol
      \u2714 should return the protocol string
      when "trust proxy" is enabled
        \u2714 should respect X-Forwarded-Proto
        \u2714 should default to the socket addr if X-Forwarded-Proto not present
        \u2714 should ignore X-Forwarded-Proto if socket addr not trusted
        \u2714 should default to http
        when trusting hop count
          \u2714 should respect X-Forwarded-Proto
      when "trust proxy" is disabled
        \u2714 should ignore X-Forwarded-Proto

  req
    .query
      \u2714 should default to {}
      \u2714 should default to parse complex keys
      when "query parser" is extended
        \u2714 should parse complex keys
        \u2714 should parse parameters with dots
      when "query parser" is simple
        \u2714 should not parse complex keys
      when "query parser" is a function
        \u2714 should parse using function
      when "query parser" disabled
        \u2714 should not parse query
      when "query parser" enabled
        \u2714 should not parse complex keys
      when "query parser fn" is missing
        \u2714 should act like "extended"
      when "query parser" an unknown value
        \u2714 should throw

  req
    .range(size)
      \u2714 should return parsed ranges
      \u2714 should cap to the given size
      \u2714 should cap to the given size when open-ended
      \u2714 should have a .type
      \u2714 should accept any type
      \u2714 should return undefined if no range
    .range(size, options)
      with "combine: true" option
        \u2714 should return combined ranges

  req
    .route
      \u2714 should be the executed Route

  req
    .secure
      when X-Forwarded-Proto is missing
        \u2714 should return false when http
    .secure
      when X-Forwarded-Proto is present
        \u2714 should return false when http
        \u2714 should return true when "trust proxy" is enabled
        \u2714 should return false when initial proxy is http
        \u2714 should return true when initial proxy is https
        when "trust proxy" trusting hop count
          \u2714 should respect X-Forwarded-Proto

  req
    .signedCookies
      \u2714 should return a signed JSON cookie

  req
    .stale
      \u2714 should return false when the resource is not modified
      \u2714 should return true when the resource is modified
      \u2714 should return true without response headers

  req
    .subdomains
      when present
        \u2714 should return an array
        \u2714 should work with IPv4 address
        \u2714 should work with IPv6 address
      otherwise
        \u2714 should return an empty array
      with no host
        \u2714 should return an empty array
      with trusted X-Forwarded-Host
        \u2714 should return an array
      when subdomain offset is set
        when subdomain offset is zero
          \u2714 should return an array with the whole domain
          \u2714 should return an array with the whole IPv4
          \u2714 should return an array with the whole IPv6
        when present
          \u2714 should return an array
        otherwise
          \u2714 should return an empty array

  req
    .xhr
      \u2714 should return true when X-Requested-With is xmlhttprequest
      \u2714 should case-insensitive
      \u2714 should return false otherwise
      \u2714 should return false when not present

  res
    .append(field, val)
      \u2714 should append multiple headers
      \u2714 should accept array of values
      \u2714 should get reset by res.set(field, val)
      \u2714 should work with res.set(field, val) first
      \u2714 should work together with res.cookie

  res
    .attachment()
      \u2714 should Content-Disposition to attachment
    .attachment(filename)
      \u2714 should add the filename param
      \u2714 should set the Content-Type
    .attachment(utf8filename)
      \u2714 should add the filename and filename* params
      \u2714 should set the Content-Type

  res
    .clearCookie(name)
      \u2714 should set a cookie passed expiry
    .clearCookie(name, options)
      \u2714 should set the given params

  res
    .cookie(name, object)
      \u2714 should generate a JSON cookie
    .cookie(name, string)
      \u2714 should set a cookie
      \u2714 should allow multiple calls
    .cookie(name, string, options)
      \u2714 should set params
      expires
        \u2714 should throw on invalid date
      maxAge
        \u2714 should set relative expires
        \u2714 should set max-age
        \u2714 should not mutate the options object
        \u2714 should not throw on null
        \u2714 should not throw on undefined
        \u2714 should throw an error with invalid maxAge
      priority
        \u2714 should set low priority
        \u2714 should set medium priority
        \u2714 should set high priority
        \u2714 should throw with invalid priority
      signed
        \u2714 should generate a signed JSON cookie
      signed without secret
        \u2714 should throw an error
      .signedCookie(name, string)
        \u2714 should set a signed cookie

  res
    .download(path)
      \u2714 should transfer as an attachment
      \u2714 should accept range requests
      \u2714 should respond with requested byte range
    .download(path, filename)
      \u2714 should provide an alternate filename
    .download(path, fn)
      \u2714 should invoke the callback
      async local storage
        \u2714 should presist store
        \u2714 should presist store on error
    .download(path, options)
      \u2714 should allow options to res.sendFile()
      with "headers" option
        \u2714 should set headers on response
        \u2714 should use last header when duplicated
        \u2714 should override Content-Type
        \u2714 should not set headers on 404
        when headers contains Content-Disposition
          \u2714 should be ignored
          \u2714 should be ignored case-insensitively
      with "root" option
        \u2714 should allow relative path
        \u2714 should allow up within root
        \u2714 should reject up outside root
        \u2714 should reject reading outside root
    .download(path, filename, fn)
      \u2714 should invoke the callback
    .download(path, filename, options, fn)
      \u2714 should invoke the callback
      \u2714 should allow options to res.sendFile()
      when options.headers contains Content-Disposition
        \u2714 should be ignored
        \u2714 should be ignored case-insensitively
    on failure
      \u2714 should invoke the callback
      \u2714 should remove Content-Disposition

  res
    .format(obj)
      with canonicalized mime types
        \u2714 should utilize qvalues in negotiation
        \u2714 should allow wildcard type/subtypes
        \u2714 should default the Content-Type
        \u2714 should set the correct charset for the Content-Type
        \u2714 should Vary: Accept
        when Accept is not present
          \u2714 should invoke the first callback
        when no match is made
          \u2714 should should respond with 406 not acceptable
      with extnames
        \u2714 should utilize qvalues in negotiation
        \u2714 should allow wildcard type/subtypes
        \u2714 should default the Content-Type
        \u2714 should set the correct charset for the Content-Type
        \u2714 should Vary: Accept
        when Accept is not present
          \u2714 should invoke the first callback
        when no match is made
          \u2714 should should respond with 406 not acceptable
      with parameters
        \u2714 should utilize qvalues in negotiation
        \u2714 should allow wildcard type/subtypes
        \u2714 should default the Content-Type
        \u2714 should set the correct charset for the Content-Type
        \u2714 should Vary: Accept
        when Accept is not present
          \u2714 should invoke the first callback
        when no match is made
          \u2714 should should respond with 406 not acceptable
      given .default
        \u2714 should be invoked instead of auto-responding
        \u2714 should work when only .default is provided
        \u2714 should be able to invoke other formatter
      in router
        \u2714 should utilize qvalues in negotiation
        \u2714 should allow wildcard type/subtypes
        \u2714 should default the Content-Type
        \u2714 should set the correct charset for the Content-Type
        \u2714 should Vary: Accept
        when Accept is not present
          \u2714 should invoke the first callback
        when no match is made
          \u2714 should should respond with 406 not acceptable
      in router
        \u2714 should utilize qvalues in negotiation
        \u2714 should allow wildcard type/subtypes
        \u2714 should default the Content-Type
        \u2714 should set the correct charset for the Content-Type
        \u2714 should Vary: Accept
        when Accept is not present
          \u2714 should invoke the first callback
        when no match is made
          \u2714 should should respond with 406 not acceptable

  res
    .get(field)
      \u2714 should get the response header field

  res
    .json(object)
      \u2714 should not support jsonp callbacks
      \u2714 should not override previous Content-Types
      when given primitives
        \u2714 should respond with json for null
        \u2714 should respond with json for Number
        \u2714 should respond with json for String
      when given an array
        \u2714 should respond with json
      when given an object
        \u2714 should respond with json
      "json escape" setting
        \u2714 should be undefined by default
        \u2714 should unicode escape HTML-sniffing characters
        \u2714 should not break undefined escape
      "json replacer" setting
        \u2714 should be passed to JSON.stringify()
      "json spaces" setting
        \u2714 should be undefined by default
        \u2714 should be passed to JSON.stringify()
    .json(status, object)
      \u2714 should respond with json and set the .statusCode
    .json(object, status)
      \u2714 should respond with json and set the .statusCode for backwards compat
      \u2714 should use status as second number for backwards compat

  res
    \u2714 should not override previous Content-Types
    .jsonp(object)
      \u2714 should respond with jsonp
      \u2714 should use first callback parameter with jsonp
      \u2714 should ignore object callback parameter with jsonp
      \u2714 should allow renaming callback
      \u2714 should allow []
      \u2714 should disallow arbitrary js
      \u2714 should escape utf whitespace
      \u2714 should not escape utf whitespace for json fallback
      \u2714 should include security header and prologue
      \u2714 should not override previous Content-Types with no callback
      \u2714 should override previous Content-Types with callback
      when given undefined
        \u2714 should invoke callback with no arguments
      when given null
        \u2714 should invoke callback with null
      when given a string
        \u2714 should invoke callback with a string
      when given a number
        \u2714 should invoke callback with a number
      when given an array
        \u2714 should invoke callback with an array
      when given an object
        \u2714 should invoke callback with an object
      "json escape" setting
        \u2714 should be undefined by default
        \u2714 should unicode escape HTML-sniffing characters
        \u2714 should not break undefined escape
      "json replacer" setting
        \u2714 should be passed to JSON.stringify()
      "json spaces" setting
        \u2714 should be undefined by default
        \u2714 should be passed to JSON.stringify()
    .jsonp(status, object)
      \u2714 should respond with json and set the .statusCode
    .jsonp(object, status)
      \u2714 should respond with json and set the .statusCode for backwards compat
      \u2714 should use status as second number for backwards compat

  res
    .links(obj)
      \u2714 should set Link header field
      \u2714 should set Link header field for multiple calls

  res
    \u2714 should work when mounted
    .locals
      \u2714 should be empty by default

  res
    .location(url)
      \u2714 should set the header
      \u2714 should encode "url"
      \u2714 should not touch already-encoded sequences in "url"
      when url is "back"
        \u2714 should set location from "Referer" header
        \u2714 should set location from "Referrer" header
        \u2714 should prefer "Referrer" header
        \u2714 should set the header to "/" without referrer

  res
    .redirect(url)
      \u2714 should default to a 302 redirect
      \u2714 should encode "url"
      \u2714 should not touch already-encoded sequences in "url"
    .redirect(status, url)
      \u2714 should set the response status
    .redirect(url, status)
      \u2714 should set the response status
    when the request method is HEAD
      \u2714 should ignore the body
    when accepting html
      \u2714 should respond with html
      \u2714 should escape the url
      \u2714 should include the redirect type
    when accepting text
      \u2714 should respond with text
      \u2714 should encode the url
      \u2714 should include the redirect type
    when accepting neither text or html
      \u2714 should respond with an empty body

  res
    .render(name)
      \u2714 should support absolute paths
      \u2714 should support absolute paths with "view engine"
      \u2714 should error without "view engine" set and file extension to a non-engine module
      \u2714 should error without "view engine" set and no file extension
      \u2714 should expose app.locals
      \u2714 should expose app.locals with `name` property
      \u2714 should support index.<engine>
      when an error occurs
        \u2714 should next(err)
      when "view engine" is given
        \u2714 should render the template
      when "views" is given
        \u2714 should lookup the file in the path
        when array of paths
          \u2714 should lookup the file in the path
          \u2714 should lookup in later paths until found
    .render(name, option)
      \u2714 should render the template
      \u2714 should expose app.locals
      \u2714 should expose res.locals
      \u2714 should give precedence to res.locals over app.locals
      \u2714 should give precedence to res.render() locals over res.locals
      \u2714 should give precedence to res.render() locals over app.locals
    .render(name, options, fn)
      \u2714 should pass the resulting string
    .render(name, fn)
      \u2714 should pass the resulting string
      when an error occurs
        \u2714 should pass it to the callback

  res
    \u2714 should always check regardless of length
    \u2714 should respond with 304 Not Modified when fresh
    \u2714 should not perform freshness check unless 2xx or 304
    \u2714 should not support jsonp callbacks
    \u2714 should be chainable
    .send()
      \u2714 should set body to ""
    .send(null)
      \u2714 should set body to ""
    .send(undefined)
      \u2714 should set body to ""
    .send(code)
      \u2714 should set .statusCode
    .send(code, body)
      \u2714 should set .statusCode and body
    .send(body, code)
      \u2714 should be supported for backwards compat
    .send(code, number)
      \u2714 should send number as json
    .send(String)
      \u2714 should send as html
      \u2714 should set ETag
      \u2714 should not override Content-Type
      \u2714 should override charset in Content-Type
      \u2714 should keep charset in Content-Type for Buffers
    .send(Buffer)
      \u2714 should send as octet-stream
      \u2714 should set ETag
      \u2714 should not override Content-Type
      \u2714 should not override ETag
    .send(Object)
      \u2714 should send as application/json
    when the request method is HEAD
      \u2714 should ignore the body
    when .statusCode is 204
      \u2714 should strip Content-* fields, Transfer-Encoding field, and body
    when .statusCode is 205
      \u2714 should strip Transfer-Encoding field and body, set Content-Length
    when .statusCode is 304
      \u2714 should strip Content-* fields, Transfer-Encoding field, and body
    "etag" setting
      when enabled
        \u2714 should send ETag
        \u2714 should send ETag in response to ACL request
        \u2714 should send ETag in response to BIND request
        \u2714 should send ETag in response to CHECKOUT request
        \u2714 should send ETag in response to COPY request
        \u2714 should send ETag in response to DELETE request
        \u2714 should send ETag in response to GET request
        \u2714 should send ETag in response to HEAD request
        \u2714 should send ETag in response to LINK request
        \u2714 should send ETag in response to LOCK request
        \u2714 should send ETag in response to M-SEARCH request
        \u2714 should send ETag in response to MERGE request
        \u2714 should send ETag in response to MKACTIVITY request
        \u2714 should send ETag in response to MKCALENDAR request
        \u2714 should send ETag in response to MKCOL request
        \u2714 should send ETag in response to MOVE request
        \u2714 should send ETag in response to NOTIFY request
        \u2714 should send ETag in response to OPTIONS request
        \u2714 should send ETag in response to PATCH request
        \u2714 should send ETag in response to POST request
        \u2714 should send ETag in response to PROPFIND request
        \u2714 should send ETag in response to PROPPATCH request
        \u2714 should send ETag in response to PURGE request
        \u2714 should send ETag in response to PUT request
        \u2714 should send ETag in response to REBIND request
        \u2714 should send ETag in response to REPORT request
        \u2714 should send ETag in response to SEARCH request
        \u2714 should send ETag in response to SOURCE request
        \u2714 should send ETag in response to SUBSCRIBE request
        \u2714 should send ETag in response to TRACE request
        \u2714 should send ETag in response to UNBIND request
        \u2714 should send ETag in response to UNLINK request
        \u2714 should send ETag in response to UNLOCK request
        \u2714 should send ETag in response to UNSUBSCRIBE request
        \u2714 should send ETag for empty string response
        \u2714 should send ETag for long response
        \u2714 should not override ETag when manually set
        \u2714 should not send ETag for res.send()
      when disabled
        \u2714 should send no ETag
        \u2714 should send ETag when manually set
      when "strong"
        \u2714 should send strong ETag
      when "weak"
        \u2714 should send weak ETag
      when a function
        \u2714 should send custom ETag
        \u2714 should not send falsy ETag

  res
    .sendFile(path)
      \u2714 should error missing path
      \u2714 should error for non-string path
      \u2714 should error for non-absolute path
      \u2714 should transfer a file
      \u2714 should transfer a file with special characters in string
      \u2714 should include ETag
      \u2714 should 304 when ETag matches
      \u2714 should 404 for directory
      \u2714 should 404 when not found
      \u2714 should send cache-control by default
      \u2714 should not serve dotfiles by default
      \u2714 should not override manual content-types
      \u2714 should not error if the client aborts
    .sendFile(path, fn)
      \u2714 should invoke the callback when complete
      \u2714 should invoke the callback when client aborts
      \u2714 should invoke the callback when client already aborted
      \u2714 should invoke the callback without error when HEAD
      \u2714 should invoke the callback without error when 304
      \u2714 should invoke the callback on 404
      async local storage
        \u2714 should presist store
        \u2714 should presist store on error
    .sendFile(path, options)
      \u2714 should pass options to send module
      with "acceptRanges" option
        when true
          \u2714 should advertise byte range accepted
          \u2714 should respond to range request
        when false
          \u2714 should not advertise accept-ranges
          \u2714 should not honor range requests
      with "cacheControl" option
        when true
          \u2714 should send cache-control header
        when false
          \u2714 should not send cache-control header
      with "dotfiles" option
        when "allow"
          \u2714 should allow dotfiles
        when "deny"
          \u2714 should deny dotfiles
        when "ignore"
          \u2714 should ignore dotfiles
      with "headers" option
        \u2714 should set headers on response
        \u2714 should use last header when duplicated
        \u2714 should override Content-Type
        \u2714 should not set headers on 404
      with "immutable" option
        when true
          \u2714 should send cache-control header with immutable
        when false
          \u2714 should not send cache-control header with immutable
      with "lastModified" option
        when true
          \u2714 should send last-modified header
          \u2714 should conditionally respond with if-modified-since
        when false
          \u2714 should not have last-modified header
          \u2714 should not honor if-modified-since
      with "maxAge" option
        \u2714 should set cache-control max-age to milliseconds
        \u2714 should cap cache-control max-age to 1 year
        \u2714 should min cache-control max-age to 0
        \u2714 should floor cache-control max-age
        when cacheControl: false
          \u2714 should not send cache-control
        when string
          \u2714 should accept plain number as milliseconds
          \u2714 should accept suffix "s" for seconds
          \u2714 should accept suffix "m" for minutes
          \u2714 should accept suffix "d" for days
      with "root" option
        \u2714 should allow relative path
        \u2714 should allow up within root
        \u2714 should reject up outside root
        \u2714 should reject reading outside root
    .sendfile(path, fn)
      \u2714 should invoke the callback when complete
      \u2714 should utilize the same options as express.static()
      \u2714 should invoke the callback when client aborts
      \u2714 should invoke the callback when client already aborted
      \u2714 should invoke the callback without error when HEAD
      \u2714 should invoke the callback without error when 304
      \u2714 should invoke the callback on 404
      \u2714 should not override manual content-types
      \u2714 should invoke the callback on 403
      \u2714 should invoke the callback on socket error
      async local storage
        \u2714 should presist store
        \u2714 should presist store on error
    .sendfile(path)
      \u2714 should not serve dotfiles
      \u2714 should accept dotfiles option
      \u2714 should accept headers option
      \u2714 should ignore headers option on 404
      \u2714 should transfer a file
      \u2714 should transfer a directory index file
      \u2714 should 404 for directory without trailing slash
      \u2714 should transfer a file with urlencoded name
      \u2714 should not error if the client aborts
      with an absolute path
        \u2714 should transfer the file
      with a relative path
        \u2714 should transfer the file
        \u2714 should serve relative to "root"
        \u2714 should consider ../ malicious when "root" is not set
        \u2714 should allow ../ when "root" is set
        \u2714 should disallow requesting out of "root"
        \u2714 should next(404) when not found
        with non-GET
          \u2714 should still serve
    .sendfile(path, options)
      \u2714 should pass options to send module

  res
    .sendStatus(statusCode)
      \u2714 should send the status code and message as body
      \u2714 should work with unknown code

  res
    .set(field, value)
      \u2714 should set the response header field
      \u2714 should coerce to a string
    .set(field, values)
      \u2714 should set multiple response header fields
      \u2714 should coerce to an array of strings
      \u2714 should not set a charset of one is already set
      \u2714 should throw when Content-Type is an array
    .set(object)
      \u2714 should set multiple fields
      \u2714 should coerce to a string

  res
    .status(code)
      when "code" is undefined
        \u2714 should raise error for invalid status code
      when "code" is null
        \u2714 should raise error for invalid status code
      when "code" is 201
        \u2714 should set the response status code to 201
      when "code" is 302
        \u2714 should set the response status code to 302
      when "code" is 403
        \u2714 should set the response status code to 403
      when "code" is 501
        \u2714 should set the response status code to 501
      when "code" is "410"
        \u2714 should set the response status code to 410
      when "code" is 410.1
        \u2714 should set the response status code to 410
      when "code" is 1000
        \u2714 should raise error for invalid status code
      when "code" is 99
        \u2714 should raise error for invalid status code
      when "code" is -401
        \u2714 should raise error for invalid status code

  res
    .type(str)
      \u2714 should set the Content-Type based on a filename
      \u2714 should default to application/octet-stream
      \u2714 should set the Content-Type with type/subtype

  res.vary()
    with no arguments
      \u2714 should not set Vary
    with an empty array
      \u2714 should not set Vary
    with an array
      \u2714 should set the values
    with a string
      \u2714 should set the value
    when the value is present
      \u2714 should not add it again

  utils.etag(body, encoding)
    \u2714 should support strings
    \u2714 should support utf8 strings
    \u2714 should support buffer
    \u2714 should support empty string

  utils.setCharset(type, charset)
    \u2714 should do anything without type
    \u2714 should return type if not given charset
    \u2714 should keep charset if not given charset
    \u2714 should set charset
    \u2714 should override charset

  utils.wetag(body, encoding)
    \u2714 should support strings
    \u2714 should support utf8 strings
    \u2714 should support buffer
    \u2714 should support empty string

  utils.isAbsolute()
    \u2714 should support windows
    \u2714 should support windows unc
    \u2714 should support unices

  utils.flatten(arr)
    \u2714 should flatten an array

  auth
    GET /
      \u2714 should redirect to /login
    GET /login
      \u2714 should render login form
      \u2714 should display login error for bad user
      \u2714 should display login error for bad password
    GET /logout
      \u2714 should redirect to /
    GET /restricted
      \u2714 should redirect to /login without cookie
      \u2714 should succeed with proper cookie
    POST /login
      \u2714 should fail without proper username
      \u2714 should fail without proper password
      \u2714 should succeed with proper credentials

  content-negotiation
    GET /
      \u2714 should default to text/html
      \u2714 should accept to text/plain
      \u2714 should accept to application/json
    GET /users
      \u2714 should default to text/html
      \u2714 should accept to text/plain
      \u2714 should accept to application/json

  cookie-sessions
    GET /
      \u2714 should display no views
      \u2714 should set a session cookie
      \u2714 should display 1 view on revisit

  cookies
    GET /
      \u2714 should have a form
      \u2714 should respond with no cookies
      \u2714 should respond to cookie
    GET /forget
      \u2714 should clear cookie
    POST /
      \u2714 should set a cookie
      \u2714 should no set cookie w/o reminder

  downloads
    GET /
      \u2714 should have a link to amazing.txt
    GET /files/notes/groceries.txt
      \u2714 should have a download header
    GET /files/amazing.txt
      \u2714 should have a download header
    GET /files/missing.txt
      \u2714 should respond with 404
    GET /files/../index.js
      \u2714 should respond with 403

  ejs
    GET /
      \u2714 should respond with html

  error-pages
    GET /
      \u2714 should respond with page list
    Accept: text/html
      GET /403
        \u2714 should respond with 403
      GET /404
        \u2714 should respond with 404
      GET /500
        \u2714 should respond with 500
    Accept: application/json
      GET /403
        \u2714 should respond with 403
      GET /404
        \u2714 should respond with 404
      GET /500
        \u2714 should respond with 500
    Accept: text/plain
      GET /403
        \u2714 should respond with 403
      GET /404
        \u2714 should respond with 404
      GET /500
        \u2714 should respond with 500

  error
    GET /
      \u2714 should respond with 500
    GET /next
      \u2714 should respond with 500
    GET /missing
      \u2714 should respond with 404

  hello-world
    GET /
      \u2714 should respond with hello world
    GET /missing
      \u2714 should respond with 404

  markdown
    GET /
      \u2714 should respond with html
    GET /fail
      \u2714 should respond with an error

  multi-router
    GET /
      \u2714 should respond with root handler
    GET /api/v1/
      \u2714 should respond with APIv1 root handler
    GET /api/v1/users
      \u2714 should respond with users from APIv1
    GET /api/v2/
      \u2714 should respond with APIv2 root handler
    GET /api/v2/users
      \u2714 should respond with users from APIv2

  mvc
    GET /
      \u2714 should redirect to /users
    GET /pet/0
      \u2714 should get pet
    GET /pet/0/edit
      \u2714 should get pet edit page
    PUT /pet/2
      \u2714 should update the pet
    GET /users
      \u2714 should display a list of users (49ms)
    GET /user/:id
      when present
        \u2714 should display the user
        \u2714 should display the users pets
      when not present
        \u2714 should 404
    GET /user/:id/edit
      \u2714 should display the edit form
    PUT /user/:id
      \u2714 should 500 on error
      \u2714 should update the user
    POST /user/:id/pet
      \u2714 should create a pet for user

  params
    GET /
      \u2714 should respond with instructions
    GET /user/0
      \u2714 should respond with a user
    GET /user/9
      \u2714 should fail to find user
    GET /users/0-2
      \u2714 should respond with three users
    GET /users/foo-bar
      \u2714 should fail integer parsing

  resource
    GET /
      \u2714 should respond with instructions
    GET /users
      \u2714 should respond with all users
    GET /users/1
      \u2714 should respond with user 1
    GET /users/9
      \u2714 should respond with error
    GET /users/1..3
      \u2714 should respond with users 1 through 3
    DELETE /users/1
      \u2714 should delete user 1
    DELETE /users/9
      \u2714 should fail
    GET /users/1..3.json
      \u2714 should respond with users 2 and 3 as json

  route-map
    GET /users
      \u2714 should respond with users
    DELETE /users
      \u2714 should delete users
    GET /users/:id
      \u2714 should get a user
    GET /users/:id/pets
      \u2714 should get a users pets
    GET /users/:id/pets/:pid
      \u2714 should get a users pet

  route-separation
    GET /
      \u2714 should respond with index
    GET /users
      \u2714 should list users
    GET /user/:id
      \u2714 should get a user
      \u2714 should 404 on missing user
    GET /user/:id/view
      \u2714 should get a user
      \u2714 should 404 on missing user
    GET /user/:id/edit
      \u2714 should get a user to edit
    PUT /user/:id/edit
      \u2714 should edit a user
    POST /user/:id/edit?_method=PUT
      \u2714 should edit a user
    GET /posts
      \u2714 should get a list of posts

  vhost
    example.com
      GET /
        \u2714 should say hello
      GET /foo
        \u2714 should say foo
    foo.example.com
      GET /
        \u2714 should redirect to /foo
    bar.example.com
      GET /
        \u2714 should redirect to /bar

  web-service
    GET /api/users
      without an api key
        \u2714 should respond with 400 bad request
      with an invalid api key
        \u2714 should respond with 401 unauthorized
      with a valid api key
        \u2714 should respond users json
    GET /api/repos
      without an api key
        \u2714 should respond with 400 bad request
      with an invalid api key
        \u2714 should respond with 401 unauthorized
      with a valid api key
        \u2714 should respond repos json
    GET /api/user/:name/repos
      without an api key
        \u2714 should respond with 400 bad request
      with an invalid api key
        \u2714 should respond with 401 unauthorized
      with a valid api key
        \u2714 should respond user repos json
        \u2714 should 404 with unknown user
    when requesting an invalid route
      \u2714 should respond with 404 json


  1261 passing (4s)

-----------------------------------------------
Running test test_client_prom (starting at 2024-01-23 20:29:00-05:00) ... 
-----------------------------------------------
Running prom-client test
Running prom-client test suite
fatal: destination path '/var/tmp/daily_scl_tests/rhel9-test-upstream/plans/nightly-container-rhel9/data/s2i-nodejs-container/test/prom-client' already exists and is not an empty directory.
STEP 1/11: FROM ubi9/nodejs-18:1
STEP 2/11: LABEL "io.openshift.s2i.build.image"="ubi9/nodejs-18:1"       "io.openshift.s2i.build.source-location"="file:///var/tmp/daily_scl_tests/rhel9-test-upstream/plans/nightly-container-rhel9/data/s2i-nodejs-container/test/prom-client"
--> 6c28615fe766
STEP 3/11: USER root
--> 11ffaab6dbed
STEP 4/11: COPY upload/src/ /tmp/src
--> 143cf0b62262
STEP 5/11: RUN chown -R 1001:0 /tmp/src
--> d35615cd9fea
STEP 6/11: ENV NPM_MIRROR=https://repository.engineering.redhat.com/nexus/repository/registry.npmjs.org
--> 0dc21184e6fb
STEP 7/11: ENV NODE_ENV=development
--> 97e07848787f
STEP 8/11: RUN cd /etc/pki/ca-trust/source/anchors && update-ca-trust extract
--> da41e29050f2
STEP 9/11: USER 1001
--> 96a7e4d8288c
STEP 10/11: RUN /usr/libexec/s2i/assemble
---> Installing application source ...
---> Building your Node application from source
npm WARN deprecated har-validator@5.1.5: this library is no longer supported
npm WARN deprecated figgy-pudding@3.5.2: This module is no longer supported.
npm WARN deprecated stringify-package@1.0.1: This module is not used anymore, and has been replaced by @npmcli/package-json
npm WARN deprecated node-fetch-npm@2.0.4: This module is not used anymore, npm uses minipass-fetch for its fetch implementation now
npm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.
npm WARN deprecated gentle-fs@2.3.1: This package is deprecated and will not be receiving further updates
npm WARN deprecated libnpmconfig@1.2.1: This module is not used anymore. npm config is parsed by npm itself and by @npmcli/config
npm WARN deprecated fs-vacuum@1.2.10: This module is no longer maintained
npm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142

added 913 packages in 29s

132 packages are looking for funding
  run `npm fund` for details
npm notice 
npm notice New major version of npm available! 9.8.1 -> 10.3.0
npm notice Changelog: <https://github.com/npm/cli/releases/tag/v10.3.0>
npm notice Run `npm install -g npm@10.3.0` to update!
npm notice 
--> a1ed9ae3aca3
STEP 11/11: CMD /usr/libexec/s2i/run
COMMIT ubi9/nodejs-18:1-prom-client
--> 3db3b7470be3
Successfully tagged localhost/ubi9/nodejs-18:1-prom-client
3db3b7470be39b108ba9573f6335bf5eadfb77271c06853ea5917e5ae9fdc513

> prom-client@15.1.0 test /opt/app-root/src
> npm run lint && npm run compile-typescript && npm run test-unit


> prom-client@15.1.0 lint /opt/app-root/src
> eslint .


> prom-client@15.1.0 compile-typescript /opt/app-root/src
> tsc --project .


> prom-client@15.1.0 test-unit /opt/app-root/src
> jest

PASS test/registerTest.js
PASS test/summaryTest.js
PASS test/histogramTest.js
PASS test/pushgatewayTest.js
PASS test/gaugeTest.js
PASS test/counterTest.js
PASS test/clusterTest.js
PASS test/exemplarsTest.js
PASS test/pushgatewayWithPathTest.js
PASS test/defaultMetricsTest.js
PASS test/aggregatorsTest.js
PASS test/metrics/heapSpacesSizeAndUsedTest.js
PASS test/metrics/eventLoopLagTest.js
PASS test/timeWindowQuantilesTest.js
PASS test/metrics/maxFileDescriptorsTest.js
PASS test/bucketGeneratorsTest.js
PASS test/metrics/versionTest.js
PASS test/metrics/heapSizeAndUsedTest.js
PASS test/metrics/gcTest.js
PASS test/metrics/processRequestsTest.js
PASS test/metrics/processHandlesTest.js
PASS test/metrics/processStartTimeTest.js
PASS test/metrics/processOpenFileDescriptorsTest.js
PASS test/metrics/processResourcesTest.js
PASS test/validationTest.js

Test Suites: 25 passed, 25 total
Tests:       476 passed, 476 total
Snapshots:   30 passed, 30 total
Time:        6.496 s
Ran all test suites.
-----------------------------------------------
Running test test_client_opossum (starting at 2024-01-23 20:30:12-05:00) ... 
-----------------------------------------------
Running opossum client test
Running opossum test suite
fatal: destination path '/var/tmp/daily_scl_tests/rhel9-test-upstream/plans/nightly-container-rhel9/data/s2i-nodejs-container/test/opossum' already exists and is not an empty directory.
STEP 1/11: FROM ubi9/nodejs-18:1
STEP 2/11: LABEL "io.openshift.s2i.build.image"="ubi9/nodejs-18:1"       "io.openshift.s2i.build.source-location"="file:///var/tmp/daily_scl_tests/rhel9-test-upstream/plans/nightly-container-rhel9/data/s2i-nodejs-container/test/opossum"
--> 9c5affb42dce
STEP 3/11: USER root
--> 81fd243370bf
STEP 4/11: COPY upload/src/ /tmp/src
--> 6d9cf2554641
STEP 5/11: RUN chown -R 1001:0 /tmp/src
--> e83c4890fd08
STEP 6/11: ENV NPM_MIRROR=https://repository.engineering.redhat.com/nexus/repository/registry.npmjs.org
--> dcb35bc068eb
STEP 7/11: ENV NODE_ENV=development
--> 3228c47783ec
STEP 8/11: RUN cd /etc/pki/ca-trust/source/anchors && update-ca-trust extract
--> 92cb3ce29fe8
STEP 9/11: USER 1001
--> fa14403b05c0
STEP 10/11: RUN /usr/libexec/s2i/assemble
---> Installing application source ...
---> Building your Node application from source
npm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.
npm WARN deprecated eslint-plugin-standard@5.0.0: standard 16.0.0 and eslint-config-standard 16.0.0 no longer require the eslint-plugin-standard package. You can remove it from your dependencies with 'npm rm eslint-plugin-standard'. More info here: https://github.com/standard/standard/issues/1316

> opossum@8.1.3 prepare
> husky install

husky - Git hooks installed

added 860 packages, and audited 861 packages in 16s

258 packages are looking for funding
  run `npm fund` for details

4 vulnerabilities (2 moderate, 1 high, 1 critical)

To address all issues, run:
  npm audit fix

Run `npm audit` for details.
npm notice 
npm notice New major version of npm available! 9.8.1 -> 10.3.0
npm notice Changelog: <https://github.com/npm/cli/releases/tag/v10.3.0>
npm notice Run `npm install -g npm@10.3.0` to update!
npm notice 
--> f82c7d6ed13f
STEP 11/11: CMD /usr/libexec/s2i/run
COMMIT ubi9/nodejs-18:1-opossum
--> c72fd74b8186
Successfully tagged localhost/ubi9/nodejs-18:1-opossum
c72fd74b81861557ef044485b111c59791a2eb0a2062e9efd91a70be8db540c3

> opossum@8.1.3 pretest
> npm run lint


> opossum@8.1.3 lint
> eslint --ignore-path .gitignore .


> opossum@8.1.3 test
> nyc tape test/*.js | faucet


# # Using cache
[K

  ok [1m[32m1[0m does not hit the cache[K
  ok [1m[32m2[0m emits a cacheMiss[K
  ok [1m[32m3[0m fired once[K
  ok [1m[32m4[0m cache hits:misses 0:1[K
  ok [1m[32m5[0m hit the cache[K
  ok [1m[32m6[0m did not emit miss[K
  ok [1m[32m7[0m fired twice[K
  ok [1m[32m8[0m cache hits:misses 1:1[K
  ok [1m[32m9[0m cache hits:misses 1:2[K
[1A[1G[1m[32m\u2713 # Using cache
[0m[1B[1G
# # Using cache with TTL
[K

  ok [1m[32m10[0m does not hit the cache[K
  ok [1m[32m11[0m emits a cacheMiss[K
  ok [1m[32m12[0m fired once[K
  ok [1m[32m13[0m cache hits:misses 0:1[K
  ok [1m[32m14[0m hit the cache[K
  ok [1m[32m15[0m did not emit miss[K
  ok [1m[32m16[0m fired twice[K
  ok [1m[32m17[0m cache hits:misses 1:1[K
  ok [1m[32m18[0m hit the cache[K
  ok [1m[32m19[0m did not emit miss[K
  ok [1m[32m20[0m fired twice[K
  ok [1m[32m21[0m cache hits:misses 1:2[K
[1A[1G[1m[32m\u2713 # Using cache with TTL
[0m[1B[1G
# # Using cache with custom get cache key
[K

  ok [1m[32m22[0m does not hit the cache[K
  ok [1m[32m23[0m emits a cacheMiss[K
  ok [1m[32m24[0m fired once[K
  ok [1m[32m25[0m cache hits:misses 0:1[K
  ok [1m[32m26[0m hit the cache[K
  ok [1m[32m27[0m did not emit miss[K
  ok [1m[32m28[0m fired twice[K
  ok [1m[32m29[0m cache hits:misses 1:1[K
  ok [1m[32m30[0m cache hits:misses 1:2[K
[1A[1G[1m[32m\u2713 # Using cache with custom get cache key
[0m[1B[1G
# # Using cache with custom transport
[K

  ok [1m[32m31[0m does not hit the cache[K
  ok [1m[32m32[0m emits a cacheMiss[K
  ok [1m[32m33[0m fired once[K
  ok [1m[32m34[0m cache hits:misses 0:1[K
  ok [1m[32m35[0m hit the cache[K
  ok [1m[32m36[0m did not emit miss[K
  ok [1m[32m37[0m fired twice[K
  ok [1m[32m38[0m cache hits:misses 1:1[K
  ok [1m[32m39[0m cache hits:misses 1:2[K
[1A[1G[1m[32m\u2713 # Using cache with custom transport
[0m[1B[1G
# # EventEmitter max listeners
[K

[1A[1G[1m[32m\u2713 # EventEmitter max listeners
[0m[1B[1G
# # Circuit shuts down properly
[K

  ok [1m[32m40[0m breaker is active[K
  ok [1m[32m41[0m Breaker emits Shutdown[K
  ok [1m[32m42[0m breaker is shutdown[K
  ok [1m[32m43[0m breaker has been disabled[K
  ok [1m[32m44[0m should be strictly equal[K
  ok [1m[32m45[0m should be strictly equal[K
  ok [1m[32m46[0m isOurError() should return true[K
[1A[1G[1m[32m\u2713 # Circuit shuts down properly
[0m[1B[1G
# # When open, an existing request resolving does not close circuit
[K

  ok [1m[32m47[0m should be strictly equal[K
  ok [1m[32m48[0m should be open after initial fire[K
  ok [1m[32m49[0m should not be pending close after initial fire[K
  ok [1m[32m50[0m should be strictly equal[K
  ok [1m[32m51[0m should still be open even after first fire resolved[K
  ok [1m[32m52[0m should still not be pending close[K
[1A[1G[1m[32m\u2713 # When open, an existing request resolving does not close circuit
[0m[1B[1G
# # Allows applying a "this" context
[K

  ok [1m[32m53[0m should be strictly equal[K
  ok [1m[32m54[0m should be strictly equal[K
[1A[1G[1m[32m\u2713 # Allows applying a "this" context
[0m[1B[1G
# # The "this" context is used even when circuit is disabled
[K

  ok [1m[32m55[0m should be strictly equal[K
[1A[1G[1m[32m\u2713 # The "this" context is used even when circuit is disabled
[0m[1B[1G
# # The apply() method correctly passes arguments
[K

  ok [1m[32m56[0m should be strictly equal[K
[1A[1G[1m[32m\u2713 # The apply() method correctly passes arguments
[0m[1B[1G
# # Defaults to enabled
[K

  ok [1m[32m57[0m should be strictly equal[K
[1A[1G[1m[32m\u2713 # Defaults to enabled
[0m[1B[1G
# # Accepts options.enabled
[K

  ok [1m[32m58[0m should be strictly equal[K
[1A[1G[1m[32m\u2713 # Accepts options.enabled
[0m[1B[1G
# # When disabled the circuit should always be closed
[K

  ok [1m[32m59[0m should be strictly equal[K
  ok [1m[32m60[0m should be closed[K
  ok [1m[32m61[0m should not be pending close[K
  ok [1m[32m62[0m should be strictly equal[K
  ok [1m[32m63[0m should be closed[K
  ok [1m[32m64[0m should not be pending close[K
  ok [1m[32m65[0m should be strictly equal[K
  ok [1m[32m66[0m should be open[K
[1A[1G[1m[32m\u2713 # When disabled the circuit should always be closed
[0m[1B[1G
# # Bypasses failure stats if errorFilter returns true - Should return a success
[K

  ok [1m[32m67[0m should be strictly equal[K
  ok [1m[32m68[0m should be strictly equal[K
  ok [1m[32m69[0m should be strictly equal[K
  ok [1m[32m70[0m should be truthy[K
[1A[1G[1m[32m\u2713 # Bypasses failure stats if errorFilter returns true - Should return a success
[0m[1B[1G
# # Increments failure stats if errorFilter returns false
[K

  ok [1m[32m71[0m should be strictly equal[K
  ok [1m[32m72[0m should be strictly equal[K
  ok [1m[32m73[0m should be truthy[K
[1A[1G[1m[32m\u2713 # Increments failure stats if errorFilter returns false
[0m[1B[1G
# # Increments failure stats if no filter is provided
[K

  ok [1m[32m74[0m should be strictly equal[K
  ok [1m[32m75[0m should be strictly equal[K
  ok [1m[32m76[0m should be truthy[K
[1A[1G[1m[32m\u2713 # Increments failure stats if no filter is provided
[0m[1B[1G
# # Provides invocation parameters to error filter
[K

  ok [1m[32m77[0m should be strictly equal[K
  ok [1m[32m78[0m should be strictly equal[K
  ok [1m[32m79[0m should be strictly equal[K
[1A[1G[1m[32m\u2713 # Provides invocation parameters to error filter
[0m[1B[1G
# # A successful errorFilter should not invoke the fallback function
[K

  ok [1m[32m80[0m Error filter invoked[K
[1A[1G[1m[32m\u2713 # A successful errorFilter should not invoke the fallback function
[0m[1B[1G
# # A successful errorFilter should still return the error from function invocation
[K
Error: -1 is < 0

  ok [1m[32m81[0m Error filter invoked[K
  ok [1m[32m82[0m should be strictly equal[K
[1A[1G[1m[32m\u2713 # A successful errorFilter should still return the error from function invocation
[0m[1B[1G
# # When half-open, the circuit only allows one request through
[K

  ok [1m[32m83[0m should be strictly equal[K
  ok [1m[32m84[0m should be open after initial fire[K
  ok [1m[32m85[0m should not be pending close after initial fire[K
  ok [1m[32m86[0m should be halfOpen after timeout[K
  ok [1m[32m87[0m should be pending close after timeout[K
  ok [1m[32m88[0m should fail again[K
  ok [1m[32m89[0m should be open again after long failing function[K
  ok [1m[32m90[0m should not be halfOpen after long failing function[K
  ok [1m[32m91[0m should not be pending close after long failing func[K
  ok [1m[32m92[0m should be strictly equal[K
[1A[1G[1m[32m\u2713 # When half-open, the circuit only allows one request through
[0m[1B[1G
# # When half-open, a filtered error should close the circuit
[K

  ok [1m[32m93[0m should be strictly equal[K
  ok [1m[32m94[0m should be open after initial fire[K
  ok [1m[32m95[0m should not be pending close after initial fire[K
  ok [1m[32m96[0m should be halfOpen after timeout[K
  ok [1m[32m97[0m should be pending close after timeout[K
  ok [1m[32m98[0m should fail again[K
  ok [1m[32m99[0m should be closed after passing with filtered error[K
[1A[1G[1m[32m\u2713 # When half-open, a filtered error should close the circuit
[0m[1B[1G
# # Circuits accept a health check function
[K

  ok [1m[32m100[0m function called[K
[1A[1G[1m[32m\u2713 # Circuits accept a health check function
[0m[1B[1G
# # healthCheckFailed is emitted on failure
[K

  ok [1m[32m101[0m healthCheckFailed emitted[K
[1A[1G[1m[32m\u2713 # healthCheckFailed is emitted on failure
[0m[1B[1G
# # circuit opens on health check failure
[K

  ok [1m[32m102[0m circuit opened[K
[1A[1G[1m[32m\u2713 # circuit opens on health check failure
[0m[1B[1G
# # Health check function executes in the circuit breaker context
[K

  ok [1m[32m103[0m health check executes in circuit context[K
[1A[1G[1m[32m\u2713 # Health check function executes in the circuit breaker context
[0m[1B[1G
# # healthCheck() throws TypeError if interval duration is NaN
[K

  ok [1m[32m104[0m throws TypeError[K
  ok [1m[32m105[0m include correct message[K
[1A[1G[1m[32m\u2713 # healthCheck() throws TypeError if interval duration is NaN
[0m[1B[1G
# # healthCheck() throws TypeError if parameter is not a function
[K

  ok [1m[32m106[0m throws TypeError[K
  ok [1m[32m107[0m include correct message[K
[1A[1G[1m[32m\u2713 # healthCheck() throws TypeError if parameter is not a function
[0m[1B[1G
# # timeout defaults to 10000
[K

  ok [1m[32m108[0m should be set to 10000 by default[K
[1A[1G[1m[32m\u2713 # timeout defaults to 10000
[0m[1B[1G
# # timeout can be set to 0
[K

  ok [1m[32m109[0m should be set to 0[K
[1A[1G[1m[32m\u2713 # timeout can be set to 0
[0m[1B[1G
# # resetTimeout defaults to 30000
[K

  ok [1m[32m110[0m should be set to 30000 by default[K
[1A[1G[1m[32m\u2713 # resetTimeout defaults to 30000
[0m[1B[1G
# # resetTimeout can be set to 0
[K

  ok [1m[32m111[0m should be set to 0[K
[1A[1G[1m[32m\u2713 # resetTimeout can be set to 0
[0m[1B[1G
# # errorThresholdPercentage defaults to 50
[K

  ok [1m[32m112[0m should be set to 50 by default[K
[1A[1G[1m[32m\u2713 # errorThresholdPercentage defaults to 50
[0m[1B[1G
# # errorThresholdPercentage can be set to 0
[K

  ok [1m[32m113[0m should be set to 0[K
[1A[1G[1m[32m\u2713 # errorThresholdPercentage can be set to 0
[0m[1B[1G
# # rollingCountTimeout defaults to 10000
[K

  ok [1m[32m114[0m should be set to 10000 by default[K
[1A[1G[1m[32m\u2713 # rollingCountTimeout defaults to 10000
[0m[1B[1G
# # rollingCountTimeout can be set to 0
[K

  ok [1m[32m115[0m should be set to 0[K
[1A[1G[1m[32m\u2713 # rollingCountTimeout can be set to 0
[0m[1B[1G
# # rollingCountBuckets defaults to 10
[K

  ok [1m[32m116[0m should be set to 10 by default[K
[1A[1G[1m[32m\u2713 # rollingCountBuckets defaults to 10
[0m[1B[1G
# # rollingCountBuckets can be set to 0
[K

  ok [1m[32m117[0m should be set to 0[K
[1A[1G[1m[32m\u2713 # rollingCountBuckets can be set to 0
[0m[1B[1G
# # When disabled, the event emitter listener should be removed
[K

  ok [1m[32m118[0m listener attached automatically[K
  ok [1m[32m119[0m listener removed when breaker disabled[K
[1A[1G[1m[32m\u2713 # When disabled, the event emitter listener should be removed
[0m[1B[1G
# # Event listener should be removed only for the breaker that is disabled
[K

  ok [1m[32m120[0m 1 listener attached for each breaker[K
  ok [1m[32m121[0m 1 listener should be disabled and 1 should remain[K
[1A[1G[1m[32m\u2713 # Event listener should be removed only for the breaker that is disabled
[0m[1B[1G
# # Event listener should be re-added when circuit is re-enabled
[K

  ok [1m[32m122[0m listener attached automatically[K
  ok [1m[32m123[0m listener removed when breaker disabled[K
  ok [1m[32m124[0m listener re-attached when breaker re-enabled[K
[1A[1G[1m[32m\u2713 # Event listener should be re-added when circuit is re-enabled
[0m[1B[1G
# # Listener should not be attached with a call to enable if there is already a listener
[K

  ok [1m[32m125[0m listener attached automatically[K
  ok [1m[32m126[0m listener should not be added again[K
[1A[1G[1m[32m\u2713 # Listener should not be attached with a call to enable if there is already a listener
[0m[1B[1G
# # Listener should not be attached with a call to enable if there is already a listener and there is another breaker in the mix
[K

  ok [1m[32m127[0m listener attached automatically[K
  ok [1m[32m128[0m listener should not be added again[K
[1A[1G[1m[32m\u2713 # Listener should not be attached with a call to enable if there is already a listener and there is another breaker in the mix
[0m[1B[1G
# # Acquiring a semaphore reduces the number of locks available
[K

  ok [1m[32m129[0m Semaphore should start with one lock available[K
  ok [1m[32m130[0m Semaphore lock count reduced[K
[1A[1G[1m[32m\u2713 # Acquiring a semaphore reduces the number of locks available
[0m[1B[1G
# # Releasing a semaphore increases the number of locks available
[K

  ok [1m[32m131[0m Semaphore lock count reduced[K
  ok [1m[32m132[0m Semaphore lock count increased[K
[1A[1G[1m[32m\u2713 # Releasing a semaphore increases the number of locks available
[0m[1B[1G
# # Semaphores wait until a lock is available
[K

  ok [1m[32m133[0m Semaphore lock count reduced[K
  ok [1m[32m134[0m Semaphore lock count reduced[K
  ok [1m[32m135[0m Semaphore waits to provide a lock[K
  ok [1m[32m136[0m Semaphore lock count increased[K
[1A[1G[1m[32m\u2713 # Semaphores wait until a lock is available
[0m[1B[1G
# # User code cannot change the lock count
[K

  ok [1m[32m137[0m Semaphore starts with one lock[K
  ok [1m[32m138[0m Semaphore throws TypeError when user code attempts to change count[K
  ok [1m[32m139[0m Semaphore count is read only to user code[K
[1A[1G[1m[32m\u2713 # User code cannot change the lock count
[0m[1B[1G
# # A semaphore can time out waiting for a lock
[K

  ok [1m[32m140[0m Semaphore lock acquisition timed out[K
[1A[1G[1m[32m\u2713 # A semaphore can time out waiting for a lock
[0m[1B[1G
# # A user can test semaphore to see if a lock is available
[K

  ok [1m[32m141[0m test() returns true if a lock is available[K
  ok [1m[32m142[0m test() acquires an available lock[K
  ok [1m[32m143[0m test() returns false when a lock is unavailable[K
  ok [1m[32m144[0m test() returns true when a lock is eventually released[K
[1A[1G[1m[32m\u2713 # A user can test semaphore to see if a lock is available
[0m[1B[1G
# # CircuitBreaker State - export the state of a breaker instance
[K

  ok [1m[32m145[0m has the toJSON function[K
  ok [1m[32m146[0m enabled initialized value[K
  ok [1m[32m147[0m closed initialized value[K
  ok [1m[32m148[0m open initialized value[K
  ok [1m[32m149[0m half open initialized value[K
  ok [1m[32m150[0m warmup initialized value[K
  ok [1m[32m151[0m shutdown initialized value[K
  ok [1m[32m152[0m lastTimerAt initialized value[K
[1A[1G[1m[32m\u2713 # CircuitBreaker State - export the state of a breaker instance
[0m[1B[1G
# # CircuitBreaker State - export the state of a breaker instance using toJson
[K

  ok [1m[32m153[0m has the toJSON function[K
  ok [1m[32m154[0m name initialized value[K
  ok [1m[32m155[0m enabled initialized value[K
  ok [1m[32m156[0m closed initialized value[K
  ok [1m[32m157[0m open initialized value[K
  ok [1m[32m158[0m half open initialized value[K
  ok [1m[32m159[0m warmup initialized value[K
  ok [1m[32m160[0m shutdown initialized value[K
[1A[1G[1m[32m\u2713 # CircuitBreaker State - export the state of a breaker instance using toJson
[0m[1B[1G
# # CircuitBreaker State - initialize the breaker as Closed
[K

  ok [1m[32m161[0m enabled primed value[K
  ok [1m[32m162[0m closed primed value[K
  ok [1m[32m163[0m open primed value[K
  ok [1m[32m164[0m half open primed value[K
  ok [1m[32m165[0m warmup primed value[K
  ok [1m[32m166[0m shutdown primed value[K
  ok [1m[32m167[0m breaker should be open[K
  ok [1m[32m168[0m breaker should not be closed[K
[1A[1G[1m[32m\u2713 # CircuitBreaker State - initialize the breaker as Closed
[0m[1B[1G
# # Pre-populate state as Open(Closed === false) - Breaker resets after a configurable amount of time
[K

  ok [1m[32m169[0m breaker has reset[K
[1A[1G[1m[32m\u2713 # Pre-populate state as Open(Closed === false) - Breaker resets after a configurable amount of time
[0m[1B[1G
# # Enters halfOpen state if closed is false and more time has elapsed since resetTimeout
[K

  ok [1m[32m170[0m breaker should be halfOpen[K
  ok [1m[32m171[0m breaker has reset[K
[1A[1G[1m[32m\u2713 # Enters halfOpen state if closed is false and more time has elapsed since resetTimeout
[0m[1B[1G
# # When half-open, the circuit only allows one request through
[K

  ok [1m[32m172[0m should be halfOpen on initialize[K
  ok [1m[32m173[0m should be pending close on initialize[K
  ok [1m[32m174[0m should fail again[K
  ok [1m[32m175[0m should be open again after long failing function[K
  ok [1m[32m176[0m should not be halfOpen after long failing function[K
  ok [1m[32m177[0m should not be pending close after long failing func[K
  ok [1m[32m178[0m should be strictly equal[K
[1A[1G[1m[32m\u2713 # When half-open, the circuit only allows one request through
[0m[1B[1G
# # Circuit initialized as shutdown
[K

  ok [1m[32m179[0m breaker is shutdown[K
  ok [1m[32m180[0m breaker has been disabled[K
  ok [1m[32m181[0m should be strictly equal[K
  ok [1m[32m182[0m should be strictly equal[K
  ok [1m[32m183[0m isOurError() should return true[K
[1A[1G[1m[32m\u2713 # Circuit initialized as shutdown
[0m[1B[1G
# # CircuitBreaker State - imports the state and status of a breaker instance
[K

  ok [1m[32m184[0m cloned breaker enabled state[K
  ok [1m[32m185[0m cloned breaker closed state[K
  ok [1m[32m186[0m cloned breaker halfOpen state[K
  ok [1m[32m187[0m cloned breaker warmUp state[K
  ok [1m[32m188[0m cloned breaker open state[K
  ok [1m[32m189[0m cloned breaker shutdown state[K
  ok [1m[32m190[0m cloned stat failures value[K
  ok [1m[32m191[0m cloned stat fallbacks value[K
  ok [1m[32m192[0m cloned stat successes value[K
  ok [1m[32m193[0m cloned stat rejects value[K
  ok [1m[32m194[0m cloned stat fires value[K
  ok [1m[32m195[0m cloned stat timeouts value[K
  ok [1m[32m196[0m cloned stat cacheHits value[K
  ok [1m[32m197[0m cloned stat cacheMisses value[K
  ok [1m[32m198[0m cloned stat semaphoreRejections value[K
  ok [1m[32m199[0m cloned stat percentiles value[K
  ok [1m[32m200[0m cloned stat latencyTimes value[K
  ok [1m[32m201[0m cloned stat latencyMean value[K
[1A[1G[1m[32m\u2713 # CircuitBreaker State - imports the state and status of a breaker instance
[0m[1B[1G
# # CircuitBreaker status - new Status static method
[K

  ok [1m[32m202[0m returns a new Status instance[K
  ok [1m[32m203[0m status reports 1 failure[K
  ok [1m[32m204[0m status reports 1 reject[K
  ok [1m[32m205[0m status reports 1 fires[K
  ok [1m[32m206[0m status reports 1 fallback[K
  ok [1m[32m207[0m status reports 1 successes[K
  ok [1m[32m208[0m status reports 1 timeouts[K
  ok [1m[32m209[0m status reports 1 cacheHits[K
  ok [1m[32m210[0m status reports 1 semaphoreRejections[K
[1A[1G[1m[32m\u2713 # CircuitBreaker status - new Status static method
[0m[1B[1G
# # CircuitBreaker status - import stats
[K

  ok [1m[32m211[0m expected status values[K
  ok [1m[32m212[0m expected status values[K
  ok [1m[32m213[0m expected status values[K
  ok [1m[32m214[0m breaker fired 4 times[K
  ok [1m[32m215[0m fails with correct error message[K
  ok [1m[32m216[0m status reports 2 failures[K
  ok [1m[32m217[0m status reports 5 fires[K
  ok [1m[32m218[0m fallback is invoked[K
  ok [1m[32m219[0m status reports 2 failure[K
  ok [1m[32m220[0m status reports 2 reject[K
  ok [1m[32m221[0m status reports 6 fires[K
  ok [1m[32m222[0m status reports 2 fallback[K
[1A[1G[1m[32m\u2713 # CircuitBreaker status - import stats
[0m[1B[1G
# # CircuitBreaker status - import stats, but leave some out
[K

  ok [1m[32m223[0m failures was initialized[K
  ok [1m[32m224[0m fallbacks was initialized[K
  ok [1m[32m225[0m successes was initialized[K
[1A[1G[1m[32m\u2713 # CircuitBreaker status - import stats, but leave some out
[0m[1B[1G
# # CircuitBreaker status - import stats,but not a status object
[K

  ok [1m[32m226[0m (unnamed assert)[K
[1A[1G[1m[32m\u2713 # CircuitBreaker status - import stats,but not a status object
[0m[1B[1G
# # CircuitBreaker status - enableSnapshots defaults to true
[K

  ok [1m[32m227[0m enableSnapshots defaults to true[K
[1A[1G[1m[32m\u2713 # CircuitBreaker status - enableSnapshots defaults to true
[0m[1B[1G
# # CircuitBreaker status - enableSnapshots is true in Status when set to true
[K

  ok [1m[32m228[0m enableSnapshots propagates as true[K
[1A[1G[1m[32m\u2713 # CircuitBreaker status - enableSnapshots is true in Status when set to true
[0m[1B[1G
# # CircuitBreaker status - enableSnapshots is false in Status when set to false
[K

  ok [1m[32m229[0m enableSnapshots propagates as false[K
[1A[1G[1m[32m\u2713 # CircuitBreaker status - enableSnapshots is false in Status when set to false
[0m[1B[1G
# # CircuitBreaker status - breaker stats should not reset when rotateBucketController provided and no event emitted
[K

  ok [1m[32m230[0m failures do not reset because no rotate event is emitted[K
[1A[1G[1m[32m\u2713 # CircuitBreaker status - breaker stats should not reset when rotateBucketController provided and no event emitted
[0m[1B[1G
# # CircuitBreaker status - breaker stats should rotate when rotateBucketController provided and "rotate" event emitted
[K

  ok [1m[32m231[0m failures reset buckets are rotated by EventEmitter[K
[1A[1G[1m[32m\u2713 # CircuitBreaker status - breaker stats should rotate when rotateBucketController provided and "rotate" event emitted
[0m[1B[1G
# # CircuitBreaker status - breaker stats should reset when rotateBucketController not provided
[K

  ok [1m[32m232[0m failures reset because no event emitter is provided and rollingCountTimeout set to 10ms[K
[1A[1G[1m[32m\u2713 # CircuitBreaker status - breaker stats should reset when rotateBucketController not provided
[0m[1B[1G
# # api
[K

  ok [1m[32m233[0m CircuitBreaker[K
  ok [1m[32m234[0m CircuitBreaker.fire[K
  ok [1m[32m235[0m CircuitBreaker.opened[K
  ok [1m[32m236[0m CircuitBreaker.halfOpen[K
  ok [1m[32m237[0m CircuitBreaker.closed[K
  ok [1m[32m238[0m CircuitBreaker.status[K
  ok [1m[32m239[0m CircuitBreaker.options[K
  ok [1m[32m240[0m CircuitBreaker.action[K
[1A[1G[1m[32m\u2713 # api
[0m[1B[1G
# # has a name based on the function name
[K

  ok [1m[32m241[0m should be strictly equal[K
[1A[1G[1m[32m\u2713 # has a name based on the function name
[0m[1B[1G
# # accepts a name as an option
[K

  ok [1m[32m242[0m should be strictly equal[K
[1A[1G[1m[32m\u2713 # accepts a name as an option
[0m[1B[1G
# # uses UUID as a name when none is provided and the function is anonymoys
[K

  ok [1m[32m243[0m should be truthy[K
[1A[1G[1m[32m\u2713 # uses UUID as a name when none is provided and the function is anonymoys
[0m[1B[1G
# # accepts a group as an option
[K

  ok [1m[32m244[0m should be strictly equal[K
[1A[1G[1m[32m\u2713 # accepts a group as an option
[0m[1B[1G
# # uses name as a group when no group is provided
[K

  ok [1m[32m245[0m should be strictly equal[K
[1A[1G[1m[32m\u2713 # uses name as a group when no group is provided
[0m[1B[1G
# # errorThresholdPercentage defaults to 50
[K

  ok [1m[32m246[0m should be set to 50 by default[K
[1A[1G[1m[32m\u2713 # errorThresholdPercentage defaults to 50
[0m[1B[1G
# # errorThresholdPercentage can be set to 0
[K

  ok [1m[32m247[0m should be set to 0[K
[1A[1G[1m[32m\u2713 # errorThresholdPercentage can be set to 0
[0m[1B[1G
# # resetTimeout defaults to 30000
[K

  ok [1m[32m248[0m should be set to 30000 by default[K
[1A[1G[1m[32m\u2713 # resetTimeout defaults to 30000
[0m[1B[1G
# # resetTimeout can be set to 0
[K

  ok [1m[32m249[0m should be set to 0[K
[1A[1G[1m[32m\u2713 # resetTimeout can be set to 0
[0m[1B[1G
# # rollingCountTimeout defaults to 10000
[K

  ok [1m[32m250[0m should be set to 10000 by default[K
[1A[1G[1m[32m\u2713 # rollingCountTimeout defaults to 10000
[0m[1B[1G
# # rollingCountTimeout can be set to 0
[K

  ok [1m[32m251[0m should be set to 0[K
[1A[1G[1m[32m\u2713 # rollingCountTimeout can be set to 0
[0m[1B[1G
# # rollingCountBuckets defaults to 10
[K

  ok [1m[32m252[0m should be set to 10 by default[K
[1A[1G[1m[32m\u2713 # rollingCountBuckets defaults to 10
[0m[1B[1G
# # rollingCountBuckets can be set to 0
[K

  ok [1m[32m253[0m should be set to 0[K
[1A[1G[1m[32m\u2713 # rollingCountBuckets can be set to 0
[0m[1B[1G
# # Passes parameters to the circuit function
[K

  ok [1m[32m254[0m function parameters provided[K
[1A[1G[1m[32m\u2713 # Passes parameters to the circuit function
[0m[1B[1G
# # Fails when the circuit function fails
[K

  ok [1m[32m255[0m expected error caught[K
  ok [1m[32m256[0m isOurError() should return false[K
[1A[1G[1m[32m\u2713 # Fails when the circuit function fails
[0m[1B[1G
# # Fails when the circuit function times out
[K

  ok [1m[32m257[0m timeout message received[K
  ok [1m[32m258[0m ETIMEDOUT[K
  ok [1m[32m259[0m isOurError() should return true[K
[1A[1G[1m[32m\u2713 # Fails when the circuit function times out
[0m[1B[1G
# # When options.abortController is provided but does not contain an `abort()` function
[K

  ok [1m[32m260[0m throws TypeError[K
  ok [1m[32m261[0m should be strictly equal[K
[1A[1G[1m[32m\u2713 # When options.abortController is provided but does not contain an `abort()` function
[0m[1B[1G
# # When options.abortController is provided, the circuit breaker should call abort() upon timeout
[K

  ok [1m[32m262[0m AbortController.abort() was not called upon timeout[K
[1A[1G[1m[32m\u2713 # When options.abortController is provided, the circuit breaker should call abort() upon timeout
[0m[1B[1G
# # When options.abortController is provided, abort controller should not be aborted if request completes before timeout
[K

  ok [1m[32m263[0m AbortController.abort() was called when it shouldn't have[K
[1A[1G[1m[32m\u2713 # When options.abortController is provided, abort controller should not be aborted if request completes before timeout
[0m[1B[1G
# # Works with functions that do not return a promise
[K

  ok [1m[32m264[0m non-Promise returns expected value[K
[1A[1G[1m[32m\u2713 # Works with functions that do not return a promise
[0m[1B[1G
# # Works with non-functions
[K

  ok [1m[32m265[0m expected raw value returns[K
[1A[1G[1m[32m\u2713 # Works with non-functions
[0m[1B[1G
# # Works with callback functions
[K

  ok [1m[32m266[0m Works with a Promisified Callback[K
[1A[1G[1m[32m\u2713 # Works with callback functions
[0m[1B[1G
# # Works with callback functions that fail
[K

  ok [1m[32m267[0m caught expected error[K
[1A[1G[1m[32m\u2713 # Works with callback functions that fail
[0m[1B[1G
# # Breaker opens after a configurable number of failures
[K

  ok [1m[32m268[0m caught expected error[K
  ok [1m[32m269[0m breaker opens[K
  ok [1m[32m270[0m isOurError() should return true[K
[1A[1G[1m[32m\u2713 # Breaker opens after a configurable number of failures
[0m[1B[1G
# # Breaker resets after a configurable amount of time
[K

  ok [1m[32m271[0m breaker has reset[K
[1A[1G[1m[32m\u2713 # Breaker resets after a configurable amount of time
[0m[1B[1G
# # Breaker resets after a configurable amount of time when multiple jobs fail
[K

  ok [1m[32m272[0m breaker has reset[K
[1A[1G[1m[32m\u2713 # Breaker resets after a configurable amount of time when multiple jobs fail
[0m[1B[1G
# # Breaker status reflects open state
[K

  ok [1m[32m273[0m should be truthy[K
[1A[1G[1m[32m\u2713 # Breaker status reflects open state
[0m[1B[1G
# # Breaker resets for circuits with a fallback function
[K

  ok [1m[32m274[0m should be strictly equal[K
  ok [1m[32m275[0m breaker has reset[K
[1A[1G[1m[32m\u2713 # Breaker resets for circuits with a fallback function
[0m[1B[1G
# # Executes fallback action, if one exists, when breaker is open
[K

  ok [1m[32m276[0m fallback action executes[K
[1A[1G[1m[32m\u2713 # Executes fallback action, if one exists, when breaker is open
[0m[1B[1G
# # Passes error as last argument to the fallback function
[K

  ok [1m[32m277[0m fallback received error as last parameter[K
  ok [1m[32m278[0m isOurError() should return false[K
[1A[1G[1m[32m\u2713 # Passes error as last argument to the fallback function
[0m[1B[1G
# # Fallback called once for the same execution when timing out
[K

  ok [1m[32m279[0m should be truthy[K
[1A[1G[1m[32m\u2713 # Fallback called once for the same execution when timing out
[0m[1B[1G
# # Passes arguments to the fallback function
[K

  ok [1m[32m280[0m fallback received expected parameters[K
[1A[1G[1m[32m\u2713 # Passes arguments to the fallback function
[0m[1B[1G
# # Returns self from fallback()
[K

  ok [1m[32m281[0m instance returned from fallback[K
[1A[1G[1m[32m\u2713 # Returns self from fallback()
[0m[1B[1G
# # CircuitBreaker emits failure when action throws
[K

  ok [1m[32m282[0m expected failure status[K
  ok [1m[32m283[0m expected error message[K
[1A[1G[1m[32m\u2713 # CircuitBreaker emits failure when action throws
[0m[1B[1G
# # CircuitBreaker executes fallback when an action throws
[K

  ok [1m[32m284[0m expected failure status[K
  ok [1m[32m285[0m expected fallback status[K
  ok [1m[32m286[0m should be strictly equal[K
[1A[1G[1m[32m\u2713 # CircuitBreaker executes fallback when an action throws
[0m[1B[1G
# # CircuitBreaker emits failure when falling back
[K

  ok [1m[32m287[0m Expected failure[K
  ok [1m[32m288[0m isOurError() should return false[K
  ok [1m[32m289[0m fallback value is correct[K
[1A[1G[1m[32m\u2713 # CircuitBreaker emits failure when falling back
[0m[1B[1G
# # CircuitBreaker status
[K

  ok [1m[32m290[0m expected status values[K
  ok [1m[32m291[0m expected status values[K
  ok [1m[32m292[0m expected status values[K
  ok [1m[32m293[0m breaker fired 3 times[K
  ok [1m[32m294[0m fails with correct error message[K
  ok [1m[32m295[0m status reports a single failure[K
  ok [1m[32m296[0m status reports 4 fires[K
  ok [1m[32m297[0m fallback is invoked[K
  ok [1m[32m298[0m status reports 1 failure[K
  ok [1m[32m299[0m status reports 1 reject[K
  ok [1m[32m300[0m status reports 5 fires[K
  ok [1m[32m301[0m status reports 1 fallback[K
[1A[1G[1m[32m\u2713 # CircuitBreaker status
[0m[1B[1G
# # CircuitBreaker rolling counts
[K

  ok [1m[32m302[0m expected status values[K
  ok [1m[32m303[0m expected status values[K
  ok [1m[32m304[0m expected status values[K
  ok [1m[32m305[0m breaker succeeded 3 times[K
  ok [1m[32m306[0m should be truthy[K
  ok [1m[32m307[0m breaker reset stats[K
[1A[1G[1m[32m\u2713 # CircuitBreaker rolling counts
[0m[1B[1G
# # CircuitBreaker status listeners
[K

  ok [1m[32m308[0m has successes stat[K
  ok [1m[32m309[0m has fires stat[K
  ok [1m[32m310[0m has failures stat[K
  ok [1m[32m311[0m has fallbacks stat[K
  ok [1m[32m312[0m has rejects stat[K
  ok [1m[32m313[0m has timeouts stat[K
[1A[1G[1m[32m\u2713 # CircuitBreaker status listeners
[0m[1B[1G
# # CircuitBreaker fallback event
[K

  ok [1m[32m314[0m fallback value received[K
[1A[1G[1m[32m\u2713 # CircuitBreaker fallback event
[0m[1B[1G
# # CircuitBreaker events
[K

  ok [1m[32m315[0m fire event fired[K
  ok [1m[32m316[0m success event fired[K
  ok [1m[32m317[0m failure event did not fire[K
  ok [1m[32m318[0m reject event did not fire[K
  ok [1m[32m319[0m open event did not fire[K
  ok [1m[32m320[0m close event did not fire[K
  ok [1m[32m321[0m halfOpen event did not fire[K
  ok [1m[32m322[0m timeout event did not fire[K
  ok [1m[32m323[0m fire event fired[K
  ok [1m[32m324[0m success event did not fire[K
  ok [1m[32m325[0m failure event fired[K
  ok [1m[32m326[0m reject event did not fire[K
  ok [1m[32m327[0m open event fired[K
  ok [1m[32m328[0m close event did not fire[K
  ok [1m[32m329[0m halfOpen event did not fire[K
  ok [1m[32m330[0m timeout event did not fire[K
  ok [1m[32m331[0m fire event fired[K
  ok [1m[32m332[0m success event did not fire[K
  ok [1m[32m333[0m failure event did not fire[K
  ok [1m[32m334[0m reject event fired[K
  ok [1m[32m335[0m open event did not fire[K
  ok [1m[32m336[0m close event did not fire[K
  ok [1m[32m337[0m halfOpen event did not fire[K
  ok [1m[32m338[0m timeout event did not fire[K
  ok [1m[32m339[0m fire event did not fire[K
  ok [1m[32m340[0m success event did not fire[K
  ok [1m[32m341[0m failure event fired[K
  ok [1m[32m342[0m reject event did not fire[K
  ok [1m[32m343[0m open event did not fire[K
  ok [1m[32m344[0m close event did not fire[K
  ok [1m[32m345[0m halfOpen event fired[K
  ok [1m[32m346[0m timeout event did not fire[K
  ok [1m[32m347[0m fire event fired[K
  ok [1m[32m348[0m success event fired[K
  ok [1m[32m349[0m failure event fired[K
  ok [1m[32m350[0m reject event did not fire[K
  ok [1m[32m351[0m open event did not fire[K
  ok [1m[32m352[0m close event fired[K
  ok [1m[32m353[0m halfOpen event did not fire[K
  ok [1m[32m354[0m timeout event did not fire[K
  ok [1m[32m355[0m timeout event fired[K
[1A[1G[1m[32m\u2713 # CircuitBreaker events
[0m[1B[1G
# # circuit halfOpen
[K

  ok [1m[32m356[0m function should fail[K
  ok [1m[32m357[0m breaker should be open[K
  ok [1m[32m358[0m breaker should not be pending close[K
  ok [1m[32m359[0m breaker should be halfOpen[K
  ok [1m[32m360[0m breaker should be pending close[K
  ok [1m[32m361[0m function should fail again[K
  ok [1m[32m362[0m breaker should be open again[K
  ok [1m[32m363[0m breaker should not be halfOpen[K
  ok [1m[32m364[0m breaker should not be pending close[K
  ok [1m[32m365[0m breaker should be halfOpen again[K
  ok [1m[32m366[0m breaker should be pending close[K
  ok [1m[32m367[0m should be strictly equal[K
  ok [1m[32m368[0m breaker should be closed[K
  ok [1m[32m369[0m breaker should not be pending close[K
[1A[1G[1m[32m\u2713 # circuit halfOpen
[0m[1B[1G
# # CircuitBreaker fallback as a rejected promise
[K

  ok [1m[32m370[0m should be strictly equal[K
[1A[1G[1m[32m\u2713 # CircuitBreaker fallback as a rejected promise
[0m[1B[1G
# # CircuitBreaker fallback event as a rejected promise
[K

  ok [1m[32m371[0m should be strictly equal[K
[1A[1G[1m[32m\u2713 # CircuitBreaker fallback event as a rejected promise
[0m[1B[1G
# # CircuitBreaker fallback as a CircuitBreaker
[K

  ok [1m[32m372[0m Fallback value equals input[K
[1A[1G[1m[32m\u2713 # CircuitBreaker fallback as a CircuitBreaker
[0m[1B[1G
# # CircuitBreaker fallback as a CircuitBreaker that fails
[K

  ok [1m[32m373[0m Breaker should fail[K
[1A[1G[1m[32m\u2713 # CircuitBreaker fallback as a CircuitBreaker that fails
[0m[1B[1G
# # CircuitBreaker fallback as a CircuitBreaker
[K

  ok [1m[32m374[0m Fallback value equals input[K
[1A[1G[1m[32m\u2713 # CircuitBreaker fallback as a CircuitBreaker
[0m[1B[1G
# # CircuitBreaker fallback that throws returns a rejected Promise
[K

  ok [1m[32m375[0m should be strictly equal[K
[1A[1G[1m[32m\u2713 # CircuitBreaker fallback that throws returns a rejected Promise
[0m[1B[1G
# # options.maxFailures should be deprecated
[K

  ok [1m[32m376[0m should be strictly equal[K
[1A[1G[1m[32m\u2713 # options.maxFailures should be deprecated
[0m[1B[1G
# # rolling percentile enabled option defaults to true
[K

  ok [1m[32m377[0m rollingPercentilesEnabled should default to true[K
  ok [1m[32m378[0m latencyMean is starts at 0 when rollingPercentilesEnabled is true[K
  ok [1m[32m379[0m 0 percentile should be 0 at the start[K
  ok [1m[32m380[0m 0.25 percentile should be 0 at the start[K
  ok [1m[32m381[0m 0.5 percentile should be 0 at the start[K
  ok [1m[32m382[0m 0.75 percentile should be 0 at the start[K
  ok [1m[32m383[0m 0.9 percentile should be 0 at the start[K
  ok [1m[32m384[0m 0.95 percentile should be 0 at the start[K
  ok [1m[32m385[0m 0.99 percentile should be 0 at the start[K
  ok [1m[32m386[0m 0.995 percentile should be 0 at the start[K
  ok [1m[32m387[0m 1 percentile should be 0 at the start[K
[1A[1G[1m[32m\u2713 # rolling percentile enabled option defaults to true
[0m[1B[1G
# # rolling percentile enabled option set to false
[K

  ok [1m[32m388[0m rollingPercentilesEnabled set to false[K
  ok [1m[32m389[0m latencyMean is -1 when rollingPercentilesEnabled is false[K
  ok [1m[32m390[0m 0 percentile should be -1 when rollingPercentilesEnabled is false[K
  ok [1m[32m391[0m 0.25 percentile should be -1 when rollingPercentilesEnabled is false[K
  ok [1m[32m392[0m 0.5 percentile should be -1 when rollingPercentilesEnabled is false[K
  ok [1m[32m393[0m 0.75 percentile should be -1 when rollingPercentilesEnabled is false[K
  ok [1m[32m394[0m 0.9 percentile should be -1 when rollingPercentilesEnabled is false[K
  ok [1m[32m395[0m 0.95 percentile should be -1 when rollingPercentilesEnabled is false[K
  ok [1m[32m396[0m 0.99 percentile should be -1 when rollingPercentilesEnabled is false[K
  ok [1m[32m397[0m 0.995 percentile should be -1 when rollingPercentilesEnabled is false[K
  ok [1m[32m398[0m 1 percentile should be -1 when rollingPercentilesEnabled is false[K
[1A[1G[1m[32m\u2713 # rolling percentile enabled option set to false
[0m[1B[1G
# # Circuit Breaker success event emits latency
[K

  ok [1m[32m399[0m second argument is the latency[K
[1A[1G[1m[32m\u2713 # Circuit Breaker success event emits latency
[0m[1B[1G
# # Circuit Breaker failure event emits latency
[K

  ok [1m[32m400[0m second argument is the latency[K
[1A[1G[1m[32m\u2713 # Circuit Breaker failure event emits latency
[0m[1B[1G
# # Circuit Breaker failure event emits function parameters
[K

  ok [1m[32m401[0m third argument is the function args[K
  ok [1m[32m402[0m The args parameter is an array[K
  ok [1m[32m403[0m this is the first argument[K
  ok [1m[32m404[0m this is the second argument object[K
  ok [1m[32m405[0m this is the second argument object[K
  ok [1m[32m406[0m this is the third argument[K
[1A[1G[1m[32m\u2713 # Circuit Breaker failure event emits function parameters
[0m[1B[1G
# # Circuit Breaker timeout event emits latency
[K

  ok [1m[32m407[0m second argument is the latency[K
[1A[1G[1m[32m\u2713 # Circuit Breaker timeout event emits latency
[0m[1B[1G
# # Circuit Breaker timeout event emits function parameters
[K

  ok [1m[32m408[0m third argument is the function args[K
  ok [1m[32m409[0m The args parameter is an array[K
  ok [1m[32m410[0m this is the first argument[K
  ok [1m[32m411[0m this is the second argument object[K
  ok [1m[32m412[0m this is the second argument object[K
  ok [1m[32m413[0m this is the third argument[K
[1A[1G[1m[32m\u2713 # Circuit Breaker timeout event emits function parameters
[0m[1B[1G
# # Circuit Breaker timeout with semaphore released
[K

  ok [1m[32m414[0m should be strictly equal[K
[1A[1G[1m[32m\u2713 # Circuit Breaker timeout with semaphore released
[0m[1B[1G
# # CircuitBreaker semaphore rate limiting
[K

  ok [1m[32m415[0m Semaphore rejection status incremented[K
  ok [1m[32m416[0m Semaphore was locked[K
[1A[1G[1m[32m\u2713 # CircuitBreaker semaphore rate limiting
[0m[1B[1G
# # CircuitBreaker default capacity
[K

  ok [1m[32m417[0m should be strictly equal[K
[1A[1G[1m[32m\u2713 # CircuitBreaker default capacity
[0m[1B[1G
# # CircuitBreaker without a timeout
[K

  ok [1m[32m418[0m should be strictly equal[K
[1A[1G[1m[32m\u2713 # CircuitBreaker without a timeout
[0m[1B[1G
# # CircuitBreaker without an action
[K

  ok [1m[32m419[0m (unnamed assert)[K
[1A[1G[1m[32m\u2713 # CircuitBreaker without an action
[0m[1B[1G
# # By default does not have a volume threshold
[K

  ok [1m[32m420[0m should be strictly equal[K
  ok [1m[32m421[0m should be open after initial fire[K
  ok [1m[32m422[0m should not be pending close after initial fire[K
[1A[1G[1m[32m\u2713 # By default does not have a volume threshold
[0m[1B[1G
# # Has a volume threshold before tripping when option is provided
[K

  ok [1m[32m423[0m should not be open before volume threshold has been reached[K
  ok [1m[32m424[0m should not be pending close before volume threshold has been reached[K
  ok [1m[32m425[0m not open before volume threshold has been reached[K
  ok [1m[32m426[0m not pending close before volume threshold has been reached[K
  ok [1m[32m427[0m should be strictly equal[K
  ok [1m[32m428[0m should be open after volume threshold has been reached[K
[1A[1G[1m[32m\u2713 # Has a volume threshold before tripping when option is provided
[0m[1B[1G
# # volume threshold does not affect halfOpen state
[K

  ok [1m[32m429[0m breaker should still be open after one failure[K
  ok [1m[32m430[0m breaker should be open[K
  ok [1m[32m431[0m breaker should be in halfOpen state[K
  ok [1m[32m432[0m statistical window cleared[K
  ok [1m[32m433[0m breaker should be in the open state[K
[1A[1G[1m[32m\u2713 # volume threshold does not affect halfOpen state
[0m[1B[1G
# # By default does not allow for warmup
[K

  ok [1m[32m434[0m should be strictly equal[K
  ok [1m[32m435[0m should be open after initial fire[K
  ok [1m[32m436[0m should not be pending close after initial fire[K
[1A[1G[1m[32m\u2713 # By default does not allow for warmup
[0m[1B[1G
# # Allows for warmup when option is provided
[K

  ok [1m[32m437[0m should be strictly equal[K
  ok [1m[32m438[0m should not be open after initial fire[K
  ok [1m[32m439[0m should not be pending close after initial fire[K
[1A[1G[1m[32m\u2713 # Allows for warmup when option is provided
[0m[1B[1G
# # Only warms up for rollingCountTimeout
[K

  ok [1m[32m440[0m should be strictly equal[K
  ok [1m[32m441[0m should not be open after initial fire[K
  ok [1m[32m442[0m should not be pending close after initial fire[K
  ok [1m[32m443[0m Warmup should end after rollingCountTimeout[K
[1A[1G[1m[32m\u2713 # Only warms up for rollingCountTimeout
[0m[1B[1G
# # tests 443
[K

[1A[1G[1m[32m\u2713 # tests 443
[0m[1B[1G
# # pass  443
[K

[1A[1G[1m[32m\u2713 # pass  443
[0m[1B[1G
# # ok
[K
-----------------------------------------------
Running test test_client_kube (starting at 2024-01-23 20:31:07-05:00) ... 
-----------------------------------------------
Running kube-service-bindings client test
Running kube-service-bindings test suite
fatal: destination path '/var/tmp/daily_scl_tests/rhel9-test-upstream/plans/nightly-container-rhel9/data/s2i-nodejs-container/test/kube-service-bindings' already exists and is not an empty directory.
STEP 1/11: FROM ubi9/nodejs-18:1
STEP 2/11: LABEL "io.openshift.s2i.build.image"="ubi9/nodejs-18:1"       "io.openshift.s2i.build.source-location"="file:///var/tmp/daily_scl_tests/rhel9-test-upstream/plans/nightly-container-rhel9/data/s2i-nodejs-container/test/kube-service-bindings"
--> d4f8fc34a2d2
STEP 3/11: USER root
--> ad579f4f3324
STEP 4/11: COPY upload/src/ /tmp/src
--> d3b5eba05128
STEP 5/11: RUN chown -R 1001:0 /tmp/src
--> 06d4c0edbe6b
STEP 6/11: ENV NPM_MIRROR=https://repository.engineering.redhat.com/nexus/repository/registry.npmjs.org
--> 8d83b01c0dfe
STEP 7/11: ENV NODE_ENV=development
--> 41339ddbe35e
STEP 8/11: RUN cd /etc/pki/ca-trust/source/anchors && update-ca-trust extract
--> ae9abdc5e807
STEP 9/11: USER 1001
--> 07d91f124b10
STEP 10/11: RUN /usr/libexec/s2i/assemble
---> Installing application source ...
---> Building your Node application from source

added 507 packages, and audited 508 packages in 9s

102 packages are looking for funding
  run `npm fund` for details

4 vulnerabilities (2 moderate, 1 high, 1 critical)

To address all issues, run:
  npm audit fix

Run `npm audit` for details.
npm notice 
npm notice New major version of npm available! 9.8.1 -> 10.3.0
npm notice Changelog: <https://github.com/npm/cli/releases/tag/v10.3.0>
npm notice Run `npm install -g npm@10.3.0` to update!
npm notice 
--> bac49a93a722
STEP 11/11: CMD /usr/libexec/s2i/run
COMMIT ubi9/nodejs-18:1-kube-service-bindings
--> db0f95b55b33
Successfully tagged localhost/ubi9/nodejs-18:1-kube-service-bindings
db0f95b55b332534f1832f3b8a6a145a4cb83cdc4bc1b09d59a329fe1452076e

> kube-service-bindings@3.0.0 pretest
> npm run lint


> kube-service-bindings@3.0.0 lint
> eslint --ignore-path .gitignore .


> kube-service-bindings@3.0.0 test
> nyc mocha --recursive



  basic tests
    \u2714 Should return raw bindings data.
Warning: Not specifying client will be deprecated in future version.
    \u2714 should throw error: Error: Unknown service type
    \u2714 should throw error: Error: Invalid Arguments
    \u2714 should throw error: Error: Unknown client
Warning: Not specifying client will be deprecated in future version.
    \u2714 no client
Warning: Passing id without using bindingOptions object is deprecated.
Set id as attribute of bindingOptions instead.
    \u2714 should throw error: Error: No Binding Found

  basic tests 2
Warning: Not specifying client will be deprecated in future version.
    \u2714 should throw error: Error: No Binding Found

  No service binding variable provided on process environment.
Warning: Not specifying client will be deprecated in future version.
    \u2714 should throw error: No SERVICE_BINDING_ROOT env variable Found
    \u2714 Should throw error: No SERVICE_BINDING_ROOT env variable Found

  AMQ
    rhea on amqp-bindings
      \u2714 Default behaviour
      \u2714 Does NOT Remove Unmapped Values
      \u2714 Remove Unmapped Values
    rhea on rabbitmq-bindings
      \u2714 Default behaviour
      \u2714 Does NOT Remove Unmapped Values
      \u2714 Remove Unmapped Values
    rhea passing amq bindng data as parameter.
      \u2714 Default behaviour
      \u2714 Do NOT Remove Unmapped Values
      \u2714 Remove Unmapped Values

  KAFKA
    kafkajs
      \u2714 Does NOT Remove Unmapped Values
      \u2714 Removes Unmapped Values
      \u2714 Defaul behaviour
      Passing bindng data as parameter.
        \u2714 Does NOT Remove Unmapped Values
        \u2714 Removes Unmapped Values
        \u2714 Defaul behaviour
    node-rdkafka
      \u2714 Does NOT Remove Unmapped Values
      \u2714 Removes Unmapped Values
      \u2714 Default behaviour
      Passing bindng data as parameter.
        \u2714 Does NOT Remove Unmapped Values
        \u2714 Removes Unmapped Values
        \u2714 Default behaviour

  MongoDB
    mongodb on mongodb-bindings
      \u2714 Default behaviour
    mongodb on mongodb-bindings-without-username-password
      \u2714 Default behaviour
    mongodb on mongodb-bindings-with-port
      \u2714 Default behaviour
    mongodb on passing binding data as arguments
      \u2714 Default behaviour
    mongoose on mongodb-bindings 
      \u2714 Default behavior
      \u2714 Remove unmapped values
      \u2714 Do NOT Remove unmapped values
    mongoose on mongodb-bindings-with-port
      \u2714 Default Behaviour
      \u2714 Remove unmapped values
      \u2714 Do NOT Remove unmapped values

  MySQL
    mysql2 on mysql-bindings
      \u2714 Default behaviour.
      \u2714 Do NOT Remove Unmapped Values
      \u2714 Remove Unmapped Values
    mysql2 Passing binding data as arguments
      \u2714 Default behaviour.
      \u2714 Do NOT Remove Unmapped Values
      \u2714 Removes Unmapped Values
    mysql on mysql-bindings
      \u2714 Default behaviour
      \u2714 Remove Unmapped Values
      \u2714 Does NOT Remove Unmapped Values
    mysql passing binding data as arguments
      \u2714 Default behaviour
      \u2714 Removes Unmapped Values
      \u2714 Does NOT Remove Unmapped Values
    ODBC Client on mysql-bindings
      \u2714 Default behaviour
      \u2714 Do NOT Remove Unmapped Values
      \u2714 Remove Unmapped Values
    ODBC Client passing binding data as arguments
      \u2714 Default behaviour
      \u2714 Do NOT Remove Unmapped Values
      \u2714 Remove Unmapped Values

  PSQL
    pg client on postgresql-rhoda
      \u2714 Default behaviour.
      \u2714 Removes Unmapped Values
      \u2714 Does NOT Remove Unmapped Values
    pg client on crunchy-data-postgres-operator
      \u2714 Default behaviour.
      \u2714 Removes Unmapped Values
      \u2714 Does NOT Remove Unmapped Values
    ODBC client on crunchy-data-postgres-operator
Warning: File tls.key does not have proper permissions.
Set allowCopy option to true, for copy/pasting file with proper permissions under app directory.
**By enabling this options, this might be a potential security risk**
      \u2714 Default behavior & Does NOT copy tls.key in another directory with proper permissions.
      \u2714 Removes Unmapped Values & copies tls.key file in another location with altered/proper permissions.
Warning: File tls.key does not have proper permissions.
Set allowCopy option to true, for copy/pasting file with proper permissions under app directory.
**By enabling this options, this might be a potential security risk**
      \u2714 Removes Unmapped Values & does NOT copy tls.key file in another directory.
      \u2714 Does NOT Remove Unmapped Values & copies tls.key file in another directory with altered/proper permissions.
Warning: File tls.key does not have proper permissions.
Set allowCopy option to true, for copy/pasting file with proper permissions under app directory.
**By enabling this options, this might be a potential security risk**
      \u2714 Does NOT Remove Unmapped Values & does NOT copy tls.key file in another directory with altered/proper permissions.
      \u2714 Removes Unmapped Values & copies tls.key file in another directory with altered/proper permissions.
Warning: File tls.key does not have proper permissions.
Set allowCopy option to true, for copy/pasting file with proper permissions under app directory.
**By enabling this options, this might be a potential security risk**
      \u2714 Removes Unmapped Values & does NOT copy tls.key file in another directory.

  Redis
    ioredis on redis-bindings
      \u2714 Default Behaviour
    ioredis on redis-bindings
      \u2714 Default Behaviour

  utils tests
    \u2714 buildOptionParam
    Validates the isKnownServiceType function
      \u2714 AMQP
      \u2714 KAFKA
      \u2714 MONGODB
      \u2714 MYSQL
      \u2714 POSTGRESQL
      \u2714 REDIS


  80 passing (217ms)

(node:45) [DEP0147] DeprecationWarning: In future versions of Node.js, fs.rmdir(path, { recursive: true }) will be removed. Use fs.rm(path, { recursive: true }) instead
(Use `node --trace-deprecation ...` to show where the warning was created)
------------------------|---------|----------|---------|---------|-------------------
File                    | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------------------|---------|----------|---------|---------|-------------------
All files               |     100 |    97.47 |   97.72 |     100 |                   
 src                    |     100 |      100 |     100 |     100 |                   
  index.js              |     100 |      100 |     100 |     100 |                   
 src/clients/AMQP       |     100 |      100 |     100 |     100 |                   
  rhea.js               |     100 |      100 |     100 |     100 |                   
 src/clients/KAFKA      |     100 |       75 |     100 |     100 |                   
  kafkajs.js            |     100 |       75 |     100 |     100 | 16                
  node-rdkafka.js       |     100 |      100 |     100 |     100 |                   
 src/clients/MONGODB    |     100 |      100 |     100 |     100 |                   
  mongodb.js            |     100 |      100 |     100 |     100 |                   
  mongoose.js           |     100 |      100 |     100 |     100 |                   
 src/clients/MYSQL      |     100 |      100 |     100 |     100 |                   
  mysql.js              |     100 |      100 |     100 |     100 |                   
  mysql2.js             |     100 |      100 |     100 |     100 |                   
  odbc.js               |     100 |      100 |     100 |     100 |                   
 src/clients/POSTGRESQL |     100 |      100 |     100 |     100 |                   
  odbc.js               |     100 |      100 |     100 |     100 |                   
  pg.js                 |     100 |      100 |     100 |     100 |                   
 src/clients/REDIS      |     100 |      100 |     100 |     100 |                   
  ioredis.js            |     100 |      100 |     100 |     100 |                   
  redis.js              |     100 |      100 |     100 |     100 |                   
 src/options            |     100 |      100 |     100 |     100 |                   
  defaultOptions.js     |     100 |      100 |     100 |     100 |                   
 src/utils              |     100 |    97.05 |   96.55 |     100 |                   
  index.js              |     100 |    97.05 |   96.55 |     100 | 104,216           
 src/utils/messages     |     100 |      100 |     100 |     100 |                   
  index.js              |     100 |      100 |     100 |     100 |                   
------------------------|---------|----------|---------|---------|-------------------
-----------------------------------------------
Running test test_client_faas (starting at 2024-01-23 20:31:37-05:00) ... 
-----------------------------------------------
Running faas-js-runtime client test
Running faas-js-runtime test suite
fatal: destination path '/var/tmp/daily_scl_tests/rhel9-test-upstream/plans/nightly-container-rhel9/data/s2i-nodejs-container/test/faas-js-runtime' already exists and is not an empty directory.
STEP 1/11: FROM ubi9/nodejs-18:1
STEP 2/11: LABEL "io.openshift.s2i.build.image"="ubi9/nodejs-18:1"       "io.openshift.s2i.build.source-location"="file:///var/tmp/daily_scl_tests/rhel9-test-upstream/plans/nightly-container-rhel9/data/s2i-nodejs-container/test/faas-js-runtime"
--> 9cc117a03e34
STEP 3/11: USER root
--> be89082519cd
STEP 4/11: COPY upload/src/ /tmp/src
--> 4e83b0923132
STEP 5/11: RUN chown -R 1001:0 /tmp/src
--> c4bbe52ae95c
STEP 6/11: ENV NPM_MIRROR=https://repository.engineering.redhat.com/nexus/repository/registry.npmjs.org
--> cc54b43a0606
STEP 7/11: ENV NODE_ENV=development
--> 98d0816f4c29
STEP 8/11: RUN cd /etc/pki/ca-trust/source/anchors && update-ca-trust extract
--> cc277b3b9b53
STEP 9/11: USER 1001
--> 3b51f173778c
STEP 10/11: RUN /usr/libexec/s2i/assemble
---> Installing application source ...
---> Building your Node application from source

added 568 packages, and audited 569 packages in 20s

132 packages are looking for funding
  run `npm fund` for details

2 vulnerabilities (1 moderate, 1 critical)

To address all issues, run:
  npm audit fix

Run `npm audit` for details.
npm notice 
npm notice New major version of npm available! 9.8.1 -> 10.3.0
npm notice Changelog: <https://github.com/npm/cli/releases/tag/v10.3.0>
npm notice Run `npm install -g npm@10.3.0` to update!
npm notice 
--> 0b3b56f772cf
STEP 11/11: CMD /usr/libexec/s2i/run
COMMIT ubi9/nodejs-18:1-faas-js-runtime
--> 023fdd952550
Successfully tagged localhost/ubi9/nodejs-18:1-faas-js-runtime
023fdd952550b626914974831b6e4f6feb845c9498b5fd9b9c6deb8610a494a3

> faas-js-runtime@2.2.3 pretest
> npm run lint


> faas-js-runtime@2.2.3 lint
> eslint --ignore-path .gitignore .


> faas-js-runtime@2.2.3 test
> npm run test:source && npm run test:types


> faas-js-runtime@2.2.3 test:source
> nyc --reporter=lcovonly tape test/test*.js | colortape

Browserslist: caniuse-lite is outdated. Please run:
  npx browserslist@latest --update-db
  Why you should do it regularly: https://github.com/browserslist/browserslist#browsers-data-updating
Installing dependencies for /opt/app-root/src/test/fixtures/cjs-module
Installing dependencies for /opt/app-root/src/test/fixtures/esm-module-mjs
Installing dependencies for /opt/app-root/src/test/fixtures/esm-module-type-module
Installing dependencies for /opt/app-root/src/test/fixtures/esm-module-type-up-dir
Installing dependencies for /opt/app-root/src/test/fixtures/http-get
TAP version 13
[36m# Handles CloudEvents with image/png data[0m
[32mok 1 No error[0m
[32mok 2 should be deeply equivalent[0m
[36m# Handles CloudEvents with image/jpg data[0m
[32mok 3 No error[0m
[32mok 4 should be deeply equivalent[0m
[36m# Handles CloudEvents with image/gif data[0m
[32mok 5 No error[0m
[32mok 6 should be deeply equivalent[0m
[36m# Provides HTTP request headers with the context parameter[0m
[32mok 7 should be strictly equal[0m
[32mok 8 No error[0m
[36m# Provides HTTP request body with the context parameter[0m
[32mok 9 should be deeply equivalent[0m
[32mok 10 No error[0m
[36m# Provides HTTP request rawBody with the context parameter[0m
[32mok 11 should be deeply equivalent[0m
[32mok 12 should be strictly equal[0m
[32mok 13 No error[0m
[36m# Provides HTTP request query parameters with the context parameter[0m
[32mok 14 No error[0m
[32mok 15 should be strictly equal[0m
[32mok 16 should be strictly equal[0m
[36m# Provides HTTP method information with the context parameter[0m
[32mok 17 No error[0m
[32mok 18 should be strictly equal[0m
[36m# Provides HTTP version information with the context parameter[0m
[32mok 19 No error[0m
[32mok 20 should be strictly equal[0m
[32mok 21 should be strictly equal[0m
[32mok 22 should be strictly equal[0m
[36m# Returns HTTP error code if a caught error has one[0m
[32mok 23 No error[0m
{"level":50,"time":1706059961607,"pid":65,"hostname":"9be0e84044b8","node_version":"v18.18.2","reqId":"req-1","msg":"Error processing user function"}
[32mok 24 Status code[0m
[36m# Prints an error message when an exception is thrown[0m
{"level":50,"time":1706059961629,"pid":65,"hostname":"9be0e84044b8","node_version":"v18.18.2","reqId":"req-1","msg":"Error processing user function"}
[32mok 25 No error[0m
[32mok 26 Error message[0m
[36m# Loads a CJS function[0m
[32mok 27 should be strictly equal[0m
[32mok 28 CJS function loaded[0m
[36m# Loads an ESM function with an .mjs extension[0m
[32mok 29 should be strictly equal[0m
[32mok 30 ESM module with a mjs ext loaded[0m
[36m# Loads an ESM function with the type=module in the package.json[0m
[32mok 31 should be strictly equal[0m
[32mok 32 ESM module with a type=module in the package.json[0m
[36m# Loads an ESM function with the type=module in package.json in a parent dir and a .js extension[0m
[32mok 33 should be strictly equal[0m
[32mok 34 ESM module with a type=module in a package.json in parent directory[0m
[36m# Provides HTTP POST string as string parameter[0m
[32mok 35 should be strictly equal[0m
[32mok 36 No error[0m
[36m# Provides HTTP POST string as string parameter and rawBody[0m
[32mok 37 should be strictly equal[0m
[32mok 38 should be strictly equal[0m
[32mok 39 No error[0m
[36m# Provides HTTP POST JSON as object parameter[0m
[32mok 40 should be deeply equivalent[0m
[32mok 41 No error[0m
[36m# Provides HTTP POST JSON as object parameter with correct rawBody[0m
[32mok 42 should be deeply equivalent[0m
[32mok 43 should be strictly equal[0m
[32mok 44 No error[0m
[36m# Provides HTTP POST empty body as empty string parameter[0m
[32mok 45 should be deeply equivalent[0m
[32mok 46 No error[0m
[36m# Provides HTTP POST empty body as empty string parameter and rawBody[0m
[32mok 47 should be strictly equal[0m
[32mok 48 should be strictly equal[0m
[32mok 49 No error[0m
[36m# Enforces the handle function to exist[0m
[32mok 50 handle function is required[0m
[36m# Calls init before the server has started[0m
[32mok 51 init was called[0m
[36m# Bubbles up any exceptions thrown by init()[0m
[32mok 52 init failed[0m
[36m# Calls shutdown after the server has stopped[0m
[32mok 53 shutdown was not called before server.close()[0m
[36m# Liveness endpoint can be provided[0m
[32mok 54 No error[0m
[32mok 55 should be strictly equal[0m
[36m# Liveness route can be provided[0m
[32mok 56 No error[0m
[32mok 57 should be strictly equal[0m
[36m# Readiness endpoint can be provided[0m
[32mok 58 No error[0m
[32mok 59 should be strictly equal[0m
[36m# Readiness route can be provided[0m
[32mok 60 No error[0m
[32mok 61 should be strictly equal[0m
[36m# Invocation count[0m
[32mok 62 # TYPE faas_invocations counter[0m
[36m# Error count[0m
[32mok 63 # TYPE faas_errors counter[0m
[36m# Cold start latency[0m
[32mok 64 # TYPE faas_cold_start_latency histogram[0m
[36m# Execution latency[0m
[32mok 65 # TYPE faas_execution_latency histogram[0m
[36m# Queue latency[0m
[32mok 66 # TYPE faas_queue_latency histogram[0m
[36m# CPU utilization[0m
[32mok 67 # TYPE faas_cpu_utilization gauge[0m
[36m# Memory utilization[0m
[32mok 68 # TYPE faas_mem_utilization gauge[0m
[36m# Network I/O utilization[0m
[32mok 69 # TYPE faas_netio_utilization gauge[0m
[36m# Exposes a /metrics endpoint[0m
[36m# Only cacluates metrics for calls to /[0m
[32mok 70 faas_invocations{faas_name="anonymous",faas_id="test",faas_instance="undefined",faas_version="undefined",faas_runtime="Node.js"} 1[0m
[32mok 71 faas_invocations{faas_name="anonymous",faas_id="test",faas_instance="undefined",faas_version="undefined",faas_runtime="Node.js"} 1[0m
[32mok 72 faas_invocations{faas_name="anonymous",faas_id="test",faas_instance="undefined",faas_version="undefined",faas_runtime="Node.js"} 2[0m
[36m# Does not have a global object[0m
[32mok 73 No error[0m
[32mok 74 should be strictly equal[0m
[36m# Has frozen this[0m
[32mok 75 No error[0m
[32mok 76 should be strictly equal[0m
[36m# Does not have a global object[0m
[32mok 77 No error[0m
[32mok 78 should be strictly equal[0m
[36m# Has unfrozen this[0m
[32mok 79 No error[0m
[32mok 80 should be strictly equal[0m
[36m# Loads a user function with dependencies[0m
[32mok 81 No error[0m
[32mok 82 should be strictly equal[0m
[36m# Can respond via an async function[0m
[32mok 83 No error[0m
[32mok 84 should be deeply equivalent[0m
[36m# Accepts HTTP POST requests[0m
[32mok 85 null[0m
[32mok 86 should be strictly equal[0m
[36m# Responds to 0.3 binary cloud events[0m
[32mok 87 No error[0m
[32mok 88 should be deeply equivalent[0m
[36m# Responds with 0.3 binary cloud event[0m
[32mok 89 No error[0m
[32mok 90 should be strictly equal[0m
[32mok 91 should be strictly equal[0m
[32mok 92 should be strictly equal[0m
[32mok 93 should be strictly equal[0m
[32mok 94 should be strictly equal[0m
[36m# Responds to 1.0 binary cloud events[0m
[32mok 95 No error[0m
[32mok 96 should be deeply equivalent[0m
[36m# Responds to 1.0 structured cloud events[0m
[32mok 97 No error[0m
[32mok 98 should be deeply equivalent[0m
[36m# Handles 1.0 CloudEvent responses[0m
[32mok 99 No error[0m
[32mok 100 should be strictly equal[0m
[36m# Handles 1.0 CloudEvent Message responses[0m
[32mok 101 No error[0m
[32mok 102 should be strictly equal[0m
[36m# Extracts event data as the second parameter to a function[0m
[32mok 103 should be strictly equal[0m
[32mok 104 No error[0m
[32mok 105 should be deeply equivalent[0m
[36m# Successfully handles events with no data[0m
[32mok 106 should be truthy[0m
[32mok 107 should be truthy[0m
[32mok 108 No error[0m
[32mok 109 should be deeply equivalent[0m
[36m# Respects response code set by the function[0m
[32mok 110 No error[0m
[36m# Responds HTTP 204 if response body has no content[0m
[32mok 111 No error[0m
[32mok 112 should be strictly equal[0m
[36m# Sends CORS headers in HTTP response[0m
[32mok 113 No error[0m
[32mok 114 should be strictly equal[0m
[36m# Respects headers set by the function[0m
[32mok 115 No error[0m
[32mok 116 should be strictly equal[0m
[36m# Respects content type set by the function[0m
[32mok 117 No error[0m
[32mok 118 should be strictly equal[0m
[36m# Accepts application/json content via HTTP post[0m
[32mok 119 No error[0m
[32mok 120 should be deeply equivalent[0m
[36m# Accepts x-www-form-urlencoded content via HTTP post[0m
[32mok 121 No error[0m
[32mok 122 should be deeply equivalent[0m
[36m# Exposes readiness URL[0m
[32mok 123 No error[0m
[32mok 124 should be strictly equal[0m
[36m# Exposes liveness URL[0m
[32mok 125 No error[0m
[32mok 126 should be strictly equal[0m
[36m# Function accepts destructured parameters[0m
[32mok 127 No error[0m
[32mok 128 should be strictly equal[0m
[36m# Provides logger with appropriate log level configured[0m
[32mok 129 No error[0m
[32mok 130 Logger provided[0m
[36m# Provides logger in context when logging is disabled[0m
[32mok 131 No error[0m
[32mok 132 Logger provided[0m
[36m# Accepts CloudEvents with content type of text/plain[0m
[32mok 133 No error[0m
[32mok 134 should be strictly equal[0m
[36m# Reads a func.yaml file for logLevel[0m
{"level":30,"time":1706059962913,"pid":65,"hostname":"9be0e84044b8","node_version":"v18.18.2","msg":"Server listening at http://[::]:8080"}
{"level":30,"time":1706059962914,"pid":65,"hostname":"9be0e84044b8","node_version":"v18.18.2","reqId":"req-1","req":{"method":"GET","url":"/","hostname":"127.0.0.1:8080","remoteAddress":"::ffff:127.0.0.1","remotePort":43188},"msg":"incoming request"}
{"level":40,"time":1706059962915,"pid":65,"hostname":"9be0e84044b8","node_version":"v18.18.2","reqId":"req-1"}
{"level":30,"time":1706059962915,"pid":65,"hostname":"9be0e84044b8","node_version":"v18.18.2","reqId":"req-1","res":{"statusCode":204},"responseTime":0.45463400008156896,"msg":"request completed"}
[32mok 135 No error[0m
[36m# Handles HTTP response provided as StructuredReturn[0m
[32mok 136 No error[0m
[32mok 137 should be strictly equal[0m
[32mok 138 body is a buffer[0m

1..138
[36m# tests 138[0m
[36m# pass  138[0m
[36m
# ok[0m


> faas-js-runtime@2.2.3 test:types
> tsd

-----------------------------------------------
Running test test_client_cloudevents (starting at 2024-01-23 20:32:52-05:00) ... 
-----------------------------------------------
Running CloudEvents client test
Running cloudevents test suite
fatal: destination path '/var/tmp/daily_scl_tests/rhel9-test-upstream/plans/nightly-container-rhel9/data/s2i-nodejs-container/test/cloudevents' already exists and is not an empty directory.
STEP 1/11: FROM ubi9/nodejs-18:1
STEP 2/11: LABEL "io.openshift.s2i.build.image"="ubi9/nodejs-18:1"       "io.openshift.s2i.build.source-location"="file:///var/tmp/daily_scl_tests/rhel9-test-upstream/plans/nightly-container-rhel9/data/s2i-nodejs-container/test/cloudevents"
--> 02be2362ad5f
STEP 3/11: USER root
--> 1c3af3516e0a
STEP 4/11: COPY upload/src/ /tmp/src
--> 2769933a3630
STEP 5/11: RUN chown -R 1001:0 /tmp/src
--> 5df89d7a338c
STEP 6/11: ENV NPM_MIRROR=https://repository.engineering.redhat.com/nexus/repository/registry.npmjs.org
--> 85f8b7554f04
STEP 7/11: ENV NODE_ENV=development
--> 3e6cf33b091a
STEP 8/11: RUN cd /etc/pki/ca-trust/source/anchors && update-ca-trust extract
--> ee764915995a
STEP 9/11: USER 1001
--> 9488255073fd
STEP 10/11: RUN /usr/libexec/s2i/assemble
---> Installing application source ...
---> Building your Node application from source
npm WARN deprecated libnpmconfig@1.2.1: This module is not used anymore. npm config is parsed by npm itself and by @npmcli/config

added 777 packages, and audited 778 packages in 19s

219 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (5 moderate, 3 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
npm notice 
npm notice New major version of npm available! 9.8.1 -> 10.3.0
npm notice Changelog: <https://github.com/npm/cli/releases/tag/v10.3.0>
npm notice Run `npm install -g npm@10.3.0` to update!
npm notice 
--> 70e163da76cc
STEP 11/11: CMD /usr/libexec/s2i/run
COMMIT ubi9/nodejs-18:1-cloudevents
--> e553ca769bba
Successfully tagged localhost/ubi9/nodejs-18:1-cloudevents
e553ca769bba952351ca4f51d239a2b5203107562ed91a548039a5a20bde748a

> cloudevents@8.0.0 pretest
> npm run lint && npm run build && npm run conformance


> cloudevents@8.0.0 lint
> npm run lint:md && npm run lint:js


> cloudevents@8.0.0 lint:md
> remark .

[4m[32mAPI_TRANSITION_GUIDE.md[39m[24m: no issues found
[4m[32mCHANGELOG.md[39m[24m: no issues found
[4m[32mCONTRIBUTING.md[39m[24m: no issues found
[4m[32mREADME.md[39m[24m: no issues found
[4m[32mRELEASE_GUIDELINES.md[39m[24m: no issues found
[4m[32mexamples/express-ex/README.md[39m[24m: no issues found
[4m[32mexamples/mqtt-ex/README.md[39m[24m: no issues found
[4m[32mexamples/typescript-ex/README.md[39m[24m: no issues found
[4m[32mexamples/websocket/README.md[39m[24m: no issues found
[4m[32mmaintainer_guidelines.md[39m[24m: no issues found
[4m[32mpr_guidelines.md[39m[24m: no issues found

> cloudevents@8.0.0 lint:js
> eslint 'src/**/*.{js,ts}' 'test/**/*.{js,ts}' cucumber.js


> cloudevents@8.0.0 build
> npm run build:schema && npm run build:src && npm run build:browser


> cloudevents@8.0.0 build:schema
> ajv compile -c ./src/schema/formats.js -s src/schema/cloudevent.json --strict-types false -o src/schema/v1.js

schema src/schema/cloudevent.json is valid

> cloudevents@8.0.0 build:src
> tsc --project tsconfig.json


> cloudevents@8.0.0 build:browser
> tsc --project tsconfig.browser.json && webpack

asset cloudevents.js 105 KiB [emitted] [minimized] (name: cloudevents) 1 related asset
orphan modules 18.7 KiB [orphan] 14 modules
runtime modules 891 bytes 4 modules
modules by path ./ 305 KiB
  modules by path ./node_modules/ 222 KiB 30 modules
  modules by path ./browser/ 82.7 KiB
    modules by path ./browser/message/ 34.4 KiB 6 modules
    modules by path ./browser/*.js 7.27 KiB 3 modules
    modules by path ./browser/event/*.js 13.3 KiB 3 modules
    modules by path ./browser/transport/ 6.32 KiB 2 modules
    ./browser/schema/v1.js 21.5 KiB [built] [code generated]
http (ignored) 15 bytes [built] [code generated]
https (ignored) 15 bytes [built] [code generated]
webpack 5.76.0 compiled successfully in 4491 ms

> cloudevents@8.0.0 conformance
> cucumber-js ./conformance/features/*-protocol-binding.feature -p default



0 scenarios
0 steps
0m00.000s (executing steps: 0m00.000s)
\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510
\u2502 Share your Cucumber Report with your team at https://reports.cucumber.io     \u2502
\u2502                                                                              \u2502
\u2502 Command line option:    --publish                                            \u2502
\u2502 Environment variable:   CUCUMBER_PUBLISH_ENABLED=true                        \u2502
\u2502                                                                              \u2502
\u2502 More information at https://cucumber.io/docs/cucumber/environment-variables/ \u2502
\u2502                                                                              \u2502
\u2502 To disable this message, add this to your ./cucumber.js:                     \u2502
\u2502 module.exports = { default: '--publish-quiet' }                              \u2502
\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518

> cloudevents@8.0.0 test
> mocha --require ts-node/register ./test/integration/**/*.ts



  A batched CloudEvent message over HTTP
    \u2714 Can be created with a typed Message

  A batched CloudEvent message over Kafka
    \u2714 Can be created with a typed Message

  A CloudEvent
    \u2714 Can be constructed with a typed Message
    \u2714 Can be constructed with loose validation
    \u2714 Loosely validated events can be cloned
    \u2714 Loosely validated events throw when validated
    \u2714 serializes as JSON with toString()
    \u2714 serializes as JSON with raw log
    \u2714 Throw a validation error for invalid extension names
    \u2714 Throw a validation error for invalid extension names, more than 20 chars
    \u2714 Throws a validation error for invalid uppercase extension names
    \u2714 CloudEventV1 interface fields should be enumerable
    \u2714 throws TypeError on trying to set any field value
    toJSON()
      \u2714 does not return data field if data_base64 field is set to comply with JSON format spec 3.1.1

  A 1.0 CloudEvent
    \u2714 has retreivable source and type attributes
    \u2714 defaults to specversion 1.0
    \u2714 generates an ID if one is not provided in the constructor
    \u2714 can be constructed with an ID
    \u2714 generates a timestamp by default
    \u2714 can be constructed with a timestamp
    \u2714 can be constructed with a datacontenttype
    \u2714 can be constructed with a dataschema
    \u2714 can be constructed with a subject
    \u2714 throws a TypeError when constructed with a schemaurl
    \u2714 can be constructed with data
    \u2714 can be constructed with data as an Array
    \u2714 can be constructed with data as a number
    \u2714 can be constructed with null data
    \u2714 can be constructed with data as a boolean
    \u2714 can be constructed with binary data
    \u2714 can be constructed with extensions
    \u2714 throws TypeError if the CloudEvent does not conform to the schema
    \u2714 correctly formats a CloudEvent as JSON
    \u2714 throws if the provded source is empty string

  Constants exposed by top level exports
    \u2714 Exports an ENCODING_BASE64 constant
    \u2714 Exports a DATA_ATTRIBUTE constant
    \u2714 Exports a MIME_JSON constant
    \u2714 Exports a MIME_OCTET_STREAM constant
    \u2714 Exports a MIME_CE constant
    \u2714 Exports a MIME_CE_JSON constant
    \u2714 Exports a HEADER_CONTENT_TYPE constant
    \u2714 Exports a DEFAULT_CONTENT_TYPE constant
    \u2714 Exports a DEFAULT_CE_CONTENT_TYPE constant
    V0.3 binary headers constants
      \u2714 Provides a TYPE header
      \u2714 Provides a SPEC_VERSION header
      \u2714 Provides a SOURCE header
      \u2714 Provides an ID header
      \u2714 Provides a TIME header
      \u2714 Provides a SCHEMA_URL header
      \u2714 Provides a CONTENT_ENCODING header
      \u2714 Provides a SUBJECT header
      \u2714 Provides an EXTENSIONS_PREFIX constant
    V0.3 structured attributes constants
      \u2714 Provides a TYPE attribute
      \u2714 Provides a SPEC_VERSION attribute
      \u2714 Provides a SOURCE attribute
      \u2714 Provides an ID attribute
      \u2714 Provides a TIME attribute
      \u2714 Provides a SCHEMA_URL attribute
      \u2714 Provides a CONTENT_ENCODING attribute
      \u2714 Provides a SUBJECT attribute
      \u2714 Provides a DATA attribute
    V01 binary headers constants
      \u2714 Provides a TYPE header
      \u2714 Provides a SPEC_VERSION header
      \u2714 Provides a SOURCE header
      \u2714 Provides an ID header
      \u2714 Provides a TIME header
      \u2714 Provides a DATA_SCHEMA header
      \u2714 Provides a SUBJECT header
      \u2714 Provides an EXTENSIONS_PREFIX constant
    V1 structured attributes constants
      \u2714 Provides a TYPE attribute
      \u2714 Provides a SPEC_VERSION attribute
      \u2714 Provides a SOURCE attribute
      \u2714 Provides an ID attribute
      \u2714 Provides a TIME attribute
      \u2714 Provides a DATA_SCHEMA attribute
      \u2714 Provides a CONTENT_TYPE attribute
      \u2714 Provides a SUBJECT attribute
      \u2714 Provides a DATA attribute
      \u2714 Provides a DATA_BASE64 attribute

  emitterFor() defaults
    \u2714 Defaults to HTTP binding, binary mode
    \u2714 Supports HTTP binding, structured mode

  HTTP Transport Binding for emitterFactory
    HTTPS builtin
      \u2714 Works as a binary event emitter
    HTTP builtin
      \u2714 Works as a binary event emitter
      \u2714 Works as a structured event emitter
    Axios
      \u2714 Works as a binary event emitter
      \u2714 Works as a structured event emitter
    SuperAgent
      \u2714 Works as a binary event emitter
      \u2714 Works as a structured event emitter
    Got
      \u2714 Works as a binary event emitter
      \u2714 Works as a structured event emitter

  Emitter Singleton
    \u2714 emit a Node.js 'cloudevent' event as an EventEmitter
    \u2714 emit a Node.js 'cloudevent' event as an EventEmitter with ensureDelivery
    \u2714 emit a Node.js 'cloudevent' event as an EventEmitter with ensureDelivery Error

  Kafka transport
    \u2714 Handles events with no content-type and no datacontenttype
    \u2714 Can detect invalid CloudEvent Messages
    \u2714 Can detect valid CloudEvent Messages
    \u2714 Handles CloudEvents with datacontenttype of text/plain
    \u2714 Respects extension attribute casing (even if against spec)
    \u2714 Can detect CloudEvent binary Messages with weird versions
    \u2714 Can detect CloudEvent structured Messages with weird versions
    \u2714 Does not throw an exception when converting an invalid Message to a CloudEvent
    \u2714 Does not allow an invalid CloudEvent to be converted to a Message
    \u2714 Maps `KafkaMessage#key` value to CloudEvent#partitionkey property
    \u2714 Maps CloudEvent#partitionkey value to a `key` in binary KafkaMessages
    \u2714 Binary Messages can be created from a CloudEvent
    \u2714 Structured Messages can be created from a CloudEvent
    \u2714 A CloudEvent can be converted from a binary Message
    \u2714 A CloudEvent can be converted from a binary Message
    \u2714 A CloudEvent can be converted from a structured Message
    \u2714 Converts binary data to base64 when serializing structured messages
    - Converts base64 encoded data to binary when deserializing structured messages
    \u2714 Converts base64 encoded data to binary when deserializing binary messages
    \u2714 Keeps binary data binary when serializing binary messages
    \u2714 Does not parse binary data from binary messages with content type application/json

  HTTP transport
    \u2714 validates extension attribute names for incoming messages
    \u2714 Includes extensions in binary mode when type is 'boolean' with a false value
    \u2714 Includes extensions in structured when type is 'boolean' with a false value
    \u2714 Handles big integers in structured mode
    \u2714 Handles big integers in binary mode
    \u2714 Handles events with no content-type and no datacontenttype
    \u2714 Can detect invalid CloudEvent Messages
    \u2714 Can detect valid CloudEvent Messages
    \u2714 Handles CloudEvents with datacontenttype of text/plain
    \u2714 Respects extension attribute casing (even if against spec)
    \u2714 Can detect CloudEvent binary Messages with weird versions
    \u2714 Can detect CloudEvent structured Messages with weird versions
    \u2714 Does not throw an exception when converting an invalid Message to a CloudEvent
    \u2714 Does not allow an invalid CloudEvent to be converted to a Message
    \u2714 Can be created with Node's IncomingHttpHeaders
    Specification version V1
      \u2714 Binary Messages can be created from a CloudEvent
      \u2714 Structured Messages can be created from a CloudEvent
      \u2714 A CloudEvent can be converted from a binary Message
      \u2714 A CloudEvent can be converted from a structured Message
      \u2714 Converts binary data to base64 when serializing structured messages
      \u2714 Converts base64 encoded data to binary when deserializing structured messages
      \u2714 Does not parse binary data from structured messages with content type application/json
      \u2714 Converts base64 encoded data to binary when deserializing binary messages
      \u2714 Keeps binary data binary when serializing binary messages
      \u2714 Does not parse binary data from binary messages with content type application/json
    Specification version V03
      \u2714 Binary Messages can be created from a CloudEvent
      \u2714 Structured Messages can be created from a CloudEvent
      \u2714 A CloudEvent can be converted from a binary Message
      \u2714 A CloudEvent can be converted from a structured Message
      \u2714 Converts binary data to base64 when serializing structured messages
      \u2714 Converts base64 encoded data to binary when deserializing structured messages
      \u2714 Converts base64 encoded data to binary when deserializing binary messages
      \u2714 Keeps binary data binary when serializing binary messages

  MQTT transport
    \u2714 Handles events with no content-type and no datacontenttype
    \u2714 Can detect invalid CloudEvent Messages
    \u2714 Can detect valid CloudEvent Messages
    \u2714 Handles CloudEvents with datacontenttype of text/plain
    \u2714 Respects extension attribute casing (even if against spec)
    \u2714 Can detect CloudEvent binary Messages with weird versions
    \u2714 Can detect CloudEvent structured Messages with weird versions
    \u2714 Does not throw an exception when converting an invalid Message to a CloudEvent
    \u2714 Does not allow an invalid CloudEvent to be converted to a Message
    \u2714 Binary Messages can be created from a CloudEvent
    \u2714 Sets User Properties on binary messages
    \u2714 Structured Messages can be created from a CloudEvent
    \u2714 A CloudEvent can be converted from a binary Message
    \u2714 A CloudEvent can be converted from a structured Message
    \u2714 Converts binary data to base64 when serializing structured messages
    \u2714 Converts base64 encoded data to binary when deserializing structured messages
    \u2714 Converts base64 encoded data to binary when deserializing binary messages
    \u2714 Keeps binary data binary when serializing binary messages
    \u2714 Does not parse binary data from binary messages with content type application/json

  JSON Event Format Parser
    \u2714 Throw error when payload is an integer
    \u2714 Throw error when payload is null
    \u2714 Throw error when payload is undefined
    \u2714 Throw error when payload is a float
    \u2714 Throw error when payload is an invalid JSON
    \u2714 Accepts a string as valid JSON
    \u2714 Must accept when the payload is a string well formed as JSON

  The SDK Requirements
    \u2714 should expose a CloudEvent type
    v0.3
      \u2714 should create an (invalid) event using the right spec version
    v1.0
      \u2714 should create an event using the right spec version
    Cloning events
      \u2714 should clone simple objects that adhere to the CloudEventV1 interface
      \u2714 should clone simple objects with data that adhere to the CloudEventV1 interface

  CloudEvents Spec v1.0
    REQUIRED Attributes
      \u2714 Should have 'id'
      \u2714 Should have 'source'
      \u2714 Should have 'specversion'
      \u2714 Should have 'type'
    OPTIONAL Attributes
      \u2714 Should have 'datacontenttype'
      \u2714 Should have 'dataschema'
      \u2714 Should have 'subject'
      \u2714 Should have 'time'
    Extensions Constraints
      \u2714 should be ok when type is 'boolean'
      \u2714 should be ok when type is 'integer'
      \u2714 should be ok when type is 'string'
      \u2714 should be ok when type is 'Uint32Array' for 'Binary'
      \u2714 should be ok when type is 'Date' for 'Timestamp'
      \u2714 should be ok when the type is an object
      \u2714 should be ok when the type is an string converted from an object
      \u2714 should only allow a-z|0-9 in the attribute names
    The Constraints check
      'id'
        \u2714 should throw an error when trying to remove
        \u2714 defaut ID create when an empty string
      'source'
        \u2714 should throw an error when trying to remove
      'specversion'
        \u2714 should throw an error when trying to remove
      'type'
        \u2714 should throw an error when trying to remove
      'subject'
        \u2714 should throw an error when is an empty string
      'time'
        \u2714 must adhere to the format specified in RFC 3339
    Event data constraints
      \u2714 Should have 'data'
      \u2714 should maintain the type of data when no datacontenttype is provided
      \u2714 should be ok when type is 'Int8Array' for 'Binary'
      \u2714 should be ok when type is 'Uint8Array' for 'Binary'
      \u2714 should be ok when type is 'Int16Array' for 'Binary'
      \u2714 should be ok when type is 'Uint16Array' for 'Binary'
      \u2714 should be ok when type is 'Int32Array' for 'Binary'
      \u2714 should be ok when type is 'Uint32Array' for 'Binary'
      \u2714 should be ok when type is 'Uint8ClampedArray' for 'Binary'
      \u2714 should be ok when type is 'Float32Array' for 'Binary'
      \u2714 should be ok when type is 'Float64Array' for 'Binary'

  Utilities
    isStringOrThrow
      \u2714 should throw when is not a string
      \u2714 should return true when is a string
    equalsOrThrow
      \u2714 should throw when they are not equals
      \u2714 should return true when they are equals
    isBase64
      \u2714 should return false when is not base64 string
      \u2714 should return true when is a base64 string
    asData
      \u2714 should throw error when data is not a valid json
      \u2714 should parse string content type as string
      \u2714 should parse 'application/json' as json object
      \u2714 should parse 'application/cloudevents+json' as json object
      \u2714 should parse 'text/json' as json object


  222 passing (243ms)
  1 pending

-----------------------------------------------
Running test test_client_fastify (starting at 2024-01-23 20:34:31-05:00) ... 
-----------------------------------------------
Running fastify client test
Running fastify test suite
fatal: destination path '/var/tmp/daily_scl_tests/rhel9-test-upstream/plans/nightly-container-rhel9/data/s2i-nodejs-container/test/fastify' already exists and is not an empty directory.
STEP 1/11: FROM ubi9/nodejs-18:1
STEP 2/11: LABEL "io.openshift.s2i.build.image"="ubi9/nodejs-18:1"       "io.openshift.s2i.build.source-location"="file:///var/tmp/daily_scl_tests/rhel9-test-upstream/plans/nightly-container-rhel9/data/s2i-nodejs-container/test/fastify"
--> 9670cd46e81e
STEP 3/11: USER root
--> ef4a5a8a3d45
STEP 4/11: COPY upload/src/ /tmp/src
--> edbbff9584a5
STEP 5/11: RUN chown -R 1001:0 /tmp/src
--> f9bb149660ec
STEP 6/11: ENV NPM_MIRROR=https://repository.engineering.redhat.com/nexus/repository/registry.npmjs.org
--> 85bc98b36eb1
STEP 7/11: ENV NODE_ENV=development
--> 219017c11f4e
STEP 8/11: RUN cd /etc/pki/ca-trust/source/anchors && update-ca-trust extract
--> e10904934875
STEP 9/11: USER 1001
--> f7a3bf04147f
STEP 10/11: RUN /usr/libexec/s2i/assemble
---> Installing application source ...
---> Building your Node application from source

added 750 packages in 33s

180 packages are looking for funding
  run `npm fund` for details
npm notice 
npm notice New major version of npm available! 9.8.1 -> 10.3.0
npm notice Changelog: <https://github.com/npm/cli/releases/tag/v10.3.0>
npm notice Run `npm install -g npm@10.3.0` to update!
npm notice 
--> e80fe421903a
STEP 11/11: CMD /usr/libexec/s2i/run
COMMIT ubi9/nodejs-18:1-fastify
--> 0cbada0e7fe6
Successfully tagged localhost/ubi9/nodejs-18:1-fastify
0cbada0e7fe6783d6e7c6d357ed29c5e917bf4d1868c108c435eeb22183b2cb5

> fastify@4.25.2 test
> npm run lint && npm run unit && npm run test:typescript


> fastify@4.25.2 lint
> npm run lint:standard && npm run lint:typescript && npm run lint:markdown


> fastify@4.25.2 lint:standard
> standard | snazzy


> fastify@4.25.2 lint:typescript
> eslint -c types/.eslintrc.json types/**/*.d.ts test/types/**/*.test-d.ts


> fastify@4.25.2 lint:markdown
> markdownlint-cli2

markdownlint-cli2 v0.10.0 (markdownlint v0.31.1)

> fastify@4.25.2 unit
> c8 tap

TAP version 13
# Subtest: test/404s.test.js
    # Subtest: default 404
        1..5
        ok 1 - should not error
        # Subtest: unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 2 - unsupported method # time=30.254ms
        
        # Subtest: framework-unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 3 - framework-unsupported method # time=4.577ms
        
        # Subtest: unsupported route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 4 - unsupported route # time=3.853ms
        
        # Subtest: using post method and multipart/formdata
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 5 - using post method and multipart/formdata # time=4.944ms
        
    ok 1 - default 404 # time=153.72ms
    
    # Subtest: customized 404
        1..6
        ok 1 - should not error
        # Subtest: unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 2 - unsupported method # time=7.254ms
        
        # Subtest: framework-unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 3 - framework-unsupported method # time=3.541ms
        
        # Subtest: unsupported route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 4 - unsupported route # time=3.699ms
        
        # Subtest: with error object
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 5 - with error object # time=7.576ms
        
        # Subtest: error object with headers property
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 6 - error object with headers property # time=4.597ms
        
    ok 2 - customized 404 # time=37.351ms
    
    # Subtest: custom header in notFound handler
        1..2
        ok 1 - should not error
        # Subtest: not found with custom header
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
        ok 2 - not found with custom header # time=4.198ms
        
    ok 3 - custom header in notFound handler # time=11.809ms
    
    # Subtest: setting a custom 404 handler multiple times is an error
        1..5
        # Subtest: at the root level
            1..2
            ok 1 - type is Error
            ok 2 - should be equal
        ok 1 - at the root level # time=2.71ms
        
        # Subtest: at the plugin level
            1..3
            ok 1 - type is Error
            ok 2 - should be equal
            ok 3 - should not error
        ok 2 - at the plugin level # time=21.556ms
        
        # Subtest: at multiple levels
            1..3
            ok 1 - type is Error
            ok 2 - should be equal
            ok 3 - should not error
        ok 3 - at multiple levels # time=10.835ms
        
        # Subtest: at multiple levels / 2
            1..3
            ok 1 - type is Error
            ok 2 - should be equal
            ok 3 - should not error
        ok 4 - at multiple levels / 2 # time=31.452ms
        
        # Subtest: in separate plugins at the same level
            1..3
            ok 1 - type is Error
            ok 2 - should be equal
            ok 3 - should not error
        ok 5 - in separate plugins at the same level # time=15.315ms
        
    ok 4 - setting a custom 404 handler multiple times is an error # time=94.351ms
    
    # Subtest: encapsulated 404
        1..13
        ok 1 - should not error
        # Subtest: root unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 2 - root unsupported method # time=24.7ms
        
        # Subtest: root framework-unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 3 - root framework-unsupported method # time=3.885ms
        
        # Subtest: root unsupported route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 4 - root unsupported route # time=4.494ms
        
        # Subtest: unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 5 - unsupported method # time=4.388ms
        
        # Subtest: framework-unsupported method
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 6 - framework-unsupported method # time=3.693ms
        
        # Subtest: unsupported route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 7 - unsupported route # time=3.761ms
        
        # Subtest: unsupported method 2
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 8 - unsupported method 2 # time=3.905ms
        
        # Subtest: framework-unsupported method 2
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 9 - framework-unsupported method 2 # time=3.823ms
        
        # Subtest: unsupported route 2
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 10 - unsupported route 2 # time=3.464ms
        
        # Subtest: unsupported method 3
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 11 - unsupported method 3 # time=3.851ms
        
        # Subtest: framework-unsupported method 3
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 12 - framework-unsupported method 3 # time=3.541ms
        
        # Subtest: unsupported route 3
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
        ok 13 - unsupported route 3 # time=3.641ms
        
    ok 5 - encapsulated 404 # time=112.12ms
    
    # Subtest: custom 404 hook and handler context
        1..21
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should not error
        ok 17 - should be equal
        ok 18 - should be equal
        ok 19 - should not error
        ok 20 - should be equal
        ok 21 - should be equal
    ok 6 - custom 404 hook and handler context # time=51.538ms
    
    # Subtest: encapsulated custom 404 without - prefix hook and handler context
        1..13
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should not error
        ok 12 - should be equal
        ok 13 - should be equal
    ok 7 - encapsulated custom 404 without - prefix hook and handler context # time=12.881ms
    
    # Subtest: run hooks on default 404
        1..7
        ok 1 - should not error
        ok 2 - onRequest called
        ok 3 - preHandler called
        ok 4 - onSend called
        ok 5 - onResponse called
        ok 6 - should not error
        ok 7 - should be equal
    ok 8 - run hooks on default 404 # time=13.954ms
    
    # Subtest: run non-encapsulated plugin hooks on default 404
        1..6
        ok 1 - onRequest called
        ok 2 - preHandler called
        ok 3 - onSend called
        ok 4 - onResponse called
        ok 5 - should not error
        ok 6 - should be equal
    ok 9 - run non-encapsulated plugin hooks on default 404 # time=22.083ms
    
    # Subtest: run non-encapsulated plugin hooks on custom 404
        1..11
        ok 1 - onRequest called
        ok 2 - onRequest called
        ok 3 - preHandler called
        ok 4 - preHandler called
        ok 5 - onSend called
        ok 6 - onSend called
        ok 7 - onResponse called
        ok 8 - onResponse called
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should be equal
    ok 10 - run non-encapsulated plugin hooks on custom 404 # time=21.938ms
    
    # Subtest: run hook with encapsulated 404
        1..11
        ok 1 - should not error
        ok 2 - onRequest called
        ok 3 - onRequest 2 called
        ok 4 - preHandler called
        ok 5 - preHandler 2 called
        ok 6 - onSend called
        ok 7 - onSend 2 called
        ok 8 - onResponse called
        ok 9 - onResponse 2 called
        ok 10 - should not error
        ok 11 - should be equal
    ok 11 - run hook with encapsulated 404 # time=21.848ms
    
    # Subtest: run hook with encapsulated 404 and framework-unsupported method
        1..11
        ok 1 - should not error
        ok 2 - onRequest called
        ok 3 - onRequest 2 called
        ok 4 - preHandler called
        ok 5 - preHandler 2 called
        ok 6 - onSend called
        ok 7 - onSend 2 called
        ok 8 - onResponse called
        ok 9 - onResponse 2 called
        ok 10 - should not error
        ok 11 - should be equal
    ok 12 - run hook with encapsulated 404 and framework-unsupported method # time=26.279ms
    
    # Subtest: hooks check 404
        1..13
        ok 1 - should not error
        ok 2 - onRequest
        ok 3 - should be equivalent
        ok 4 - onSend
        ok 5 - onResponse
        ok 6 - onRequest
        ok 7 - should be equivalent
        ok 8 - onSend
        ok 9 - onResponse
        ok 10 - should not error
        ok 11 - should be equal
        ok 12 - should not error
        ok 13 - should be equal
    ok 13 - hooks check 404 # time=12.083ms
    
    # Subtest: setNotFoundHandler should not suppress duplicated routes checking
        1..1
        ok 1 - expect truthy value
    ok 14 - setNotFoundHandler should not suppress duplicated routes checking # time=2.528ms
    
    # Subtest: log debug for 404
        1..1
        # Subtest: log debug
            1..7
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
        ok 1 - log debug # time=7.445ms
        
    ok 15 - log debug for 404 # time=12.574ms
    
    # Subtest: Unknown method
        1..5
        ok 1 - should not error
        ok 2 - expected to throw
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent strictly
    ok 16 - Unknown method # time=20.448ms
    
    # Subtest: recognizes errors from the http-errors module
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent strictly
    ok 17 - recognizes errors from the http-errors module # time=13.059ms
    
    # Subtest: the default 404 handler can be invoked inside a prefixed plugin
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent strictly
    ok 18 - the default 404 handler can be invoked inside a prefixed plugin # time=9.554ms
    
    # Subtest: an inherited custom 404 handler can be invoked inside a prefixed plugin
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - an inherited custom 404 handler can be invoked inside a prefixed plugin # time=7.587ms
    
    # Subtest: encapsulated custom 404 handler without a prefix is the handler for the entire 404 level
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 20 - encapsulated custom 404 handler without a prefix is the handler for the entire 404 level # time=7.503ms
    
    # Subtest: cannot set notFoundHandler after binding
        1..2
        ok 1 - should not error
        ok 2 - (unnamed test)
    ok 21 - cannot set notFoundHandler after binding # time=26.098ms
    
    # Subtest: 404 inside onSend
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 22 - 404 inside onSend # time=15.717ms
    
    # Subtest: onSend hooks run when an encapsulated route invokes the notFound handler
        1..3
        ok 1 - onSend hook called
        ok 2 - should not error
        ok 3 - should be equal
    ok 23 - onSend hooks run when an encapsulated route invokes the notFound handler # time=5.21ms
    
    # Subtest: preHandler option for setNotFoundHandler
        1..10
        # Subtest: preHandler option
            1..2
            ok 1 - should not error
            ok 2 - should be equivalent
        ok 1 - preHandler option # time=24.717ms
        
        # Subtest: preHandler hook in setNotFoundHandler should be called when callNotFound
            1..3
            ok 1 - should be equal
            ok 2 - should not error
            ok 3 - should be equivalent
        ok 2 - preHandler hook in setNotFoundHandler should be called when callNotFound # time=18.096ms
        
        # Subtest: preHandler hook in setNotFoundHandler should accept an array of functions and be called when callNotFound
            1..2
            ok 1 - should not error
            ok 2 - should be equivalent
        ok 3 - preHandler hook in setNotFoundHandler should accept an array of functions and be called when callNotFound # time=4.122ms
        
        # Subtest: preHandler option should be called after preHandler hook
            1..2
            ok 1 - should not error
            ok 2 - should be equivalent
        ok 4 - preHandler option should be called after preHandler hook # time=4.111ms
        
        # Subtest: preHandler option should be unique per prefix
            1..4
            ok 1 - should not error
            ok 2 - should be equivalent
            ok 3 - should not error
            ok 4 - should be equivalent
        ok 5 - preHandler option should be unique per prefix # time=6.896ms
        
        # Subtest: preHandler option should handle errors
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 6 - preHandler option should handle errors # time=4.448ms
        
        # Subtest: preHandler option should handle errors with custom status code
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 7 - preHandler option should handle errors with custom status code # time=5.24ms
        
        # Subtest: preHandler option could accept an array of functions
            1..2
            ok 1 - should not error
            ok 2 - should be equivalent
        ok 8 - preHandler option could accept an array of functions # time=10.093ms
        
        # Subtest: preHandler option does not interfere with preHandler
            1..4
            ok 1 - should not error
            ok 2 - should be equivalent
            ok 3 - should not error
            ok 4 - should be equivalent
        ok 9 - preHandler option does not interfere with preHandler # time=17.214ms
        
        # Subtest: preHandler option should keep the context
            1..3
            ok 1 - should be equal
            ok 2 - should not error
            ok 3 - should be equivalent
        ok 10 - preHandler option should keep the context # time=4.888ms
        
    ok 24 - preHandler option for setNotFoundHandler # time=112.879ms
    
    # Subtest: reply.notFound invoked the notFound handler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 25 - reply.notFound invoked the notFound handler # time=4.132ms
    
    # Subtest: The custom error handler should be invoked after the custom not found handler
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - type is Error
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 26 - The custom error handler should be invoked after the custom not found handler # time=5.443ms
    
    # Subtest: If the custom not found handler does not use an Error, the custom error handler should not be called
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 27 - If the custom not found handler does not use an Error, the custom error handler should not be called # time=3.771ms
    
    # Subtest: preValidation option
        1..3
        ok 1 - expect truthy value
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 28 - preValidation option # time=7.362ms
    
    # Subtest: preValidation option could accept an array of functions
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 29 - preValidation option could accept an array of functions # time=6.016ms
    
    # Subtest: Should fail to invoke callNotFound inside a 404 handler
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 30 - Should fail to invoke callNotFound inside a 404 handler # time=6.094ms
    
    # Subtest: 400 in case of bad url (pre find-my-way v2.2.0 was a 404)
        # Subtest: Dynamic route
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 1 - Dynamic route # time=15.401ms
        
        # Subtest: Wildcard
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 2 - Wildcard # time=8.814ms
        
        # Subtest: No route registered
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - No route registered # time=10.442ms
        
        # Subtest: Only / is registered
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 4 - Only / is registered # time=8.77ms
        
        # Subtest: customized 404
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 5 - customized 404 # time=15.107ms
        
        1..5
    ok 31 - 400 in case of bad url (pre find-my-way v2.2.0 was a 404) # time=72.147ms
    
    # Subtest: setNotFoundHandler should be chaining fastify instance
        # Subtest: Register route after setNotFoundHandler
            1..6
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should not error
            ok 5 - should be equal
            ok 6 - should be equal
        ok 1 - Register route after setNotFoundHandler # time=13.735ms
        
        1..1
    ok 32 - setNotFoundHandler should be chaining fastify instance # time=20.407ms
    
    # Subtest: Send 404 when frameworkError calls reply.callNotFound
        # Subtest: Dynamic route
            1..4
            ok 1 - should be equal
            ok 2 - should not error
            ok 3 - should be equal
            ok 4 - should be equal
        ok 1 - Dynamic route # time=7.03ms
        
        1..1
    ok 33 - Send 404 when frameworkError calls reply.callNotFound # time=15.25ms
    
    # Subtest: hooks are applied to not found handlers /1
        ok 1 - should be equal
        1..1
    ok 34 - hooks are applied to not found handlers /1 # time=12.473ms
    
    # Subtest: hooks are applied to not found handlers /2
        ok 1 - should be equal
        1..1
    ok 35 - hooks are applied to not found handlers /2 # time=6.988ms
    
    # Subtest: hooks are applied to not found handlers /3
        ok 1 - should be equal
        1..1
    ok 36 - hooks are applied to not found handlers /3 # time=6.283ms
    
    1..36
    # time=1036.948ms
ok 1 - test/404s.test.js # time=1036.948ms

# Subtest: test/500s.test.js
    # Subtest: default 500
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - default 500 # time=43.507ms
    
    # Subtest: custom 500
        1..6
        ok 1 - type is object
        ok 2 - type is Request
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 2 - custom 500 # time=7.024ms
    
    # Subtest: encapsulated 500
        1..10
        ok 1 - type is object
        ok 2 - type is Request
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equivalent
    ok 3 - encapsulated 500 # time=20.9ms
    
    # Subtest: custom 500 with hooks
        1..7
        ok 1 - onRequest
        ok 2 - onSend
        ok 3 - onResponse
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 4 - custom 500 with hooks # time=13.258ms
    
    # Subtest: cannot set errorHandler after binding
        1..2
        ok 1 - should not error
        ok 2 - (unnamed test)
    ok 5 - cannot set errorHandler after binding # time=36.229ms
    
    # Subtest: cannot set childLoggerFactory after binding
        1..2
        ok 1 - should not error
        ok 2 - (unnamed test)
    ok 6 - cannot set childLoggerFactory after binding # time=4.716ms
    
    1..6
    # time=147.839ms
ok 2 - test/500s.test.js # time=147.839ms

# Subtest: test/allowUnsafeRegex.test.js
    # Subtest: allow unsafe regex
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - allow unsafe regex # time=70.415ms
    
    # Subtest: allow unsafe regex not match
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 2 - allow unsafe regex not match # time=7.936ms
    
    # Subtest: allow unsafe regex not safe
        1..1
        ok 1 - expected to throw
    ok 3 - allow unsafe regex not safe # time=3.801ms
    
    # Subtest: allow unsafe regex not safe by default
        1..1
        ok 1 - expected to throw
    ok 4 - allow unsafe regex not safe by default # time=3.357ms
    
    # Subtest: allow unsafe regex allow unsafe
        1..5
        ok 1 - expected to not throw
        ok 2 - should not error
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 5 - allow unsafe regex allow unsafe # time=12.55ms
    
    1..5
    # time=128.166ms
ok 3 - test/allowUnsafeRegex.test.js # time=128.166ms

# Subtest: test/als.test.js
    ok 1 - should not error
    ok 2 - expect truthy value
    ok 3 - should not error
    ok 4 - should be equal
    ok 5 - should be equivalent
    ok 6 - expect truthy value
    ok 7 - should not error
    ok 8 - should be equal
    ok 9 - should be equivalent
    ok 10 - expect truthy value
    ok 11 - should not error
    ok 12 - should be equal
    ok 13 - should be equivalent
    1..13
    # time=47.434ms
ok 4 - test/als.test.js # time=47.434ms

# Subtest: test/async-await.test.js
    # Subtest: async await
        1..11
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - should not error
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 1 - async await # time=317.715ms
    
    # Subtest: ignore the result of the promise if reply.send is called beforehand (undefined)
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should be equal
    ok 2 - ignore the result of the promise if reply.send is called beforehand (undefined) # time=9.463ms
    
    # Subtest: ignore the result of the promise if reply.send is called beforehand (object)
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should be equal
    ok 3 - ignore the result of the promise if reply.send is called beforehand (object) # time=14.713ms
    
    # Subtest: server logs an error if reply.send is called and a value is returned via async/await
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent
    ok 4 - server logs an error if reply.send is called and a value is returned via async/await # time=29.65ms
    
    # Subtest: ignore the result of the promise if reply.send is called beforehand (undefined)
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should be equal
    ok 5 - ignore the result of the promise if reply.send is called beforehand (undefined) # time=7.4ms
    
    # Subtest: ignore the result of the promise if reply.send is called beforehand (object)
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should be equal
    ok 6 - ignore the result of the promise if reply.send is called beforehand (object) # time=12.947ms
    
    # Subtest: await reply if we will be calling reply.send in the future
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 7 - await reply if we will be calling reply.send in the future # time=12.868ms
    
    # Subtest: await reply if we will be calling reply.send in the future (error case)
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 8 - await reply if we will be calling reply.send in the future (error case) # time=12.555ms
    
    # Subtest: support reply decorators with await
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 9 - support reply decorators with await # time=5.754ms
    
    # Subtest: inject async await
        1..1
        ok 1 - should be equivalent
    ok 10 - inject async await # time=9.173ms
    
    # Subtest: inject async await - when the server equal up
        1..2
        ok 1 - should be equivalent
        ok 2 - should be equivalent
    ok 11 - inject async await - when the server equal up # time=214.324ms
    
    # Subtest: async await plugin
        1..1
        ok 1 - should be equivalent
    ok 12 - async await plugin # time=218.573ms
    
    # Subtest: does not call reply.send() twice if 204 response equal already sent
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 13 - does not call reply.send() twice if 204 response equal already sent # time=13.062ms
    
    # Subtest: promise was fulfilled with undefined
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 14 - promise was fulfilled with undefined # time=14.513ms
    
    # Subtest: promise was fulfilled with undefined using inject
        ok 1 - should be equal
        ok 2 - should be equal
        1..2
    ok 15 - promise was fulfilled with undefined using inject # time=15.075ms
    
    # Subtest: error is not logged because promise was fulfilled with undefined but response was sent before promise resolution
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 16 - error is not logged because promise was fulfilled with undefined but response was sent before promise resolution # time=10.177ms
    
    # Subtest: Thrown Error instance sets HTTP status code
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - Thrown Error instance sets HTTP status code # time=5.2ms
    
    # Subtest: customErrorHandler support
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 18 - customErrorHandler support # time=11.337ms
    
    # Subtest: customErrorHandler support without throwing
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 19 - customErrorHandler support without throwing # time=8.712ms
    
    # Subtest: customErrorHandler only called if reply not already sent
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 20 - customErrorHandler only called if reply not already sent # time=14.565ms
    
    # Subtest: setNotFoundHandler should accept return value
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - setNotFoundHandler should accept return value # time=8.689ms
    
    # Subtest: customErrorHandler should accept return value
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 22 - customErrorHandler should accept return value # time=4.914ms
    
    # Subtest: await self
        ok 1 - should be equal
        1..1
    ok 23 - await self # time=2.833ms
    
    1..23
    # time=1013.494ms
ok 5 - test/async-await.test.js # time=1013.494ms

# Subtest: test/async-dispose.test.js
    # Subtest: async dispose should close fastify
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 1 - async dispose should close fastify # time=40.244ms
    
    1..1
    # time=53.515ms
ok 6 - test/async-dispose.test.js # time=53.515ms

# Subtest: test/bodyLimit.test.js
    # Subtest: bodyLimit
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should not error
        ok 5 - should be equal
    ok 1 - bodyLimit # time=70.589ms
    
    # Subtest: bodyLimit is applied to decoded content
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 2 - bodyLimit is applied to decoded content # time=28.58ms
    
    # Subtest: default request.routeOptions.bodyLimit should be 1048576
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 3 - default request.routeOptions.bodyLimit should be 1048576 # time=18.287ms
    
    # Subtest: request.routeOptions.bodyLimit should be equal to route limit
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 4 - request.routeOptions.bodyLimit should be equal to route limit # time=9.337ms
    
    # Subtest: request.routeOptions.bodyLimit should be equal to server limit
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 5 - request.routeOptions.bodyLimit should be equal to server limit # time=12.895ms
    
    1..5
    # time=149.398ms
ok 7 - test/bodyLimit.test.js # time=149.398ms

# Subtest: test/buffer.test.js
    # Subtest: Buffer test
        1..0
    ok 1 - Buffer test # time=21.052ms
    
    # Subtest: should return 200 if the body is not empty
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 2 - should return 200 if the body is not empty # time=49.336ms
    
    # Subtest: should return 400 if the body is empty
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 3 - should return 400 if the body is empty # time=5.969ms
    
    1..3
    # time=84.618ms
ok 8 - test/buffer.test.js # time=84.618ms

# Subtest: test/build/error-serializer.test.js
    # Subtest: check generated code syntax
        1..1
        ok 1 - should be equal
    ok 1 - check generated code syntax # time=1130.257ms
    
    ok 2 - ensure the current error serializer is latest # SKIP
    1..2
    # skip: 1
    # time=1138.319ms
ok 9 - test/build/error-serializer.test.js # time=1138.319ms

# Subtest: test/build/version.test.js
    # Subtest: should be the same as package.json
        1..1
        ok 1 - should be equal
    ok 1 - should be the same as package.json # time=5.373ms
    
    1..1
    # time=32.201ms
ok 10 - test/build/version.test.js # time=32.201ms

# Subtest: test/case-insensitive.test.js
    # Subtest: case insensitive
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - case insensitive # time=80.013ms
    
    # Subtest: case insensitive inject
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 2 - case insensitive inject # time=14.69ms
    
    # Subtest: case insensitive (parametric)
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 3 - case insensitive (parametric) # time=8.086ms
    
    # Subtest: case insensitive (wildcard)
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 4 - case insensitive (wildcard) # time=14.412ms
    
    1..4
    # time=144.751ms
ok 11 - test/case-insensitive.test.js # time=144.751ms

# Subtest: test/chainable.test.js
    # Subtest: chainable - get
        1..1
        ok 1 - type is [object Object]
    ok 1 - chainable - get # time=7.749ms
    
    # Subtest: chainable - post
        1..1
        ok 1 - type is [object Object]
    ok 2 - chainable - post # time=1.758ms
    
    # Subtest: chainable - route
        1..1
        ok 1 - type is [object Object]
    ok 3 - chainable - route # time=1.872ms
    
    1..3
    # time=40.098ms
ok 12 - test/chainable.test.js # time=40.098ms

# Subtest: test/childLoggerFactory.test.js
    # Subtest: Should accept a custom childLoggerFactory function
        1..4
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
    ok 1 - Should accept a custom childLoggerFactory function # time=60.693ms
    
    # Subtest: req.log should be the instance returned by the factory
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
    ok 2 - req.log should be the instance returned by the factory # time=13.053ms
    
    # Subtest: should throw error if invalid logger is returned
        1..2
        ok 1 - should not error
        ok 2 - expected to throw
    ok 3 - should throw error if invalid logger is returned # time=24.136ms
    
    1..3
    # time=111.92ms
ok 13 - test/childLoggerFactory.test.js # time=111.92ms

# Subtest: test/client-timeout.test.js
    # Subtest: requestTimeout should return 408
        1..1
        ok 1 - should be equal
    ok 1 - requestTimeout should return 408 # time=983.983ms
    
    1..1
    # time=991.054ms
ok 14 - test/client-timeout.test.js # time=991.054ms

# Subtest: test/close-pipelining.test.js
    # Subtest: Should return 503 while closing - pipelining
        ok 1 - should be equivalent
        1..1
    ok 1 - Should return 503 while closing - pipelining # time=99.956ms
    
    # Subtest: Should not return 503 while closing - pipelining - return503OnClosing: false, skip Node >= v18.19.x
        ok 1 - should be equivalent
        1..1
    ok 2 - Should not return 503 while closing - pipelining - return503OnClosing: false, skip Node >= v18.19.x # time=16.391ms
    
    ok 3 - Should close the socket abruptly - pipelining - return503OnClosing: false, skip Node < v18.19.x # SKIP
    1..3
    # skip: 1
    # time=171.146ms
ok 15 - test/close-pipelining.test.js # time=171.146ms

# Subtest: test/close.test.js
    # Subtest: close callback
        1..4
        ok 1 - should not error
        ok 2 - type is [object Object]
        ok 3 - should not error
        ok 4 - expect truthy value
    ok 1 - close callback # time=81.19ms
    
    # Subtest: inside register
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - expect truthy value
    ok 2 - inside register # time=7.323ms
    
    # Subtest: close order
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 3 - close order # time=13.512ms
    
    # Subtest: close order - async
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 4 - close order - async # time=9.727ms
    
    # Subtest: should not throw an error if the server is not listening
        1..2
        ok 1 - type is [object Object]
        ok 2 - should not error
    ok 5 - should not throw an error if the server is not listening # time=8.756ms
    
    # Subtest: onClose should keep the context
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should not error
    ok 6 - onClose should keep the context # time=5.665ms
    
    # Subtest: Should return error while closing (promise) - injection
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 7 - Should return error while closing (promise) - injection # time=21.514ms
    
    # Subtest: Should return error while closing (callback) - injection
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 8 - Should return error while closing (callback) - injection # time=111.26ms
    
    # Subtest: Current opened connection should continue to work after closing and return "connection: close" header - return503OnClosing: false, skip Node >= v18.19.x
        ok 1 - should not error
        ok 2 - should match pattern provided
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
        ok 5 - should match pattern provided
        1..5
    ok 9 - Current opened connection should continue to work after closing and return "connection: close" header - return503OnClosing: false, skip Node >= v18.19.x # time=30.956ms
    
    ok 10 - Current opened connection should NOT continue to work after closing and return "connection: close" header - return503OnClosing: false, skip Node < v18.19.x # SKIP
    # Subtest: Current opened connection should not accept new incoming connections
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 11 - Current opened connection should not accept new incoming connections # time=288.018ms
    
    # Subtest: rejected incoming connections should be logged
        1..2
        ok 1 - should not error
        ok 2 - expect truthy value
    ok 12 - rejected incoming connections should be logged # time=279.823ms
    
    # Subtest: Cannot be reopened the closed server without listen callback
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 13 - Cannot be reopened the closed server without listen callback # time=9.036ms
    
    # Subtest: Cannot be reopened the closed server has listen callback
        1..2
        ok 1 - should be equal
        ok 2 - expect truthy value
    ok 14 - Cannot be reopened the closed server has listen callback # time=9.053ms
    
    # Subtest: shutsdown while keep-alive connections are active (non-async, native)
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 15 - shutsdown while keep-alive connections are active (non-async, native) # time=10.893ms
    
    # Subtest: shutsdown while keep-alive connections are active (non-async, idle, native)
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 16 - shutsdown while keep-alive connections are active (non-async, idle, native) # time=16.469ms
    
    # Subtest: triggers on-close hook in the right order with multiple bindings
        1..1
        ok 1 - should match pattern provided
    ok 17 - triggers on-close hook in the right order with multiple bindings # time=2012.467ms
    
    # Subtest: triggers on-close hook in the right order with multiple bindings (forceCloseConnections - idle)
        1..5
        ok 1 - should payload match
        ok 2 - should client not be closed
        ok 3 - should payload match
        ok 4 - should client not be closed
        ok 5 - should match pattern provided
    ok 18 - triggers on-close hook in the right order with multiple bindings (forceCloseConnections - idle) # time=2007.846ms
    
    # Subtest: triggers on-close hook in the right order with multiple bindings (forceCloseConnections - true)
        1..5
        ok 1 - should payload match
        ok 2 - should client not be closed
        ok 3 - should payload match
        ok 4 - should client not be closed
        ok 5 - should match pattern provided
    ok 19 - triggers on-close hook in the right order with multiple bindings (forceCloseConnections - true) # time=2008.598ms
    
    # Subtest: shutsdown while keep-alive connections are active (non-async, custom)
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 20 - shutsdown while keep-alive connections are active (non-async, custom) # time=28.844ms
    
    # Subtest: preClose callback
        1..5
        ok 1 - should not error
        ok 2 - type is [object Object]
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - expect truthy value
    ok 21 - preClose callback # time=12.974ms
    
    # Subtest: preClose async
        1..2
        ok 1 - type is [object Object]
        ok 2 - should be equal
    ok 22 - preClose async # time=5.802ms
    
    # Subtest: preClose execution order
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - expect truthy value
    ok 23 - preClose execution order # time=408.753ms
    
    1..23
    # skip: 1
    # time=7418.287ms
ok 16 - test/close.test.js # time=7418.287ms

# Subtest: test/connectionTimeout.test.js
    # Subtest: connectionTimeout
        1..6
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 1 - connectionTimeout # time=88.205ms
    
    1..1
    # time=132.649ms
ok 17 - test/connectionTimeout.test.js # time=132.649ms

# Subtest: test/constrained-routes.test.js
    # Subtest: Should register a host constrained route
        1..7
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
    ok 1 - Should register a host constrained route # time=114.457ms
    
    # Subtest: Should register the same route with host constraints
        1..8
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 2 - Should register the same route with host constraints # time=31.227ms
    
    # Subtest: Should allow registering custom constrained routes
        1..8
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 3 - Should allow registering custom constrained routes # time=40.849ms
    
    # Subtest: Should allow registering custom constrained routes outside constructor
        1..8
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 4 - Should allow registering custom constrained routes outside constructor # time=21.244ms
    
    # Subtest: Custom constrained routes registered also for HEAD method generated by fastify
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 5 - Custom constrained routes registered also for HEAD method generated by fastify # time=13.099ms
    
    # Subtest: Custom constrained routes registered with addConstraintStrategy apply also for HEAD method generated by fastify
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 6 - Custom constrained routes registered with addConstraintStrategy apply also for HEAD method generated by fastify # time=10.778ms
    
    # Subtest: Add a constraint strategy after fastify instance was started
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - Cannot add constraint strategy when fastify instance is already started!
    ok 7 - Add a constraint strategy after fastify instance was started # time=8.468ms
    
    # Subtest: Add a constraint strategy should throw an error if there already exist custom strategy with the same name
        1..1
        ok 1 - There already exists a custom constraint with the name secret.
    ok 8 - Add a constraint strategy should throw an error if there already exist custom strategy with the same name # time=2.351ms
    
    # Subtest: Add a constraint strategy shouldn't throw an error if default constraint with the same name isn't used
        1..1
        ok 1 - (unnamed test)
    ok 9 - Add a constraint strategy shouldn't throw an error if default constraint with the same name isn't used # time=1.826ms
    
    # Subtest: Add a constraint strategy should throw an error if default constraint with the same name is used
        1..1
        ok 1 - There already exists a route with version constraint.
    ok 10 - Add a constraint strategy should throw an error if default constraint with the same name is used # time=3.499ms
    
    # Subtest: The hasConstraintStrategy should return false for default constraints until they are used
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 11 - The hasConstraintStrategy should return false for default constraints until they are used # time=5.556ms
    
    # Subtest: The hasConstraintStrategy should return true if there already exist a custom constraint with the same name
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 12 - The hasConstraintStrategy should return true if there already exist a custom constraint with the same name # time=24.86ms
    
    # Subtest: Should allow registering an unconstrained route after a constrained route
        1..6
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equal
    ok 13 - Should allow registering an unconstrained route after a constrained route # time=29.255ms
    
    # Subtest: Should allow registering constrained routes in a prefixed plugin
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 14 - Should allow registering constrained routes in a prefixed plugin # time=20.337ms
    
    # Subtest: Should allow registering a constrained GET route after a constrained HEAD route
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 15 - Should allow registering a constrained GET route after a constrained HEAD route # time=13.581ms
    
    # Subtest: Should allow registering a constrained GET route after an unconstrained HEAD route
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 16 - Should allow registering a constrained GET route after an unconstrained HEAD route # time=20.611ms
    
    # Subtest: Will not try to re-createprefixed HEAD route if it already exists and exposeHeadRoutes is true for constrained routes
        1..1
        ok 1 - expect truthy value
    ok 17 - Will not try to re-createprefixed HEAD route if it already exists and exposeHeadRoutes is true for constrained routes # time=14.619ms
    
    # Subtest: allows separate constrained and unconstrained HEAD routes
        1..1
        ok 1 - expect truthy value
    ok 18 - allows separate constrained and unconstrained HEAD routes # time=5.339ms
    
    # Subtest: allow async constraints
        1..5
        ok 1 - should be equivalent
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should be equal
        ok 5 - should be equal
    ok 19 - allow async constraints # time=32.308ms
    
    # Subtest: error in async constraints
        1..8
        ok 1 - should be equivalent
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should be equal
        ok 5 - should be equivalent
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should be equal
    ok 20 - error in async constraints # time=24.217ms
    
    # Subtest: Allow regex constraints in routes
        1..5
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 21 - Allow regex constraints in routes # time=14.751ms
    
    1..21
    # time=509.553ms
ok 18 - test/constrained-routes.test.js # time=509.553ms

# Subtest: test/content-length.test.js
    # Subtest: default 413 with bodyLimit option
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - default 413 with bodyLimit option # time=102.746ms
    
    # Subtest: default 400 with wrong content-length
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 2 - default 400 with wrong content-length # time=34.219ms
    
    # Subtest: custom 413 with bodyLimit option
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 3 - custom 413 with bodyLimit option # time=14.486ms
    
    # Subtest: custom 400 with wrong content-length
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 4 - custom 400 with wrong content-length # time=15.178ms
    
    # Subtest: \#2214 - wrong content-length
        ok 1 - should be equal
        1..1
    ok 5 - \#2214 - wrong content-length # time=22.863ms
    
    # Subtest: \#2543 - wrong content-length with errorHandler
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equivalent
        1..3
    ok 6 - \#2543 - wrong content-length with errorHandler # time=14.95ms
    
    1..6
    # time=223.236ms
ok 19 - test/content-length.test.js # time=223.236ms

# Subtest: test/content-parser.test.js
    # Subtest: hasContentTypeParser
        1..0
    ok 1 - hasContentTypeParser # time=10.673ms
    
    # Subtest: should know about internal parsers
        1..4
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
    ok 2 - should know about internal parsers # time=93.068ms
    
    # Subtest: should work with string and RegExp
        1..7
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect falsey value
        ok 6 - expect falsey value
        ok 7 - expect falsey value
    ok 3 - should work with string and RegExp # time=7.699ms
    
    # Subtest: getParser
        1..0
    ok 4 - getParser # time=20.905ms
    
    # Subtest: existingParser
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - expect falsey value
        ok 6 - expect falsey value
        ok 7 - expect falsey value
        1..7
    ok 5 - existingParser # time=21.602ms
    
    # Subtest: add
        1..0
    ok 6 - add # time=91.589ms
    
    # Subtest: non-Error thrown from content parser is properly handled
        1..3
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
    ok 7 - non-Error thrown from content parser is properly handled # time=47.832ms
    
    # Subtest: Error thrown 415 from content type is null and make post request to server
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 8 - Error thrown 415 from content type is null and make post request to server # time=22.027ms
    
    # Subtest: remove
        1..0
    ok 9 - remove # time=35.368ms
    
    # Subtest: remove all should remove all existing parsers and reset cache
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
    ok 10 - remove all should remove all existing parsers and reset cache # time=16.773ms
    
    # Subtest: Safeguard against malicious content-type / 1
        1..12
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
        ok 7 - should be equivalent
        ok 8 - should be equivalent
        ok 9 - should be equivalent
        ok 10 - should be equivalent
        ok 11 - should be equivalent
        ok 12 - should be equivalent
    ok 11 - Safeguard against malicious content-type / 1 # time=36.006ms
    
    # Subtest: Safeguard against malicious content-type / 2
        1..1
        ok 1 - should be equivalent
    ok 12 - Safeguard against malicious content-type / 2 # time=19.1ms
    
    # Subtest: Safeguard against malicious content-type / 3
        1..1
        ok 1 - should be equivalent
    ok 13 - Safeguard against malicious content-type / 3 # time=12.948ms
    
    # Subtest: Safeguard against content-type spoofing - string
        1..1
        ok 1 - should be called
    ok 14 - Safeguard against content-type spoofing - string # time=14.931ms
    
    # Subtest: Safeguard against content-type spoofing - regexp
        1..1
        ok 1 - should be called
    ok 15 - Safeguard against content-type spoofing - regexp # time=10.618ms
    
    # Subtest: content-type match parameters - string 1
        1..1
        ok 1 - should be called
    ok 16 - content-type match parameters - string 1 # time=10.456ms
    
    # Subtest: content-type match parameters - string 2
        1..1
        ok 1 - should be called
    ok 17 - content-type match parameters - string 2 # time=16.493ms
    
    # Subtest: content-type match parameters - regexp
        1..1
        ok 1 - should be called
    ok 18 - content-type match parameters - regexp # time=11.729ms
    
    # Subtest: content-type fail when parameters not match - string 1
        1..1
        ok 1 - should be equivalent
    ok 19 - content-type fail when parameters not match - string 1 # time=12.618ms
    
    # Subtest: content-type fail when parameters not match - string 2
        1..1
        ok 1 - should be equivalent
    ok 20 - content-type fail when parameters not match - string 2 # time=14.575ms
    
    # Subtest: content-type fail when parameters not match - regexp
        1..1
        ok 1 - should be equivalent
    ok 21 - content-type fail when parameters not match - regexp # time=11.626ms
    
    # Subtest: content-type regexp list should be cloned when plugin override
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 22 - content-type regexp list should be cloned when plugin override # time=48.404ms
    
    # Subtest: allow partial content-type - essence check
        1..1
        ok 1 - should be called
    ok 23 - allow partial content-type - essence check # time=6.748ms
    
    # Subtest: allow partial content-type - not essence check
        1..1
        ok 1 - should be called
    ok 24 - allow partial content-type - not essence check # time=16.784ms
    
    # Subtest: edge case content-type - ;
        1..1
        ok 1 - end
    ok 25 - edge case content-type - ; # time=7.772ms
    
    # Subtest: should return matching parser
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 26 - should return matching parser # time=2.656ms
    
    # Subtest: should return matching parser with caching
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 27 - should return matching parser with caching # time=5.884ms
    
    # Subtest: should prefer content type parser with string value
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 28 - should prefer content type parser with string value # time=3.08ms
    
    # Subtest: should return parser that catches all if no other is set
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 29 - should return parser that catches all if no other is set # time=4.327ms
    
    # Subtest: should return undefined if no matching parser exist
        1..2
        ok 1 - expect falsey value
        ok 2 - expect falsey value
    ok 30 - should return undefined if no matching parser exist # time=2.686ms
    
    # Subtest: returns always false for "*"
        1..2
        ok 1 - expect falsey value
        ok 2 - expect falsey value
    ok 31 - returns always false for "*" # time=2.633ms
    
    # Subtest: let you override the default parser once
        1..2
        ok 1 - Content type parser 'application/json' already present
        ok 2 - Content type parser 'text/plain' already present
    ok 32 - let you override the default parser once # time=6.428ms
    
    # Subtest: should only accept string and RegExp
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - The content type should be a string or a RegExp
        ok 4 - The content type should be a string or a RegExp
    ok 33 - should only accept string and RegExp # time=3.641ms
    
    # Subtest: should set "*" as parser that catches all
        1..1
        ok 1 - should be equal
    ok 34 - should set "*" as parser that catches all # time=1.561ms
    
    # Subtest: should remove default parser
        1..3
        ok 1 - expect truthy value
        ok 2 - expect falsey value
        ok 3 - expect falsey value
    ok 35 - should remove default parser # time=2.443ms
    
    # Subtest: should remove RegExp parser
        1..3
        ok 1 - expect truthy value
        ok 2 - expect falsey value
        ok 3 - expect falsey value
    ok 36 - should remove RegExp parser # time=2.398ms
    
    # Subtest: should throw an error if content type is neither string nor RegExp
        1..1
        ok 1 - expected to throw
    ok 37 - should throw an error if content type is neither string nor RegExp # time=2.729ms
    
    # Subtest: should return false if content type does not exist
        1..1
        ok 1 - expect falsey value
    ok 38 - should return false if content type does not exist # time=4.678ms
    
    # Subtest: should not remove any content type parser if content type does not exist
        1..2
        ok 1 - expect falsey value
        ok 2 - should be equivalent
    ok 39 - should not remove any content type parser if content type does not exist # time=2.004ms
    
    1..39
    # time=732.285ms
ok 20 - test/content-parser.test.js # time=732.285ms

# Subtest: test/content-type.test.js
    # Subtest: should remove content-type for setErrorHandler
        1..8
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
        ok 7 - should be equivalent
        ok 8 - should be equivalent
    ok 1 - should remove content-type for setErrorHandler # time=40.265ms
    
    1..1
    # time=64.692ms
ok 21 - test/content-type.test.js # time=64.692ms

# Subtest: test/context-config.test.js
    # Subtest: config
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 1 - config # time=51.164ms
    
    # Subtest: config with exposeHeadRoutes
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 2 - config with exposeHeadRoutes # time=17.794ms
    
    # Subtest: config without exposeHeadRoutes
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 3 - config without exposeHeadRoutes # time=8.072ms
    
    1..3
    # time=107.333ms
ok 22 - test/context-config.test.js # time=107.333ms

# Subtest: test/copy.test.js
    # Subtest: can be created - copy
        1..1
        ok 1 - (unnamed test)
    ok 1 - can be created - copy # time=10.775ms
    
    ok 2 - should not error
    # Subtest: request - copy
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 3 - request - copy # time=27.509ms
    
    1..3
    # time=89.048ms
ok 23 - test/copy.test.js # time=89.048ms

# Subtest: test/custom-http-server.test.js
    # Subtest: Should support a custom http server
        1..4
        ok 1 - it is called once for localhost
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - Should support a custom http server # time=59.987ms
    
    # Subtest: Should not allow forceCloseConnection=idle if the server does not support closeIdleConnections
        1..1
        ok 1 - Cannot set forceCloseConnections to 'idle' as your HTTP server does not support closeIdleConnections method
    ok 2 - Should not allow forceCloseConnection=idle if the server does not support closeIdleConnections # time=3.437ms
    
    # Subtest: Should accept user defined serverFactory and ignore secondary server creation
        ok 1 - expect resolving Promise
        1..1
    ok 3 - Should accept user defined serverFactory and ignore secondary server creation # time=5.868ms
    
    # Subtest: Should not call close on the server if it has not created it
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should be equal
        ok 6 - should be equivalent
        1..6
    ok 4 - Should not call close on the server if it has not created it # time=14.699ms
    
    1..4
    # time=103.567ms
ok 24 - test/custom-http-server.test.js # time=103.567ms

# Subtest: test/custom-parser-async.test.js
    # Subtest: contentTypeParser should add a custom async parser
        1..3
        ok 1 - should not error
        # Subtest: in POST
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 2 - in POST # time=51.253ms
        
        # Subtest: in OPTIONS
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - in OPTIONS # time=4.8ms
        
    ok 1 - contentTypeParser should add a custom async parser # time=99.036ms
    
    1..1
    # time=104.488ms
ok 25 - test/custom-parser-async.test.js # time=104.488ms

# Subtest: test/custom-parser.0.test.js
    # Subtest: contentTypeParser method should exist
        1..1
        ok 1 - expect truthy value
    ok 1 - contentTypeParser method should exist # time=12.745ms
    
    # Subtest: contentTypeParser should add a custom parser
        1..3
        ok 1 - should not error
        # Subtest: in POST
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 2 - in POST # time=22.106ms
        
        # Subtest: in OPTIONS
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - in OPTIONS # time=4.542ms
        
    ok 2 - contentTypeParser should add a custom parser # time=94.202ms
    
    # Subtest: contentTypeParser should handle multiple custom parsers
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 3 - contentTypeParser should handle multiple custom parsers # time=9.452ms
    
    # Subtest: contentTypeParser should handle an array of custom contentTypes
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 4 - contentTypeParser should handle an array of custom contentTypes # time=18.086ms
    
    # Subtest: contentTypeParser should handle errors
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 5 - contentTypeParser should handle errors # time=13.274ms
    
    # Subtest: contentTypeParser should support encapsulation
        1..6
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - expect falsey value
        ok 6 - expect falsey value
    ok 6 - contentTypeParser should support encapsulation # time=10.912ms
    
    # Subtest: contentTypeParser should support encapsulation, second try
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 7 - contentTypeParser should support encapsulation, second try # time=6.926ms
    
    # Subtest: contentTypeParser shouldn't support request with undefined "Content-Type"
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 8 - contentTypeParser shouldn't support request with undefined "Content-Type" # time=15.179ms
    
    # Subtest: the content type should be a string or RegExp
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 9 - the content type should be a string or RegExp # time=2.133ms
    
    # Subtest: the content type cannot be an empty string
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 10 - the content type cannot be an empty string # time=2.355ms
    
    # Subtest: the content type handler should be a function
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 11 - the content type handler should be a function # time=2.391ms
    
    # Subtest: catch all content type parser
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 12 - catch all content type parser # time=21.018ms
    
    # Subtest: catch all content type parser should not interfere with other conte type parsers
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 13 - catch all content type parser should not interfere with other conte type parsers # time=10.009ms
    
    # Subtest: '*' catch undefined Content-Type requests
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 14 - '*' catch undefined Content-Type requests # time=24.171ms
    
    # Subtest: cannot add custom parser after binding
        1..2
        ok 1 - should not error
        ok 2 - (unnamed test)
    ok 15 - cannot add custom parser after binding # time=12.814ms
    
    # Subtest: Can override the default json parser
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 16 - Can override the default json parser # time=13.559ms
    
    # Subtest: Can override the default plain text parser
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 17 - Can override the default plain text parser # time=14.049ms
    
    # Subtest: Can override the default json parser in a plugin
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 18 - Can override the default json parser in a plugin # time=13.504ms
    
    # Subtest: Can't override the json parser multiple times
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 19 - Can't override the json parser multiple times # time=2.532ms
    
    # Subtest: Can't override the plain text parser multiple times
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 20 - Can't override the plain text parser multiple times # time=3.474ms
    
    # Subtest: Should get the body as string
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 21 - Should get the body as string # time=19.156ms
    
    # Subtest: Should return defined body with no custom parser defined and content type = 'text/plain'
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 22 - Should return defined body with no custom parser defined and content type = 'text/plain' # time=5.931ms
    
    # Subtest: Should have typeof body object with no custom parser defined, no body defined and content type = 'text/plain'
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 23 - Should have typeof body object with no custom parser defined, no body defined and content type = 'text/plain' # time=20.678ms
    
    1..23
    # time=385.895ms
ok 26 - test/custom-parser.0.test.js # time=385.895ms

# Subtest: test/custom-parser.1.test.js
    # Subtest: Should have typeof body object with no custom parser defined, null body and content type = 'text/plain'
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 1 - Should have typeof body object with no custom parser defined, null body and content type = 'text/plain' # time=72.311ms
    
    # Subtest: Should have typeof body object with no custom parser defined, undefined body and content type = 'text/plain'
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 2 - Should have typeof body object with no custom parser defined, undefined body and content type = 'text/plain' # time=16.728ms
    
    # Subtest: Should get the body as string
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 3 - Should get the body as string # time=15.163ms
    
    # Subtest: Should get the body as buffer
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 4 - Should get the body as buffer # time=15.11ms
    
    # Subtest: Should get the body as buffer
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 5 - Should get the body as buffer # time=16.212ms
    
    # Subtest: Should parse empty bodies as a string
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
    ok 6 - Should parse empty bodies as a string # time=8.962ms
    
    # Subtest: Should parse empty bodies as a buffer
        1..6
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 7 - Should parse empty bodies as a buffer # time=13.673ms
    
    # Subtest: The charset should not interfere with the content type handling
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 8 - The charset should not interfere with the content type handling # time=14.868ms
    
    1..8
    # time=187.521ms
ok 27 - test/custom-parser.1.test.js # time=187.521ms

# Subtest: test/custom-parser.2.test.js
    # Subtest: Wrong parseAs parameter
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 1 - Wrong parseAs parameter # time=13.591ms
    
    # Subtest: Should allow defining the bodyLimit per parser
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent strictly
    ok 2 - Should allow defining the bodyLimit per parser # time=55.6ms
    
    # Subtest: route bodyLimit should take precedence over a custom parser bodyLimit
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent strictly
    ok 3 - route bodyLimit should take precedence over a custom parser bodyLimit # time=7.269ms
    
    1..3
    # time=86.519ms
ok 28 - test/custom-parser.2.test.js # time=86.519ms

# Subtest: test/custom-parser.3.test.js
    # Subtest: should be able to use default parser for extra content type
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent strictly
    ok 1 - should be able to use default parser for extra content type # time=68.877ms
    
    # Subtest: contentTypeParser should add a custom parser with RegExp value
        1..3
        ok 1 - should not error
        # Subtest: in POST
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 2 - in POST # time=7.191ms
        
        # Subtest: in OPTIONS
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - in OPTIONS # time=3.607ms
        
    ok 2 - contentTypeParser should add a custom parser with RegExp value # time=19.179ms
    
    # Subtest: contentTypeParser should add multiple custom parsers with RegExp values
        1..6
        ok 1 - should be equal
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 3 - contentTypeParser should add multiple custom parsers with RegExp values # time=32.024ms
    
    # Subtest: catch all content type parser should not interfere with content type parser
        1..10
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equivalent
    ok 4 - catch all content type parser should not interfere with content type parser # time=14.099ms
    
    1..4
    # time=145.978ms
ok 29 - test/custom-parser.3.test.js # time=145.978ms

# Subtest: test/custom-parser.4.test.js
    # Subtest: should prefer string content types over RegExp ones
        1..7
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 1 - should prefer string content types over RegExp ones # time=71.689ms
    
    # Subtest: removeContentTypeParser should support arrays of content types to remove
        1..8
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 2 - removeContentTypeParser should support arrays of content types to remove # time=12.152ms
    
    # Subtest: removeContentTypeParser should support encapsulation
        1..6
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 3 - removeContentTypeParser should support encapsulation # time=20.15ms
    
    # Subtest: removeAllContentTypeParsers should support encapsulation
        1..6
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 4 - removeAllContentTypeParsers should support encapsulation # time=18.765ms
    
    1..4
    # time=132.545ms
ok 30 - test/custom-parser.4.test.js # time=132.545ms

# Subtest: test/custom-parser.5.test.js
    # Subtest: cannot remove all content type parsers after binding
        1..2
        ok 1 - should not error
        ok 2 - expected to throw
    ok 1 - cannot remove all content type parsers after binding # time=41.887ms
    
    # Subtest: cannot remove content type parsers after binding
        1..2
        ok 1 - should not error
        ok 2 - expected to throw
    ok 2 - cannot remove content type parsers after binding # time=16.152ms
    
    # Subtest: should be able to override the default json parser after removeAllContentTypeParsers
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 3 - should be able to override the default json parser after removeAllContentTypeParsers # time=37.35ms
    
    # Subtest: should be able to override the default plain text parser after removeAllContentTypeParsers
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 4 - should be able to override the default plain text parser after removeAllContentTypeParsers # time=21.111ms
    
    # Subtest: should be able to add a custom content type parser after removeAllContentTypeParsers
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 5 - should be able to add a custom content type parser after removeAllContentTypeParsers # time=19.929ms
    
    1..5
    # time=151.396ms
ok 31 - test/custom-parser.5.test.js # time=151.396ms

# Subtest: test/custom-querystring-parser.test.js
    # Subtest: Custom querystring parser
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
    ok 1 - Custom querystring parser # time=78.553ms
    
    # Subtest: Custom querystring parser should be called also if there is nothing to parse
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
    ok 2 - Custom querystring parser should be called also if there is nothing to parse # time=11.089ms
    
    # Subtest: Querystring without value
        1..9
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
    ok 3 - Querystring without value # time=17.229ms
    
    # Subtest: Custom querystring parser should be a function
        1..1
        ok 1 - should be equal
    ok 4 - Custom querystring parser should be a function # time=3.294ms
    
    1..4
    # time=128.014ms
ok 32 - test/custom-querystring-parser.test.js # time=128.014ms

# Subtest: test/decorator.test.js
    # Subtest: server methods should exist
        1..2
        ok 1 - expect truthy value
        ok 2 - expect truthy value
    ok 1 - server methods should exist # time=13.139ms
    
    # Subtest: should check if the given decoration already exist when null
        1..1
        ok 1 - expect truthy value
    ok 2 - should check if the given decoration already exist when null # time=51.56ms
    
    # Subtest: server methods should be encapsulated via .register
        1..2
        ok 1 - expect truthy value
        ok 2 - expect falsey value
    ok 3 - server methods should be encapsulated via .register # time=4.579ms
    
    # Subtest: hasServerMethod should check if the given method already exist
        1..2
        ok 1 - expect truthy value
        ok 2 - expect falsey value
    ok 4 - hasServerMethod should check if the given method already exist # time=8.096ms
    
    # Subtest: decorate should throw if a declared dependency is not present
        1..3
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - (unnamed test)
    ok 5 - decorate should throw if a declared dependency is not present # time=13.287ms
    
    # Subtest: decorate should throw if declared dependency is not array
        1..3
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - (unnamed test)
    ok 6 - decorate should throw if declared dependency is not array # time=8.229ms
    
    # Subtest: should pass error for missing request decorator
        1..2
        ok 1 - type is Error
        ok 2 - should match pattern provided
    ok 7 - should pass error for missing request decorator # time=6.704ms
    
    # Subtest: decorateReply inside register
        1..11
        ok 1 - should not error
        ok 2 - test exists
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 8 - decorateReply inside register # time=56.518ms
    
    # Subtest: decorateReply as plugin (inside .after)
        1..11
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 9 - decorateReply as plugin (inside .after) # time=27.857ms
    
    # Subtest: decorateReply as plugin (outside .after)
        1..11
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 10 - decorateReply as plugin (outside .after) # time=19.717ms
    
    # Subtest: decorateRequest inside register
        1..11
        ok 1 - should not error
        ok 2 - test exists
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 11 - decorateRequest inside register # time=12.655ms
    
    # Subtest: decorateRequest as plugin (inside .after)
        1..11
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 12 - decorateRequest as plugin (inside .after) # time=33.234ms
    
    # Subtest: decorateRequest as plugin (outside .after)
        1..11
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
    ok 13 - decorateRequest as plugin (outside .after) # time=19.415ms
    
    # Subtest: decorators should be instance separated
        1..1
        ok 1 - (unnamed test)
    ok 14 - decorators should be instance separated # time=1.818ms
    
    # Subtest: hasRequestDecorator
        # Subtest: is a function
            1..1
            ok 1 - expect truthy value
        ok 1 - is a function # time=1.804ms
        
        # Subtest: should check if the given request decoration already exist
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 2 - should check if the given request decoration already exist # time=2.06ms
        
        # Subtest: should check if the given request decoration already exist when null
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 3 - should check if the given request decoration already exist when null # time=1.953ms
        
        # Subtest: should be plugin encapsulable
            1..4
            ok 1 - expect falsey value
            ok 2 - expect falsey value
            ok 3 - expect truthy value
            ok 4 - expect falsey value
        ok 4 - should be plugin encapsulable # time=6.693ms
        
        # Subtest: should be inherited
            1..2
            ok 1 - expect truthy value
            ok 2 - expect truthy value
        ok 5 - should be inherited # time=8.226ms
        
        1..5
    ok 15 - hasRequestDecorator # time=40.4ms
    
    # Subtest: hasReplyDecorator
        # Subtest: is a function
            1..1
            ok 1 - expect truthy value
        ok 1 - is a function # time=1.743ms
        
        # Subtest: should check if the given reply decoration already exist
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 2 - should check if the given reply decoration already exist # time=6.099ms
        
        # Subtest: should check if the given reply decoration already exist when null
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 3 - should check if the given reply decoration already exist when null # time=5.266ms
        
        # Subtest: should be plugin encapsulable
            1..4
            ok 1 - expect falsey value
            ok 2 - expect falsey value
            ok 3 - expect truthy value
            ok 4 - expect falsey value
        ok 4 - should be plugin encapsulable # time=17.547ms
        
        # Subtest: should be inherited
            1..2
            ok 1 - expect truthy value
            ok 2 - expect truthy value
        ok 5 - should be inherited # time=7.919ms
        
        1..5
    ok 16 - hasReplyDecorator # time=63.113ms
    
    # Subtest: should register properties via getter/setter objects
        1..3
        ok 1 - expect truthy value
        ok 2 - a getter
        ok 3 - expect falsey value
    ok 17 - should register properties via getter/setter objects # time=6.879ms
    
    # Subtest: decorateRequest should work with getter/setter
        1..5
        ok 1 - expect falsey value
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - (unnamed test)
    ok 18 - decorateRequest should work with getter/setter # time=24.437ms
    
    # Subtest: decorateReply should work with getter/setter
        1..5
        ok 1 - expect falsey value
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - (unnamed test)
    ok 19 - decorateReply should work with getter/setter # time=6.015ms
    
    # Subtest: should register empty values
        1..2
        ok 1 - expect truthy value
        ok 2 - expect falsey value
    ok 20 - should register empty values # time=3.076ms
    
    # Subtest: nested plugins can override things
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 21 - nested plugins can override things # time=4.741ms
    
    # Subtest: a decorator should addSchema to all the encapsulated tree
        1..1
        ok 1 - should not error
    ok 22 - a decorator should addSchema to all the encapsulated tree # time=5.585ms
    
    # Subtest: after can access to a decorated instance and previous plugin decoration
        1..11
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
    ok 23 - after can access to a decorated instance and previous plugin decoration # time=7.91ms
    
    # Subtest: decorate* should throw if called after ready
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 24 - decorate* should throw if called after ready # time=11.258ms
    
    # Subtest: decorate* should emit warning if an array is passed
        1..1
        ok 1 - should be equal
    ok 25 - decorate* should emit warning if an array is passed # time=10.57ms
    
    # Subtest: decorate* should emit warning if object type is passed
        1..1
        ok 1 - should be equal
    ok 26 - decorate* should emit warning if object type is passed # time=6.79ms
    
    # Subtest: decorate* should not emit warning if object with getter/setter is passed
        1..0
    ok 27 - decorate* should not emit warning if object with getter/setter is passed # time=10.289ms
    
    # Subtest: decorate* should not emit warning if string,bool,numbers are passed
        1..0
    ok 28 - decorate* should not emit warning if string,bool,numbers are passed # time=15.058ms
    
    # Subtest: Request/reply decorators should be able to access the server instance
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not be equal
        ok 4 - should be equal
        ok 5 - should not be equal
        ok 6 - should be equal
    ok 29 - Request/reply decorators should be able to access the server instance # time=11.085ms
    
    # Subtest: plugin required decorators
        1..0
    ok 30 - plugin required decorators # time=2.75ms
    
    # Subtest: decorateRequest/decorateReply empty string
        1..7
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 31 - decorateRequest/decorateReply empty string # time=38.568ms
    
    # Subtest: decorateRequest/decorateReply is undefined
        1..7
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 32 - decorateRequest/decorateReply is undefined # time=13.804ms
    
    # Subtest: decorateRequest/decorateReply is not set to a value
        1..7
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 33 - decorateRequest/decorateReply is not set to a value # time=7.072ms
    
    # Subtest: decorateRequest with dependencies
        1..2
        ok 1 - expected to not throw
        ok 2 - expect truthy value
    ok 34 - decorateRequest with dependencies # time=1.936ms
    
    # Subtest: decorateRequest with dependencies (functions)
        1..2
        ok 1 - expected to not throw
        ok 2 - expect truthy value
    ok 35 - decorateRequest with dependencies (functions) # time=1.729ms
    
    # Subtest: chain of decorators on Request
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        1..6
    ok 36 - chain of decorators on Request # time=15.514ms
    
    # Subtest: chain of decorators on Reply
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        1..6
    ok 37 - chain of decorators on Reply # time=9.387ms
    
    1..37
    # time=642.361ms
ok 33 - test/decorator.test.js # time=642.361ms

# Subtest: test/default-route.test.js
    # Subtest: setDefaultRoute should emit a deprecation warning
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 1 - setDefaultRoute should emit a deprecation warning # time=17.235ms
    
    # Subtest: getDefaultRoute should emit a deprecation warning
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 2 - getDefaultRoute should emit a deprecation warning # time=2.402ms
    
    # Subtest: should fail if defaultRoute is not a function
        1..1
        ok 1 - should be equal
    ok 3 - should fail if defaultRoute is not a function # time=4.573ms
    
    # Subtest: correctly sets, returns, and calls defaultRoute
        1..3
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
    ok 4 - correctly sets, returns, and calls defaultRoute # time=17.93ms
    
    1..4
    # time=69.683ms
ok 34 - test/default-route.test.js # time=69.683ms

# Subtest: test/delete.test.js
    # Subtest: shorthand - delete
        1..1
        ok 1 - (unnamed test)
    ok 1 - shorthand - delete # time=7.466ms
    
    # Subtest: shorthand - delete params
        1..1
        ok 1 - (unnamed test)
    ok 2 - shorthand - delete params # time=3.054ms
    
    # Subtest: shorthand - delete, querystring schema
        1..1
        ok 1 - (unnamed test)
    ok 3 - shorthand - delete, querystring schema # time=1.519ms
    
    # Subtest: shorthand - get, headers schema
        1..1
        ok 1 - (unnamed test)
    ok 4 - shorthand - get, headers schema # time=1.288ms
    
    # Subtest: missing schema - delete
        1..1
        ok 1 - (unnamed test)
    ok 5 - missing schema - delete # time=1.345ms
    
    # Subtest: body - delete
        1..1
        ok 1 - (unnamed test)
    ok 6 - body - delete # time=1.268ms
    
    # Subtest: shorthand - delete with application/json Content-Type header and without body
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 7 - shorthand - delete with application/json Content-Type header and without body # time=23.296ms
    
    ok 8 - should not error
    # Subtest: shorthand - request delete
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 9 - shorthand - request delete # time=38.652ms
    
    # Subtest: shorthand - request delete params schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 10 - shorthand - request delete params schema # time=5.311ms
    
    # Subtest: shorthand - request delete params schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 11 - shorthand - request delete params schema error # time=4.257ms
    
    # Subtest: shorthand - request delete headers schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 12 - shorthand - request delete headers schema # time=3.941ms
    
    # Subtest: shorthand - request delete headers schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 13 - shorthand - request delete headers schema error # time=3.464ms
    
    # Subtest: shorthand - request delete querystring schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 14 - shorthand - request delete querystring schema # time=4.35ms
    
    # Subtest: shorthand - request delete querystring schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 15 - shorthand - request delete querystring schema error # time=4.193ms
    
    # Subtest: shorthand - request delete missing schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 16 - shorthand - request delete missing schema # time=3.64ms
    
    # Subtest: shorthand - delete with body
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - shorthand - delete with body # time=5.389ms
    
    1..17
    # time=232.636ms
ok 35 - test/delete.test.js # time=232.636ms

# Subtest: test/diagnostics-channel.test.js
    # Subtest: diagnostics_channel when present and subscribers
        1..3
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should be equal
    ok 1 - diagnostics_channel when present and subscribers # time=292.533ms
    
    # Subtest: diagnostics_channel when present and no subscribers
        1..1
        ok 1 - should be equal
    ok 2 - diagnostics_channel when present and no subscribers # time=6.002ms
    
    # Subtest: diagnostics_channel when not present
        1..1
        ok 1 - expected to not throw
    ok 3 - diagnostics_channel when not present # time=5.993ms
    
    1..3
    # time=334.733ms
ok 36 - test/diagnostics-channel.test.js # time=334.733ms

# Subtest: test/encapsulated-child-logger-factory.test.js
    # Subtest: encapsulates an child logger factory
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 1 - encapsulates an child logger factory # time=37.889ms
    
    # Subtest: child logger factory set on root scope when using fastify-plugin
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 2 - child logger factory set on root scope when using fastify-plugin # time=7.878ms
    
    1..2
    # time=72.485ms
ok 37 - test/encapsulated-child-logger-factory.test.js # time=72.485ms

# Subtest: test/encapsulated-error-handler.test.js
    # Subtest: encapuslates an error handler
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 1 - encapuslates an error handler # time=37.821ms
    
    # Subtest: onError hook nested
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 2 - onError hook nested # time=6.579ms
    
    1..2
    # time=71.037ms
ok 38 - test/encapsulated-error-handler.test.js # time=71.037ms

# Subtest: test/esm/index.test.js
    # Subtest: named exports support
        ok 1 - should be equal
        1..1
    ok 1 - named exports support # time=41.208ms
    
    ok 2 - should be equal
    1..2
    # time=46.885ms
ok 39 - test/esm/index.test.js # time=46.885ms

# Subtest: test/fastify-instance.test.js
    # Subtest: root fastify instance is an object
        1..1
        ok 1 - type is object
    ok 1 - root fastify instance is an object # time=12.676ms
    
    # Subtest: fastify instance should contains ajv options
        1..1
        ok 1 - should be equivalent
    ok 2 - fastify instance should contains ajv options # time=5.157ms
    
    # Subtest: fastify instance should contains ajv options.plugins nested arrays
        1..1
        ok 1 - should be equivalent
    ok 3 - fastify instance should contains ajv options.plugins nested arrays # time=2.195ms
    
    # Subtest: fastify instance get invalid ajv options
        1..1
        ok 1 - expected to throw
    ok 4 - fastify instance get invalid ajv options # time=1.761ms
    
    # Subtest: fastify instance get invalid ajv options.plugins
        1..1
        ok 1 - expected to throw
    ok 5 - fastify instance get invalid ajv options.plugins # time=2.299ms
    
    # Subtest: fastify instance should contain default errorHandler
        1..3
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - should be equivalent
    ok 6 - fastify instance should contain default errorHandler # time=2.717ms
    
    # Subtest: errorHandler in plugin should be separate from the external one
        1..4
        ok 1 - should not be equivalent
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - should be equivalent
    ok 7 - errorHandler in plugin should be separate from the external one # time=26.868ms
    
    # Subtest: fastify instance should contain default childLoggerFactory
        1..3
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - should be equivalent
    ok 8 - fastify instance should contain default childLoggerFactory # time=2.267ms
    
    # Subtest: childLoggerFactory in plugin should be separate from the external one
        1..4
        ok 1 - should not be equivalent
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - should be equivalent
    ok 9 - childLoggerFactory in plugin should be separate from the external one # time=4.352ms
    
    # Subtest: ready should resolve in order when called multiply times (promises only)
        ok 1 - Should resolve in order
        1..1
    ok 10 - ready should resolve in order when called multiply times (promises only) # time=8.393ms
    
    # Subtest: ready should reject in order when called multiply times (promises only)
        ok 1 - Should resolve in order
        1..1
    ok 11 - ready should reject in order when called multiply times (promises only) # time=510.88ms
    
    # Subtest: ready should reject in order when called multiply times (callbacks only)
        ok 1 - should be equal
        ok 2 - Should resolve in order
        1..2
    ok 12 - ready should reject in order when called multiply times (callbacks only) # time=505.813ms
    
    # Subtest: ready should resolve in order when called multiply times (callbacks only)
        ok 1 - Should resolve in order
        1..1
    ok 13 - ready should resolve in order when called multiply times (callbacks only) # time=10.585ms
    
    # Subtest: ready should resolve in order when called multiply times (mixed)
        ok 1 - Should resolve in order
        1..1
    ok 14 - ready should resolve in order when called multiply times (mixed) # time=2.876ms
    
    # Subtest: ready should reject in order when called multiply times (mixed)
        ok 1 - should be equal
        ok 2 - Should resolve in order
        1..2
    ok 15 - ready should reject in order when called multiply times (mixed) # time=508.165ms
    
    # Subtest: ready should resolve in order when called multiply times (mixed)
        ok 1 - Should resolve in order
        1..1
    ok 16 - ready should resolve in order when called multiply times (mixed) # time=4.344ms
    
    # Subtest: fastify instance should contains listeningOrigin property (with port and host)
        1..1
        ok 1 - should be equivalent
    ok 17 - fastify instance should contains listeningOrigin property (with port and host) # time=15.582ms
    
    # Subtest: fastify instance should contains listeningOrigin property (with port and https)
        1..1
        ok 1 - should be equivalent
    ok 18 - fastify instance should contains listeningOrigin property (with port and https) # time=37.436ms
    
    # Subtest: fastify instance should contains listeningOrigin property (unix socket)
        ok 1 - should be equivalent
        1..1
    ok 19 - fastify instance should contains listeningOrigin property (unix socket) # time=8.074ms
    
    # Subtest: fastify instance should contains listeningOrigin property (IPv6)
        1..1
        ok 1 - should be equivalent
    ok 20 - fastify instance should contains listeningOrigin property (IPv6) # time=6.706ms
    
    1..20
    # time=1721.912ms
ok 40 - test/fastify-instance.test.js # time=1721.912ms

# Subtest: test/fluent-schema.test.js
    # Subtest: use fluent-json-schema object
        1..15
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
        ok 10 - should not error
        ok 11 - should be equal
        ok 12 - should be equivalent
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equivalent
    ok 1 - use fluent-json-schema object # time=138.963ms
    
    # Subtest: use complex fluent-json-schema object
        1..1
        ok 1 - should not error
    ok 2 - use complex fluent-json-schema object # time=27.821ms
    
    # Subtest: use fluent schema and plain JSON schema
        1..1
        ok 1 - should not error
    ok 3 - use fluent schema and plain JSON schema # time=50.828ms
    
    # Subtest: Should call valueOf internally
        1..1
        ok 1 - should not error
    ok 4 - Should call valueOf internally # time=54.351ms
    
    1..4
    # time=281.388ms
ok 41 - test/fluent-schema.test.js # time=281.388ms

# Subtest: test/genReqId.test.js
    # Subtest: Should accept a custom genReqId function
        1..4
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
    ok 1 - Should accept a custom genReqId function # time=54.64ms
    
    # Subtest: Custom genReqId function gets raw request as argument
        1..9
        ok 1 - should not error
        ok 2 - expect falsey value
        ok 3 - expect falsey value
        ok 4 - expect truthy value
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should not error
        ok 9 - should be equal
    ok 2 - Custom genReqId function gets raw request as argument # time=16.969ms
    
    1..2
    # time=77.77ms
ok 42 - test/genReqId.test.js # time=77.77ms

# Subtest: test/get.test.js
    # Subtest: shorthand - get
        1..1
        ok 1 - (unnamed test)
    ok 1 - shorthand - get # time=7.484ms
    
    # Subtest: shorthand - get (return null)
        1..1
        ok 1 - (unnamed test)
    ok 2 - shorthand - get (return null) # time=1.786ms
    
    # Subtest: shorthand - get params
        1..1
        ok 1 - (unnamed test)
    ok 3 - shorthand - get params # time=1.821ms
    
    # Subtest: shorthand - get, querystring schema
        1..1
        ok 1 - (unnamed test)
    ok 4 - shorthand - get, querystring schema # time=1.442ms
    
    # Subtest: shorthand - get, headers schema
        1..1
        ok 1 - (unnamed test)
    ok 5 - shorthand - get, headers schema # time=1.448ms
    
    # Subtest: missing schema - get
        1..1
        ok 1 - (unnamed test)
    ok 6 - missing schema - get # time=1.45ms
    
    # Subtest: custom serializer - get
        1..1
        ok 1 - (unnamed test)
    ok 7 - custom serializer - get # time=5.272ms
    
    # Subtest: empty response
        1..1
        ok 1 - (unnamed test)
    ok 8 - empty response # time=1.451ms
    
    # Subtest: send a falsy boolean
        1..1
        ok 1 - (unnamed test)
    ok 9 - send a falsy boolean # time=1.422ms
    
    ok 10 - should not error
    # Subtest: shorthand - request get
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 11 - shorthand - request get # time=47.467ms
    
    # Subtest: shorthand - request get params schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 12 - shorthand - request get params schema # time=9.255ms
    
    # Subtest: shorthand - request get params schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 13 - shorthand - request get params schema error # time=4.216ms
    
    # Subtest: shorthand - request get headers schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 14 - shorthand - request get headers schema # time=3.993ms
    
    # Subtest: shorthand - request get headers schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 15 - shorthand - request get headers schema error # time=3.595ms
    
    # Subtest: shorthand - request get querystring schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 16 - shorthand - request get querystring schema # time=4.021ms
    
    # Subtest: shorthand - request get querystring schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - shorthand - request get querystring schema error # time=3.402ms
    
    # Subtest: shorthand - request get missing schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 18 - shorthand - request get missing schema # time=3.65ms
    
    # Subtest: shorthand - custom serializer
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 19 - shorthand - custom serializer # time=4.41ms
    
    # Subtest: shorthand - empty response
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 20 - shorthand - empty response # time=3.57ms
    
    # Subtest: shorthand - send a falsy boolean
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - shorthand - send a falsy boolean # time=3.141ms
    
    # Subtest: shorthand - send null value
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 22 - shorthand - send null value # time=3.312ms
    
    1..22
    # time=242.277ms
ok 43 - test/get.test.js # time=242.277ms

# Subtest: test/handler-context.test.js
    # Subtest: handlers receive correct `this` context
        1..4
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 1 - handlers receive correct `this` context # time=35.413ms
    
    # Subtest: handlers have access to the internal context
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - type is Object
        ok 4 - expect truthy value
        ok 5 - should be equal
    ok 2 - handlers have access to the internal context # time=8.704ms
    
    1..2
    # time=76.893ms
ok 44 - test/handler-context.test.js # time=76.893ms

# Subtest: test/has-route.test.js
    # Subtest: hasRoute
        1..4
        # Subtest: hasRoute - invalid options
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
        ok 1 - hasRoute - invalid options # time=4.957ms
        
        # Subtest: hasRoute - primitive method
            1..2
            ok 1 - should be equal
            ok 2 - should be equal
        ok 2 - hasRoute - primitive method # time=4.656ms
        
        # Subtest: hasRoute - with constraints
            1..2
            ok 1 - should be equal
            ok 2 - should be equal
        ok 3 - hasRoute - with constraints # time=3.025ms
        
        # Subtest: hasRoute - parametric route regexp with constraints
            1..1
            ok 1 - should be equal
        ok 4 - hasRoute - parametric route regexp with constraints # time=2.569ms
        
    ok 1 - hasRoute # time=40.624ms
    
    1..1
    # time=64.589ms
ok 45 - test/has-route.test.js # time=64.589ms

# Subtest: test/head.test.js
    # Subtest: shorthand - head
        1..1
        ok 1 - (unnamed test)
    ok 1 - shorthand - head # time=7.18ms
    
    # Subtest: shorthand - custom head
        1..1
        ok 1 - (unnamed test)
    ok 2 - shorthand - custom head # time=2.744ms
    
    # Subtest: shorthand - custom head with constraints
        1..1
        ok 1 - (unnamed test)
    ok 3 - shorthand - custom head with constraints # time=2.349ms
    
    # Subtest: shorthand - should not reset a head route
        1..1
        ok 1 - (unnamed test)
    ok 4 - shorthand - should not reset a head route # time=1.583ms
    
    # Subtest: shorthand - should override head route when setting multiple routes
        1..1
        ok 1 - (unnamed test)
    ok 5 - shorthand - should override head route when setting multiple routes # time=2.083ms
    
    # Subtest: shorthand - should override head route when setting multiple routes
        1..1
        ok 1 - (unnamed test)
    ok 6 - shorthand - should override head route when setting multiple routes # time=1.822ms
    
    # Subtest: shorthand - should set get and head route in the same api call
        1..1
        ok 1 - (unnamed test)
    ok 7 - shorthand - should set get and head route in the same api call # time=1.272ms
    
    # Subtest: shorthand - head params
        1..1
        ok 1 - (unnamed test)
    ok 8 - shorthand - head params # time=1.657ms
    
    # Subtest: shorthand - head, querystring schema
        1..1
        ok 1 - (unnamed test)
    ok 9 - shorthand - head, querystring schema # time=2.037ms
    
    # Subtest: missing schema - head
        1..1
        ok 1 - (unnamed test)
    ok 10 - missing schema - head # time=1.374ms
    
    ok 11 - should not error
    # Subtest: shorthand - request head
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 12 - shorthand - request head # time=43.245ms
    
    # Subtest: shorthand - request head params schema
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 13 - shorthand - request head params schema # time=4.164ms
    
    # Subtest: shorthand - request head params schema error
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 14 - shorthand - request head params schema error # time=3.583ms
    
    # Subtest: shorthand - request head querystring schema
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 15 - shorthand - request head querystring schema # time=3.139ms
    
    # Subtest: shorthand - request head querystring schema error
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 16 - shorthand - request head querystring schema error # time=2.888ms
    
    # Subtest: shorthand - request head missing schema
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 17 - shorthand - request head missing schema # time=2.731ms
    
    # Subtest: shorthand - request head custom head
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 18 - shorthand - request head custom head # time=3.251ms
    
    # Subtest: shorthand - request head custom head with constraints
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 19 - shorthand - request head custom head with constraints # time=3.245ms
    
    # Subtest: shorthand - should not reset a head route
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 20 - shorthand - should not reset a head route # time=2.868ms
    
    # Subtest: shorthand - should override head route when setting multiple routes
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 21 - shorthand - should override head route when setting multiple routes # time=3.042ms
    
    # Subtest: shorthand - should override head route when setting multiple routes
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 22 - shorthand - should override head route when setting multiple routes # time=3.031ms
    
    # Subtest: shorthand - should set get and head route in the same api call
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 23 - shorthand - should set get and head route in the same api call # time=3.056ms
    
    1..23
    # time=220.581ms
ok 46 - test/head.test.js # time=220.581ms

# Subtest: test/header-overflow.test.js
    # Subtest: Should return 431 if request header fields are too large
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 1 - Should return 431 if request header fields are too large # time=58.629ms
    
    # Subtest: Should return 431 if URI is too long
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 2 - Should return 431 if URI is too long # time=7.662ms
    
    1..2
    # time=73.701ms
ok 47 - test/header-overflow.test.js # time=73.701ms

# Subtest: test/hooks-async.test.js
    # Subtest: async hooks
        1..21
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - expect truthy value
        ok 11 - expect truthy value
        ok 12 - should not error
        ok 13 - should be equal
        ok 14 - should not error
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equivalent
        ok 18 - should not error
        ok 19 - should be equal
        ok 20 - expect truthy value
        ok 21 - expect truthy value
    ok 1 - async hooks # time=118.768ms
    
    # Subtest: modify payload
        1..10
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - expect truthy value
        ok 4 - should be equivalent
        ok 5 - expect truthy value
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
    ok 2 - modify payload # time=16.996ms
    
    # Subtest: onRequest hooks should be able to block a request
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 3 - onRequest hooks should be able to block a request # time=11.912ms
    
    # Subtest: preParsing hooks should be able to modify the payload
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 4 - preParsing hooks should be able to modify the payload # time=11.231ms
    
    # Subtest: preParsing hooks should be able to supply statusCode
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 5 - preParsing hooks should be able to supply statusCode # time=12.668ms
    
    # Subtest: preParsing hooks should ignore statusCode 200 in stream error
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 6 - preParsing hooks should ignore statusCode 200 in stream error # time=5.19ms
    
    # Subtest: preParsing hooks should ignore non-number statusCode in stream error
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 7 - preParsing hooks should ignore non-number statusCode in stream error # time=4.944ms
    
    # Subtest: preParsing hooks should default to statusCode 400 if stream error
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 8 - preParsing hooks should default to statusCode 400 if stream error # time=11.009ms
    
    # Subtest: preParsing hooks should handle errors
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 9 - preParsing hooks should handle errors # time=8.942ms
    
    # Subtest: preHandler hooks should be able to block a request
        1..5
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 10 - preHandler hooks should be able to block a request # time=7.419ms
    
    # Subtest: preValidation hooks should be able to block a request
        1..5
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 11 - preValidation hooks should be able to block a request # time=9.962ms
    
    # Subtest: preValidation hooks should be able to change request body before validation
        1..4
        ok 1 - (unnamed test)
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 12 - preValidation hooks should be able to change request body before validation # time=53.672ms
    
    # Subtest: preSerialization hooks should be able to modify the payload
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 13 - preSerialization hooks should be able to modify the payload # time=14.252ms
    
    # Subtest: preSerialization hooks should handle errors
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 14 - preSerialization hooks should handle errors # time=9.271ms
    
    # Subtest: preValidation hooks should handle throwing null
        1..4
        ok 1 - expect truthy value
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 15 - preValidation hooks should handle throwing null # time=21.231ms
    
    # Subtest: preValidation hooks should handle throwing a string
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 16 - preValidation hooks should handle throwing a string # time=7.862ms
    
    # Subtest: onRequest hooks should be able to block a request (last hook)
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 17 - onRequest hooks should be able to block a request (last hook) # time=4.916ms
    
    # Subtest: preHandler hooks should be able to block a request (last hook)
        1..5
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 18 - preHandler hooks should be able to block a request (last hook) # time=4.829ms
    
    # Subtest: onRequest respond with a stream
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
    ok 19 - onRequest respond with a stream # time=17.894ms
    
    # Subtest: preHandler respond with a stream
        1..7
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - expect truthy value
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
    ok 20 - preHandler respond with a stream # time=13.011ms
    
    # Subtest: Should log a warning if is an async function with `done`
        # Subtest: 2 arguments
            1..2
            ok 1 - should be equal
            ok 2 - should be equal
        ok 1 - 2 arguments # time=2.295ms
        
        # Subtest: 3 arguments
            1..2
            ok 1 - should be equal
            ok 2 - should be equal
        ok 2 - 3 arguments # time=1.924ms
        
        # Subtest: 4 arguments
            1..6
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
        ok 3 - 4 arguments # time=3.33ms
        
        1..3
    ok 21 - Should log a warning if is an async function with `done` # time=22.205ms
    
    # Subtest: early termination, onRequest async
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 22 - early termination, onRequest async # time=9.362ms
    
    # Subtest: The this should be the same of the encapsulation level
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        1..4
    ok 23 - The this should be the same of the encapsulation level # time=17.307ms
    
    # Subtest: preSerializationEnd should handle errors if the serialize method throws
        # Subtest: works with sync preSerialization
            1..2
            ok 1 - should not error
            ok 2 - should not be equal
        ok 1 - works with sync preSerialization # time=18.758ms
        
        # Subtest: works with async preSerialization
            1..2
            ok 1 - should not error
            ok 2 - should not be equal
        ok 2 - works with async preSerialization # time=4.212ms
        
        1..2
    ok 24 - preSerializationEnd should handle errors if the serialize method throws # time=31.119ms
    
    # Subtest: nested hooks to do not crash on 404
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 25 - nested hooks to do not crash on 404 # time=6.487ms
    
    # Subtest: Register an hook (preHandler) as route option should fail if mixing async and callback style
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 26 - Register an hook (preHandler) as route option should fail if mixing async and callback style # time=1.884ms
    
    # Subtest: Register an hook (onSend) as route option should fail if mixing async and callback style
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 27 - Register an hook (onSend) as route option should fail if mixing async and callback style # time=1.771ms
    
    # Subtest: Register an hook (preSerialization) as route option should fail if mixing async and callback style
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 28 - Register an hook (preSerialization) as route option should fail if mixing async and callback style # time=1.801ms
    
    # Subtest: Register an hook (onError) as route option should fail if mixing async and callback style
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 29 - Register an hook (onError) as route option should fail if mixing async and callback style # time=1.8ms
    
    # Subtest: Register an hook (preParsing) as route option should fail if mixing async and callback style
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 30 - Register an hook (preParsing) as route option should fail if mixing async and callback style # time=1.755ms
    
    # Subtest: Register an hook (onRequestAbort) as route option should fail if mixing async and callback style
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 31 - Register an hook (onRequestAbort) as route option should fail if mixing async and callback style # time=2.735ms
    
    1..31
    # time=527.806ms
ok 48 - test/hooks-async.test.js # time=527.806ms

# Subtest: test/hooks.on-listen.test.js
    # Subtest: onListen should not be processed when .ready() is called
        1..1
        ok 1 - should not error
    ok 1 - onListen should not be processed when .ready() is called # time=18.173ms
    
    # Subtest: localhost onListen should be called in order
        1..2
        ok 1 - 1st called in root
        ok 2 - 2nd called in root
    ok 2 - localhost onListen should be called in order # time=24.652ms
    
    # Subtest: localhost async onListen should be called in order
        1..3
        ok 1 - 1st async called in root
        ok 2 - 2nd async called in root
        ok 3 - the onListen hooks are awaited
    ok 3 - localhost async onListen should be called in order # time=10.139ms
    
    # Subtest: localhost onListen sync should log errors as warnings and continue /1
        1..8
        ok 1 - 1st call
        ok 2 - called in root
        ok 3 - 2nd call
        ok 4 - called onListen error
        ok 5 - should be equal
        ok 6 - Logged Error Message
        ok 7 - 3rd call
        ok 8 - onListen hooks continue after error
    ok 4 - localhost onListen sync should log errors as warnings and continue /1 # time=19.846ms
    
    # Subtest: localhost onListen sync should log errors as warnings and continue /2
        1..7
        ok 1 - 1st call
        ok 2 - called in root
        ok 3 - 2nd call
        ok 4 - called onListen error
        ok 5 - Logged Error Message
        ok 6 - 3rd call
        ok 7 - onListen hooks continue after error
    ok 5 - localhost onListen sync should log errors as warnings and continue /2 # time=8.365ms
    
    # Subtest: localhost onListen async should log errors as warnings and continue
        1..4
        ok 1 - called in root
        ok 2 - called onListen error
        ok 3 - Logged Error Message
        ok 4 - onListen hooks continue after error
    ok 6 - localhost onListen async should log errors as warnings and continue # time=5.265ms
    
    # Subtest: localhost Register onListen hook after a plugin inside a plugin
        1..3
        ok 1 - called
        ok 2 - called
        ok 3 - called
    ok 7 - localhost Register onListen hook after a plugin inside a plugin # time=13.524ms
    
    # Subtest: localhost Register onListen hook after a plugin inside a plugin should log errors as warnings and continue
        1..6
        ok 1 - called
        ok 2 - Logged Error Message
        ok 3 - called
        ok 4 - Logged Error Message
        ok 5 - called
        ok 6 - Logged Error Message
    ok 8 - localhost Register onListen hook after a plugin inside a plugin should log errors as warnings and continue # time=11.145ms
    
    # Subtest: localhost onListen encapsulation should be called in order
        1..6
        ok 1 - called in root
        ok 2 - the this binding is the right instance
        ok 3 - called in childOne
        ok 4 - the this binding is the right instance
        ok 5 - called in childTwo
        ok 6 - the this binding is the right instance
    ok 9 - localhost onListen encapsulation should be called in order # time=10.784ms
    
    # Subtest: localhost onListen encapsulation should be called in order and should log errors as warnings and continue
        1..7
        ok 1 - called in root
        ok 2 - the this binding is the right instance
        ok 3 - called in childOne
        ok 4 - the this binding is the right instance
        ok 5 - called in childTwo
        ok 6 - the this binding is the right instance
        ok 7 - Logged Error Message
    ok 10 - localhost onListen encapsulation should be called in order and should log errors as warnings and continue # time=15.967ms
    
    # Subtest: non-localhost onListen should be called in order
        1..2
        ok 1 - 1st called in root
        ok 2 - 2nd called in root
    ok 11 - non-localhost onListen should be called in order # time=6.882ms
    
    # Subtest: non-localhost async onListen should be called in order
        1..2
        ok 1 - 1st async called in root
        ok 2 - 2nd async called in root
    ok 12 - non-localhost async onListen should be called in order # time=6.294ms
    
    # Subtest: non-localhost sync onListen should log errors as warnings and continue
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - Logged Error Message
        ok 4 - should still run
    ok 13 - non-localhost sync onListen should log errors as warnings and continue # time=9.242ms
    
    # Subtest: non-localhost async onListen should log errors as warnings and continue
        1..6
        ok 1 - should be equal
        ok 2 - called in root
        ok 3 - 2nd async failed in root
        ok 4 - Logged Error Message
        ok 5 - should be equal
        ok 6 - should still run
    ok 14 - non-localhost async onListen should log errors as warnings and continue # time=5.637ms
    
    # Subtest: non-localhost Register onListen hook after a plugin inside a plugin
        1..3
        ok 1 - called
        ok 2 - called
        ok 3 - called
    ok 15 - non-localhost Register onListen hook after a plugin inside a plugin # time=18.841ms
    
    # Subtest: non-localhost Register onListen hook after a plugin inside a plugin should log errors as warnings and continue
        1..6
        ok 1 - called
        ok 2 - Logged Error Message
        ok 3 - called
        ok 4 - Logged Error Message
        ok 5 - called
        ok 6 - Logged Error Message
    ok 16 - non-localhost Register onListen hook after a plugin inside a plugin should log errors as warnings and continue # time=14.724ms
    
    # Subtest: non-localhost onListen encapsulation should be called in order
        1..6
        ok 1 - called in root
        ok 2 - the this binding is the right instance
        ok 3 - called in childOne
        ok 4 - the this binding is the right instance
        ok 5 - called in childTwo
        ok 6 - the this binding is the right instance
    ok 17 - non-localhost onListen encapsulation should be called in order # time=10.124ms
    
    # Subtest: non-localhost onListen encapsulation should be called in order and should log errors as warnings and continue
        1..7
        ok 1 - called in root
        ok 2 - the this binding is the right instance
        ok 3 - called in childOne
        ok 4 - the this binding is the right instance
        ok 5 - called in childTwo
        ok 6 - the this binding is the right instance
        ok 7 - Logged Error Message
    ok 18 - non-localhost onListen encapsulation should be called in order and should log errors as warnings and continue # time=8.414ms
    
    # Subtest: onListen localhost should work in order with callback
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - 1st called in root
        ok 4 - 2nd called in root
    ok 19 - onListen localhost should work in order with callback # time=9.09ms
    
    # Subtest: onListen localhost should work in order with callback in async
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - 1st called in root
        ok 4 - 2nd called in root
    ok 20 - onListen localhost should work in order with callback in async # time=3.754ms
    
    # Subtest: onListen localhost sync with callback should log errors as warnings and continue
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - 1st called in root
        ok 4 - error sync called in root
        ok 5 - Logged Error Message
        ok 6 - 1st called in root
    ok 21 - onListen localhost sync with callback should log errors as warnings and continue # time=5.158ms
    
    # Subtest: onListen localhost async with callback should log errors as warnings and continue
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - 1st called in root
        ok 4 - error sync called in root
        ok 5 - Logged Error Message
        ok 6 - 3rd called in root
    ok 22 - onListen localhost async with callback should log errors as warnings and continue # time=5.158ms
    
    # Subtest: Register onListen hook localhost with callback after a plugin inside a plugin
        1..5
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - called
        ok 4 - called
        ok 5 - called
    ok 23 - Register onListen hook localhost with callback after a plugin inside a plugin # time=4.637ms
    
    # Subtest: onListen localhost with callback encapsulation should be called in order
        1..8
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - called in root
        ok 4 - the this binding is the right instance
        ok 5 - called in childOne
        ok 6 - the this binding is the right instance
        ok 7 - called in childTwo
        ok 8 - the this binding is the right instance
    ok 24 - onListen localhost with callback encapsulation should be called in order # time=5.952ms
    
    # Subtest: onListen non-localhost should work in order with callback in sync
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - 1st called in root
        ok 4 - 2nd called in root
    ok 25 - onListen non-localhost should work in order with callback in sync # time=8.871ms
    
    # Subtest: onListen non-localhost should work in order with callback in async
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - 1st called in root
        ok 4 - 2nd called in root
    ok 26 - onListen non-localhost should work in order with callback in async # time=5.026ms
    
    # Subtest: onListen non-localhost sync with callback should log errors as warnings and continue
        1..8
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - 1st called in root
        ok 5 - should be equal
        ok 6 - Logged Error Message
        ok 7 - should be equal
        ok 8 - 3rd called in root
    ok 27 - onListen non-localhost sync with callback should log errors as warnings and continue # time=9.286ms
    
    # Subtest: onListen non-localhost async with callback should log errors as warnings and continue
        1..8
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - 1st called in root
        ok 5 - error sync called in root
        ok 6 - Logged Error Message
        ok 7 - should be equal
        ok 8 - 3rd called in root
    ok 28 - onListen non-localhost async with callback should log errors as warnings and continue # time=5.444ms
    
    # Subtest: Register onListen hook non-localhost with callback after a plugin inside a plugin
        1..5
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - called
        ok 4 - called
        ok 5 - called
    ok 29 - Register onListen hook non-localhost with callback after a plugin inside a plugin # time=4.31ms
    
    # Subtest: onListen non-localhost with callback encapsulation should be called in order
        1..8
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - called in root
        ok 4 - the this binding is the right instance
        ok 5 - called in childOne
        ok 6 - the this binding is the right instance
        ok 7 - called in childTwo
        ok 8 - the this binding is the right instance
    ok 30 - onListen non-localhost with callback encapsulation should be called in order # time=5.492ms
    
    # Subtest: onListen sync should work if user does not pass done
        1..2
        ok 1 - 1st called in root
        ok 2 - 2nd called in root
    ok 31 - onListen sync should work if user does not pass done # time=7.697ms
    
    # Subtest: async onListen does not need to be awaited
        ok 1 - 1st async called in root
        ok 2 - 2nd async called in root
        1..2
    ok 32 - async onListen does not need to be awaited # time=3.924ms
    
    # Subtest: onListen hooks do not block /1
        1..2
        ok 1 - should not error
        ok 2 - expect truthy value
    ok 33 - onListen hooks do not block /1 # time=5.608ms
    
    # Subtest: onListen hooks do not block /2
        1..1
        ok 1 - expect truthy value
    ok 34 - onListen hooks do not block /2 # time=2.898ms
    
    1..34
    # time=906.07ms
ok 49 - test/hooks.on-listen.test.js # time=906.07ms

# Subtest: test/hooks.on-ready.test.js
    # Subtest: onReady should be called in order
        1..7
        ok 1 - called in root
        ok 2 - the this binding is the right instance
        ok 3 - called in childOne
        ok 4 - the this binding is the right instance
        ok 5 - called in childTwo
        ok 6 - the this binding is the right instance
        ok 7 - should not error
    ok 1 - onReady should be called in order # time=65.716ms
    
    # Subtest: onReady should be called once
        ok 1 - Should resolve in order
        ok 2 - Should call onReady only once
        1..2
    ok 2 - onReady should be called once # time=12.517ms
    
    # Subtest: async onReady should be called in order
        1..7
        ok 1 - called in root
        ok 2 - the this binding is the right instance
        ok 3 - called in childOne
        ok 4 - the this binding is the right instance
        ok 5 - called in childTwo
        ok 6 - the this binding is the right instance
        ok 7 - ready
    ok 3 - async onReady should be called in order # time=13.36ms
    
    # Subtest: mix ready and onReady
        1..2
        ok 1 - should be equal
        ok 2 - ready hooks execute once
    ok 4 - mix ready and onReady # time=5.288ms
    
    # Subtest: listen and onReady order
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - trigger the onReady
        ok 9 - do not trigger the onReady
    ok 5 - listen and onReady order # time=20.299ms
    
    # Subtest: multiple ready calls
        1..11
        ok 1 - ready and hooks not triggered yet
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - trigger the onReady
        ok 10 - do not trigger the onReady
        ok 11 - do not trigger the onReady
    ok 6 - multiple ready calls # time=7.859ms
    
    # Subtest: onReady should manage error in sync
        1..4
        ok 1 - called in root
        ok 2 - called in childOne
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 7 - onReady should manage error in sync # time=10.477ms
    
    # Subtest: onReady should manage error in async
        1..4
        ok 1 - called in root
        ok 2 - called in childOne
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 8 - onReady should manage error in async # time=8.977ms
    
    # Subtest: onReady should manage sync error
        1..4
        ok 1 - called in root
        ok 2 - called in childOne
        ok 3 - expect truthy value
        ok 4 - should be equal
    ok 9 - onReady should manage sync error # time=10.639ms
    
    # Subtest: onReady can not add decorators or application hooks
        1..3
        ok 1 - called in root
        ok 2 - expect truthy value
        ok 3 - should not error
    ok 10 - onReady can not add decorators or application hooks # time=3.566ms
    
    # Subtest: onReady cannot add lifecycle hooks
        1..5
        ok 1 - called in root
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 11 - onReady cannot add lifecycle hooks # time=7.098ms
    
    # Subtest: onReady throw loading error
        1..2
        ok 1 - FST_ERR_HOOK_INVALID_ASYNC_HANDLER
        ok 2 - expect truthy value
    ok 12 - onReady throw loading error # time=2.111ms
    
    # Subtest: onReady does not call done
        1..6
        ok 1 - called in root
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
        ok 6 - should be equal
    ok 13 - onReady does not call done # time=508.922ms
    
    # Subtest: onReady execution order
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 14 - onReady execution order # time=3.936ms
    
    # Subtest: ready return the server with callback
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 15 - ready return the server with callback # time=14.657ms
    
    # Subtest: ready return the server with Promise
        1..1
        ok 1 - should be equivalent
    ok 16 - ready return the server with Promise # time=14.137ms
    
    # Subtest: ready return registered
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
    ok 17 - ready return registered # time=14.796ms
    
    # Subtest: do not crash with error in follow up onReady hook
        ok 1 - expect rejected Promise
        1..1
    ok 18 - do not crash with error in follow up onReady hook # time=4.15ms
    
    1..18
    # time=751.414ms
ok 50 - test/hooks.on-ready.test.js # time=751.414ms

# Subtest: test/hooks.test.js
    # Subtest: hooks
        1..49
        ok 1 - (unnamed test)
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - (unnamed test)
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - (unnamed test)
        ok 8 - (unnamed test)
        ok 9 - (unnamed test)
        ok 10 - (unnamed test)
        ok 11 - (unnamed test)
        ok 12 - (unnamed test)
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equal
        ok 18 - should be equal
        ok 19 - should be equal
        ok 20 - should be equal
        ok 21 - should be equal
        ok 22 - should be equal
        ok 23 - should be equal
        ok 24 - should be equal
        ok 25 - expect truthy value
        ok 26 - expect truthy value
        ok 27 - expect truthy value
        ok 28 - expect truthy value
        ok 29 - should be equal
        ok 30 - should be equal
        ok 31 - should be equal
        ok 32 - should be equal
        ok 33 - should be equal
        ok 34 - should be equal
        ok 35 - should be equal
        ok 36 - should be equal
        ok 37 - should be equal
        ok 38 - expect truthy value
        ok 39 - expect truthy value
        ok 40 - expect truthy value
        ok 41 - expect truthy value
        ok 42 - should not error
        ok 43 - should be equal
        ok 44 - should be equal
        ok 45 - should be equivalent
        ok 46 - should not error
        ok 47 - should be equal
        ok 48 - should not error
        ok 49 - should be equal
    ok 1 - hooks # time=182.339ms
    
    # Subtest: onRequest hook should support encapsulation / 1
        1..5
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 2 - onRequest hook should support encapsulation / 1 # time=17.386ms
    
    # Subtest: onRequest hook should support encapsulation / 2
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 3 - onRequest hook should support encapsulation / 2 # time=10.203ms
    
    # Subtest: onRequest hook should support encapsulation / 3
        1..20
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect falsey value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - expect truthy value
        ok 11 - expect truthy value
        ok 12 - expect truthy value
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equal
        ok 19 - should be equal
        ok 20 - should be equivalent
    ok 4 - onRequest hook should support encapsulation / 3 # time=30.525ms
    
    # Subtest: preHandler hook should support encapsulation / 5
        1..17
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - should not error
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equivalent
        ok 14 - should not error
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equivalent
    ok 5 - preHandler hook should support encapsulation / 5 # time=27.065ms
    
    # Subtest: onRoute hook should be called / 1
        1..2
        ok 1 - (unnamed test)
        ok 2 - should not error
    ok 6 - onRoute hook should be called / 1 # time=12.802ms
    
    # Subtest: onRoute hook should be called / 2
        1..5
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
    ok 7 - onRoute hook should be called / 2 # time=6.236ms
    
    # Subtest: onRoute hook should be called / 3
        1..5
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - should not error
        ok 4 - (unnamed test)
        ok 5 - should not error
    ok 8 - onRoute hook should be called / 3 # time=20.065ms
    
    # Subtest: onRoute hook should be called (encapsulation support) / 4
        1..4
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - (unnamed test)
        ok 4 - should not error
    ok 9 - onRoute hook should be called (encapsulation support) / 4 # time=5.406ms
    
    # Subtest: onRoute hook should be called (encapsulation support) / 5
        1..2
        ok 1 - (unnamed test)
        ok 2 - should not error
    ok 10 - onRoute hook should be called (encapsulation support) / 5 # time=9.624ms
    
    # Subtest: onRoute hook should be called (encapsulation support) / 6
        1..1
        ok 1 - should not error
    ok 11 - onRoute hook should be called (encapsulation support) / 6 # time=5.283ms
    
    # Subtest: onRoute should keep the context
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should not error
    ok 12 - onRoute should keep the context # time=8.296ms
    
    # Subtest: onRoute hook should pass correct route
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should not error
    ok 13 - onRoute hook should pass correct route # time=10.291ms
    
    # Subtest: onRoute hook should pass correct route with custom prefix
        1..11
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should not error
    ok 14 - onRoute hook should pass correct route with custom prefix # time=11.45ms
    
    # Subtest: onRoute hook should pass correct route with custom options
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - type is function
        ok 6 - should not error
    ok 15 - onRoute hook should pass correct route with custom options # time=15.048ms
    
    # Subtest: onRoute hook should receive any route option
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
    ok 16 - onRoute hook should receive any route option # time=14.461ms
    
    # Subtest: onRoute hook should preserve system route configuration
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
    ok 17 - onRoute hook should preserve system route configuration # time=6.249ms
    
    # Subtest: onRoute hook should preserve handler function in options of shorthand route system configuration
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 18 - onRoute hook should preserve handler function in options of shorthand route system configuration # time=6.748ms
    
    # Subtest: onRoute hook should be called once when prefixTrailingSlash
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 19 - onRoute hook should be called once when prefixTrailingSlash # time=9.125ms
    
    # Subtest: onRoute hook should able to change the route url
        1..5
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 20 - onRoute hook should able to change the route url # time=10.092ms
    
    # Subtest: onRoute hook that throws should be caught
        1..1
        ok 1 - expect truthy value
    ok 21 - onRoute hook that throws should be caught # time=8.887ms
    
    # Subtest: onRoute hook with many prefix
        1..3
        ok 1 - should match pattern provided
        ok 2 - should match pattern provided
        ok 3 - should not error
    ok 22 - onRoute hook with many prefix # time=5.993ms
    
    # Subtest: onRoute hook should not be called when it registered after route
        1..3
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - should not error
    ok 23 - onRoute hook should not be called when it registered after route # time=3.674ms
    
    # Subtest: onResponse hook should log request error
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 24 - onResponse hook should log request error # time=14.329ms
    
    # Subtest: onResponse hook should support encapsulation / 1
        1..5
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 25 - onResponse hook should support encapsulation / 1 # time=27.613ms
    
    # Subtest: onResponse hook should support encapsulation / 2
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 26 - onResponse hook should support encapsulation / 2 # time=7.153ms
    
    # Subtest: onResponse hook should support encapsulation / 3
        1..16
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equivalent
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equivalent
    ok 27 - onResponse hook should support encapsulation / 3 # time=37.569ms
    
    # Subtest: onSend hook should support encapsulation / 1
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 28 - onSend hook should support encapsulation / 1 # time=6.567ms
    
    # Subtest: onSend hook should support encapsulation / 2
        1..16
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equivalent
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equivalent
    ok 29 - onSend hook should support encapsulation / 2 # time=12.679ms
    
    # Subtest: onSend hook is called after payload is serialized and headers are set
        1..30
        ok 1 - should be equivalent
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should not error
        ok 12 - should be equal
        ok 13 - should be equivalent
        ok 14 - should be equal
        ok 15 - should not error
        ok 16 - should be equal
        ok 17 - should be equivalent
        ok 18 - should be equal
        ok 19 - should not error
        ok 20 - should be equal
        ok 21 - should be equivalent
        ok 22 - should be equal
        ok 23 - should not error
        ok 24 - should be equal
        ok 25 - should be equivalent
        ok 26 - should be equal
        ok 27 - should not error
        ok 28 - should be equal
        ok 29 - should be equivalent
        ok 30 - should be equal
    ok 30 - onSend hook is called after payload is serialized and headers are set # time=28.172ms
    
    # Subtest: modify payload
        1..10
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - expect truthy value
        ok 4 - should be equivalent
        ok 5 - expect truthy value
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
    ok 31 - modify payload # time=6.625ms
    
    # Subtest: clear payload
        1..6
        ok 1 - expect truthy value
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 32 - clear payload # time=4.56ms
    
    # Subtest: onSend hook throws
        1..11
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should not error
        ok 11 - should be equal
    ok 33 - onSend hook throws # time=66.996ms
    
    # Subtest: onSend hook should receive valid request and reply objects if onRequest hook fails
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 34 - onSend hook should receive valid request and reply objects if onRequest hook fails # time=6.522ms
    
    # Subtest: onSend hook should receive valid request and reply objects if a custom content type parser fails
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 35 - onSend hook should receive valid request and reply objects if a custom content type parser fails # time=5.153ms
    
    # Subtest: Content-Length header should be updated if onSend hook modifies the payload
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 36 - Content-Length header should be updated if onSend hook modifies the payload # time=3.341ms
    
    # Subtest: cannot add hook after binding
        1..2
        ok 1 - should not error
        ok 2 - (unnamed test)
    ok 37 - cannot add hook after binding # time=6.5ms
    
    # Subtest: onRequest hooks should be able to block a request
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 38 - onRequest hooks should be able to block a request # time=5.386ms
    
    # Subtest: preValidation hooks should be able to block a request
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 39 - preValidation hooks should be able to block a request # time=4.773ms
    
    # Subtest: preValidation hooks should be able to change request body before validation
        1..4
        ok 1 - (unnamed test)
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 40 - preValidation hooks should be able to change request body before validation # time=49.873ms
    
    # Subtest: preParsing hooks should be able to block a request
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 41 - preParsing hooks should be able to block a request # time=4.68ms
    
    # Subtest: preHandler hooks should be able to block a request
        1..5
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 42 - preHandler hooks should be able to block a request # time=4.577ms
    
    # Subtest: onRequest hooks should be able to block a request (last hook)
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 43 - onRequest hooks should be able to block a request (last hook) # time=9.707ms
    
    # Subtest: preHandler hooks should be able to block a request (last hook)
        1..5
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 44 - preHandler hooks should be able to block a request (last hook) # time=8.251ms
    
    # Subtest: preParsing hooks should handle errors
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 45 - preParsing hooks should handle errors # time=16.44ms
    
    # Subtest: onRequest respond with a stream
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
    ok 46 - onRequest respond with a stream # time=7.456ms
    
    # Subtest: preHandler respond with a stream
        1..7
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - expect truthy value
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
    ok 47 - preHandler respond with a stream # time=6.318ms
    
    # Subtest: Register an hook after a plugin inside a plugin
        1..6
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 48 - Register an hook after a plugin inside a plugin # time=6.536ms
    
    # Subtest: Register an hook after a plugin inside a plugin (with preHandler option)
        1..7
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 49 - Register an hook after a plugin inside a plugin (with preHandler option) # time=6.482ms
    
    # Subtest: Register hooks inside a plugin after an encapsulated plugin
        1..7
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 50 - Register hooks inside a plugin after an encapsulated plugin # time=11.89ms
    
    # Subtest: onRequest hooks should run in the order in which they are defined
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 51 - onRequest hooks should run in the order in which they are defined # time=7.754ms
    
    # Subtest: preHandler hooks should run in the order in which they are defined
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 52 - preHandler hooks should run in the order in which they are defined # time=9.302ms
    
    # Subtest: onSend hooks should run in the order in which they are defined
        1..8
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should be equivalent
    ok 53 - onSend hooks should run in the order in which they are defined # time=13.105ms
    
    # Subtest: onResponse hooks should run in the order in which they are defined
        1..8
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should be equivalent
    ok 54 - onResponse hooks should run in the order in which they are defined # time=7.039ms
    
    # Subtest: onRequest, preHandler, and onResponse hooks that resolve to a value do not cause an error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 55 - onRequest, preHandler, and onResponse hooks that resolve to a value do not cause an error # time=4.092ms
    
    # Subtest: If a response header has been set inside an hook it shoulod not be overwritten by the final response handler
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
    ok 56 - If a response header has been set inside an hook it shoulod not be overwritten by the final response handler # time=3.995ms
    
    # Subtest: If the content type has been set inside an hook it should not be changed
        1..5
        ok 1 - expect truthy value
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
    ok 57 - If the content type has been set inside an hook it should not be changed # time=3.956ms
    
    # Subtest: request in onRequest, preParsing, preValidation and onResponse
        1..18
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
        ok 7 - should be equivalent
        ok 8 - should be equivalent
        ok 9 - should be equivalent
        ok 10 - should be equivalent
        ok 11 - should be equivalent
        ok 12 - should be equivalent
        ok 13 - should be equivalent
        ok 14 - should be equivalent
        ok 15 - should be equivalent
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equal
    ok 58 - request in onRequest, preParsing, preValidation and onResponse # time=18.198ms
    
    # Subtest: preValidation hook should support encapsulation / 1
        1..5
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 59 - preValidation hook should support encapsulation / 1 # time=14.35ms
    
    # Subtest: preValidation hook should support encapsulation / 2
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 60 - preValidation hook should support encapsulation / 2 # time=3.731ms
    
    # Subtest: preValidation hook should support encapsulation / 3
        1..20
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect falsey value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - expect truthy value
        ok 11 - expect truthy value
        ok 12 - expect truthy value
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equal
        ok 19 - should be equal
        ok 20 - should be equivalent
    ok 61 - preValidation hook should support encapsulation / 3 # time=26.304ms
    
    # Subtest: onError hook
        1..3
        ok 1 - should match pattern provided
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 62 - onError hook # time=6.473ms
    
    # Subtest: reply.send should throw if called inside the onError hook
        1..3
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 63 - reply.send should throw if called inside the onError hook # time=3.92ms
    
    # Subtest: onError hook with setErrorHandler
        # Subtest: Send error
            1..3
            ok 1 - should match pattern provided
            ok 2 - should not error
            ok 3 - should be equivalent
        ok 1 - Send error # time=5.887ms
        
        1..1
    ok 64 - onError hook with setErrorHandler # time=18.298ms
    
    # Subtest: preParsing hook should run before parsing and be able to modify the payload
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 65 - preParsing hook should run before parsing and be able to modify the payload # time=14.824ms
    
    # Subtest: preParsing hooks should run in the order in which they are defined
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 66 - preParsing hooks should run in the order in which they are defined # time=5.994ms
    
    # Subtest: preParsing hooks should support encapsulation
        1..9
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 67 - preParsing hooks should support encapsulation # time=13.952ms
    
    # Subtest: preParsing hook should support encapsulation / 1
        1..5
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 68 - preParsing hook should support encapsulation / 1 # time=9.18ms
    
    # Subtest: preParsing hook should support encapsulation / 2
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 69 - preParsing hook should support encapsulation / 2 # time=6.056ms
    
    # Subtest: preParsing hook should support encapsulation / 3
        1..20
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect falsey value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect truthy value
        ok 10 - expect truthy value
        ok 11 - expect truthy value
        ok 12 - expect truthy value
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equal
        ok 19 - should be equal
        ok 20 - should be equivalent
    ok 70 - preParsing hook should support encapsulation / 3 # time=21.834ms
    
    # Subtest: preSerialization hook should run before serialization and be able to modify the payload
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 71 - preSerialization hook should run before serialization and be able to modify the payload # time=8.082ms
    
    # Subtest: preSerialization hook should be able to throw errors which are validated against schema response
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
        1..6
    ok 72 - preSerialization hook should be able to throw errors which are validated against schema response # time=10.881ms
    
    # Subtest: preSerialization hook which returned error should still run onError hooks
        1..4
        ok 1 - should not error
        ok 2 - (unnamed test)
        ok 3 - should not error
        ok 4 - should be equal
    ok 73 - preSerialization hook which returned error should still run onError hooks # time=5.238ms
    
    # Subtest: preSerialization hooks should run in the order in which they are defined
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 74 - preSerialization hooks should run in the order in which they are defined # time=9.421ms
    
    # Subtest: preSerialization hooks should support encapsulation
        1..9
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 75 - preSerialization hooks should support encapsulation # time=9.963ms
    
    # Subtest: onRegister hook should be called / 1
        1..3
        ok 1 - expect truthy value
        ok 2 - should be equivalent
        ok 3 - should not error
    ok 76 - onRegister hook should be called / 1 # time=3.62ms
    
    # Subtest: onRegister hook should be called / 2
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - should not error
    ok 77 - onRegister hook should be called / 2 # time=4.229ms
    
    # Subtest: onRegister hook should be called / 3
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
    ok 78 - onRegister hook should be called / 3 # time=5.135ms
    
    # Subtest: onRegister hook should be called (encapsulation)
        1..1
        ok 1 - should not error
    ok 79 - onRegister hook should be called (encapsulation) # time=2.332ms
    
    # Subtest: early termination, onRequest
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 80 - early termination, onRequest # time=3.593ms
    
    # Subtest: reply.send should throw if undefined error is thrown
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 81 - reply.send should throw if undefined error is thrown # time=3.93ms
    
    # Subtest: reply.send should throw if undefined error is thrown at preParsing hook
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 82 - reply.send should throw if undefined error is thrown at preParsing hook # time=3.706ms
    
    # Subtest: reply.send should throw if undefined error is thrown at onSend hook
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 83 - reply.send should throw if undefined error is thrown at onSend hook # time=3.61ms
    
    # Subtest: onTimeout should be triggered
        1..6
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - onTimeout
        ok 5 - type is Error
        ok 6 - should be equal
    ok 84 - onTimeout should be triggered # time=532.29ms
    
    # Subtest: onTimeout should be triggered and socket _meta is set
        1..6
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - onTimeout
        ok 5 - type is Error
        ok 6 - should be equal
    ok 85 - onTimeout should be triggered and socket _meta is set # time=509.466ms
    
    # Subtest: registering invalid hooks should throw an error
        1..3
        ok 1 - expected to throw: Error onRequest hook should be a function, instead got [object Undefined]
        ok 2 - expected to throw: Error onRequest hook should be a function, instead got [object Null]
        ok 3 - expected to throw: Error onSend hook should be a function, instead got [object Undefined]
    ok 86 - registering invalid hooks should throw an error # time=6.011ms
    
    # Subtest: onRequestAbort should be triggered
        1..7
        ok 1 - should not error
        ok 2 - handler called
        ok 3 - called in hook
        ok 4 - request has pendingResolve
        ok 5 - called in route
        ok 6 - handler promise resolved
        ok 7 - onSend should be called
    ok 87 - onRequestAbort should be triggered # time=510.705ms
    
    # Subtest: onRequestAbort should support encapsulation
        1..6
        ok 1 - should not error
        ok 2 - called in root
        ok 3 - should be equivalent strictly
        ok 4 - called in child
        ok 5 - should be equivalent strictly
        ok 6 - called in route
    ok 88 - onRequestAbort should support encapsulation # time=508.25ms
    
    # Subtest: onRequestAbort should handle errors / 1
        1..2
        ok 1 - should not error
        ok 2 - (unnamed test)
    ok 89 - onRequestAbort should handle errors / 1 # time=511.009ms
    
    # Subtest: onRequestAbort should handle errors / 2
        1..2
        ok 1 - should not error
        ok 2 - (unnamed test)
    ok 90 - onRequestAbort should handle errors / 2 # time=507.101ms
    
    # Subtest: onRequestAbort should handle async errors / 1
        1..2
        ok 1 - should not error
        ok 2 - (unnamed test)
    ok 91 - onRequestAbort should handle async errors / 1 # time=505.656ms
    
    # Subtest: onRequestAbort should handle async errors / 2
        1..2
        ok 1 - should not error
        ok 2 - (unnamed test)
    ok 92 - onRequestAbort should handle async errors / 2 # time=504.568ms
    
    1..92
    # time=5781.257ms
ok 51 - test/hooks.test.js # time=5781.257ms

# Subtest: test/http2/closing.test.js
    # Subtest: http/2 request while fastify closing
        ok 1 - http2 successfully loaded
        ok 2 - should not error
        # Subtest: return 200
            ok 1 - should be equal
            1..1
        ok 3 - return 200 # time=15.24ms
        
        1..3
    ok 1 - http/2 request while fastify closing # time=72.755ms
    
    # Subtest: http/2 request while fastify closing - return503OnClosing: false
        ok 1 - http2 successfully loaded
        ok 2 - should not error
        # Subtest: return 200
            ok 1 - should be equal
            1..1
        ok 3 - return 200 # time=4.254ms
        
        1..3
    ok 2 - http/2 request while fastify closing - return503OnClosing: false # time=17.716ms
    
    # Subtest: http/2 closes successfully with async await
        1..0
    ok 3 - http/2 closes successfully with async await # time=111.923ms
    
    # Subtest: https/2 closes successfully with async await
        1..0
    ok 4 - https/2 closes successfully with async await # time=37.509ms
    
    # Subtest: http/2 server side session emits a timeout event
        ok 1 - should be equal
        1..1
    ok 5 - http/2 server side session emits a timeout event # time=113.115ms
    
    1..5
    # time=379.429ms
ok 52 - test/http2/closing.test.js # time=379.429ms

# Subtest: test/http2/constraint.test.js
    # Subtest: A route supports host constraints under http2 protocol and secure connection
        1..5
        ok 1 - Key/cert successfully loaded
        ok 2 - should not error
        # Subtest: https get request - no constrain
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - https get request - no constrain # time=32.118ms
        
        # Subtest: https get request - constrain
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 4 - https get request - constrain # time=9.706ms
        
        # Subtest: https get request - constrain - not found
            1..1
            ok 1 - should be equal
        ok 5 - https get request - constrain - not found # time=6.363ms
        
    ok 1 - A route supports host constraints under http2 protocol and secure connection # time=135.053ms
    
    1..1
    # time=154.892ms
ok 53 - test/http2/constraint.test.js # time=154.892ms

# Subtest: test/http2/head.test.js
    ok 1 - http2 successfully loaded
    ok 2 - should not error
    # Subtest: http HEAD request
        1..1
        ok 1 - should be equal
    ok 3 - http HEAD request # time=27.959ms
    
    1..3
    # time=77.056ms
ok 54 - test/http2/head.test.js # time=77.056ms

# Subtest: test/http2/missing-http2-module.test.js
    # Subtest: should throw when http2 module cannot be found
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 1 - should throw when http2 module cannot be found # time=9.24ms
    
    1..1
    # time=32.909ms
ok 55 - test/http2/missing-http2-module.test.js # time=32.909ms

# Subtest: test/http2/plain.test.js
    ok 1 - http2 successfully loaded
    ok 2 - should not error
    # Subtest: http get request
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 3 - http get request # time=34.408ms
    
    # Subtest: http hostname
        1..1
        ok 1 - should be equal
    ok 4 - http hostname # time=4.554ms
    
    1..4
    # time=90.324ms
ok 56 - test/http2/plain.test.js # time=90.324ms

# Subtest: test/http2/secure-with-fallback.test.js
    # Subtest: secure with fallback
        1..7
        ok 1 - Key/cert successfully loaded
        ok 2 - should not error
        # Subtest: https get error
            1..1
            ok 1 - should be equal
        ok 3 - https get error # time=29.739ms
        
        # Subtest: https post
            1..2
            ok 1 - should be equal
            ok 2 - should be equivalent
        ok 4 - https post # time=13.74ms
        
        # Subtest: https get request
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 5 - https get request # time=7.293ms
        
        # Subtest: http1 get request
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 6 - http1 get request # time=15.787ms
        
        # Subtest: http1 get error
            1..2
            ok 1 - should not error
            ok 2 - should be equal
        ok 7 - http1 get error # time=6.2ms
        
    ok 1 - secure with fallback # time=162.752ms
    
    1..1
    # time=182.463ms
ok 57 - test/http2/secure-with-fallback.test.js # time=182.463ms

# Subtest: test/http2/secure.test.js
    # Subtest: secure
        1..4
        ok 1 - Key/cert successfully loaded
        ok 2 - should not error
        # Subtest: https get request
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 3 - https get request # time=29.835ms
        
        # Subtest: https get request without trust proxy - protocol
            1..2
            ok 1 - should be equivalent
            ok 2 - should be equivalent
        ok 4 - https get request without trust proxy - protocol # time=15ms
        
    ok 1 - secure # time=131.249ms
    
    1..1
    # time=151.52ms
ok 58 - test/http2/secure.test.js # time=151.52ms

# Subtest: test/http2/unknown-http-method.test.js
    ok 1 - should not error
    # Subtest: http UNKNOWN_METHOD request
        1..2
        ok 1 - should be equal
        ok 2 - should be equivalent
    ok 2 - http UNKNOWN_METHOD request # time=28.868ms
    
    1..2
    # time=51.374ms
ok 59 - test/http2/unknown-http-method.test.js # time=51.374ms

# Subtest: test/https/custom-https-server.test.js
    # Subtest: Should support a custom https server
        1..4
        ok 1 - it is called once for localhost
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - Should support a custom https server # time=86.494ms
    
    1..1
    # time=94.018ms
ok 60 - test/https/custom-https-server.test.js # time=94.018ms

# Subtest: test/https/https.test.js
    # Subtest: https
        1..4
        ok 1 - Key/cert successfully loaded
        ok 2 - should not error
        # Subtest: https get request
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 3 - https get request # time=41.531ms
        
        # Subtest: https get request without trust proxy - protocol
            1..4
            ok 1 - should not error
            ok 2 - should be equivalent
            ok 3 - should not error
            ok 4 - should be equivalent
        ok 4 - https get request without trust proxy - protocol # time=11.991ms
        
    ok 1 - https # time=132.678ms
    
    1..1
    # time=152.864ms
ok 61 - test/https/https.test.js # time=152.864ms

# Subtest: test/imports.test.js
    # Subtest: should import as default
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 1 - should import as default # time=184.918ms
    
    # Subtest: should import as esm
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 2 - should import as esm # time=1.596ms
    
    1..2
    # time=212.9ms
ok 62 - test/imports.test.js # time=212.9ms

# Subtest: test/inject.test.js
    # Subtest: inject should exist
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 1 - inject should exist # time=13.219ms
    
    # Subtest: should wait for the ready event
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 2 - should wait for the ready event # time=559.848ms
    
    # Subtest: inject get request
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 3 - inject get request # time=6.818ms
    
    # Subtest: inject get request - code check
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 4 - inject get request - code check # time=10.091ms
    
    # Subtest: inject get request - headers check
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 5 - inject get request - headers check # time=8.435ms
    
    # Subtest: inject get request - querystring
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 6 - inject get request - querystring # time=9.745ms
    
    # Subtest: inject get request - params
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 7 - inject get request - params # time=8.976ms
    
    # Subtest: inject get request - wildcard
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 8 - inject get request - wildcard # time=6.33ms
    
    # Subtest: inject get request - headers
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 9 - inject get request - headers # time=4.558ms
    
    # Subtest: inject post request
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 10 - inject post request # time=16.895ms
    
    # Subtest: inject post request - send stream
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
    ok 11 - inject post request - send stream # time=12.916ms
    
    # Subtest: inject get request - reply stream
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 12 - inject get request - reply stream # time=11.048ms
    
    # Subtest: inject promisify - waiting for ready event
        1..1
        ok 1 - should be equal
    ok 13 - inject promisify - waiting for ready event # time=5.305ms
    
    # Subtest: inject promisify - after the ready event
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 14 - inject promisify - after the ready event # time=9.656ms
    
    # Subtest: inject promisify - when the server is up
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 15 - inject promisify - when the server is up # time=14.044ms
    
    # Subtest: should reject in error case
        1..1
        ok 1 - should be equal
    ok 16 - should reject in error case # time=512.355ms
    
    # Subtest: inject a multipart request using form-body
        1..2
        ok 1 - should be equal
        ok 2 - expect truthy value
    ok 17 - inject a multipart request using form-body # time=5.967ms
    
    # Subtest: should error the promise if ready errors
        1..3
        ok 1 - after is called
        ok 2 - expect truthy value
        ok 3 - should be equal
    ok 18 - should error the promise if ready errors # time=10.022ms
    
    # Subtest: should throw error if callback specified and if ready errors
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 19 - should throw error if callback specified and if ready errors # time=7.029ms
    
    # Subtest: should support builder-style injection with ready app
        1..3
        ok 1 - should be equivalent
        ok 2 - should be equal
        ok 3 - should be equal
    ok 20 - should support builder-style injection with ready app # time=11.381ms
    
    # Subtest: should support builder-style injection with non-ready app
        1..3
        ok 1 - should be equivalent
        ok 2 - should be equal
        ok 3 - should be equal
    ok 21 - should support builder-style injection with non-ready app # time=5.971ms
    
    # Subtest: should handle errors in builder-style injection correctly
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 22 - should handle errors in builder-style injection correctly # time=6.982ms
    
    # Subtest: Should not throw on access to routeConfig frameworkErrors handler - FST_ERR_BAD_URL
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should be equivalent
(node:733) [FSTDEP017] DeprecationWarning: You are accessing the deprecated "request.routerPath" property. Use "request.routeOptions.url" instead. Property "req.routerPath" will be removed in `fastify@5`.
(Use `node --trace-deprecation ...` to show where the warning was created)
        ok 4 - should not error
        ok 5 - should be equal
    ok 23 - Should not throw on access to routeConfig frameworkErrors handler - FST_ERR_BAD_URL # time=18.137ms
    
    1..23
    # time=1301.493ms
ok 63 - test/inject.test.js # time=1301.493ms

# Subtest: test/internals/all.test.js
    # Subtest: fastify.all should add all the methods to the same url
        1..32
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equivalent
        ok 9 - should not error
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equivalent
        ok 13 - should not error
        ok 14 - should be equivalent
        ok 15 - should not error
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equivalent
        ok 19 - should not error
        ok 20 - should be equivalent
        ok 21 - should not error
        ok 22 - should be equivalent
        ok 23 - should not error
        ok 24 - should be equivalent
        ok 25 - should not error
        ok 26 - should be equivalent
        ok 27 - should not error
        ok 28 - should be equivalent
        ok 29 - should not error
        ok 30 - should be equivalent
        ok 31 - should not error
        ok 32 - should be equivalent
    ok 1 - fastify.all should add all the methods to the same url # time=76.834ms
    
    1..1
    # time=82.531ms
ok 64 - test/internals/all.test.js # time=82.531ms

# Subtest: test/internals/contentTypeParser.test.js
    # Subtest: rawBody function
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 1 - rawBody function # time=9.234ms
    
    # Subtest: Should support Webpack and faux modules
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 2 - Should support Webpack and faux modules # time=6.672ms
    
    1..2
    # time=44.697ms
ok 65 - test/internals/contentTypeParser.test.js # time=44.697ms

# Subtest: test/internals/context.test.js
    # Subtest: context
        1..1
        # Subtest: Should not contain undefined as key prop
            ok 1 - type is Context
            ok 2 - type is Context
            ok 3 - expect falsey value
            ok 4 - expect falsey value
            1..4
        ok 1 - Should not contain undefined as key prop # time=32.61ms
        
    ok 1 - context # time=42.986ms
    
    1..1
    # time=66.85ms
ok 66 - test/internals/context.test.js # time=66.85ms

# Subtest: test/internals/decorator.test.js
    # Subtest: decorate should add the given method to its instance
        1..1
        ok 1 - expect truthy value
    ok 1 - decorate should add the given method to its instance # time=5.258ms
    
    # Subtest: decorate is chainable
        1..3
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
    ok 2 - decorate is chainable # time=2.013ms
    
    # Subtest: checkExistence should check if a property is part of the given instance
        1..1
        ok 1 - expect truthy value
    ok 3 - checkExistence should check if a property is part of the given instance # time=1.164ms
    
    # Subtest: checkExistence should find the instance if not given
        1..1
        ok 1 - expect truthy value
    ok 4 - checkExistence should find the instance if not given # time=1.231ms
    
    # Subtest: checkExistence should check the prototype as well
        1..1
        ok 1 - expect truthy value
    ok 5 - checkExistence should check the prototype as well # time=1.147ms
    
    # Subtest: checkDependencies should throw if a dependency is not present
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 6 - checkDependencies should throw if a dependency is not present # time=2.001ms
    
    # Subtest: decorate should internally call checkDependencies
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 7 - decorate should internally call checkDependencies # time=1.695ms
    
    # Subtest: decorate should recognize getter/setter objects
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - (unnamed test)
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 8 - decorate should recognize getter/setter objects # time=2.964ms
    
    1..8
    # time=44.522ms
ok 67 - test/internals/decorator.test.js # time=44.522ms

# Subtest: test/internals/errors.test.js
    # Subtest: should expose 78 errors
        1..1
        ok 1 - should be equal
    ok 1 - should expose 78 errors # time=4.852ms
    
    # Subtest: ensure name and codes of Errors are identical
        1..78
        ok 1 - FST_ERR_NOT_FOUND
        ok 2 - FST_ERR_OPTIONS_NOT_OBJ
        ok 3 - FST_ERR_QSP_NOT_FN
        ok 4 - FST_ERR_SCHEMA_CONTROLLER_BUCKET_OPT_NOT_FN
        ok 5 - FST_ERR_SCHEMA_ERROR_FORMATTER_NOT_FN
        ok 6 - FST_ERR_AJV_CUSTOM_OPTIONS_OPT_NOT_OBJ
        ok 7 - FST_ERR_AJV_CUSTOM_OPTIONS_OPT_NOT_ARR
        ok 8 - FST_ERR_VERSION_CONSTRAINT_NOT_STR
        ok 9 - FST_ERR_VALIDATION
        ok 10 - FST_ERR_LISTEN_OPTIONS_INVALID
        ok 11 - FST_ERR_CTP_ALREADY_PRESENT
        ok 12 - FST_ERR_CTP_INVALID_TYPE
        ok 13 - FST_ERR_CTP_EMPTY_TYPE
        ok 14 - FST_ERR_CTP_INVALID_HANDLER
        ok 15 - FST_ERR_CTP_INVALID_PARSE_TYPE
        ok 16 - FST_ERR_CTP_BODY_TOO_LARGE
        ok 17 - FST_ERR_CTP_INVALID_MEDIA_TYPE
        ok 18 - FST_ERR_CTP_INVALID_CONTENT_LENGTH
        ok 19 - FST_ERR_CTP_EMPTY_JSON_BODY
        ok 20 - FST_ERR_CTP_INSTANCE_ALREADY_STARTED
        ok 21 - FST_ERR_DEC_ALREADY_PRESENT
        ok 22 - FST_ERR_DEC_DEPENDENCY_INVALID_TYPE
        ok 23 - FST_ERR_DEC_MISSING_DEPENDENCY
        ok 24 - FST_ERR_DEC_AFTER_START
        ok 25 - FST_ERR_HOOK_INVALID_TYPE
        ok 26 - FST_ERR_HOOK_INVALID_HANDLER
        ok 27 - FST_ERR_HOOK_INVALID_ASYNC_HANDLER
        ok 28 - FST_ERR_HOOK_NOT_SUPPORTED
        ok 29 - FST_ERR_MISSING_MIDDLEWARE
        ok 30 - FST_ERR_HOOK_TIMEOUT
        ok 31 - FST_ERR_LOG_INVALID_DESTINATION
        ok 32 - FST_ERR_LOG_INVALID_LOGGER
        ok 33 - FST_ERR_REP_INVALID_PAYLOAD_TYPE
        ok 34 - FST_ERR_REP_ALREADY_SENT
        ok 35 - FST_ERR_REP_SENT_VALUE
        ok 36 - FST_ERR_SEND_INSIDE_ONERR
        ok 37 - FST_ERR_SEND_UNDEFINED_ERR
        ok 38 - FST_ERR_BAD_STATUS_CODE
        ok 39 - FST_ERR_BAD_TRAILER_NAME
        ok 40 - FST_ERR_BAD_TRAILER_VALUE
        ok 41 - FST_ERR_FAILED_ERROR_SERIALIZATION
        ok 42 - FST_ERR_MISSING_SERIALIZATION_FN
        ok 43 - FST_ERR_MISSING_CONTENTTYPE_SERIALIZATION_FN
        ok 44 - FST_ERR_REQ_INVALID_VALIDATION_INVOCATION
        ok 45 - FST_ERR_SCH_MISSING_ID
        ok 46 - FST_ERR_SCH_ALREADY_PRESENT
        ok 47 - FST_ERR_SCH_CONTENT_MISSING_SCHEMA
        ok 48 - FST_ERR_SCH_DUPLICATE
        ok 49 - FST_ERR_SCH_VALIDATION_BUILD
        ok 50 - FST_ERR_SCH_SERIALIZATION_BUILD
        ok 51 - FST_ERR_SCH_RESPONSE_SCHEMA_NOT_NESTED_2XX
        ok 52 - FST_ERR_HTTP2_INVALID_VERSION
        ok 53 - FST_ERR_INIT_OPTS_INVALID
        ok 54 - FST_ERR_FORCE_CLOSE_CONNECTIONS_IDLE_NOT_AVAILABLE
        ok 55 - FST_ERR_DUPLICATED_ROUTE
        ok 56 - FST_ERR_BAD_URL
        ok 57 - FST_ERR_ASYNC_CONSTRAINT
        ok 58 - FST_ERR_DEFAULT_ROUTE_INVALID_TYPE
        ok 59 - FST_ERR_INVALID_URL
        ok 60 - FST_ERR_ROUTE_OPTIONS_NOT_OBJ
        ok 61 - FST_ERR_ROUTE_DUPLICATED_HANDLER
        ok 62 - FST_ERR_ROUTE_HANDLER_NOT_FN
        ok 63 - FST_ERR_ROUTE_MISSING_HANDLER
        ok 64 - FST_ERR_ROUTE_METHOD_INVALID
        ok 65 - FST_ERR_ROUTE_METHOD_NOT_SUPPORTED
        ok 66 - FST_ERR_ROUTE_BODY_VALIDATION_SCHEMA_NOT_SUPPORTED
        ok 67 - FST_ERR_ROUTE_BODY_LIMIT_OPTION_NOT_INT
        ok 68 - FST_ERR_ROUTE_REWRITE_NOT_STR
        ok 69 - FST_ERR_REOPENED_CLOSE_SERVER
        ok 70 - FST_ERR_REOPENED_SERVER
        ok 71 - FST_ERR_INSTANCE_ALREADY_LISTENING
        ok 72 - FST_ERR_PLUGIN_VERSION_MISMATCH
        ok 73 - FST_ERR_PLUGIN_NOT_PRESENT_IN_INSTANCE
        ok 74 - FST_ERR_PLUGIN_CALLBACK_NOT_FN
        ok 75 - FST_ERR_PLUGIN_NOT_VALID
        ok 76 - FST_ERR_ROOT_PLG_BOOTED
        ok 77 - FST_ERR_PARENT_PLUGIN_BOOTED
        ok 78 - FST_ERR_PLUGIN_TIMEOUT
    ok 2 - ensure name and codes of Errors are identical # time=37.461ms
    
    # Subtest: FST_ERR_NOT_FOUND
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 3 - FST_ERR_NOT_FOUND # time=3.813ms
    
    # Subtest: FST_ERR_OPTIONS_NOT_OBJ
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 4 - FST_ERR_OPTIONS_NOT_OBJ # time=2.325ms
    
    # Subtest: FST_ERR_QSP_NOT_FN
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 5 - FST_ERR_QSP_NOT_FN # time=2.316ms
    
    # Subtest: FST_ERR_SCHEMA_CONTROLLER_BUCKET_OPT_NOT_FN
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 6 - FST_ERR_SCHEMA_CONTROLLER_BUCKET_OPT_NOT_FN # time=2.298ms
    
    # Subtest: FST_ERR_SCHEMA_ERROR_FORMATTER_NOT_FN
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 7 - FST_ERR_SCHEMA_ERROR_FORMATTER_NOT_FN # time=2.343ms
    
    # Subtest: FST_ERR_AJV_CUSTOM_OPTIONS_OPT_NOT_OBJ
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 8 - FST_ERR_AJV_CUSTOM_OPTIONS_OPT_NOT_OBJ # time=2.272ms
    
    # Subtest: FST_ERR_AJV_CUSTOM_OPTIONS_OPT_NOT_ARR
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 9 - FST_ERR_AJV_CUSTOM_OPTIONS_OPT_NOT_ARR # time=2.286ms
    
    # Subtest: FST_ERR_VERSION_CONSTRAINT_NOT_STR
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 10 - FST_ERR_VERSION_CONSTRAINT_NOT_STR # time=2.284ms
    
    # Subtest: FST_ERR_CTP_ALREADY_PRESENT
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 11 - FST_ERR_CTP_ALREADY_PRESENT # time=2.309ms
    
    # Subtest: FST_ERR_CTP_INVALID_TYPE
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 12 - FST_ERR_CTP_INVALID_TYPE # time=2.312ms
    
    # Subtest: FST_ERR_CTP_EMPTY_TYPE
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 13 - FST_ERR_CTP_EMPTY_TYPE # time=2.384ms
    
    # Subtest: FST_ERR_CTP_INVALID_HANDLER
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 14 - FST_ERR_CTP_INVALID_HANDLER # time=2.311ms
    
    # Subtest: FST_ERR_CTP_INVALID_PARSE_TYPE
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 15 - FST_ERR_CTP_INVALID_PARSE_TYPE # time=2.831ms
    
    # Subtest: FST_ERR_CTP_BODY_TOO_LARGE
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 16 - FST_ERR_CTP_BODY_TOO_LARGE # time=7.501ms
    
    # Subtest: FST_ERR_CTP_INVALID_MEDIA_TYPE
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 17 - FST_ERR_CTP_INVALID_MEDIA_TYPE # time=2.862ms
    
    # Subtest: FST_ERR_CTP_INVALID_CONTENT_LENGTH
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 18 - FST_ERR_CTP_INVALID_CONTENT_LENGTH # time=2.239ms
    
    # Subtest: FST_ERR_CTP_EMPTY_JSON_BODY
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 19 - FST_ERR_CTP_EMPTY_JSON_BODY # time=2.47ms
    
    # Subtest: FST_ERR_CTP_INSTANCE_ALREADY_STARTED
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 20 - FST_ERR_CTP_INSTANCE_ALREADY_STARTED # time=2.221ms
    
    # Subtest: FST_ERR_DEC_ALREADY_PRESENT
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 21 - FST_ERR_DEC_ALREADY_PRESENT # time=2.218ms
    
    # Subtest: FST_ERR_DEC_DEPENDENCY_INVALID_TYPE
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 22 - FST_ERR_DEC_DEPENDENCY_INVALID_TYPE # time=2.241ms
    
    # Subtest: FST_ERR_DEC_MISSING_DEPENDENCY
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 23 - FST_ERR_DEC_MISSING_DEPENDENCY # time=2.229ms
    
    # Subtest: FST_ERR_DEC_AFTER_START
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 24 - FST_ERR_DEC_AFTER_START # time=2.236ms
    
    # Subtest: FST_ERR_HOOK_INVALID_TYPE
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 25 - FST_ERR_HOOK_INVALID_TYPE # time=2.252ms
    
    # Subtest: FST_ERR_HOOK_INVALID_HANDLER
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 26 - FST_ERR_HOOK_INVALID_HANDLER # time=2.346ms
    
    # Subtest: FST_ERR_HOOK_INVALID_ASYNC_HANDLER
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 27 - FST_ERR_HOOK_INVALID_ASYNC_HANDLER # time=2.23ms
    
    # Subtest: FST_ERR_HOOK_NOT_SUPPORTED
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 28 - FST_ERR_HOOK_NOT_SUPPORTED # time=2.682ms
    
    # Subtest: FST_ERR_MISSING_MIDDLEWARE
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 29 - FST_ERR_MISSING_MIDDLEWARE # time=2.211ms
    
    # Subtest: FST_ERR_HOOK_TIMEOUT
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 30 - FST_ERR_HOOK_TIMEOUT # time=2.214ms
    
    # Subtest: FST_ERR_LOG_INVALID_DESTINATION
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 31 - FST_ERR_LOG_INVALID_DESTINATION # time=2.25ms
    
    # Subtest: FST_ERR_LOG_INVALID_LOGGER
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 32 - FST_ERR_LOG_INVALID_LOGGER # time=2.225ms
    
    # Subtest: FST_ERR_REP_INVALID_PAYLOAD_TYPE
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 33 - FST_ERR_REP_INVALID_PAYLOAD_TYPE # time=2.242ms
    
    # Subtest: FST_ERR_REP_ALREADY_SENT
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 34 - FST_ERR_REP_ALREADY_SENT # time=2.274ms
    
    # Subtest: FST_ERR_REP_SENT_VALUE
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 35 - FST_ERR_REP_SENT_VALUE # time=2.206ms
    
    # Subtest: FST_ERR_SEND_INSIDE_ONERR
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 36 - FST_ERR_SEND_INSIDE_ONERR # time=2.247ms
    
    # Subtest: FST_ERR_SEND_UNDEFINED_ERR
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 37 - FST_ERR_SEND_UNDEFINED_ERR # time=2.215ms
    
    # Subtest: FST_ERR_BAD_STATUS_CODE
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 38 - FST_ERR_BAD_STATUS_CODE # time=2.296ms
    
    # Subtest: FST_ERR_BAD_TRAILER_NAME
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 39 - FST_ERR_BAD_TRAILER_NAME # time=2.24ms
    
    # Subtest: FST_ERR_BAD_TRAILER_VALUE
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 40 - FST_ERR_BAD_TRAILER_VALUE # time=2.239ms
    
    # Subtest: FST_ERR_FAILED_ERROR_SERIALIZATION
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 41 - FST_ERR_FAILED_ERROR_SERIALIZATION # time=2.882ms
    
    # Subtest: FST_ERR_MISSING_SERIALIZATION_FN
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 42 - FST_ERR_MISSING_SERIALIZATION_FN # time=2.233ms
    
    # Subtest: FST_ERR_MISSING_CONTENTTYPE_SERIALIZATION_FN
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 43 - FST_ERR_MISSING_CONTENTTYPE_SERIALIZATION_FN # time=2.259ms
    
    # Subtest: FST_ERR_REQ_INVALID_VALIDATION_INVOCATION
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 44 - FST_ERR_REQ_INVALID_VALIDATION_INVOCATION # time=2.219ms
    
    # Subtest: FST_ERR_SCH_MISSING_ID
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 45 - FST_ERR_SCH_MISSING_ID # time=2.222ms
    
    # Subtest: FST_ERR_SCH_ALREADY_PRESENT
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 46 - FST_ERR_SCH_ALREADY_PRESENT # time=2.275ms
    
    # Subtest: FST_ERR_SCH_CONTENT_MISSING_SCHEMA
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 47 - FST_ERR_SCH_CONTENT_MISSING_SCHEMA # time=2.227ms
    
    # Subtest: FST_ERR_SCH_DUPLICATE
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 48 - FST_ERR_SCH_DUPLICATE # time=2.453ms
    
    # Subtest: FST_ERR_SCH_VALIDATION_BUILD
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 49 - FST_ERR_SCH_VALIDATION_BUILD # time=2.263ms
    
    # Subtest: FST_ERR_SCH_SERIALIZATION_BUILD
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 50 - FST_ERR_SCH_SERIALIZATION_BUILD # time=2.293ms
    
    # Subtest: FST_ERR_SCH_RESPONSE_SCHEMA_NOT_NESTED_2XX
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 51 - FST_ERR_SCH_RESPONSE_SCHEMA_NOT_NESTED_2XX # time=2.236ms
    
    # Subtest: FST_ERR_HTTP2_INVALID_VERSION
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 52 - FST_ERR_HTTP2_INVALID_VERSION # time=2.217ms
    
    # Subtest: FST_ERR_INIT_OPTS_INVALID
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 53 - FST_ERR_INIT_OPTS_INVALID # time=2.198ms
    
    # Subtest: FST_ERR_FORCE_CLOSE_CONNECTIONS_IDLE_NOT_AVAILABLE
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 54 - FST_ERR_FORCE_CLOSE_CONNECTIONS_IDLE_NOT_AVAILABLE # time=2.69ms
    
    # Subtest: FST_ERR_DUPLICATED_ROUTE
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 55 - FST_ERR_DUPLICATED_ROUTE # time=2.19ms
    
    # Subtest: FST_ERR_BAD_URL
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 56 - FST_ERR_BAD_URL # time=3.895ms
    
    # Subtest: FST_ERR_ASYNC_CONSTRAINT
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 57 - FST_ERR_ASYNC_CONSTRAINT # time=6.105ms
    
    # Subtest: FST_ERR_DEFAULT_ROUTE_INVALID_TYPE
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 58 - FST_ERR_DEFAULT_ROUTE_INVALID_TYPE # time=2.676ms
    
    # Subtest: FST_ERR_INVALID_URL
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 59 - FST_ERR_INVALID_URL # time=8.014ms
    
    # Subtest: FST_ERR_ROUTE_OPTIONS_NOT_OBJ
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 60 - FST_ERR_ROUTE_OPTIONS_NOT_OBJ # time=3.852ms
    
    # Subtest: FST_ERR_ROUTE_DUPLICATED_HANDLER
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 61 - FST_ERR_ROUTE_DUPLICATED_HANDLER # time=3.872ms
    
    # Subtest: FST_ERR_ROUTE_HANDLER_NOT_FN
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 62 - FST_ERR_ROUTE_HANDLER_NOT_FN # time=3.272ms
    
    # Subtest: FST_ERR_ROUTE_MISSING_HANDLER
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 63 - FST_ERR_ROUTE_MISSING_HANDLER # time=3.864ms
    
    # Subtest: FST_ERR_ROUTE_METHOD_INVALID
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 64 - FST_ERR_ROUTE_METHOD_INVALID # time=4.631ms
    
    # Subtest: FST_ERR_ROUTE_METHOD_NOT_SUPPORTED
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 65 - FST_ERR_ROUTE_METHOD_NOT_SUPPORTED # time=4.669ms
    
    # Subtest: FST_ERR_ROUTE_BODY_VALIDATION_SCHEMA_NOT_SUPPORTED
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 66 - FST_ERR_ROUTE_BODY_VALIDATION_SCHEMA_NOT_SUPPORTED # time=4.532ms
    
    # Subtest: FST_ERR_ROUTE_BODY_LIMIT_OPTION_NOT_INT
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 67 - FST_ERR_ROUTE_BODY_LIMIT_OPTION_NOT_INT # time=4.127ms
    
    # Subtest: FST_ERR_ROUTE_BODY_LIMIT_OPTION_NOT_INT
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 68 - FST_ERR_ROUTE_BODY_LIMIT_OPTION_NOT_INT # time=2.671ms
    
    # Subtest: FST_ERR_ROUTE_REWRITE_NOT_STR
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 69 - FST_ERR_ROUTE_REWRITE_NOT_STR # time=3.747ms
    
    # Subtest: FST_ERR_REOPENED_CLOSE_SERVER
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 70 - FST_ERR_REOPENED_CLOSE_SERVER # time=3.564ms
    
    # Subtest: FST_ERR_REOPENED_SERVER
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 71 - FST_ERR_REOPENED_SERVER # time=3.969ms
    
    # Subtest: FST_ERR_INSTANCE_ALREADY_LISTENING
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 72 - FST_ERR_INSTANCE_ALREADY_LISTENING # time=4.616ms
    
    # Subtest: FST_ERR_PLUGIN_VERSION_MISMATCH
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 73 - FST_ERR_PLUGIN_VERSION_MISMATCH # time=4.699ms
    
    # Subtest: FST_ERR_PLUGIN_NOT_PRESENT_IN_INSTANCE
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 74 - FST_ERR_PLUGIN_NOT_PRESENT_IN_INSTANCE # time=5.759ms
    
    # Subtest: FST_ERR_PLUGIN_CALLBACK_NOT_FN
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 75 - FST_ERR_PLUGIN_CALLBACK_NOT_FN # time=6.993ms
    
    # Subtest: FST_ERR_PLUGIN_NOT_VALID
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 76 - FST_ERR_PLUGIN_NOT_VALID # time=5.036ms
    
    # Subtest: FST_ERR_ROOT_PLG_BOOTED
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 77 - FST_ERR_ROOT_PLG_BOOTED # time=6.362ms
    
    # Subtest: FST_ERR_PARENT_PLUGIN_BOOTED
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 78 - FST_ERR_PARENT_PLUGIN_BOOTED # time=2.264ms
    
    # Subtest: FST_ERR_PLUGIN_TIMEOUT
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 79 - FST_ERR_PLUGIN_TIMEOUT # time=6.707ms
    
    # Subtest: FST_ERR_VALIDATION
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 80 - FST_ERR_VALIDATION # time=2.577ms
    
    # Subtest: FST_ERR_LISTEN_OPTIONS_INVALID
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
    ok 81 - FST_ERR_LISTEN_OPTIONS_INVALID # time=2.111ms
    
    # Subtest: Ensure that all errors are in Errors.md TOC
        1..78
        ok 1 - FST_ERR_NOT_FOUND
        ok 2 - FST_ERR_OPTIONS_NOT_OBJ
        ok 3 - FST_ERR_QSP_NOT_FN
        ok 4 - FST_ERR_SCHEMA_CONTROLLER_BUCKET_OPT_NOT_FN
        ok 5 - FST_ERR_SCHEMA_ERROR_FORMATTER_NOT_FN
        ok 6 - FST_ERR_AJV_CUSTOM_OPTIONS_OPT_NOT_OBJ
        ok 7 - FST_ERR_AJV_CUSTOM_OPTIONS_OPT_NOT_ARR
        ok 8 - FST_ERR_VERSION_CONSTRAINT_NOT_STR
        ok 9 - FST_ERR_VALIDATION
        ok 10 - FST_ERR_LISTEN_OPTIONS_INVALID
        ok 11 - FST_ERR_CTP_ALREADY_PRESENT
        ok 12 - FST_ERR_CTP_INVALID_TYPE
        ok 13 - FST_ERR_CTP_EMPTY_TYPE
        ok 14 - FST_ERR_CTP_INVALID_HANDLER
        ok 15 - FST_ERR_CTP_INVALID_PARSE_TYPE
        ok 16 - FST_ERR_CTP_BODY_TOO_LARGE
        ok 17 - FST_ERR_CTP_INVALID_MEDIA_TYPE
        ok 18 - FST_ERR_CTP_INVALID_CONTENT_LENGTH
        ok 19 - FST_ERR_CTP_EMPTY_JSON_BODY
        ok 20 - FST_ERR_CTP_INSTANCE_ALREADY_STARTED
        ok 21 - FST_ERR_DEC_ALREADY_PRESENT
        ok 22 - FST_ERR_DEC_DEPENDENCY_INVALID_TYPE
        ok 23 - FST_ERR_DEC_MISSING_DEPENDENCY
        ok 24 - FST_ERR_DEC_AFTER_START
        ok 25 - FST_ERR_HOOK_INVALID_TYPE
        ok 26 - FST_ERR_HOOK_INVALID_HANDLER
        ok 27 - FST_ERR_HOOK_INVALID_ASYNC_HANDLER
        ok 28 - FST_ERR_HOOK_NOT_SUPPORTED
        ok 29 - FST_ERR_MISSING_MIDDLEWARE
        ok 30 - FST_ERR_HOOK_TIMEOUT
        ok 31 - FST_ERR_LOG_INVALID_DESTINATION
        ok 32 - FST_ERR_LOG_INVALID_LOGGER
        ok 33 - FST_ERR_REP_INVALID_PAYLOAD_TYPE
        ok 34 - FST_ERR_REP_ALREADY_SENT
        ok 35 - FST_ERR_REP_SENT_VALUE
        ok 36 - FST_ERR_SEND_INSIDE_ONERR
        ok 37 - FST_ERR_SEND_UNDEFINED_ERR
        ok 38 - FST_ERR_BAD_STATUS_CODE
        ok 39 - FST_ERR_BAD_TRAILER_NAME
        ok 40 - FST_ERR_BAD_TRAILER_VALUE
        ok 41 - FST_ERR_FAILED_ERROR_SERIALIZATION
        ok 42 - FST_ERR_MISSING_SERIALIZATION_FN
        ok 43 - FST_ERR_MISSING_CONTENTTYPE_SERIALIZATION_FN
        ok 44 - FST_ERR_REQ_INVALID_VALIDATION_INVOCATION
        ok 45 - FST_ERR_SCH_MISSING_ID
        ok 46 - FST_ERR_SCH_ALREADY_PRESENT
        ok 47 - FST_ERR_SCH_CONTENT_MISSING_SCHEMA
        ok 48 - FST_ERR_SCH_DUPLICATE
        ok 49 - FST_ERR_SCH_VALIDATION_BUILD
        ok 50 - FST_ERR_SCH_SERIALIZATION_BUILD
        ok 51 - FST_ERR_SCH_RESPONSE_SCHEMA_NOT_NESTED_2XX
        ok 52 - FST_ERR_HTTP2_INVALID_VERSION
        ok 53 - FST_ERR_INIT_OPTS_INVALID
        ok 54 - FST_ERR_FORCE_CLOSE_CONNECTIONS_IDLE_NOT_AVAILABLE
        ok 55 - FST_ERR_DUPLICATED_ROUTE
        ok 56 - FST_ERR_BAD_URL
        ok 57 - FST_ERR_ASYNC_CONSTRAINT
        ok 58 - FST_ERR_DEFAULT_ROUTE_INVALID_TYPE
        ok 59 - FST_ERR_INVALID_URL
        ok 60 - FST_ERR_ROUTE_OPTIONS_NOT_OBJ
        ok 61 - FST_ERR_ROUTE_DUPLICATED_HANDLER
        ok 62 - FST_ERR_ROUTE_HANDLER_NOT_FN
        ok 63 - FST_ERR_ROUTE_MISSING_HANDLER
        ok 64 - FST_ERR_ROUTE_METHOD_INVALID
        ok 65 - FST_ERR_ROUTE_METHOD_NOT_SUPPORTED
        ok 66 - FST_ERR_ROUTE_BODY_VALIDATION_SCHEMA_NOT_SUPPORTED
        ok 67 - FST_ERR_ROUTE_BODY_LIMIT_OPTION_NOT_INT
        ok 68 - FST_ERR_ROUTE_REWRITE_NOT_STR
        ok 69 - FST_ERR_REOPENED_CLOSE_SERVER
        ok 70 - FST_ERR_REOPENED_SERVER
        ok 71 - FST_ERR_INSTANCE_ALREADY_LISTENING
        ok 72 - FST_ERR_PLUGIN_VERSION_MISMATCH
        ok 73 - FST_ERR_PLUGIN_NOT_PRESENT_IN_INSTANCE
        ok 74 - FST_ERR_PLUGIN_CALLBACK_NOT_FN
        ok 75 - FST_ERR_PLUGIN_NOT_VALID
        ok 76 - FST_ERR_ROOT_PLG_BOOTED
        ok 77 - FST_ERR_PARENT_PLUGIN_BOOTED
        ok 78 - FST_ERR_PLUGIN_TIMEOUT
    ok 82 - Ensure that all errors are in Errors.md TOC # time=21.832ms
    
    # Subtest: Ensure that non-existing errors are not in Errors.md TOC
        1..78
        ok 1 - FST_ERR_NOT_FOUND
        ok 2 - FST_ERR_OPTIONS_NOT_OBJ
        ok 3 - FST_ERR_QSP_NOT_FN
        ok 4 - FST_ERR_SCHEMA_CONTROLLER_BUCKET_OPT_NOT_FN
        ok 5 - FST_ERR_SCHEMA_ERROR_FORMATTER_NOT_FN
        ok 6 - FST_ERR_AJV_CUSTOM_OPTIONS_OPT_NOT_OBJ
        ok 7 - FST_ERR_AJV_CUSTOM_OPTIONS_OPT_NOT_ARR
        ok 8 - FST_ERR_VERSION_CONSTRAINT_NOT_STR
        ok 9 - FST_ERR_CTP_ALREADY_PRESENT
        ok 10 - FST_ERR_CTP_INVALID_TYPE
        ok 11 - FST_ERR_CTP_EMPTY_TYPE
        ok 12 - FST_ERR_CTP_INVALID_HANDLER
        ok 13 - FST_ERR_CTP_INVALID_PARSE_TYPE
        ok 14 - FST_ERR_CTP_BODY_TOO_LARGE
        ok 15 - FST_ERR_CTP_INVALID_MEDIA_TYPE
        ok 16 - FST_ERR_CTP_INVALID_CONTENT_LENGTH
        ok 17 - FST_ERR_CTP_EMPTY_JSON_BODY
        ok 18 - FST_ERR_CTP_INSTANCE_ALREADY_STARTED
        ok 19 - FST_ERR_INSTANCE_ALREADY_LISTENING
        ok 20 - FST_ERR_DEC_ALREADY_PRESENT
        ok 21 - FST_ERR_DEC_DEPENDENCY_INVALID_TYPE
        ok 22 - FST_ERR_DEC_MISSING_DEPENDENCY
        ok 23 - FST_ERR_DEC_AFTER_START
        ok 24 - FST_ERR_HOOK_INVALID_TYPE
        ok 25 - FST_ERR_HOOK_INVALID_HANDLER
        ok 26 - FST_ERR_HOOK_INVALID_ASYNC_HANDLER
        ok 27 - FST_ERR_HOOK_NOT_SUPPORTED
        ok 28 - FST_ERR_MISSING_MIDDLEWARE
        ok 29 - FST_ERR_HOOK_TIMEOUT
        ok 30 - FST_ERR_LOG_INVALID_DESTINATION
        ok 31 - FST_ERR_LOG_INVALID_LOGGER
        ok 32 - FST_ERR_REP_INVALID_PAYLOAD_TYPE
        ok 33 - FST_ERR_REP_ALREADY_SENT
        ok 34 - FST_ERR_REP_SENT_VALUE
        ok 35 - FST_ERR_SEND_INSIDE_ONERR
        ok 36 - FST_ERR_SEND_UNDEFINED_ERR
        ok 37 - FST_ERR_BAD_STATUS_CODE
        ok 38 - FST_ERR_BAD_TRAILER_NAME
        ok 39 - FST_ERR_BAD_TRAILER_VALUE
        ok 40 - FST_ERR_FAILED_ERROR_SERIALIZATION
        ok 41 - FST_ERR_MISSING_SERIALIZATION_FN
        ok 42 - FST_ERR_MISSING_CONTENTTYPE_SERIALIZATION_FN
        ok 43 - FST_ERR_REQ_INVALID_VALIDATION_INVOCATION
        ok 44 - FST_ERR_SCH_MISSING_ID
        ok 45 - FST_ERR_SCH_ALREADY_PRESENT
        ok 46 - FST_ERR_SCH_CONTENT_MISSING_SCHEMA
        ok 47 - FST_ERR_SCH_DUPLICATE
        ok 48 - FST_ERR_SCH_VALIDATION_BUILD
        ok 49 - FST_ERR_SCH_SERIALIZATION_BUILD
        ok 50 - FST_ERR_SCH_RESPONSE_SCHEMA_NOT_NESTED_2XX
        ok 51 - FST_ERR_HTTP2_INVALID_VERSION
        ok 52 - FST_ERR_INIT_OPTS_INVALID
        ok 53 - FST_ERR_FORCE_CLOSE_CONNECTIONS_IDLE_NOT_AVAILABLE
        ok 54 - FST_ERR_DUPLICATED_ROUTE
        ok 55 - FST_ERR_BAD_URL
        ok 56 - FST_ERR_ASYNC_CONSTRAINT
        ok 57 - FST_ERR_DEFAULT_ROUTE_INVALID_TYPE
        ok 58 - FST_ERR_INVALID_URL
        ok 59 - FST_ERR_ROUTE_OPTIONS_NOT_OBJ
        ok 60 - FST_ERR_ROUTE_DUPLICATED_HANDLER
        ok 61 - FST_ERR_ROUTE_HANDLER_NOT_FN
        ok 62 - FST_ERR_ROUTE_MISSING_HANDLER
        ok 63 - FST_ERR_ROUTE_METHOD_INVALID
        ok 64 - FST_ERR_ROUTE_METHOD_NOT_SUPPORTED
        ok 65 - FST_ERR_ROUTE_BODY_VALIDATION_SCHEMA_NOT_SUPPORTED
        ok 66 - FST_ERR_ROUTE_BODY_LIMIT_OPTION_NOT_INT
        ok 67 - FST_ERR_ROUTE_REWRITE_NOT_STR
        ok 68 - FST_ERR_REOPENED_CLOSE_SERVER
        ok 69 - FST_ERR_REOPENED_SERVER
        ok 70 - FST_ERR_PLUGIN_VERSION_MISMATCH
        ok 71 - FST_ERR_PLUGIN_CALLBACK_NOT_FN
        ok 72 - FST_ERR_PLUGIN_NOT_VALID
        ok 73 - FST_ERR_ROOT_PLG_BOOTED
        ok 74 - FST_ERR_PARENT_PLUGIN_BOOTED
        ok 75 - FST_ERR_PLUGIN_TIMEOUT
        ok 76 - FST_ERR_PLUGIN_NOT_PRESENT_IN_INSTANCE
        ok 77 - FST_ERR_VALIDATION
        ok 78 - FST_ERR_LISTEN_OPTIONS_INVALID
    ok 83 - Ensure that non-existing errors are not in Errors.md TOC # time=33.335ms
    
    # Subtest: Ensure that all errors are in Errors.md documented
        1..78
        ok 1 - FST_ERR_NOT_FOUND
        ok 2 - FST_ERR_OPTIONS_NOT_OBJ
        ok 3 - FST_ERR_QSP_NOT_FN
        ok 4 - FST_ERR_SCHEMA_CONTROLLER_BUCKET_OPT_NOT_FN
        ok 5 - FST_ERR_SCHEMA_ERROR_FORMATTER_NOT_FN
        ok 6 - FST_ERR_AJV_CUSTOM_OPTIONS_OPT_NOT_OBJ
        ok 7 - FST_ERR_AJV_CUSTOM_OPTIONS_OPT_NOT_ARR
        ok 8 - FST_ERR_VERSION_CONSTRAINT_NOT_STR
        ok 9 - FST_ERR_VALIDATION
        ok 10 - FST_ERR_LISTEN_OPTIONS_INVALID
        ok 11 - FST_ERR_CTP_ALREADY_PRESENT
        ok 12 - FST_ERR_CTP_INVALID_TYPE
        ok 13 - FST_ERR_CTP_EMPTY_TYPE
        ok 14 - FST_ERR_CTP_INVALID_HANDLER
        ok 15 - FST_ERR_CTP_INVALID_PARSE_TYPE
        ok 16 - FST_ERR_CTP_BODY_TOO_LARGE
        ok 17 - FST_ERR_CTP_INVALID_MEDIA_TYPE
        ok 18 - FST_ERR_CTP_INVALID_CONTENT_LENGTH
        ok 19 - FST_ERR_CTP_EMPTY_JSON_BODY
        ok 20 - FST_ERR_CTP_INSTANCE_ALREADY_STARTED
        ok 21 - FST_ERR_DEC_ALREADY_PRESENT
        ok 22 - FST_ERR_DEC_DEPENDENCY_INVALID_TYPE
        ok 23 - FST_ERR_DEC_MISSING_DEPENDENCY
        ok 24 - FST_ERR_DEC_AFTER_START
        ok 25 - FST_ERR_HOOK_INVALID_TYPE
        ok 26 - FST_ERR_HOOK_INVALID_HANDLER
        ok 27 - FST_ERR_HOOK_INVALID_ASYNC_HANDLER
        ok 28 - FST_ERR_HOOK_NOT_SUPPORTED
        ok 29 - FST_ERR_MISSING_MIDDLEWARE
        ok 30 - FST_ERR_HOOK_TIMEOUT
        ok 31 - FST_ERR_LOG_INVALID_DESTINATION
        ok 32 - FST_ERR_LOG_INVALID_LOGGER
        ok 33 - FST_ERR_REP_INVALID_PAYLOAD_TYPE
        ok 34 - FST_ERR_REP_ALREADY_SENT
        ok 35 - FST_ERR_REP_SENT_VALUE
        ok 36 - FST_ERR_SEND_INSIDE_ONERR
        ok 37 - FST_ERR_SEND_UNDEFINED_ERR
        ok 38 - FST_ERR_BAD_STATUS_CODE
        ok 39 - FST_ERR_BAD_TRAILER_NAME
        ok 40 - FST_ERR_BAD_TRAILER_VALUE
        ok 41 - FST_ERR_FAILED_ERROR_SERIALIZATION
        ok 42 - FST_ERR_MISSING_SERIALIZATION_FN
        ok 43 - FST_ERR_MISSING_CONTENTTYPE_SERIALIZATION_FN
        ok 44 - FST_ERR_REQ_INVALID_VALIDATION_INVOCATION
        ok 45 - FST_ERR_SCH_MISSING_ID
        ok 46 - FST_ERR_SCH_ALREADY_PRESENT
        ok 47 - FST_ERR_SCH_CONTENT_MISSING_SCHEMA
        ok 48 - FST_ERR_SCH_DUPLICATE
        ok 49 - FST_ERR_SCH_VALIDATION_BUILD
        ok 50 - FST_ERR_SCH_SERIALIZATION_BUILD
        ok 51 - FST_ERR_SCH_RESPONSE_SCHEMA_NOT_NESTED_2XX
        ok 52 - FST_ERR_HTTP2_INVALID_VERSION
        ok 53 - FST_ERR_INIT_OPTS_INVALID
        ok 54 - FST_ERR_FORCE_CLOSE_CONNECTIONS_IDLE_NOT_AVAILABLE
        ok 55 - FST_ERR_DUPLICATED_ROUTE
        ok 56 - FST_ERR_BAD_URL
        ok 57 - FST_ERR_ASYNC_CONSTRAINT
        ok 58 - FST_ERR_DEFAULT_ROUTE_INVALID_TYPE
        ok 59 - FST_ERR_INVALID_URL
        ok 60 - FST_ERR_ROUTE_OPTIONS_NOT_OBJ
        ok 61 - FST_ERR_ROUTE_DUPLICATED_HANDLER
        ok 62 - FST_ERR_ROUTE_HANDLER_NOT_FN
        ok 63 - FST_ERR_ROUTE_MISSING_HANDLER
        ok 64 - FST_ERR_ROUTE_METHOD_INVALID
        ok 65 - FST_ERR_ROUTE_METHOD_NOT_SUPPORTED
        ok 66 - FST_ERR_ROUTE_BODY_VALIDATION_SCHEMA_NOT_SUPPORTED
        ok 67 - FST_ERR_ROUTE_BODY_LIMIT_OPTION_NOT_INT
        ok 68 - FST_ERR_ROUTE_REWRITE_NOT_STR
        ok 69 - FST_ERR_REOPENED_CLOSE_SERVER
        ok 70 - FST_ERR_REOPENED_SERVER
        ok 71 - FST_ERR_INSTANCE_ALREADY_LISTENING
        ok 72 - FST_ERR_PLUGIN_VERSION_MISMATCH
        ok 73 - FST_ERR_PLUGIN_NOT_PRESENT_IN_INSTANCE
        ok 74 - FST_ERR_PLUGIN_CALLBACK_NOT_FN
        ok 75 - FST_ERR_PLUGIN_NOT_VALID
        ok 76 - FST_ERR_ROOT_PLG_BOOTED
        ok 77 - FST_ERR_PARENT_PLUGIN_BOOTED
        ok 78 - FST_ERR_PLUGIN_TIMEOUT
    ok 84 - Ensure that all errors are in Errors.md documented # time=43.561ms
    
    # Subtest: Ensure that non-existing errors are not in Errors.md documented
        1..78
        ok 1 - FST_ERR_NOT_FOUND
        ok 2 - FST_ERR_OPTIONS_NOT_OBJ
        ok 3 - FST_ERR_QSP_NOT_FN
        ok 4 - FST_ERR_SCHEMA_CONTROLLER_BUCKET_OPT_NOT_FN
        ok 5 - FST_ERR_SCHEMA_ERROR_FORMATTER_NOT_FN
        ok 6 - FST_ERR_AJV_CUSTOM_OPTIONS_OPT_NOT_OBJ
        ok 7 - FST_ERR_AJV_CUSTOM_OPTIONS_OPT_NOT_ARR
        ok 8 - FST_ERR_VERSION_CONSTRAINT_NOT_STR
        ok 9 - FST_ERR_CTP_ALREADY_PRESENT
        ok 10 - FST_ERR_CTP_INVALID_TYPE
        ok 11 - FST_ERR_CTP_EMPTY_TYPE
        ok 12 - FST_ERR_CTP_INVALID_HANDLER
        ok 13 - FST_ERR_CTP_INVALID_PARSE_TYPE
        ok 14 - FST_ERR_CTP_BODY_TOO_LARGE
        ok 15 - FST_ERR_CTP_INVALID_MEDIA_TYPE
        ok 16 - FST_ERR_CTP_INVALID_CONTENT_LENGTH
        ok 17 - FST_ERR_CTP_EMPTY_JSON_BODY
        ok 18 - FST_ERR_CTP_INSTANCE_ALREADY_STARTED
        ok 19 - FST_ERR_INSTANCE_ALREADY_LISTENING
        ok 20 - FST_ERR_DEC_ALREADY_PRESENT
        ok 21 - FST_ERR_DEC_DEPENDENCY_INVALID_TYPE
        ok 22 - FST_ERR_DEC_MISSING_DEPENDENCY
        ok 23 - FST_ERR_DEC_AFTER_START
        ok 24 - FST_ERR_HOOK_INVALID_TYPE
        ok 25 - FST_ERR_HOOK_INVALID_HANDLER
        ok 26 - FST_ERR_HOOK_INVALID_ASYNC_HANDLER
        ok 27 - FST_ERR_HOOK_NOT_SUPPORTED
        ok 28 - FST_ERR_MISSING_MIDDLEWARE
        ok 29 - FST_ERR_HOOK_TIMEOUT
        ok 30 - FST_ERR_LOG_INVALID_DESTINATION
        ok 31 - FST_ERR_LOG_INVALID_LOGGER
        ok 32 - FST_ERR_REP_INVALID_PAYLOAD_TYPE
        ok 33 - FST_ERR_REP_ALREADY_SENT
        ok 34 - FST_ERR_REP_SENT_VALUE
        ok 35 - FST_ERR_SEND_INSIDE_ONERR
        ok 36 - FST_ERR_SEND_UNDEFINED_ERR
        ok 37 - FST_ERR_BAD_STATUS_CODE
        ok 38 - FST_ERR_BAD_TRAILER_NAME
        ok 39 - FST_ERR_BAD_TRAILER_VALUE
        ok 40 - FST_ERR_FAILED_ERROR_SERIALIZATION
        ok 41 - FST_ERR_MISSING_SERIALIZATION_FN
        ok 42 - FST_ERR_MISSING_CONTENTTYPE_SERIALIZATION_FN
        ok 43 - FST_ERR_REQ_INVALID_VALIDATION_INVOCATION
        ok 44 - FST_ERR_SCH_MISSING_ID
        ok 45 - FST_ERR_SCH_ALREADY_PRESENT
        ok 46 - FST_ERR_SCH_CONTENT_MISSING_SCHEMA
        ok 47 - FST_ERR_SCH_DUPLICATE
        ok 48 - FST_ERR_SCH_VALIDATION_BUILD
        ok 49 - FST_ERR_SCH_SERIALIZATION_BUILD
        ok 50 - FST_ERR_SCH_RESPONSE_SCHEMA_NOT_NESTED_2XX
        ok 51 - FST_ERR_HTTP2_INVALID_VERSION
        ok 52 - FST_ERR_INIT_OPTS_INVALID
        ok 53 - FST_ERR_FORCE_CLOSE_CONNECTIONS_IDLE_NOT_AVAILABLE
        ok 54 - FST_ERR_DUPLICATED_ROUTE
        ok 55 - FST_ERR_BAD_URL
        ok 56 - FST_ERR_ASYNC_CONSTRAINT
        ok 57 - FST_ERR_DEFAULT_ROUTE_INVALID_TYPE
        ok 58 - FST_ERR_INVALID_URL
        ok 59 - FST_ERR_ROUTE_OPTIONS_NOT_OBJ
        ok 60 - FST_ERR_ROUTE_DUPLICATED_HANDLER
        ok 61 - FST_ERR_ROUTE_HANDLER_NOT_FN
        ok 62 - FST_ERR_ROUTE_MISSING_HANDLER
        ok 63 - FST_ERR_ROUTE_METHOD_INVALID
        ok 64 - FST_ERR_ROUTE_METHOD_NOT_SUPPORTED
        ok 65 - FST_ERR_ROUTE_BODY_VALIDATION_SCHEMA_NOT_SUPPORTED
        ok 66 - FST_ERR_ROUTE_BODY_LIMIT_OPTION_NOT_INT
        ok 67 - FST_ERR_ROUTE_REWRITE_NOT_STR
        ok 68 - FST_ERR_REOPENED_CLOSE_SERVER
        ok 69 - FST_ERR_REOPENED_SERVER
        ok 70 - FST_ERR_PLUGIN_VERSION_MISMATCH
        ok 71 - FST_ERR_PLUGIN_CALLBACK_NOT_FN
        ok 72 - FST_ERR_PLUGIN_NOT_VALID
        ok 73 - FST_ERR_ROOT_PLG_BOOTED
        ok 74 - FST_ERR_PARENT_PLUGIN_BOOTED
        ok 75 - FST_ERR_PLUGIN_TIMEOUT
        ok 76 - FST_ERR_PLUGIN_NOT_PRESENT_IN_INSTANCE
        ok 77 - FST_ERR_VALIDATION
        ok 78 - FST_ERR_LISTEN_OPTIONS_INVALID
    ok 85 - Ensure that non-existing errors are not in Errors.md documented # time=30.854ms
    
    1..85
    # time=615.948ms
ok 68 - test/internals/errors.test.js # time=615.948ms

# Subtest: test/internals/handleRequest.test.js
    # Subtest: handleRequest function - sent reply
        1..1
        ok 1 - should be equal
    ok 1 - handleRequest function - sent reply # time=5.071ms
    
    # Subtest: handleRequest function - invoke with error
        1..1
        ok 1 - should be equal
    ok 2 - handleRequest function - invoke with error # time=1.322ms
    
    # Subtest: handler function - invalid schema
        1..1
        ok 1 - errorHandler called
    ok 3 - handler function - invalid schema # time=46.645ms
    
    # Subtest: handler function - reply
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - (unnamed test)
    ok 4 - handler function - reply # time=2.731ms
    
    # Subtest: handler function - preValidationCallback with finished response
        1..0
    ok 5 - handler function - preValidationCallback with finished response # time=0.989ms
    
    # Subtest: request should be defined in onSend Hook on post request with content type application/json
        1..8
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - should not error
        ok 8 - should be equal
    ok 6 - request should be defined in onSend Hook on post request with content type application/json # time=119.183ms
    
    # Subtest: request should be defined in onSend Hook on post request with content type application/x-www-form-urlencoded
        1..7
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - should not error
        ok 7 - should be equal
    ok 7 - request should be defined in onSend Hook on post request with content type application/x-www-form-urlencoded # time=9.355ms
    
    # Subtest: request should be defined in onSend Hook on options request with content type application/x-www-form-urlencoded
        1..7
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - should not error
        ok 7 - should be equal
    ok 8 - request should be defined in onSend Hook on options request with content type application/x-www-form-urlencoded # time=17.141ms
    
    # Subtest: request should respond with an error if an unserialized payload is sent inside an async handler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent strictly
    ok 9 - request should respond with an error if an unserialized payload is sent inside an async handler # time=25.616ms
    
    1..9
    # time=247.263ms
ok 69 - test/internals/handleRequest.test.js # time=247.263ms

# Subtest: test/internals/hookRunner.test.js
    # Subtest: hookRunner - Basic
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
    ok 1 - hookRunner - Basic # time=7.804ms
    
    # Subtest: hookRunner - In case of error should skip to done
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
    ok 2 - hookRunner - In case of error should skip to done # time=3.173ms
    
    # Subtest: hookRunner - Should handle throw
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
    ok 3 - hookRunner - Should handle throw # time=3.026ms
    
    # Subtest: hookRunner - Should handle promises
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
    ok 4 - hookRunner - Should handle promises # time=18.842ms
    
    # Subtest: hookRunner - In case of error should skip to done (with promises)
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
    ok 5 - hookRunner - In case of error should skip to done (with promises) # time=3.366ms
    
    # Subtest: hookRunner - Be able to exit before its natural end
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 6 - hookRunner - Be able to exit before its natural end # time=1.953ms
    
    # Subtest: hookRunner - Promises that resolve to a value do not change the state
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 7 - hookRunner - Promises that resolve to a value do not change the state # time=2.564ms
    
    # Subtest: onSendHookRunner - Basic
        1..13
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should be equivalent
        ok 9 - should be equal
        ok 10 - should not error
        ok 11 - should be equivalent
        ok 12 - should be equivalent
        ok 13 - should be equal
    ok 8 - onSendHookRunner - Basic # time=8.683ms
    
    # Subtest: onSendHookRunner - Can change the payload
        1..7
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equivalent
        ok 7 - should be equivalent
    ok 9 - onSendHookRunner - Can change the payload # time=3.925ms
    
    # Subtest: onSendHookRunner - In case of error should skip to done
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 10 - onSendHookRunner - In case of error should skip to done # time=3.158ms
    
    # Subtest: onSendHookRunner - Should handle promises
        1..7
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equivalent
        ok 7 - should be equivalent
    ok 11 - onSendHookRunner - Should handle promises # time=3.758ms
    
    # Subtest: onSendHookRunner - In case of error should skip to done (with promises)
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
    ok 12 - onSendHookRunner - In case of error should skip to done (with promises) # time=3.316ms
    
    # Subtest: onSendHookRunner - Be able to exit before its natural end
        1..2
        ok 1 - should be equivalent
        ok 2 - should be equivalent
    ok 13 - onSendHookRunner - Be able to exit before its natural end # time=2.118ms
    
    1..13
    # time=81.938ms
ok 70 - test/internals/hookRunner.test.js # time=81.938ms

# Subtest: test/internals/hooks.test.js
    # Subtest: hooks should have 4 array with the registered hooks
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - expect truthy value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        1..8
    ok 1 - hooks should have 4 array with the registered hooks # time=7.072ms
    
    # Subtest: hooks.add should add a hook to the given hook
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        1..14
    ok 2 - hooks.add should add a hook to the given hook # time=5.197ms
    
    # Subtest: hooks should throw on unexisting handler
        1..1
        ok 1 - (unnamed test)
    ok 3 - hooks should throw on unexisting handler # time=1.676ms
    
    # Subtest: should throw on wrong parameters
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 4 - should throw on wrong parameters # time=2.128ms
    
    1..4
    # time=27.414ms
ok 71 - test/internals/hooks.test.js # time=27.414ms

# Subtest: test/internals/initialConfig.test.js
    # Subtest: Fastify.initialConfig is an object
        1..1
        ok 1 - type is object
    ok 1 - Fastify.initialConfig is an object # time=12.496ms
    
    # Subtest: without options passed to Fastify, initialConfig should expose default values
        1..1
        ok 1 - should be equivalent
    ok 2 - without options passed to Fastify, initialConfig should expose default values # time=5.325ms
    
    # Subtest: Fastify.initialConfig should expose all options
        1..21
        ok 1 - should be equal
        ok 2 - for security reason the key cert is hidden
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - expect truthy value
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equal
        ok 18 - should be equal
        ok 19 - should be equal
        ok 20 - should be equal
        ok 21 - should be equal
    ok 3 - Fastify.initialConfig should expose all options # time=10.051ms
    
    # Subtest: Should throw if you try to modify Fastify.initialConfig
        1..4
        ok 1 - type is TypeError
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - (unnamed test)
    ok 4 - Should throw if you try to modify Fastify.initialConfig # time=3.219ms
    
    # Subtest: We must avoid shallow freezing and ensure that the whole object is freezed
        1..4
        ok 1 - type is TypeError
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - key cert removed
    ok 5 - We must avoid shallow freezing and ensure that the whole object is freezed # time=28.862ms
    
    # Subtest: https value check
        1..1
        ok 1 - expect falsey value
    ok 6 - https value check # time=1.475ms
    
    # Subtest: Return an error if options do not match the validation schema
        1..6
        ok 1 - type is Error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect truthy value
        ok 6 - (unnamed test)
    ok 7 - Return an error if options do not match the validation schema # time=4.219ms
    
    # Subtest: Original options must not be frozen
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 8 - Original options must not be frozen # time=3.976ms
    
    # Subtest: Original options must not be altered (test deep cloning)
        1..3
        ok 1 - should be equal
        ok 2 - should be equivalent
        ok 3 - should be equivalent
    ok 9 - Original options must not be altered (test deep cloning) # time=5.304ms
    
    # Subtest: Should not have issues when passing stream options to Pino.js
        1..17
        ok 1 - type is object
        ok 2 - should be equivalent
        ok 3 - listen at log message is ok
        ok 4 - should not error
        ok 5 - reqId is defined
        ok 6 - child logger binding is set
        ok 7 - req is defined
        ok 8 - message is set
        ok 9 - method is get
        ok 10 - expect truthy value
        ok 11 - should be equal
        ok 12 - reqId is defined
        ok 13 - child logger binding is set
        ok 14 - res is defined
        ok 15 - message is set
        ok 16 - statusCode is 200
        ok 17 - responseTime is defined
    ok 10 - Should not have issues when passing stream options to Pino.js # time=31.401ms
    
    # Subtest: deepFreezeObject() should not throw on TypedArray
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - (unnamed test)
    ok 11 - deepFreezeObject() should not throw on TypedArray # time=2.494ms
    
    # Subtest: Fastify.initialConfig should accept the deprecated versioning option
        1..1
        ok 1 - should be equal
    ok 12 - Fastify.initialConfig should accept the deprecated versioning option # time=3.453ms
    
    # Subtest: pluginTimeout should be parsed correctly
        ok 1 - should be equal
        ok 2 - should be equal
        1..2
    ok 13 - pluginTimeout should be parsed correctly # time=2.257ms
    
    1..13
    # time=186.257ms
ok 72 - test/internals/initialConfig.test.js # time=186.257ms

# Subtest: test/internals/logger.test.js
    # Subtest: time resolution
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 1 - time resolution # time=5.545ms
    
    # Subtest: The logger should add a unique id for every request
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - the id should not be duplicated
        ok 5 - expect truthy value
        ok 6 - should not error
        ok 7 - the id should not be duplicated
        ok 8 - expect truthy value
        ok 9 - should not error
        ok 10 - the id should not be duplicated
        ok 11 - expect truthy value
        ok 12 - should not error
        ok 13 - the id should not be duplicated
        ok 14 - expect truthy value
        ok 15 - should not error
        ok 16 - the id should not be duplicated
        ok 17 - expect truthy value
        ok 18 - should not error
        ok 19 - the id should not be duplicated
        ok 20 - expect truthy value
        ok 21 - should not error
        ok 22 - the id should not be duplicated
        ok 23 - expect truthy value
        ok 24 - should not error
        ok 25 - the id should not be duplicated
        ok 26 - expect truthy value
        ok 27 - should not error
        ok 28 - the id should not be duplicated
        ok 29 - expect truthy value
        ok 30 - should not error
        ok 31 - the id should not be duplicated
        1..31
    ok 2 - The logger should add a unique id for every request # time=69.203ms
    
    # Subtest: The logger should reuse request id header for req.id
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - the request id from the header should be returned
        1..4
    ok 3 - The logger should reuse request id header for req.id # time=16.773ms
    
    # Subtest: The logger should error if both stream and file destination are given
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 4 - The logger should error if both stream and file destination are given # time=2.21ms
    
    # Subtest: The serializer prevent fails if the request socket is undefined
        1..1
        ok 1 - should be equivalent
    ok 5 - The serializer prevent fails if the request socket is undefined # time=5.001ms
    
    1..5
    # time=108.906ms
ok 73 - test/internals/logger.test.js # time=108.906ms

# Subtest: test/internals/plugin.test.js
    # Subtest: shouldSkipOverride should check the 'skip-override' symbol
        1..2
        ok 1 - expect truthy value
        ok 2 - expect falsey value
    ok 1 - shouldSkipOverride should check the 'skip-override' symbol # time=5.867ms
    
    # Subtest: getPluginName should return plugin name if the file is cached
        1..1
        ok 1 - should be equal
    ok 2 - getPluginName should return plugin name if the file is cached # time=1.527ms
    
    # Subtest: getPluginName should not throw when require.cache is undefined
        1..1
        ok 1 - should be equal
    ok 3 - getPluginName should not throw when require.cache is undefined # time=1.855ms
    
    # Subtest: getMeta should return the object stored with the 'plugin-meta' symbol
        1..1
        ok 1 - should be equivalent
    ok 4 - getMeta should return the object stored with the 'plugin-meta' symbol # time=3.749ms
    
    # Subtest: checkDecorators should check if the given decorator is present in the instance
        1..1
        ok 1 - Everything ok
    ok 5 - checkDecorators should check if the given decorator is present in the instance # time=1.408ms
    
    # Subtest: checkDecorators should check if the given decorator is present in the instance (errored)
        1..1
        ok 1 - should be equal
    ok 6 - checkDecorators should check if the given decorator is present in the instance (errored) # time=1.493ms
    
    # Subtest: checkDecorators should accept optional decorators
        1..1
        ok 1 - Everything ok
    ok 7 - checkDecorators should accept optional decorators # time=1.09ms
    
    # Subtest: checkDependencies should check if the given dependency is present in the instance
        1..1
        ok 1 - Everything ok
    ok 8 - checkDependencies should check if the given dependency is present in the instance # time=1.139ms
    
    # Subtest: checkDependencies should check if the given dependency is present in the instance (errored)
        1..1
        ok 1 - should be equal
    ok 9 - checkDependencies should check if the given dependency is present in the instance (errored) # time=2.147ms
    
    1..9
    # time=49.9ms
ok 74 - test/internals/plugin.test.js # time=49.9ms

# Subtest: test/internals/reply-serialize.test.js
    # Subtest: Reply\#compileSerializationSchema
        1..4
        # Subtest: Should return a serialization function
            1..4
            ok 1 - type is Function
            ok 2 - type is string
            ok 3 - should be equal
            ok 4 - should be equal
        ok 1 - Should return a serialization function # time=48.745ms
        
        # Subtest: Should reuse the serialize fn across multiple invocations - Route without schema
            1..17
            ok 1 - build the schema compilation function
            ok 2 - type is Function
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - Are the same validate function
            ok 6 - type is Function
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - Are the same validate function
            ok 10 - type is Function
            ok 11 - should be equal
            ok 12 - should be equal
            ok 13 - Are the same validate function
            ok 14 - type is Function
            ok 15 - should be equal
            ok 16 - should be equal
            ok 17 - should be equal
        ok 2 - Should reuse the serialize fn across multiple invocations - Route without schema # time=12.169ms
        
        # Subtest: Should use the custom serializer compiler for the route
            1..17
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equivalent
            ok 7 - {"hello":"world"}
            ok 8 - should be equivalent
            ok 9 - {"hello":"world"}
            ok 10 - should be equal
            ok 11 - should be equal
            ok 12 - should be equal
            ok 13 - should be equal
            ok 14 - should be equal
            ok 15 - should be equal
            ok 16 - should be equivalent
            ok 17 - {"fullName":"Jone","phone":1090243795}
        ok 3 - Should use the custom serializer compiler for the route # time=14.585ms
        
        # Subtest: Should build a WeakMap for cache when called
            1..4
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - type is WeakMap
            ok 4 - should be equal
        ok 4 - Should build a WeakMap for cache when called # time=15.754ms
        
    ok 1 - Reply\#compileSerializationSchema # time=108.128ms
    
    # Subtest: Reply\#getSerializationFunction
        1..3
        # Subtest: Should retrieve the serialization function from the Schema definition
            1..13
            ok 1 - type is Function
            ok 2 - type is Function
            ok 3 - type is Function
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - expect falsey value
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
            ok 11 - should be equal
            ok 12 - should be equal
            ok 13 - should be equal
        ok 1 - Should retrieve the serialization function from the Schema definition # time=26.811ms
        
        # Subtest: Should retrieve the serialization function from the cached one
            1..6
            ok 1 - type is Function
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
        ok 2 - Should retrieve the serialization function from the cached one # time=6.415ms
        
        # Subtest: Should not instantiate a WeakMap if it is not needed
            1..4
            ok 1 - expect falsey value
            ok 2 - should be equal
            ok 3 - expect falsey value
            ok 4 - should be equal
        ok 3 - Should not instantiate a WeakMap if it is not needed # time=12.463ms
        
    ok 2 - Reply\#getSerializationFunction # time=57.751ms
    
    # Subtest: Reply\#serializeInput
        1..6
        # Subtest: Should throw if missed serialization function from HTTP status
            1..2
            ok 1 - should be equal
            ok 2 - should be equivalent
        ok 1 - Should throw if missed serialization function from HTTP status # time=58.129ms
        
        # Subtest: Should throw if missed serialization function from HTTP status with specific content type
            1..2
            ok 1 - should be equal
            ok 2 - should be equivalent
        ok 2 - Should throw if missed serialization function from HTTP status with specific content type # time=6.228ms
        
        # Subtest: Should use a serializer fn from HTTP status
            1..6
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
        ok 3 - Should use a serializer fn from HTTP status # time=35.802ms
        
        # Subtest: Should compile a serializer out of a schema if serializer fn missed
            1..10
            ok 1 - should be equal
            ok 2 - expect falsey value
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
        ok 4 - Should compile a serializer out of a schema if serializer fn missed # time=13.085ms
        
        # Subtest: Should use a cached serializer fn
            1..12
            ok 1 - should be equal
            ok 2 - expect falsey value
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
            ok 11 - should be equal
            ok 12 - should be equal
        ok 5 - Should use a cached serializer fn # time=12.731ms
        
        # Subtest: Should instantiate a WeakMap after first call
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - type is WeakMap
        ok 6 - Should instantiate a WeakMap after first call # time=9.17ms
        
    ok 3 - Reply\#serializeInput # time=147.459ms
    
    1..3
    # time=322.621ms
ok 75 - test/internals/reply-serialize.test.js # time=322.621ms

# Subtest: test/internals/reply.test.js
    # Subtest: Once called, Reply should return an object with methods
        1..16
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - expect falsey value
    ok 1 - Once called, Reply should return an object with methods # time=12.856ms
    
    # Subtest: reply.send will logStream error and destroy the stream
        1..1
        ok 1 - Error not logged and not streamed
    ok 2 - reply.send will logStream error and destroy the stream # time=3.822ms
    
    # Subtest: reply.send throw with circular JSON
        1..1
        ok 1 - Converting circular structure to JSON
    ok 3 - reply.send throw with circular JSON # time=1.43ms
    
    # Subtest: reply.send returns itself
        1..1
        ok 1 - should be equal
    ok 4 - reply.send returns itself # time=1.496ms
    
    # Subtest: reply.serializer should set a custom serializer
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 5 - reply.serializer should set a custom serializer # time=1.373ms
    
    # Subtest: reply.serializer should support running preSerialization hooks
        1..3
        ok 1 - preSerialization
        ok 2 - should not error
        ok 3 - should be equal
    ok 6 - reply.serializer should support running preSerialization hooks # time=116.914ms
    
    # Subtest: reply.serialize should serialize payload
        1..1
        ok 1 - should be equal
    ok 7 - reply.serialize should serialize payload # time=1.44ms
    
    # Subtest: reply.serialize should serialize payload with a custom serializer
        1..2
        ok 1 - should be equal
        ok 2 - custom serializer not called
    ok 8 - reply.serialize should serialize payload with a custom serializer # time=1.358ms
    
    # Subtest: reply.serialize should serialize payload with a context default serializer
        1..2
        ok 1 - should be equal
        ok 2 - custom serializer not called
    ok 9 - reply.serialize should serialize payload with a context default serializer # time=1.335ms
    
    # Subtest: reply.serialize should serialize payload with Fastify instance
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 10 - reply.serialize should serialize payload with Fastify instance # time=13.536ms
    
    # Subtest: within an instance
        ok 1 - should not error
        # Subtest: custom serializer should be used
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 2 - custom serializer should be used # time=25.704ms
        
        # Subtest: status code and content-type should be correct
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 3 - status code and content-type should be correct # time=4.344ms
        
        # Subtest: auto status code should be 200
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 4 - auto status code should be 200 # time=3.299ms
        
        # Subtest: auto type should be text/plain
            1..3
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equivalent
        ok 5 - auto type should be text/plain # time=4.422ms
        
        # Subtest: redirect to `/` - 1
            1..1
            ok 1 - should be equal
        ok 6 - redirect to `/` - 1 # time=2.527ms
        
        # Subtest: redirect to `/` - 2
            1..1
            ok 1 - should be equal
        ok 7 - redirect to `/` - 2 # time=2.413ms
        
        # Subtest: redirect to `/` - 3
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 8 - redirect to `/` - 3 # time=4.659ms
        
        # Subtest: redirect to `/` - 4
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 9 - redirect to `/` - 4 # time=8.888ms
        
        # Subtest: redirect to `/` - 5
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
        ok 10 - redirect to `/` - 5 # time=5.442ms
        
        # Subtest: redirect to `/` - 6
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 11 - redirect to `/` - 6 # time=8.116ms
        
        # Subtest: redirect to `/` - 7
            1..4
            ok 1 - should not error
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 12 - redirect to `/` - 7 # time=4.638ms
        
        # Subtest: redirect to `/` - 8
            1..1
            ok 1 - should be equal
        ok 13 - redirect to `/` - 8 # time=2.071ms
        
        # Subtest: redirect to `/` - 9
            1..1
            ok 1 - should be equal
        ok 14 - redirect to `/` - 9 # time=2.144ms
        
        # Subtest: redirect with async function to `/` - 10
            1..1
            ok 1 - should be equal
        ok 15 - redirect with async function to `/` - 10 # time=2.375ms
        
        1..15
    ok 11 - within an instance # time=111.436ms
    
    # Subtest: buffer without content type should send a application/octet-stream and raw buffer
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 12 - buffer without content type should send a application/octet-stream and raw buffer # time=19.159ms
    
    # Subtest: Uint8Array without content type should send a application/octet-stream and raw buffer
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 13 - Uint8Array without content type should send a application/octet-stream and raw buffer # time=46.62ms
    
    # Subtest: Uint16Array without content type should send a application/octet-stream and raw buffer
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 14 - Uint16Array without content type should send a application/octet-stream and raw buffer # time=6.772ms
    
    # Subtest: TypedArray with content type should not send application/octet-stream
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 15 - TypedArray with content type should not send application/octet-stream # time=54.163ms
    
    # Subtest: buffer with content type should not send application/octet-stream
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 16 - buffer with content type should not send application/octet-stream # time=10.144ms
    
    # Subtest: stream with content type should not send application/octet-stream
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 17 - stream with content type should not send application/octet-stream # time=11.953ms
    
    # Subtest: stream without content type should not send application/octet-stream
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 18 - stream without content type should not send application/octet-stream # time=69.7ms
    
    # Subtest: stream using reply.raw.writeHead should return customize headers
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 19 - stream using reply.raw.writeHead should return customize headers # time=27.785ms
    
    # Subtest: plain string without content type should send a text/plain
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 20 - plain string without content type should send a text/plain # time=43.604ms
    
    # Subtest: plain string with content type should be sent unmodified
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 21 - plain string with content type should be sent unmodified # time=13.693ms
    
    # Subtest: plain string with content type and custom serializer should be serialized
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 22 - plain string with content type and custom serializer should be serialized # time=9.279ms
    
    # Subtest: plain string with content type application/json should NOT be serialized as json
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 23 - plain string with content type application/json should NOT be serialized as json # time=10.22ms
    
    # Subtest: plain string with custom json content type should NOT be serialized as json
        1..19
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equal
        ok 13 - should be equivalent
        ok 14 - should not error
        ok 15 - should be equal
        ok 16 - should be equivalent
        ok 17 - should not error
        ok 18 - should be equal
        ok 19 - should be equivalent
    ok 24 - plain string with custom json content type should NOT be serialized as json # time=19.262ms
    
    # Subtest: non-string with content type application/json SHOULD be serialized as json
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 25 - non-string with content type application/json SHOULD be serialized as json # time=5.502ms
    
    # Subtest: non-string with custom json's content-type SHOULD be serialized as json
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 26 - non-string with custom json's content-type SHOULD be serialized as json # time=5.148ms
    
    # Subtest: non-string with custom json content type SHOULD be serialized as json
        1..16
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equal
        ok 13 - should be equivalent
        ok 14 - should not error
        ok 15 - should be equal
        ok 16 - should be equivalent
    ok 27 - non-string with custom json content type SHOULD be serialized as json # time=13.112ms
    
    # Subtest: error object with a content type that is not application/json should work
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 28 - error object with a content type that is not application/json should work # time=6.24ms
    
    # Subtest: undefined payload should be sent as-is
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 29 - undefined payload should be sent as-is # time=8.808ms
    
    # Subtest: for HEAD method, no body should be sent but content-length should be
        1..11
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
    ok 30 - for HEAD method, no body should be sent but content-length should be # time=8.708ms
    
    # Subtest: reply.send(new NotFound()) should not invoke the 404 handler
        1..9
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equivalent
    ok 31 - reply.send(new NotFound()) should not invoke the 404 handler # time=10.148ms
    
    # Subtest: reply can set multiple instances of same header
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - expect truthy value
        ok 4 - should be equivalent strictly
    ok 32 - reply can set multiple instances of same header # time=10.647ms
    
    # Subtest: reply.hasHeader returns correct values
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 33 - reply.hasHeader returns correct values # time=10.981ms
    
    # Subtest: reply.getHeader returns correct values
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent strictly
        ok 4 - should be equivalent strictly
        ok 5 - should be equivalent strictly
    ok 34 - reply.getHeader returns correct values # time=7.171ms
    
    # Subtest: reply.getHeader returns raw header if there is not in the reply headers
        1..1
        ok 1 - should be equal
    ok 35 - reply.getHeader returns raw header if there is not in the reply headers # time=1.588ms
    
    # Subtest: reply.getHeaders returns correct values
        1..3
        ok 1 - should be equivalent strictly
        ok 2 - should be equivalent strictly
        ok 3 - should not error
    ok 36 - reply.getHeaders returns correct values # time=3.999ms
    
    # Subtest: reply.removeHeader can remove the value
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent strictly
        ok 5 - (unnamed test)
    ok 37 - reply.removeHeader can remove the value # time=5.915ms
    
    # Subtest: reply.header can reset the value
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent strictly
        ok 3 - (unnamed test)
    ok 38 - reply.header can reset the value # time=13.099ms
    
    # Subtest: reply.hasHeader computes raw and fastify headers
        1..4
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - (unnamed test)
    ok 39 - reply.hasHeader computes raw and fastify headers # time=17.885ms
    
    # Subtest: Reply should handle JSON content type with a charset
        1..16
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should not error
        ok 12 - should be equal
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should not error
        ok 16 - should be equal
    ok 40 - Reply should handle JSON content type with a charset # time=11.479ms
    
    # Subtest: Content type and charset set previously
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 41 - Content type and charset set previously # time=3.272ms
    
    # Subtest: .status() is an alias for .code()
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 42 - .status() is an alias for .code() # time=2.895ms
    
    # Subtest: .statusCode is getter and setter
        1..4
        ok 1 - 200
        ok 2 - 418
        ok 3 - should not error
        ok 4 - should be equal
    ok 43 - .statusCode is getter and setter # time=4.566ms
    
    # Subtest: reply.header setting multiple cookies as multiple Set-Cookie headers
        1..7
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should be equivalent strictly
        ok 4 - should not error
        ok 5 - should not error
        ok 6 - expect truthy value
        ok 7 - should be equivalent strictly
    ok 44 - reply.header setting multiple cookies as multiple Set-Cookie headers # time=7.409ms
    
    # Subtest: should emit deprecation warning when trying to modify the reply.sent property
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - (unnamed test)
    ok 45 - should emit deprecation warning when trying to modify the reply.sent property # time=3.991ms
    
    # Subtest: should emit deprecation warning when trying to use the reply.context.config property
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - (unnamed test)
    ok 46 - should emit deprecation warning when trying to use the reply.context.config property # time=3.748ms
    
    # Subtest: should throw error when passing falsy value to reply.sent
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - (unnamed test)
    ok 47 - should throw error when passing falsy value to reply.sent # time=5.089ms
    
    # Subtest: should throw error when attempting to set reply.sent more than once
        1..3
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - (unnamed test)
    ok 48 - should throw error when attempting to set reply.sent more than once # time=3.271ms
    
    # Subtest: should not throw error when attempting to set reply.sent if the underlining request was sent
        1..3
        ok 1 - expected to not throw
        ok 2 - should not error
        ok 3 - (unnamed test)
    ok 49 - should not throw error when attempting to set reply.sent if the underlining request was sent # time=3.263ms
    
    # Subtest: reply.getResponseTime() should return 0 before the timer is initialised on the reply by setting up response listeners
        1..1
        ok 1 - should be equal
    ok 50 - reply.getResponseTime() should return 0 before the timer is initialised on the reply by setting up response listeners # time=1.017ms
    
    # Subtest: reply.getResponseTime() should return a number greater than 0 after the timer is initialised on the reply by setting up response listeners
        1..1
        ok 1 - expect truthy value
    ok 51 - reply.getResponseTime() should return a number greater than 0 after the timer is initialised on the reply by setting up response listeners # time=2.982ms
    
    # Subtest: reply.getResponseTime() should return the time since a request started while inflight
        1..1
        ok 1 - should not be equal
    ok 52 - reply.getResponseTime() should return the time since a request started while inflight # time=6.521ms
    
    # Subtest: reply.getResponseTime() should return the same value after a request is finished
        1..1
        ok 1 - should be equal
    ok 53 - reply.getResponseTime() should return the same value after a request is finished # time=3.588ms
    
    # Subtest: reply should use the custom serializer
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 54 - reply should use the custom serializer # time=3.946ms
    
    # Subtest: reply should use the right serializer in encapsulated context
        1..9
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should not error
        ok 9 - should be equal
    ok 55 - reply should use the right serializer in encapsulated context # time=7.756ms
    
    # Subtest: reply should use the right serializer in deep encapsulated context
        1..8
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 56 - reply should use the right serializer in deep encapsulated context # time=7.153ms
    
    # Subtest: reply should use the route serializer
        1..3
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equal
    ok 57 - reply should use the route serializer # time=3.234ms
    
    # Subtest: cannot set the replySerializer when the server is running
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 58 - cannot set the replySerializer when the server is running # time=3.322ms
    
    # Subtest: reply should not call the custom serializer for errors and not found
        1..9
        ok 1 - should be equivalent
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should not error
        ok 9 - should be equal
    ok 59 - reply should not call the custom serializer for errors and not found # time=6.461ms
    
    # Subtest: reply.then
        1..4
        # Subtest: without an error
            1..1
            ok 1 - fulfilled called
        ok 1 - without an error # time=12.783ms
        
        # Subtest: with an error
            1..1
            ok 1 - should be equal
        ok 2 - with an error # time=1.398ms
        
        # Subtest: with error but without reject callback
            1..1
            ok 1 - (unnamed test)
        ok 3 - with error but without reject callback # time=6.541ms
        
        # Subtest: with error, without reject callback, with logger
            1..1
            ok 1 - should be equal
        ok 4 - with error, without reject callback, with logger # time=1.457ms
        
    ok 60 - reply.then # time=28.039ms
    
    # Subtest: reply.sent should read from response.writableEnded if it is defined
        1..1
        ok 1 - should be equal
    ok 61 - reply.sent should read from response.writableEnded if it is defined # time=0.923ms
    
    # Subtest: redirect to an invalid URL should not crash the server
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        1..7
    ok 62 - redirect to an invalid URL should not crash the server # time=22.716ms
    
    # Subtest: invalid response headers should not crash the server
        ok 1 - only the first invalid header is logged
        ok 2 - should be equal
        ok 3 - should be equivalent
        1..3
    ok 63 - invalid response headers should not crash the server # time=12.881ms
    
    # Subtest: invalid response headers when sending back an error
        ok 1 - only the first invalid header is logged
        ok 2 - should be equal
        ok 3 - should be equivalent
        1..3
    ok 64 - invalid response headers when sending back an error # time=5.11ms
    
    # Subtest: invalid response headers and custom error handler
        ok 1 - custom error handler receives the error
        ok 2 - only the first invalid header is logged
        ok 3 - should be equal
        ok 4 - should be equivalent
        1..4
    ok 65 - invalid response headers and custom error handler # time=5.611ms
    
    # Subtest: reply.send will intercept ERR_HTTP_HEADERS_SENT and log an error message
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 66 - reply.send will intercept ERR_HTTP_HEADERS_SENT and log an error message # time=1.547ms
    
    # Subtest: Uint8Array view of ArrayBuffer returns correct byteLength
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 67 - Uint8Array view of ArrayBuffer returns correct byteLength # time=9.13ms
    
    1..67
    # time=1002.509ms
ok 76 - test/internals/reply.test.js # time=1002.509ms

# Subtest: test/internals/reqIdGenFactory.test.js
    # Subtest: should create incremental ids deterministically
        1..1
        ok 1 - (unnamed test)
    ok 1 - should create incremental ids deterministically # time=7.172ms
    
    # Subtest: should have prefix "req-"
        1..1
        ok 1 - expect truthy value
    ok 2 - should have prefix "req-" # time=1.273ms
    
    # Subtest: different id generator functions should have separate internal counters
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
    ok 3 - different id generator functions should have separate internal counters # time=2.395ms
    
    # Subtest: should start counting with 1
        1..1
        ok 1 - should be equal
    ok 4 - should start counting with 1 # time=0.999ms
    
    # Subtest: should handle requestIdHeader and return provided id in header
        1..1
        ok 1 - should be equal
    ok 5 - should handle requestIdHeader and return provided id in header # time=1.096ms
    
    # Subtest: should handle requestIdHeader and fallback if id is not provided in header
        1..1
        ok 1 - should be equal
    ok 6 - should handle requestIdHeader and fallback if id is not provided in header # time=1.011ms
    
    # Subtest: should handle requestIdHeader and increment internal counter if no header was provided
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 7 - should handle requestIdHeader and increment internal counter if no header was provided # time=1.999ms
    
    # Subtest: should use optGenReqId to generate ids
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 8 - should use optGenReqId to generate ids # time=1.977ms
    
    # Subtest: should use optGenReqId to generate ids if requestIdHeader is used but not provided
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 9 - should use optGenReqId to generate ids if requestIdHeader is used but not provided # time=1.989ms
    
    # Subtest: should not use optGenReqId to generate ids if requestIdHeader is used and provided
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 10 - should not use optGenReqId to generate ids if requestIdHeader is used and provided # time=1.344ms
    
    # Subtest: should fallback to use optGenReqId to generate ids if requestIdHeader is sometimes provided
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 11 - should fallback to use optGenReqId to generate ids if requestIdHeader is sometimes provided # time=1.981ms
    
    1..11
    # time=51.584ms
ok 77 - test/internals/reqIdGenFactory.test.js # time=51.584ms

# Subtest: test/internals/request-validate.test.js
    # Subtest: \#compileValidationSchema
        1..7
        # Subtest: Should return a function - Route without schema
            1..3
            ok 1 - type is Function
            ok 2 - expect truthy value
            ok 3 - expect falsey value
        ok 1 - Should return a function - Route without schema # time=113.622ms
        
        # Subtest: Validate function errors property should be null after validation when input is valid
            1..3
            ok 1 - expect truthy value
            ok 2 - expect truthy value
            ok 3 - should be equal
        ok 2 - Validate function errors property should be null after validation when input is valid # time=27.685ms
        
        # Subtest: Validate function errors property should be an array of errors after validation when input is valid
            1..4
            ok 1 - expect falsey value
            ok 2 - expect truthy value
            ok 3 - expect truthy value
            ok 4 - expect truthy value
        ok 3 - Validate function errors property should be an array of errors after validation when input is valid # time=44.844ms
        
        # Subtest: Should reuse the validate fn across multiple invocations - Route without schema
            1..16
            ok 1 - type is Function
            ok 2 - expect truthy value
            ok 3 - expect falsey value
            ok 4 - Are the same validate function
            ok 5 - type is Function
            ok 6 - expect truthy value
            ok 7 - expect falsey value
            ok 8 - Are the same validate function
            ok 9 - type is Function
            ok 10 - expect truthy value
            ok 11 - expect falsey value
            ok 12 - Are the same validate function
            ok 13 - type is Function
            ok 14 - expect truthy value
            ok 15 - expect falsey value
            ok 16 - should be equal
        ok 4 - Should reuse the validate fn across multiple invocations - Route without schema # time=23.356ms
        
        # Subtest: Should return a function - Route with schema
            1..3
            ok 1 - type is Function
            ok 2 - expect truthy value
            ok 3 - expect falsey value
        ok 5 - Should return a function - Route with schema # time=60.98ms
        
        # Subtest: Should use the custom validator compiler for the route
            1..10
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equivalent
            ok 7 - expect truthy value
            ok 8 - should be equivalent
            ok 9 - expect truthy value
            ok 10 - should be equal
        ok 6 - Should use the custom validator compiler for the route # time=10.03ms
        
        # Subtest: Should instantiate a WeakMap when executed for first time
            1..5
            ok 1 - should be equal
            ok 2 - type is Function
            ok 3 - type is WeakMap
            ok 4 - type is Function
            ok 5 - type is WeakMap
        ok 7 - Should instantiate a WeakMap when executed for first time # time=44.378ms
        
    ok 1 - \#compileValidationSchema # time=345.009ms
    
    # Subtest: \#getValidationFunction
        1..6
        # Subtest: Should return a validation function
            1..1
            ok 1 - should be equal
        ok 1 - Should return a validation function # time=28.248ms
        
        # Subtest: Validate function errors property should be null after validation when input is valid
            1..3
            ok 1 - expect truthy value
            ok 2 - expect truthy value
            ok 3 - should be equal
        ok 2 - Validate function errors property should be null after validation when input is valid # time=63.31ms
        
        # Subtest: Validate function errors property should be an array of errors after validation when input is valid
            1..4
            ok 1 - expect falsey value
            ok 2 - expect truthy value
            ok 3 - expect truthy value
            ok 4 - expect truthy value
        ok 3 - Validate function errors property should be an array of errors after validation when input is valid # time=23.775ms
        
        # Subtest: Should return undefined if no schema compiled
            1..2
            ok 1 - expect falsey value
            ok 2 - expect falsey value
        ok 4 - Should return undefined if no schema compiled # time=12.587ms
        
        # Subtest: Should return the validation function from each HTTP part
            1..15
            ok 1 - expect truthy value
            ok 2 - expect truthy value
            ok 3 - expect falsey value
            ok 4 - expect truthy value
            ok 5 - expect truthy value
            ok 6 - expect falsey value
            ok 7 - expect truthy value
            ok 8 - expect truthy value
            ok 9 - expect truthy value
            ok 10 - expect truthy value
            ok 11 - expect falsey value
            ok 12 - should be equal
            ok 13 - expect truthy value
            ok 14 - expect falsey value
            ok 15 - should be equal
        ok 5 - Should return the validation function from each HTTP part # time=72.473ms
        
        # Subtest: Should not set a WeakMap if there is no schema
            1..1
            ok 1 - should be equal
        ok 6 - Should not set a WeakMap if there is no schema # time=3.208ms
        
    ok 2 - \#getValidationFunction # time=213.718ms
    
    # Subtest: \#validate
        1..7
        # Subtest: Should return true/false if input valid - Route without schema
            1..2
            ok 1 - expect falsey value
            ok 2 - expect truthy value
        ok 1 - Should return true/false if input valid - Route without schema # time=51.901ms
        
        # Subtest: Should use the custom validator compiler for the route
            1..9
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equivalent
            ok 6 - should be equivalent
            ok 7 - expect truthy value
            ok 8 - expect truthy value
            ok 9 - should be equal
        ok 2 - Should use the custom validator compiler for the route # time=20.306ms
        
        # Subtest: Should return true/false if input valid - With Schema for Route defined
            1..8
            ok 1 - expect truthy value
            ok 2 - expect falsey value
            ok 3 - expect falsey value
            ok 4 - expect truthy value
            ok 5 - expect falsey value
            ok 6 - expect truthy value
            ok 7 - expect truthy value
            ok 8 - expect falsey value
        ok 3 - Should return true/false if input valid - With Schema for Route defined # time=45.743ms
        
        # Subtest: Should throw if missing validation fn for HTTP part and not schema provided
            1..10
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
        ok 4 - Should throw if missing validation fn for HTTP part and not schema provided # time=18.602ms
        
        # Subtest: Should throw if missing validation fn for HTTP part and not valid schema provided
            1..10
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
        ok 5 - Should throw if missing validation fn for HTTP part and not valid schema provided # time=16.274ms
        
        # Subtest: Should throw if invalid schema passed
            1..10
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
        ok 6 - Should throw if invalid schema passed # time=18.855ms
        
        # Subtest: Should set a WeakMap if compiling the very first schema
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - type is WeakMap
        ok 7 - Should set a WeakMap if compiling the very first schema # time=30.336ms
        
    ok 3 - \#validate # time=212.761ms
    
    # Subtest: Nested Context
        1..1
        # Subtest: Level_1
            1..3
            # Subtest: \#compileValidationSchema
                1..5
                # Subtest: Should return a function - Route without schema
                    1..3
                    ok 1 - type is Function
                    ok 2 - expect truthy value
                    ok 3 - expect falsey value
                ok 1 - Should return a function - Route without schema # time=42.83ms
                
                # Subtest: Should reuse the validate fn across multiple invocations - Route without schema
                    1..16
                    ok 1 - type is Function
                    ok 2 - expect truthy value
                    ok 3 - expect falsey value
                    ok 4 - Are the same validate function
                    ok 5 - type is Function
                    ok 6 - expect truthy value
                    ok 7 - expect falsey value
                    ok 8 - Are the same validate function
                    ok 9 - type is Function
                    ok 10 - expect truthy value
                    ok 11 - expect falsey value
                    ok 12 - Are the same validate function
                    ok 13 - type is Function
                    ok 14 - expect truthy value
                    ok 15 - expect falsey value
                    ok 16 - should be equal
                ok 2 - Should reuse the validate fn across multiple invocations - Route without schema # time=43.757ms
                
                # Subtest: Should return a function - Route with schema
                    1..3
                    ok 1 - type is Function
                    ok 2 - expect truthy value
                    ok 3 - expect falsey value
                ok 3 - Should return a function - Route with schema # time=20.707ms
                
                # Subtest: Should use the custom validator compiler for the route
                    1..10
                    ok 1 - should be equal
                    ok 2 - should be equal
                    ok 3 - should be equal
                    ok 4 - should be equal
                    ok 5 - should be equal
                    ok 6 - should be equivalent
                    ok 7 - expect truthy value
                    ok 8 - should be equivalent
                    ok 9 - expect truthy value
                    ok 10 - should be equal
                ok 4 - Should use the custom validator compiler for the route # time=7.611ms
                
                # Subtest: Should compile the custom validation - nested with schema.headers
                    1..4
                    ok 1 - should be equal
                    ok 2 - should be equal
                    ok 3 - should be equal
                    ok 4 - should be equal
                ok 5 - Should compile the custom validation - nested with schema.headers # time=4.931ms
                
            ok 1 - \#compileValidationSchema # time=132.635ms
            
            # Subtest: \#getValidationFunction
                1..6
                # Subtest: Should return a validation function
                    1..1
                    ok 1 - should be equal
                ok 1 - Should return a validation function # time=24.081ms
                
                # Subtest: Should return undefined if no schema compiled
                    1..1
                    ok 1 - expect falsey value
                ok 2 - Should return undefined if no schema compiled # time=7.612ms
                
                # Subtest: Should return the validation function from each HTTP part
                    1..15
                    ok 1 - expect truthy value
                    ok 2 - expect truthy value
                    ok 3 - expect falsey value
                    ok 4 - expect truthy value
                    ok 5 - expect truthy value
                    ok 6 - expect falsey value
                    ok 7 - expect truthy value
                    ok 8 - expect truthy value
                    ok 9 - expect truthy value
                    ok 10 - expect truthy value
                    ok 11 - expect falsey value
                    ok 12 - should be equal
                    ok 13 - expect truthy value
                    ok 14 - expect falsey value
                    ok 15 - should be equal
                ok 3 - Should return the validation function from each HTTP part # time=22.461ms
                
                # Subtest: Should return a validation function - nested
                    1..6
                    ok 1 - should be equal
                    ok 2 - should be equal
                    ok 3 - should be equal
                    ok 4 - expect falsey value
                    ok 5 - should be equal
                    ok 6 - should be equal
                ok 4 - Should return a validation function - nested # time=13.78ms
                
                # Subtest: Should return undefined if no schema compiled - nested
                    1..3
                    ok 1 - should be equal
                    ok 2 - expect falsey value
                    ok 3 - should be equal
                ok 5 - Should return undefined if no schema compiled - nested # time=8.735ms
                
                # Subtest: Should per-route defined validation compiler
                    1..5
                    ok 1 - should be equal
                    ok 2 - should be equal
                    ok 3 - should not be equal
                    ok 4 - should be equal
                    ok 5 - should be equal
                ok 6 - Should per-route defined validation compiler # time=10.065ms
                
            ok 2 - \#getValidationFunction # time=100.196ms
            
            # Subtest: \#validate
                1..3
                # Subtest: Should return true/false if input valid - Route without schema
                    1..2
                    ok 1 - expect falsey value
                    ok 2 - expect truthy value
                ok 1 - Should return true/false if input valid - Route without schema # time=44.058ms
                
                # Subtest: Should use the custom validator compiler for the route
                    1..10
                    ok 1 - should be equal
                    ok 2 - should be equal
                    ok 3 - should be equal
                    ok 4 - should be equal
                    ok 5 - should be equivalent
                    ok 6 - should be equivalent
                    ok 7 - expect truthy value
                    ok 8 - expect truthy value
                    ok 9 - should be equal
                    ok 10 - should be equal
                ok 2 - Should use the custom validator compiler for the route # time=23.778ms
                
                # Subtest: Should return true/false if input valid - With Schema for Route defined and scoped validator compiler
                    1..13
                    ok 1 - expect truthy value
                    ok 2 - expect falsey value
                    ok 3 - expect falsey value
                    ok 4 - expect truthy value
                    ok 5 - expect falsey value
                    ok 6 - expect truthy value
                    ok 7 - expect truthy value
                    ok 8 - expect falsey value
                    ok 9 - should be equal
                    ok 10 - should be equal
                    ok 11 - should be equal
                    ok 12 - should be equal
                    ok 13 - should be equal
                ok 3 - Should return true/false if input valid - With Schema for Route defined and scoped validator compiler # time=95.502ms
                
            ok 3 - \#validate # time=170.847ms
            
        ok 1 - Level_1 # time=412.074ms
        
    ok 4 - Nested Context # time=418.775ms
    
    1..4
    # time=1203.422ms
ok 78 - test/internals/request-validate.test.js # time=1203.422ms

# Subtest: test/internals/request.test.js
    # Subtest: Regular request
        ok 1 - type is Request
        ok 2 - type is Function
        ok 3 - type is Function
        ok 4 - type is Function
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equal
        ok 18 - should be equal
        ok 19 - should be equal
        ok 20 - should be equal
        ok 21 - should be equal
        ok 22 - should be equal
        ok 23 - should be equal
        ok 24 - expect falsey value
        ok 25 - should be equal
        1..25
    ok 1 - Regular request # time=15.083ms
    
    # Subtest: Request with undefined config
        ok 1 - type is Request
        ok 2 - type is Function
        ok 3 - type is Function
        ok 4 - type is Function
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equal
        ok 18 - should be equal
        ok 19 - should be equal
        ok 20 - should be equal
        ok 21 - should be equal
        ok 22 - should be equal
        ok 23 - should be equal
        ok 24 - expect falsey value
        ok 25 - should be equal
        1..25
    ok 2 - Request with undefined config # time=8.525ms
    
    # Subtest: Regular request - hostname from authority
        1..2
        ok 1 - type is Request
        ok 2 - should be equal
    ok 3 - Regular request - hostname from authority # time=1.757ms
    
    # Subtest: Regular request - host header has precedence over authority
        1..2
        ok 1 - type is Request
        ok 2 - should be equal
    ok 4 - Regular request - host header has precedence over authority # time=1.596ms
    
    # Subtest: Request with trust proxy
        1..22
        ok 1 - type is _Request
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equivalent
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - type is Function
        ok 17 - type is Function
        ok 18 - type is Function
        ok 19 - should be equal
        ok 20 - should be equal
        ok 21 - should be equal
        ok 22 - should be equal
    ok 5 - Request with trust proxy # time=12.499ms
    
    # Subtest: Request with trust proxy, encrypted
        1..2
        ok 1 - type is _Request
        ok 2 - should be equal
    ok 6 - Request with trust proxy, encrypted # time=1.51ms
    
    # Subtest: Request with trust proxy - no x-forwarded-host header
        1..2
        ok 1 - type is _Request
        ok 2 - should be equal
    ok 7 - Request with trust proxy - no x-forwarded-host header # time=1.563ms
    
    # Subtest: Request with trust proxy - no x-forwarded-host header and fallback to authority
        1..2
        ok 1 - type is _Request
        ok 2 - should be equal
    ok 8 - Request with trust proxy - no x-forwarded-host header and fallback to authority # time=1.504ms
    
    # Subtest: Request with trust proxy - x-forwarded-host header has precedence over host
        1..2
        ok 1 - type is _Request
        ok 2 - should be equal
    ok 9 - Request with trust proxy - x-forwarded-host header has precedence over host # time=1.497ms
    
    # Subtest: Request with trust proxy - handles multiple entries in x-forwarded-host/proto
        1..3
        ok 1 - type is _Request
        ok 2 - should be equal
        ok 3 - should be equal
    ok 10 - Request with trust proxy - handles multiple entries in x-forwarded-host/proto # time=1.816ms
    
    # Subtest: Request with trust proxy - plain
        1..1
        ok 1 - should be equivalent
    ok 11 - Request with trust proxy - plain # time=1.225ms
    
    # Subtest: Request with undefined socket
        1..18
        ok 1 - type is Request
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equivalent
        ok 16 - type is Function
        ok 17 - type is Function
        ok 18 - type is Function
    ok 12 - Request with undefined socket # time=6.608ms
    
    # Subtest: Request with trust proxy and undefined socket
        1..1
        ok 1 - should be equivalent
    ok 13 - Request with trust proxy and undefined socket # time=1.203ms
    
    1..13
    # time=90.56ms
ok 79 - test/internals/request.test.js # time=90.56ms

# Subtest: test/internals/server.test.js
    # Subtest: start listening
        ok 1 - server started
        1..1
    ok 1 - start listening # time=49.156ms
    
    # Subtest: DNS errors does not stop the main server on localhost - promise interface
        ok 1 - server started
        1..1
    ok 2 - DNS errors does not stop the main server on localhost - promise interface # time=15.994ms
    
    # Subtest: DNS errors does not stop the main server on localhost - callback interface
        1..2
        ok 1 - should not error
        ok 2 - server started
    ok 3 - DNS errors does not stop the main server on localhost - callback interface # time=11.202ms
    
    # Subtest: DNS returns empty binding
        1..2
        ok 1 - should not error
        ok 2 - server started
    ok 4 - DNS returns empty binding # time=17.528ms
    
    # Subtest: DNS returns more than two binding
        1..2
        ok 1 - should not error
        ok 2 - server started
    ok 5 - DNS returns more than two binding # time=10.613ms
    
    1..5
    # time=119.087ms
ok 80 - test/internals/server.test.js # time=119.087ms

# Subtest: test/internals/validation.test.js
    # Subtest: Symbols
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
    ok 1 - Symbols # time=6.323ms
    
    # Subtest: compileSchemasForValidation schema - missing schema
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 2 - compileSchemasForValidation schema - missing schema # time=1.709ms
    
    # Subtest: compileSchemasForValidation schema - missing output schema
        1..1
        ok 1 - should be equal
    ok 3 - compileSchemasForValidation schema - missing output schema # time=1.039ms
    
    # Subtest: compileSchemasForSerialization schema - missing schema
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 4 - compileSchemasForSerialization schema - missing schema # time=1.381ms
    
    # Subtest: compileSchemasForSerialization schema - missing output schema
        1..1
        ok 1 - should be equal
    ok 5 - compileSchemasForSerialization schema - missing output schema # time=0.963ms
    
    # Subtest: build schema - output schema
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 6 - build schema - output schema # time=43.273ms
    
    # Subtest: build schema - payload schema
        1..1
        ok 1 - should be equal
    ok 7 - build schema - payload schema # time=2.784ms
    
    # Subtest: build schema - avoid repeated normalize schema
        1..3
        ok 1 - should not be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 8 - build schema - avoid repeated normalize schema # time=2.113ms
    
    # Subtest: build schema - query schema
        1..2
        ok 1 - type is string
        ok 2 - should be equal
    ok 9 - build schema - query schema # time=2.401ms
    
    # Subtest: build schema - query schema abbreviated
        1..2
        ok 1 - type is string
        ok 2 - should be equal
    ok 10 - build schema - query schema abbreviated # time=2.236ms
    
    # Subtest: build schema - querystring schema
        1..2
        ok 1 - type is string
        ok 2 - should be equal
    ok 11 - build schema - querystring schema # time=2.186ms
    
    # Subtest: build schema - querystring schema abbreviated
        1..2
        ok 1 - type is string
        ok 2 - should be equal
    ok 12 - build schema - querystring schema abbreviated # time=2.199ms
    
    # Subtest: build schema - must throw if querystring and query schema exist
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 13 - build schema - must throw if querystring and query schema exist # time=1.785ms
    
    # Subtest: build schema - params schema
        1..1
        ok 1 - should be equal
    ok 14 - build schema - params schema # time=1.916ms
    
    # Subtest: build schema - headers schema
        1..1
        ok 1 - should be equal
    ok 15 - build schema - headers schema # time=2.044ms
    
    # Subtest: build schema - headers are lowercase
        1..1
        ok 1 - lowercase content-type exists
    ok 16 - build schema - headers are lowercase # time=1.175ms
    
    # Subtest: build schema - headers are not lowercased in case of custom object
        1..1
        ok 1 - type is Headers
    ok 17 - build schema - headers are not lowercased in case of custom object # time=1.177ms
    
    # Subtest: build schema - headers are not lowercased in case of custom validator provided
        1..1
        ok 1 - type is Headers
    ok 18 - build schema - headers are not lowercased in case of custom validator provided # time=1.11ms
    
    # Subtest: build schema - uppercased headers are not included
        1..1
        ok 1 - uppercase does not exist
    ok 19 - build schema - uppercased headers are not included # time=1.144ms
    
    # Subtest: build schema - mixed schema types are individually skipped or normalized
        1..6
        ok 1 - type is CustomSchemaClass
        ok 2 - type is CustomSchemaClass
        ok 3 - should be equivalent
        ok 4 - type is CustomSchemaClass
        ok 5 - type is CustomSchemaClass
        ok 6 - should be equivalent
    ok 20 - build schema - mixed schema types are individually skipped or normalized # time=6.843ms
    
    1..20
    # time=147.696ms
ok 81 - test/internals/validation.test.js # time=147.696ms

# Subtest: test/keepAliveTimeout.test.js
    # Subtest: keepAliveTimeout
        1..6
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not be equal
        ok 6 - should be equal
    ok 1 - keepAliveTimeout # time=46.714ms
    
    1..1
    # time=70.382ms
ok 82 - test/keepAliveTimeout.test.js # time=70.382ms

# Subtest: test/listen.1.test.js
    # Subtest: listen works without arguments
        ok 1 - should be equal
        ok 2 - expect truthy value
        1..2
    ok 1 - listen works without arguments # time=41.343ms
    
    # Subtest: Async/await listen with arguments
        1..1
        ok 1 - should be equal
    ok 2 - Async/await listen with arguments # time=3.511ms
    
    # Subtest: Promise listen with arguments
        1..1
        ok 1 - should be equal
    ok 3 - Promise listen with arguments # time=6.886ms
    
    # Subtest: listen accepts a callback
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 4 - listen accepts a callback # time=7.502ms
    
    # Subtest: listen accepts options and a callback
        1..1
        ok 1 - should not error
    ok 5 - listen accepts options and a callback # time=7.998ms
    
    # Subtest: listen after Promise.resolve()
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 6 - listen after Promise.resolve() # time=4.191ms
    
    1..6
    # time=105.509ms
ok 83 - test/listen.1.test.js # time=105.509ms

# Subtest: test/listen.2.test.js
    # Subtest: register after listen using Promise.resolve()
        1..1
        ok 1 - resolved
    ok 1 - register after listen using Promise.resolve() # time=21.631ms
    
    # Subtest: double listen errors
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - expect truthy value
    ok 2 - double listen errors # time=27.469ms
    
    # Subtest: double listen errors callback with (err, address)
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - expect truthy value
    ok 3 - double listen errors callback with (err, address) # time=11.998ms
    
    # Subtest: nonlocalhost double listen errors callback with (err, address)
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - expect truthy value
    ok 4 - nonlocalhost double listen errors callback with (err, address) # time=7.945ms
    
    # Subtest: listen twice on the same port
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - expect truthy value
    ok 5 - listen twice on the same port # time=10.189ms
    
    # Subtest: listen twice on the same port callback with (err, address)
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - expect truthy value
    ok 6 - listen twice on the same port callback with (err, address) # time=8.291ms
    
    1..6
    # time=118.204ms
ok 84 - test/listen.2.test.js # time=118.204ms

# Subtest: test/listen.3.test.js
    # Subtest: listen on socket
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent strictly
        ok 3 - should be equal
    ok 1 - listen on socket # time=25.037ms
    
    # Subtest: listen without callback with (address)
        1..1
        ok 1 - should be equal
    ok 2 - listen without callback with (address) # time=24.844ms
    
    # Subtest: double listen without callback rejects
        1..1
        ok 1 - expect truthy value
    ok 3 - double listen without callback rejects # time=10.114ms
    
    # Subtest: double listen without callback with (address)
        1..2
        ok 1 - should be equal
        ok 2 - expect truthy value
    ok 4 - double listen without callback with (address) # time=7.687ms
    
    1..4
    # time=105.462ms
ok 85 - test/listen.3.test.js # time=105.462ms

# Subtest: test/listen.4.test.js
    # Subtest: listen twice on the same port without callback rejects
        1..1
        ok 1 - expect truthy value
    ok 1 - listen twice on the same port without callback rejects # time=44.297ms
    
    # Subtest: listen twice on the same port without callback rejects with (address)
        1..2
        ok 1 - should be equal
        ok 2 - expect truthy value
    ok 2 - listen twice on the same port without callback rejects with (address) # time=16.05ms
    
    # Subtest: listen on invalid port without callback rejects
        ok 1 - expect truthy value
        1..1
    ok 3 - listen on invalid port without callback rejects # time=7.353ms
    
    # Subtest: listen logs the port as info
        1..1
        ok 1 - expect truthy value
    ok 4 - listen logs the port as info # time=2.953ms
    
    # Subtest: listen on localhost binds IPv4 and IPv6 - promise interface
        1..4
        ok 1 - should be equal
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 5 - listen on localhost binds IPv4 and IPv6 - promise interface # time=28.93ms
    
    # Subtest: listen on localhost binds to all interfaces (both IPv4 and IPv6 if present) - callback interface
        1..8
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should be equivalent
    ok 6 - listen on localhost binds to all interfaces (both IPv4 and IPv6 if present) - callback interface # time=9.236ms
    
    # Subtest: addresses getter
        1..4
        ok 1 - before ready
        ok 2 - after ready
        ok 3 - after listen
        ok 4 - after close
    ok 7 - addresses getter # time=12.974ms
    
    1..7
    # time=170.229ms
ok 86 - test/listen.4.test.js # time=170.229ms

# Subtest: test/listen.deprecated.test.js
    # Subtest: listen accepts a port and a callback
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 1 - listen accepts a port and a callback # time=41.441ms
    
    # Subtest: listen accepts a port and a callback with (err, address)
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 2 - listen accepts a port and a callback with (err, address) # time=4.1ms
    
    # Subtest: listen accepts a port, address, and callback
        1..1
        ok 1 - should not error
    ok 3 - listen accepts a port, address, and callback # time=8.722ms
    
    # Subtest: listen accepts options, backlog and a callback
        1..1
        ok 1 - should not error
    ok 4 - listen accepts options, backlog and a callback # time=3.923ms
    
    # Subtest: listen accepts options (no port), backlog and a callback
        1..1
        ok 1 - should not error
    ok 5 - listen accepts options (no port), backlog and a callback # time=8.368ms
    
    # Subtest: listen accepts options (no host), backlog and a callback
        1..1
        ok 1 - should not error
    ok 6 - listen accepts options (no host), backlog and a callback # time=2.874ms
    
    # Subtest: listen accepts options (no port, no host), backlog and a callback
        1..1
        ok 1 - should not error
    ok 7 - listen accepts options (no port, no host), backlog and a callback # time=6.277ms
    
    # Subtest: listen accepts a port, address and a callback with (err, address)
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 8 - listen accepts a port, address and a callback with (err, address) # time=2.877ms
    
    # Subtest: listen accepts a port, address, backlog and callback
        1..1
        ok 1 - should not error
    ok 9 - listen accepts a port, address, backlog and callback # time=6.925ms
    
    # Subtest: listen accepts a port, address, backlog and callback with (err, address)
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 10 - listen accepts a port, address, backlog and callback with (err, address) # time=7.932ms
    
    # Subtest: listen without callback (port zero)
        1..1
        ok 1 - should be equal
    ok 11 - listen without callback (port zero) # time=3.51ms
    
    # Subtest: listen without callback (port not given)
        1..1
        ok 1 - should be equal
    ok 12 - listen without callback (port not given) # time=7.81ms
    
    # Subtest: listen null without callback with (address)
        1..1
        ok 1 - should be equal
    ok 13 - listen null without callback with (address) # time=6.579ms
    
    # Subtest: listen without port without callback with (address)
        1..1
        ok 1 - should be equal
    ok 14 - listen without port without callback with (address) # time=2.893ms
    
    # Subtest: listen with undefined without callback with (address)
        1..1
        ok 1 - should be equal
    ok 15 - listen with undefined without callback with (address) # time=11.665ms
    
    # Subtest: listen when firstArg is string(pipe) and without backlog
        1..1
        ok 1 - should be equal
    ok 16 - listen when firstArg is string(pipe) and without backlog # time=9.429ms
    
    # Subtest: listen when firstArg is string(pipe) and with backlog
        1..1
        ok 1 - should be equal
    ok 17 - listen when firstArg is string(pipe) and with backlog # time=2.646ms
    
    # Subtest: listen when firstArg is { path: string(pipe) } and with backlog and callback
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 18 - listen when firstArg is { path: string(pipe) } and with backlog and callback # time=5.068ms
    
    # Subtest: listen accepts a port as string, and callback
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 19 - listen accepts a port as string, and callback # time=6.363ms
    
    # Subtest: listen accepts a port as string, address and callback
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
    ok 20 - listen accepts a port as string, address and callback # time=3.242ms
    
    # Subtest: listen with invalid port string without callback with (address)
        1..1
        ok 1 - should be equal
    ok 21 - listen with invalid port string without callback with (address) # time=7.961ms
    
    1..21
    # time=238.744ms
ok 87 - test/listen.deprecated.test.js # time=238.744ms

# Subtest: test/lock.test.js
    # Subtest: can be created - lock
        1..1
        ok 1 - (unnamed test)
    ok 1 - can be created - lock # time=7.194ms
    
    ok 2 - should not error
    # Subtest: request - lock
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 3 - request - lock # time=18.183ms
    
    1..3
    # time=68.191ms
ok 88 - test/lock.test.js # time=68.191ms

# Subtest: test/logger/instantiation.test.js
    # Subtest: logger instantiation
        1..11
        # Subtest: can use external logger instance
            1..5
            ok 1 - expect truthy value
            ok 2 - "Server listening at http://[::1]:33229" dont match "/^Server listening at /"
            ok 3 - "incoming request" dont match "/^incoming request$/"
            ok 4 - "log success" dont match "/^log success$/"
            ok 5 - "request completed" dont match "/^request completed$/"
        ok 1 - can use external logger instance # time=64.041ms
        
        # Subtest: should create a default logger if provided one is invalid
            1..8
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
        ok 2 - should create a default logger if provided one is invalid # time=5.353ms
        
        # Subtest: expose the logger
            1..2
            ok 1 - expect truthy value
            ok 2 - should be equivalent
        ok 3 - expose the logger # time=13.545ms
        
        # Subtest: Wrap IPv6 address in listening log message
            1..1
            ok 1 - should be equivalent
        ok 4 - Wrap IPv6 address in listening log message # time=8.23ms
        
        # Subtest: Do not wrap IPv4 address
            1..1
            ok 1 - should be equivalent
        ok 5 - Do not wrap IPv4 address # time=7.356ms
        
        # Subtest: file option
            ok 1 - expect truthy value
            ok 2 - should match pattern provided
            ok 3 - should be equal
            ok 4 - should match pattern provided
            ok 5 - should be equal
            ok 6 - should match pattern provided
            1..6
        ok 6 - file option # time=269.228ms
        
        # Subtest: should be able to use a custom logger
            1..7
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
        ok 7 - should be able to use a custom logger # time=5.276ms
        
        # Subtest: should throw in case a partially matching logger is provided
            1..1
            ok 1 - Invalid logger object provided. The logger instance should have these functions(s): 'fatal,child'.
        ok 8 - should throw in case a partially matching logger is provided # time=1.627ms
        
        # Subtest: can use external logger instance with custom serializer
            1..5
            ok 1 - expect truthy value
            ok 2 - should be equivalent
            ok 3 - should be equivalent
            ok 4 - should be equivalent
            ok 5 - should be equivalent
        ok 9 - can use external logger instance with custom serializer # time=17.413ms
        
        # Subtest: The logger should accept custom serializer
            1..5
            ok 1 - expect truthy value
            ok 2 - should match pattern provided
            ok 3 - should match pattern provided
            ok 4 - should match pattern provided
            ok 5 - should match pattern provided
        ok 10 - The logger should accept custom serializer # time=18.903ms
        
        # Subtest: should throw in case the external logger provided does not have a child method
            1..1
            ok 1 - Invalid logger object provided. The logger instance should have these functions(s): 'child'.
        ok 11 - should throw in case the external logger provided does not have a child method # time=1.933ms
        
    ok 1 - logger instantiation # time=709.522ms
    
    1..1
    # time=716.362ms
ok 89 - test/logger/instantiation.test.js # time=716.362ms

# Subtest: test/logger/logging.test.js
    # Subtest: logging
        1..12
        # Subtest: The default 404 handler logs the incoming request
            1..4
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
        ok 1 - The default 404 handler logs the incoming request # time=39.881ms
        
        # Subtest: should not rely on raw request to log errors
            1..5
            ok 1 - expect truthy value
            ok 2 - should match pattern provided
            ok 3 - should match pattern provided
            ok 4 - should match pattern provided
            ok 5 - should match pattern provided
        ok 2 - should not rely on raw request to log errors # time=45.362ms
        
        # Subtest: should log the error if no error handler is defined
            1..5
            ok 1 - expect truthy value
            ok 2 - should match pattern provided
            ok 3 - should match pattern provided
            ok 4 - should match pattern provided
            ok 5 - should match pattern provided
        ok 3 - should log the error if no error handler is defined # time=18.468ms
        
        # Subtest: should log as info if error status code >= 400 and < 500 if no error handler is defined
            1..5
            ok 1 - expect truthy value
            ok 2 - should match pattern provided
            ok 3 - should match pattern provided
            ok 4 - should match pattern provided
            ok 5 - should match pattern provided
        ok 4 - should log as info if error status code >= 400 and < 500 if no error handler is defined # time=16.708ms
        
        # Subtest: should log as error if error status code >= 500 if no error handler is defined
            1..5
            ok 1 - expect truthy value
            ok 2 - should match pattern provided
            ok 3 - should match pattern provided
            ok 4 - should match pattern provided
            ok 5 - should match pattern provided
        ok 5 - should log as error if error status code >= 500 if no error handler is defined # time=7.95ms
        
        # Subtest: should not log the error if error handler is defined and it does not error
            1..5
            ok 1 - expect truthy value
            ok 2 - expect truthy value
            ok 3 - should match pattern provided
            ok 4 - should match pattern provided
            ok 5 - should match pattern provided
        ok 6 - should not log the error if error handler is defined and it does not error # time=7.464ms
        
        # Subtest: reply.send logs an error if called twice in a row
            1..5
            ok 1 - should be equivalent
            ok 2 - should be equivalent
            ok 3 - should be equivalent
            ok 4 - should be equivalent
            ok 5 - should be equivalent
        ok 7 - reply.send logs an error if called twice in a row # time=15.665ms
        
        # Subtest: should not log incoming request and outgoing response when disabled
            1..3
            ok 1 - reqId is defined
            ok 2 - message is set
            ok 3 - should be equal
        ok 8 - should not log incoming request and outgoing response when disabled # time=10.495ms
        
        # Subtest: should not log incoming request and outgoing response for 404 onBadUrl when disabled
            1..3
            ok 1 - reqId is defined
            ok 2 - message is set
            ok 3 - should be equal
        ok 9 - should not log incoming request and outgoing response for 404 onBadUrl when disabled # time=8.856ms
        
        # Subtest: defaults to info level
            1..5
            ok 1 - expect truthy value
            ok 2 - should be equal
            ok 3 - should match pattern provided
            ok 4 - should be equal
            ok 5 - should match pattern provided
        ok 10 - defaults to info level # time=12.809ms
        
        # Subtest: test log stream
            1..6
            ok 1 - expect truthy value
            ok 2 - should match pattern provided
            ok 3 - should be equal
            ok 4 - should match pattern provided
            ok 5 - should be equal
            ok 6 - should match pattern provided
        ok 11 - test log stream # time=15.725ms
        
        # Subtest: test error log stream
            1..8
            ok 1 - expect truthy value
            ok 2 - should match pattern provided
            ok 3 - should be equal
            ok 4 - should match pattern provided
            ok 5 - should be equal
            ok 6 - should match pattern provided
            ok 7 - should be equal
            ok 8 - should match pattern provided
        ok 12 - test error log stream # time=25.004ms
        
    ok 1 - logging # time=273.772ms
    
    1..1
    # time=280.865ms
ok 90 - test/logger/logging.test.js # time=280.865ms

# Subtest: test/logger/options.test.js
    # Subtest: logger options
        1..12
        # Subtest: logger can be silented
            1..17
            ok 1 - expect truthy value
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
            ok 11 - should be equal
            ok 12 - should be equal
            ok 13 - should be equal
            ok 14 - should be equal
            ok 15 - should be equal
            ok 16 - should be equal
            ok 17 - should be equal
        ok 1 - logger can be silented # time=17.022ms
        
        # Subtest: Should set a custom logLevel for a plugin
            1..5
            ok 1 - should be equivalent
            ok 2 - should be equivalent
            ok 3 - should be equivalent
            ok 4 - should be equivalent
            ok 5 - should be equivalent
        ok 2 - Should set a custom logLevel for a plugin # time=30.663ms
        
        # Subtest: Should set a custom logSerializers for a plugin
            1..4
            ok 1 - should be equivalent
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
        ok 3 - Should set a custom logSerializers for a plugin # time=6.111ms
        
        # Subtest: Should set a custom logLevel for every plugin
            1..15
            ok 1 - should be equivalent
            ok 2 - should be equivalent
            ok 3 - should be equivalent
            ok 4 - expect truthy value
            ok 5 - should be equal
            ok 6 - expect truthy value
            ok 7 - should be equal
            ok 8 - expect truthy value
            ok 9 - should be equal
            ok 10 - expect truthy value
            ok 11 - should be equal
            ok 12 - expect truthy value
            ok 13 - should be equal
            ok 14 - expect truthy value
            ok 15 - should be equal
        ok 4 - Should set a custom logLevel for every plugin # time=24.791ms
        
        # Subtest: Should set a custom logSerializers for every plugin
            1..12
            ok 1 - should be equivalent
            ok 2 - should be equivalent
            ok 3 - should be equivalent
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should be equal
            ok 10 - should be equal
            ok 11 - should be equal
            ok 12 - should be equal
        ok 5 - Should set a custom logSerializers for every plugin # time=19.961ms
        
        # Subtest: Should override serializers from route
            1..4
            ok 1 - should be equivalent
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
        ok 6 - Should override serializers from route # time=6.258ms
        
        # Subtest: Should override serializers from plugin
            1..4
            ok 1 - should be equivalent
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
        ok 7 - Should override serializers from plugin # time=35.702ms
        
        # Subtest: Should increase the log level for a specific plugin
            1..3
            ok 1 - should be equivalent
            ok 2 - should be equal
            ok 3 - should be equal
        ok 8 - Should increase the log level for a specific plugin # time=13.824ms
        
        # Subtest: Should set the log level for the customized 404 handler
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
        ok 9 - Should set the log level for the customized 404 handler # time=5.197ms
        
        # Subtest: Should set the log level for the customized 500 handler
            1..3
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
        ok 10 - Should set the log level for the customized 500 handler # time=11.359ms
        
        # Subtest: Should set a custom log level for a specific route
            1..5
            ok 1 - should be equivalent
            ok 2 - should be equivalent
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
        ok 11 - Should set a custom log level for a specific route # time=12.482ms
        
        # Subtest: should pass when using unWritable props in the logger option
            1..8
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
        ok 12 - should pass when using unWritable props in the logger option # time=14.079ms
        
    ok 1 - logger options # time=265.657ms
    
    1..1
    # time=275.155ms
ok 91 - test/logger/options.test.js # time=275.155ms

# Subtest: test/logger/request.test.js
    # Subtest: request
        1..7
        # Subtest: The request id header key can be customized
            1..8
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - message is set
            ok 5 - should be equal
            ok 6 - message is set
            ok 7 - should be equal
            ok 8 - message is set
        ok 1 - The request id header key can be customized # time=38.049ms
        
        # Subtest: The request id header key can be ignored
            1..8
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - message is set
            ok 5 - should be equal
            ok 6 - message is set
            ok 7 - should be equal
            ok 8 - message is set
        ok 2 - The request id header key can be ignored # time=7.31ms
        
        # Subtest: The request id header key can be customized along with a custom id generator
            1..10
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should match pattern provided
            ok 6 - should match pattern provided
            ok 7 - should match pattern provided
            ok 8 - should match pattern provided
            ok 9 - should match pattern provided
            ok 10 - should match pattern provided
        ok 3 - The request id header key can be customized along with a custom id generator # time=17.247ms
        
        # Subtest: The request id header key can be ignored along with a custom id generator
            1..10
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should be equal
            ok 4 - should be equal
            ok 5 - should match pattern provided
            ok 6 - should match pattern provided
            ok 7 - should match pattern provided
            ok 8 - should match pattern provided
            ok 9 - should match pattern provided
            ok 10 - should match pattern provided
        ok 4 - The request id header key can be ignored along with a custom id generator # time=17.996ms
        
        # Subtest: The request id log label can be changed
            1..5
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should match pattern provided
            ok 4 - should match pattern provided
            ok 5 - should match pattern provided
        ok 5 - The request id log label can be changed # time=10.944ms
        
        # Subtest: should redact the authorization header if so specified
            1..6
            ok 1 - should be equivalent
            ok 2 - should be equal
            ok 3 - should be equivalent
            ok 4 - should match pattern provided
            ok 5 - should match pattern provided
            ok 6 - should match pattern provided
        ok 6 - should redact the authorization header if so specified # time=49.267ms
        
        # Subtest: should not throw error when serializing custom req
            1..1
            ok 1 - should be equivalent
        ok 7 - should not throw error when serializing custom req # time=2.457ms
        
    ok 1 - request # time=180.731ms
    
    1..1
    # time=186.058ms
ok 92 - test/logger/request.test.js # time=186.058ms

# Subtest: test/logger/response.test.js
    # Subtest: response serialization
        1..4
        # Subtest: Should use serializers from plugin and route
            1..4
            ok 1 - should be equivalent
            ok 2 - should match pattern provided
            ok 3 - should match pattern provided
            ok 4 - should match pattern provided
        ok 1 - Should use serializers from plugin and route # time=46.852ms
        
        # Subtest: Should use serializers from instance fastify and route
            1..4
            ok 1 - should be equivalent
            ok 2 - should match pattern provided
            ok 3 - should match pattern provided
            ok 4 - should match pattern provided
        ok 2 - Should use serializers from instance fastify and route # time=6.644ms
        
        # Subtest: Should use serializers inherit from contexts
            1..4
            ok 1 - should be equivalent
            ok 2 - should match pattern provided
            ok 3 - should match pattern provided
            ok 4 - should match pattern provided
        ok 3 - Should use serializers inherit from contexts # time=16.321ms
        
        # Subtest: should serialize request and response
            1..4
            ok 1 - should be equal
            ok 2 - should match pattern provided
            ok 3 - should match pattern provided
            ok 4 - should match pattern provided
        ok 4 - should serialize request and response # time=13.203ms
        
    ok 1 - response serialization # time=98.432ms
    
    1..1
    # time=130.004ms
ok 93 - test/logger/response.test.js # time=130.004ms

# Subtest: test/maxRequestsPerSocket.test.js
    # Subtest: maxRequestsPerSocket on node version >= 16.10.0
        1..8
        ok 1 - should not error
        ok 2 - should match pattern provided
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
        ok 5 - should match pattern provided
        ok 6 - should match pattern provided
        ok 7 - should match pattern provided
        ok 8 - should match pattern provided
    ok 1 - maxRequestsPerSocket on node version >= 16.10.0 # time=66.774ms
    
    # Subtest: maxRequestsPerSocket zero should behave same as null
        1..10
        ok 1 - should not error
        ok 2 - should match pattern provided
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
        ok 5 - should match pattern provided
        ok 6 - should match pattern provided
        ok 7 - should match pattern provided
        ok 8 - should match pattern provided
        ok 9 - should match pattern provided
        ok 10 - should match pattern provided
    ok 2 - maxRequestsPerSocket zero should behave same as null # time=11.575ms
    
    # Subtest: maxRequestsPerSocket should be set
        1..1
        ok 1 - should be equivalent
    ok 3 - maxRequestsPerSocket should be set # time=1.892ms
    
    # Subtest: maxRequestsPerSocket should 0
        1..1
        ok 1 - should be equivalent
    ok 4 - maxRequestsPerSocket should 0 # time=1.576ms
    
    # Subtest: requestTimeout passed to server
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 5 - requestTimeout passed to server # time=27.121ms
    
    1..5
    # time=122.486ms
ok 94 - test/maxRequestsPerSocket.test.js # time=122.486ms

# Subtest: test/middleware.test.js
    # Subtest: Should be able to override the default use API
        1..1
        ok 1 - should be equal
    ok 1 - Should be able to override the default use API # time=12.352ms
    
    # Subtest: Cannot decorate use twice
        1..1
        ok 1 - expect truthy value
    ok 2 - Cannot decorate use twice # time=2.08ms
    
    # Subtest: Encapsulation works
        1..1
        ok 1 - should be equal
    ok 3 - Encapsulation works # time=7.259ms
    
    1..3
    # time=49.59ms
ok 95 - test/middleware.test.js # time=49.59ms

# Subtest: test/mkcol.test.js
    # Subtest: can be created - mkcol
        1..1
        ok 1 - (unnamed test)
    ok 1 - can be created - mkcol # time=7.106ms
    
    ok 2 - should not error
    # Subtest: request - mkcol
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 3 - request - mkcol # time=16.967ms
    
    1..3
    # time=67.89ms
ok 96 - test/mkcol.test.js # time=67.89ms

# Subtest: test/move.test.js
    # Subtest: shorthand - move
        1..1
        ok 1 - (unnamed test)
    ok 1 - shorthand - move # time=7.138ms
    
    ok 2 - should not error
    # Subtest: request - move
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 3 - request - move # time=24.089ms
    
    1..3
    # time=68.512ms
ok 97 - test/move.test.js # time=68.512ms

# Subtest: test/noop-set.test.js
    # Subtest: does a lot of nothing
        ok 1 - type is object
        ok 2 - should be equal
        1..2
    ok 1 - does a lot of nothing # time=5.856ms
    
    1..1
    # time=12.627ms
ok 98 - test/noop-set.test.js # time=12.627ms

# Subtest: test/nullable-validation.test.js
    # Subtest: nullable string
        1..3
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 1 - nullable string # time=105.529ms
    
    # Subtest: object or null body
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 2 - object or null body # time=51.683ms
    
    # Subtest: nullable body
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 3 - nullable body # time=48.486ms
    
    # Subtest: Nullable body with 204
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 4 - Nullable body with 204 # time=23.152ms
    
    1..4
    # time=237.594ms
ok 99 - test/nullable-validation.test.js # time=237.594ms

# Subtest: test/options.error-handler.test.js
    # Subtest: OPTIONS can be created
        1..1
        ok 1 - (unnamed test)
    ok 1 - OPTIONS can be created # time=7.046ms
    
    # Subtest: OPTIONS without schema can be created
        1..1
        ok 1 - (unnamed test)
    ok 2 - OPTIONS without schema can be created # time=1.683ms
    
    # Subtest: OPTIONS with body and querystring
        1..1
        ok 1 - (unnamed test)
    ok 3 - OPTIONS with body and querystring # time=1.249ms
    
    # Subtest: OPTIONS with bodyLimit option
        1..1
        ok 1 - (unnamed test)
    ok 4 - OPTIONS with bodyLimit option # time=1.356ms
    
    # Subtest: OPTIONS can be created
        1..1
        ok 1 - (unnamed test)
    ok 5 - OPTIONS can be created # time=2.166ms
    
    # Subtest: OPTIONS - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 6 - OPTIONS - correctly replies # time=51.626ms
    
    # Subtest: OPTIONS - correctly replies with very large body
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 7 - OPTIONS - correctly replies with very large body # time=6.283ms
    
    # Subtest: OPTIONS - correctly replies if the content type has the charset
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 8 - OPTIONS - correctly replies if the content type has the charset # time=3.922ms
    
    # Subtest: OPTIONS without schema - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 9 - OPTIONS without schema - correctly replies # time=3.54ms
    
    # Subtest: OPTIONS with body and querystring - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 10 - OPTIONS with body and querystring - correctly replies # time=3.506ms
    
    # Subtest: OPTIONS with no body - correctly replies
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 11 - OPTIONS with no body - correctly replies # time=12.517ms
    
    # Subtest: OPTIONS returns 415 - incorrect media type if body is not json
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 12 - OPTIONS returns 415 - incorrect media type if body is not json # time=2.875ms
    
    # Subtest: OPTIONS returns 415 - should return 415 if Content-Type is not json or plain text
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 13 - OPTIONS returns 415 - should return 415 if Content-Type is not json or plain text # time=3.843ms
    
    # Subtest: OPTIONS returns 400 - Bad Request
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 14 - OPTIONS returns 400 - Bad Request # time=4.669ms
    
    # Subtest: OPTIONS returns 413 - Payload Too Large
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 15 - OPTIONS returns 413 - Payload Too Large # time=5.092ms
    
    # Subtest: OPTIONS should fail with empty body and application/json content-type
        1..0
    ok 16 - OPTIONS should fail with empty body and application/json content-type # time=0.812ms
    
    # Subtest: OPTIONS - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - OPTIONS - correctly replies # time=3.77ms
    
    # Subtest: OPTIONS - 400 on bad parameters
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 18 - OPTIONS - 400 on bad parameters # time=3.56ms
    
    # Subtest: OPTIONS - input-validation coerce
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - OPTIONS - input-validation coerce # time=3.2ms
    
    # Subtest: OPTIONS - input-validation custom schema compiler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 20 - OPTIONS - input-validation custom schema compiler # time=3.433ms
    
    # Subtest: OPTIONS - input-validation joi schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - OPTIONS - input-validation joi schema compiler ok # time=5.188ms
    
    # Subtest: OPTIONS - input-validation joi schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 22 - OPTIONS - input-validation joi schema compiler ko # time=4.78ms
    
    # Subtest: OPTIONS - input-validation yup schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 23 - OPTIONS - input-validation yup schema compiler ok # time=4.516ms
    
    # Subtest: OPTIONS - input-validation yup schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should match pattern provided
    ok 24 - OPTIONS - input-validation yup schema compiler ko # time=4.802ms
    
    # Subtest: OPTIONS - input-validation instance custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 25 - OPTIONS - input-validation instance custom schema compiler encapsulated # time=3.365ms
    
    # Subtest: OPTIONS - input-validation custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 26 - OPTIONS - input-validation custom schema compiler encapsulated # time=3.383ms
    
    ok 27 - type is object
    ok 28 - type is Request
    ok 29 - type is object
    ok 30 - type is Request
    ok 31 - type is object
    ok 32 - type is Request
    ok 33 - type is object
    ok 34 - type is Request
    ok 35 - type is object
    ok 36 - type is Request
    1..36
    # time=372.906ms
ok 100 - test/options.error-handler.test.js # time=372.906ms

# Subtest: test/options.test.js
    # Subtest: OPTIONS can be created
        1..1
        ok 1 - (unnamed test)
    ok 1 - OPTIONS can be created # time=6.961ms
    
    # Subtest: OPTIONS without schema can be created
        1..1
        ok 1 - (unnamed test)
    ok 2 - OPTIONS without schema can be created # time=1.632ms
    
    # Subtest: OPTIONS with body and querystring
        1..1
        ok 1 - (unnamed test)
    ok 3 - OPTIONS with body and querystring # time=1.243ms
    
    # Subtest: OPTIONS with bodyLimit option
        1..1
        ok 1 - (unnamed test)
    ok 4 - OPTIONS with bodyLimit option # time=1.354ms
    
    # Subtest: OPTIONS can be created
        1..1
        ok 1 - (unnamed test)
    ok 5 - OPTIONS can be created # time=2.255ms
    
    # Subtest: OPTIONS - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 6 - OPTIONS - correctly replies # time=51.416ms
    
    # Subtest: OPTIONS - correctly replies with very large body
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 7 - OPTIONS - correctly replies with very large body # time=6.199ms
    
    # Subtest: OPTIONS - correctly replies if the content type has the charset
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 8 - OPTIONS - correctly replies if the content type has the charset # time=4.517ms
    
    # Subtest: OPTIONS without schema - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 9 - OPTIONS without schema - correctly replies # time=3.433ms
    
    # Subtest: OPTIONS with body and querystring - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 10 - OPTIONS with body and querystring - correctly replies # time=3.535ms
    
    # Subtest: OPTIONS with no body - correctly replies
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 11 - OPTIONS with no body - correctly replies # time=12.38ms
    
    # Subtest: OPTIONS returns 415 - incorrect media type if body is not json
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 12 - OPTIONS returns 415 - incorrect media type if body is not json # time=2.953ms
    
    # Subtest: OPTIONS returns 415 - should return 415 if Content-Type is not json or plain text
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 13 - OPTIONS returns 415 - should return 415 if Content-Type is not json or plain text # time=3.764ms
    
    # Subtest: OPTIONS returns 400 - Bad Request
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 14 - OPTIONS returns 400 - Bad Request # time=4.543ms
    
    # Subtest: OPTIONS returns 413 - Payload Too Large
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 15 - OPTIONS returns 413 - Payload Too Large # time=5.032ms
    
    # Subtest: OPTIONS should fail with empty body and application/json content-type
        1..0
    ok 16 - OPTIONS should fail with empty body and application/json content-type # time=0.796ms
    
    # Subtest: OPTIONS - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - OPTIONS - correctly replies # time=3.75ms
    
    # Subtest: OPTIONS - 400 on bad parameters
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 18 - OPTIONS - 400 on bad parameters # time=3.528ms
    
    # Subtest: OPTIONS - input-validation coerce
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - OPTIONS - input-validation coerce # time=3.136ms
    
    # Subtest: OPTIONS - input-validation custom schema compiler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 20 - OPTIONS - input-validation custom schema compiler # time=3.39ms
    
    # Subtest: OPTIONS - input-validation joi schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - OPTIONS - input-validation joi schema compiler ok # time=5.181ms
    
    # Subtest: OPTIONS - input-validation joi schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 22 - OPTIONS - input-validation joi schema compiler ko # time=4.709ms
    
    # Subtest: OPTIONS - input-validation yup schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 23 - OPTIONS - input-validation yup schema compiler ok # time=4.577ms
    
    # Subtest: OPTIONS - input-validation yup schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should match pattern provided
    ok 24 - OPTIONS - input-validation yup schema compiler ko # time=4.774ms
    
    # Subtest: OPTIONS - input-validation instance custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 25 - OPTIONS - input-validation instance custom schema compiler encapsulated # time=3.861ms
    
    # Subtest: OPTIONS - input-validation custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 26 - OPTIONS - input-validation custom schema compiler encapsulated # time=3.345ms
    
    1..26
    # time=370.928ms
ok 101 - test/options.test.js # time=370.928ms

# Subtest: test/output-validation.test.js
    # Subtest: shorthand - output string
        1..1
        ok 1 - (unnamed test)
    ok 1 - shorthand - output string # time=7.483ms
    
    # Subtest: shorthand - output number
        1..1
        ok 1 - (unnamed test)
    ok 2 - shorthand - output number # time=1.63ms
    
    # Subtest: wrong object for schema - output
        1..1
        ok 1 - (unnamed test)
    ok 3 - wrong object for schema - output # time=1.44ms
    
    # Subtest: empty response
        1..1
        ok 1 - (unnamed test)
    ok 4 - empty response # time=1.334ms
    
    # Subtest: unlisted response code
        1..1
        ok 1 - (unnamed test)
    ok 5 - unlisted response code # time=1.376ms
    
    ok 6 - should not error
    # Subtest: shorthand - string get ok
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 7 - shorthand - string get ok # time=28.051ms
    
    # Subtest: shorthand - number get ok
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 8 - shorthand - number get ok # time=4.596ms
    
    # Subtest: shorthand - wrong-object-for-schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 9 - shorthand - wrong-object-for-schema # time=4.34ms
    
    # Subtest: shorthand - empty
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 10 - shorthand - empty # time=2.631ms
    
    # Subtest: shorthand - 400
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 11 - shorthand - 400 # time=3.53ms
    
    1..11
    # time=140.845ms
ok 102 - test/output-validation.test.js # time=140.845ms

# Subtest: test/patch.error-handler.test.js
    # Subtest: PATCH can be created
        1..1
        ok 1 - (unnamed test)
    ok 1 - PATCH can be created # time=7.086ms
    
    # Subtest: PATCH without schema can be created
        1..1
        ok 1 - (unnamed test)
    ok 2 - PATCH without schema can be created # time=1.648ms
    
    # Subtest: PATCH with body and querystring
        1..1
        ok 1 - (unnamed test)
    ok 3 - PATCH with body and querystring # time=1.264ms
    
    # Subtest: PATCH with bodyLimit option
        1..1
        ok 1 - (unnamed test)
    ok 4 - PATCH with bodyLimit option # time=1.423ms
    
    # Subtest: PATCH can be created
        1..1
        ok 1 - (unnamed test)
    ok 5 - PATCH can be created # time=2.183ms
    
    # Subtest: PATCH - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 6 - PATCH - correctly replies # time=50.707ms
    
    # Subtest: PATCH - correctly replies with very large body
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 7 - PATCH - correctly replies with very large body # time=6.21ms
    
    # Subtest: PATCH - correctly replies if the content type has the charset
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 8 - PATCH - correctly replies if the content type has the charset # time=3.87ms
    
    # Subtest: PATCH without schema - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 9 - PATCH without schema - correctly replies # time=3.509ms
    
    # Subtest: PATCH with body and querystring - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 10 - PATCH with body and querystring - correctly replies # time=3.535ms
    
    # Subtest: PATCH with no body - correctly replies
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 11 - PATCH with no body - correctly replies # time=12.302ms
    
    # Subtest: PATCH returns 415 - incorrect media type if body is not json
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 12 - PATCH returns 415 - incorrect media type if body is not json # time=4.1ms
    
    # Subtest: PATCH returns 400 - Bad Request
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 13 - PATCH returns 400 - Bad Request # time=4.669ms
    
    # Subtest: PATCH returns 413 - Payload Too Large
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
    ok 14 - PATCH returns 413 - Payload Too Large # time=9.547ms
    
    # Subtest: PATCH should fail with empty body and application/json content-type
        1..12
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equivalent
        ok 9 - should not error
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equivalent
    ok 15 - PATCH should fail with empty body and application/json content-type # time=12.378ms
    
    # Subtest: PATCH - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 16 - PATCH - correctly replies # time=3.914ms
    
    # Subtest: PATCH - 400 on bad parameters
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - PATCH - 400 on bad parameters # time=3.917ms
    
    # Subtest: PATCH - input-validation coerce
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 18 - PATCH - input-validation coerce # time=3.302ms
    
    # Subtest: PATCH - input-validation custom schema compiler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - PATCH - input-validation custom schema compiler # time=3.493ms
    
    # Subtest: PATCH - input-validation joi schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 20 - PATCH - input-validation joi schema compiler ok # time=4.822ms
    
    # Subtest: PATCH - input-validation joi schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - PATCH - input-validation joi schema compiler ko # time=5.193ms
    
    # Subtest: PATCH - input-validation yup schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 22 - PATCH - input-validation yup schema compiler ok # time=7.28ms
    
    # Subtest: PATCH - input-validation yup schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should match pattern provided
    ok 23 - PATCH - input-validation yup schema compiler ko # time=4.766ms
    
    # Subtest: PATCH - input-validation instance custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 24 - PATCH - input-validation instance custom schema compiler encapsulated # time=3.384ms
    
    # Subtest: PATCH - input-validation custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 25 - PATCH - input-validation custom schema compiler encapsulated # time=3.345ms
    
    ok 26 - type is object
    ok 27 - type is Request
    ok 28 - type is object
    ok 29 - type is Request
    ok 30 - type is object
    ok 31 - type is Request
    ok 32 - type is object
    ok 33 - type is Request
    ok 34 - type is object
    ok 35 - type is Request
    ok 36 - type is object
    ok 37 - type is Request
    ok 38 - type is object
    ok 39 - type is Request
    ok 40 - type is object
    ok 41 - type is Request
    ok 42 - type is object
    ok 43 - type is Request
    ok 44 - type is object
    ok 45 - type is Request
    ok 46 - type is object
    ok 47 - type is Request
    ok 48 - type is object
    ok 49 - type is Request
    1..49
    # time=394.596ms
ok 103 - test/patch.error-handler.test.js # time=394.596ms

# Subtest: test/patch.test.js
    # Subtest: PATCH can be created
        1..1
        ok 1 - (unnamed test)
    ok 1 - PATCH can be created # time=7.084ms
    
    # Subtest: PATCH without schema can be created
        1..1
        ok 1 - (unnamed test)
    ok 2 - PATCH without schema can be created # time=1.692ms
    
    # Subtest: PATCH with body and querystring
        1..1
        ok 1 - (unnamed test)
    ok 3 - PATCH with body and querystring # time=1.247ms
    
    # Subtest: PATCH with bodyLimit option
        1..1
        ok 1 - (unnamed test)
    ok 4 - PATCH with bodyLimit option # time=1.406ms
    
    # Subtest: PATCH can be created
        1..1
        ok 1 - (unnamed test)
    ok 5 - PATCH can be created # time=2.463ms
    
    # Subtest: PATCH - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 6 - PATCH - correctly replies # time=50.416ms
    
    # Subtest: PATCH - correctly replies with very large body
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 7 - PATCH - correctly replies with very large body # time=6.188ms
    
    # Subtest: PATCH - correctly replies if the content type has the charset
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 8 - PATCH - correctly replies if the content type has the charset # time=3.813ms
    
    # Subtest: PATCH without schema - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 9 - PATCH without schema - correctly replies # time=3.401ms
    
    # Subtest: PATCH with body and querystring - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 10 - PATCH with body and querystring - correctly replies # time=3.493ms
    
    # Subtest: PATCH with no body - correctly replies
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 11 - PATCH with no body - correctly replies # time=12.891ms
    
    # Subtest: PATCH returns 415 - incorrect media type if body is not json
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 12 - PATCH returns 415 - incorrect media type if body is not json # time=3.855ms
    
    # Subtest: PATCH returns 400 - Bad Request
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 13 - PATCH returns 400 - Bad Request # time=4.634ms
    
    # Subtest: PATCH returns 413 - Payload Too Large
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
    ok 14 - PATCH returns 413 - Payload Too Large # time=9.379ms
    
    # Subtest: PATCH should fail with empty body and application/json content-type
        1..12
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equivalent
        ok 9 - should not error
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equivalent
    ok 15 - PATCH should fail with empty body and application/json content-type # time=12.299ms
    
    # Subtest: PATCH - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 16 - PATCH - correctly replies # time=3.854ms
    
    # Subtest: PATCH - 400 on bad parameters
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - PATCH - 400 on bad parameters # time=3.926ms
    
    # Subtest: PATCH - input-validation coerce
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 18 - PATCH - input-validation coerce # time=6.087ms
    
    # Subtest: PATCH - input-validation custom schema compiler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - PATCH - input-validation custom schema compiler # time=3.508ms
    
    # Subtest: PATCH - input-validation joi schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 20 - PATCH - input-validation joi schema compiler ok # time=4.89ms
    
    # Subtest: PATCH - input-validation joi schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - PATCH - input-validation joi schema compiler ko # time=4.864ms
    
    # Subtest: PATCH - input-validation yup schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 22 - PATCH - input-validation yup schema compiler ok # time=4.502ms
    
    # Subtest: PATCH - input-validation yup schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should match pattern provided
    ok 23 - PATCH - input-validation yup schema compiler ko # time=4.781ms
    
    # Subtest: PATCH - input-validation instance custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 24 - PATCH - input-validation instance custom schema compiler encapsulated # time=3.391ms
    
    # Subtest: PATCH - input-validation custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 25 - PATCH - input-validation custom schema compiler encapsulated # time=3.364ms
    
    1..25
    # time=389.891ms
ok 104 - test/patch.test.js # time=389.891ms

# Subtest: test/plugin.1.test.js
    # Subtest: require a plugin
        1..1
        ok 1 - expect truthy value
    ok 1 - require a plugin # time=25.573ms
    
    # Subtest: plugin metadata - ignore prefix
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 2 - plugin metadata - ignore prefix # time=18.168ms
    
    # Subtest: plugin metadata - naming plugins
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 3 - plugin metadata - naming plugins # time=5.154ms
    
    # Subtest: fastify.register with fastify-plugin should not encapsulate his code
        1..10
        ok 1 - expect falsey value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - should not error
        ok 6 - expect truthy value
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equivalent
    ok 4 - fastify.register with fastify-plugin should not encapsulate his code # time=69.799ms
    
    # Subtest: fastify.register with fastify-plugin should provide access to external fastify instance if opts argument is a function
        1..22
        ok 1 - expect falsey value
        ok 2 - expect falsey value
        ok 3 - expect falsey value
        ok 4 - expect truthy value
        ok 5 - expect falsey value
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect falsey value
        ok 10 - expect truthy value
        ok 11 - expect falsey value
        ok 12 - expect truthy value
        ok 13 - expect truthy value
        ok 14 - should be equal
        ok 15 - expect falsey value
        ok 16 - expect falsey value
        ok 17 - should not error
        ok 18 - expect truthy value
        ok 19 - should not error
        ok 20 - should be equal
        ok 21 - should be equal
        ok 22 - should be equivalent
    ok 5 - fastify.register with fastify-plugin should provide access to external fastify instance if opts argument is a function # time=18.141ms
    
    # Subtest: fastify.register with fastify-plugin registers fastify level plugins
        1..15
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - should not error
        ok 6 - expect truthy value
        ok 7 - expect truthy value
        ok 8 - should not error
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equivalent
        ok 12 - should not error
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equivalent
    ok 6 - fastify.register with fastify-plugin registers fastify level plugins # time=24.666ms
    
    1..6
    # time=177.247ms
ok 105 - test/plugin.1.test.js # time=177.247ms

# Subtest: test/plugin.2.test.js
    # Subtest: check dependencies - should not throw
        1..12
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - expect falsey value
        ok 6 - should not error
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equivalent
    ok 1 - check dependencies - should not throw # time=84.312ms
    
    # Subtest: check dependencies - should throw
        1..12
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - expect truthy value
        ok 4 - expect falsey value
        ok 5 - expect falsey value
        ok 6 - should not error
        ok 7 - expect truthy value
        ok 8 - expect falsey value
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equivalent
    ok 2 - check dependencies - should throw # time=14.078ms
    
    # Subtest: set the plugin name based on the plugin displayName symbol
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
    ok 3 - set the plugin name based on the plugin displayName symbol # time=12.678ms
    
    # Subtest: plugin name will change when using no encapsulation
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
    ok 4 - plugin name will change when using no encapsulation # time=10.266ms
    
    # Subtest: plugin name is undefined when accessing in no plugin context
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 5 - plugin name is undefined when accessing in no plugin context # time=5.996ms
    
    # Subtest: set the plugin name based on the plugin function name
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
    ok 6 - set the plugin name based on the plugin function name # time=10.1ms
    
    # Subtest: approximate a plugin name when no meta data is available
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
    ok 7 - approximate a plugin name when no meta data is available # time=7.224ms
    
    # Subtest: approximate a plugin name also when fastify-plugin has no meta data
        1..4
        ok 1 - should match pattern provided
        ok 2 - should match pattern provided
        ok 3 - should match pattern provided
        ok 4 - should not error
    ok 8 - approximate a plugin name also when fastify-plugin has no meta data # time=12.514ms
    
    # Subtest: plugin encapsulation
        1..10
        ok 1 - expect falsey value
        ok 2 - should not error
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equivalent
    ok 9 - plugin encapsulation # time=22.324ms
    
    1..9
    # time=193.519ms
ok 106 - test/plugin.2.test.js # time=193.519ms

# Subtest: test/plugin.3.test.js
    # Subtest: if a plugin raises an error and there is not a callback to handle it, the server must not start
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 1 - if a plugin raises an error and there is not a callback to handle it, the server must not start # time=32.415ms
    
    # Subtest: add hooks after route declaration
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 2 - add hooks after route declaration # time=52.681ms
    
    # Subtest: nested plugins
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
    ok 3 - nested plugins # time=12.68ms
    
    # Subtest: nested plugins awaited
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
    ok 4 - nested plugins awaited # time=11.055ms
    
    # Subtest: plugin metadata - decorators
        1..1
        ok 1 - expect truthy value
    ok 5 - plugin metadata - decorators # time=11.126ms
    
    # Subtest: plugin metadata - decorators - should throw
        1..1
        ok 1 - should be equal
    ok 6 - plugin metadata - decorators - should throw # time=3.184ms
    
    # Subtest: plugin metadata - decorators - should throw with plugin name
        1..1
        ok 1 - should be equal
    ok 7 - plugin metadata - decorators - should throw with plugin name # time=5.793ms
    
    # Subtest: plugin metadata - dependencies
        1..1
        ok 1 - everything right
    ok 8 - plugin metadata - dependencies # time=5.325ms
    
    # Subtest: plugin metadata - dependencies (nested)
        1..1
        ok 1 - everything right
    ok 9 - plugin metadata - dependencies (nested) # time=7.616ms
    
    1..9
    # time=154.885ms
ok 107 - test/plugin.3.test.js # time=154.885ms

# Subtest: test/plugin.4.test.js
    # Subtest: pluginTimeout
        1..5
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - expect truthy value
        ok 5 - should be equal
    ok 1 - pluginTimeout # time=62.836ms
    
    # Subtest: pluginTimeout - named function
        1..5
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - expect truthy value
        ok 5 - should be equal
    ok 2 - pluginTimeout - named function # time=14.737ms
    
    # Subtest: pluginTimeout default
        1..5
        ok 1 - expect truthy value
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - expect truthy value
        ok 5 - should be equal
    ok 3 - pluginTimeout default # time=-1863236.149ms
    
    # Subtest: plugin metadata - version
        1..1
        ok 1 - everything right
    ok 4 - plugin metadata - version # time=11.55ms
    
    # Subtest: plugin metadata - version range
        1..1
        ok 1 - everything right
    ok 5 - plugin metadata - version range # time=5.27ms
    
    # Subtest: plugin metadata - version not matching requirement
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 6 - plugin metadata - version not matching requirement # time=3.687ms
    
    # Subtest: plugin metadata - version not matching requirement 2
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 7 - plugin metadata - version not matching requirement 2 # time=7.172ms
    
    # Subtest: plugin metadata - version not matching requirement 3
        1..2
        ok 1 - expect truthy value
        ok 2 - should be equal
    ok 8 - plugin metadata - version not matching requirement 3 # time=7.892ms
    
    # Subtest: plugin metadata - release candidate
        1..2
        ok 1 - should not error
        ok 2 - everything right
    ok 9 - plugin metadata - release candidate # time=5.012ms
    
    # Subtest: fastify-rc loads prior version plugins
        1..2
        ok 1 - should not error
        ok 2 - everything right
    ok 10 - fastify-rc loads prior version plugins # time=7.678ms
    
    # Subtest: hasPlugin method exists as a function
        1..1
        ok 1 - should be equal
    ok 11 - hasPlugin method exists as a function # time=1.438ms
    
    # Subtest: hasPlugin returns true if the specified plugin has been registered
        1..4
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
    ok 12 - hasPlugin returns true if the specified plugin has been registered # time=6.54ms
    
    # Subtest: hasPlugin returns false if the specified plugin has not been registered
        1..1
        ok 1 - expect falsey value
    ok 13 - hasPlugin returns false if the specified plugin has not been registered # time=1.421ms
    
    # Subtest: hasPlugin returns false when using encapsulation
        1..25
        ok 1 - expect truthy value
        ok 2 - expect falsey value
        ok 3 - expect falsey value
        ok 4 - expect falsey value
        ok 5 - expect falsey value
        ok 6 - expect falsey value
        ok 7 - expect truthy value
        ok 8 - expect falsey value
        ok 9 - expect falsey value
        ok 10 - expect falsey value
        ok 11 - expect falsey value
        ok 12 - expect falsey value
        ok 13 - expect truthy value
        ok 14 - expect falsey value
        ok 15 - expect falsey value
        ok 16 - expect falsey value
        ok 17 - expect falsey value
        ok 18 - expect falsey value
        ok 19 - expect truthy value
        ok 20 - expect falsey value
        ok 21 - expect falsey value
        ok 22 - expect falsey value
        ok 23 - expect falsey value
        ok 24 - expect falsey value
        ok 25 - expect truthy value
    ok 14 - hasPlugin returns false when using encapsulation # time=12.174ms
    
    # Subtest: hasPlugin returns true when using no encapsulation
        1..26
        ok 1 - should be equal
        ok 2 - expect truthy value
        ok 3 - expect falsey value
        ok 4 - expect falsey value
        ok 5 - expect falsey value
        ok 6 - expect falsey value
        ok 7 - expect truthy value
        ok 8 - expect truthy value
        ok 9 - expect falsey value
        ok 10 - expect falsey value
        ok 11 - expect falsey value
        ok 12 - expect truthy value
        ok 13 - expect truthy value
        ok 14 - expect truthy value
        ok 15 - expect falsey value
        ok 16 - expect falsey value
        ok 17 - expect truthy value
        ok 18 - expect truthy value
        ok 19 - expect truthy value
        ok 20 - expect truthy value
        ok 21 - expect falsey value
        ok 22 - expect truthy value
        ok 23 - expect truthy value
        ok 24 - expect truthy value
        ok 25 - expect truthy value
        ok 26 - expect truthy value
    ok 15 - hasPlugin returns true when using no encapsulation # time=22.929ms
    
    # Subtest: hasPlugin returns true when using encapsulation
        1..2
        ok 1 - expect truthy value
        ok 2 - expect truthy value
    ok 16 - hasPlugin returns true when using encapsulation # time=9.098ms
    
    # Subtest: registering plugins with mixed style should return a warning
        1..12
        ok 1 - should match pattern provided
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should match pattern provided
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should match pattern provided
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should match pattern provided
        ok 11 - should be equal
        ok 12 - should be equal
    ok 17 - registering plugins with mixed style should return a warning # time=19.267ms
    
    1..17
    # time=231.528ms
ok 108 - test/plugin.4.test.js # time=231.528ms

# Subtest: test/post-empty-body.test.js
    # Subtest: post empty body
        ok 1 - should be equal
        ok 2 - should be equal
        1..2
    ok 1 - post empty body # time=84.689ms
    
    1..1
    # time=159.204ms
ok 109 - test/post-empty-body.test.js # time=159.204ms

# Subtest: test/pretty-print.test.js
    # Subtest: pretty print - static routes
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 1 - pretty print - static routes # time=36.661ms
    
    # Subtest: pretty print - internal tree - static routes
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 2 - pretty print - internal tree - static routes # time=5.309ms
    
    # Subtest: pretty print - parametric routes
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 3 - pretty print - parametric routes # time=4.223ms
    
    # Subtest: pretty print - internal tree - parametric routes
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 4 - pretty print - internal tree - parametric routes # time=13.003ms
    
    # Subtest: pretty print - mixed parametric routes
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 5 - pretty print - mixed parametric routes # time=10.728ms
    
    # Subtest: pretty print - wildcard routes
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 6 - pretty print - wildcard routes # time=3.322ms
    
    # Subtest: pretty print - internal tree - wildcard routes
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 7 - pretty print - internal tree - wildcard routes # time=7.88ms
    
    # Subtest: pretty print - empty plugins
        1..2
        ok 1 - should be equal
        ok 2 - should match pattern provided
    ok 8 - pretty print - empty plugins # time=12.224ms
    
    # Subtest: pretty print - nested plugins
        1..4
        ok 1 - should be equal
        ok 2 - should match pattern provided
        ok 3 - should match pattern provided
        ok 4 - should match pattern provided
    ok 9 - pretty print - nested plugins # time=11.684ms
    
    # Subtest: pretty print - commonPrefix
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 10 - pretty print - commonPrefix # time=8.123ms
    
    # Subtest: pretty print - includeMeta, includeHooks
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 11 - pretty print - includeMeta, includeHooks # time=15.926ms
    
    1..11
    # time=184.421ms
ok 110 - test/pretty-print.test.js # time=184.421ms

# Subtest: test/promises.test.js
    ok 1 - should not error
    # Subtest: shorthand - sget return promise es6 get
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 2 - shorthand - sget return promise es6 get # time=40.187ms
    
    # Subtest: shorthand - sget promise es6 get return error
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 3 - shorthand - sget promise es6 get return error # time=4.752ms
    
    # Subtest: sget promise double send
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 4 - sget promise double send # time=3.561ms
    
    # Subtest: thenable
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 5 - thenable # time=4.756ms
    
    # Subtest: thenable (error)
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 6 - thenable (error) # time=2.835ms
    
    # Subtest: return-reply
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 7 - return-reply # time=3.534ms
    
    1..7
    # time=85.26ms
ok 111 - test/promises.test.js # time=85.26ms

# Subtest: test/propfind.test.js
    # Subtest: can be created - propfind
        1..1
        ok 1 - (unnamed test)
    ok 1 - can be created - propfind # time=7.24ms
    
    ok 2 - should not error
    # Subtest: request - propfind
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 3 - request - propfind # time=28.161ms
    
    # Subtest: request with other path - propfind
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 4 - request with other path - propfind # time=3.878ms
    
    # Subtest: request with body - propfind
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 5 - request with body - propfind # time=3.202ms
    
    1..5
    # time=81.264ms
ok 112 - test/propfind.test.js # time=81.264ms

# Subtest: test/proppatch.test.js
    # Subtest: shorthand - proppatch
        1..1
        ok 1 - (unnamed test)
    ok 1 - shorthand - proppatch # time=7.191ms
    
    ok 2 - should not error
    # Subtest: request - proppatch
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 3 - request - proppatch # time=24.821ms
    
    1..3
    # time=68.931ms
ok 113 - test/proppatch.test.js # time=68.931ms

# Subtest: test/proto-poisoning.test.js
    # Subtest: proto-poisoning error
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 1 - proto-poisoning error # time=69.979ms
    
    # Subtest: proto-poisoning remove
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 2 - proto-poisoning remove # time=8.19ms
    
    # Subtest: proto-poisoning ignore
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 3 - proto-poisoning ignore # time=12.851ms
    
    # Subtest: constructor-poisoning error (default in v3)
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 4 - constructor-poisoning error (default in v3) # time=11.942ms
    
    # Subtest: constructor-poisoning error
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 5 - constructor-poisoning error # time=9.696ms
    
    # Subtest: constructor-poisoning remove
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 6 - constructor-poisoning remove # time=6.456ms
    
    1..6
    # time=130.007ms
ok 114 - test/proto-poisoning.test.js # time=130.007ms

# Subtest: test/put.error-handler.test.js
    # Subtest: PUT can be created
        1..1
        ok 1 - (unnamed test)
    ok 1 - PUT can be created # time=7.006ms
    
    # Subtest: PUT without schema can be created
        1..1
        ok 1 - (unnamed test)
    ok 2 - PUT without schema can be created # time=1.667ms
    
    # Subtest: PUT with body and querystring
        1..1
        ok 1 - (unnamed test)
    ok 3 - PUT with body and querystring # time=1.262ms
    
    # Subtest: PUT with bodyLimit option
        1..1
        ok 1 - (unnamed test)
    ok 4 - PUT with bodyLimit option # time=1.435ms
    
    # Subtest: PUT can be created
        1..1
        ok 1 - (unnamed test)
    ok 5 - PUT can be created # time=2.227ms
    
    # Subtest: PUT - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 6 - PUT - correctly replies # time=53.969ms
    
    # Subtest: PUT - correctly replies with very large body
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 7 - PUT - correctly replies with very large body # time=6.285ms
    
    # Subtest: PUT - correctly replies if the content type has the charset
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 8 - PUT - correctly replies if the content type has the charset # time=4.171ms
    
    # Subtest: PUT without schema - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 9 - PUT without schema - correctly replies # time=3.505ms
    
    # Subtest: PUT with body and querystring - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 10 - PUT with body and querystring - correctly replies # time=3.528ms
    
    # Subtest: PUT with no body - correctly replies
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 11 - PUT with no body - correctly replies # time=12.426ms
    
    # Subtest: PUT returns 415 - incorrect media type if body is not json
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 12 - PUT returns 415 - incorrect media type if body is not json # time=4.171ms
    
    # Subtest: PUT returns 400 - Bad Request
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 13 - PUT returns 400 - Bad Request # time=4.69ms
    
    # Subtest: PUT returns 413 - Payload Too Large
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
    ok 14 - PUT returns 413 - Payload Too Large # time=9.622ms
    
    # Subtest: PUT should fail with empty body and application/json content-type
        1..12
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equivalent
        ok 9 - should not error
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equivalent
    ok 15 - PUT should fail with empty body and application/json content-type # time=12.319ms
    
    # Subtest: PUT - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 16 - PUT - correctly replies # time=4.321ms
    
    # Subtest: PUT - 400 on bad parameters
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - PUT - 400 on bad parameters # time=3.951ms
    
    # Subtest: PUT - input-validation coerce
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 18 - PUT - input-validation coerce # time=3.236ms
    
    # Subtest: PUT - input-validation custom schema compiler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - PUT - input-validation custom schema compiler # time=3.447ms
    
    # Subtest: PUT - input-validation joi schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 20 - PUT - input-validation joi schema compiler ok # time=4.847ms
    
    # Subtest: PUT - input-validation joi schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - PUT - input-validation joi schema compiler ko # time=4.893ms
    
    # Subtest: PUT - input-validation yup schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 22 - PUT - input-validation yup schema compiler ok # time=7.327ms
    
    # Subtest: PUT - input-validation yup schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should match pattern provided
    ok 23 - PUT - input-validation yup schema compiler ko # time=4.812ms
    
    # Subtest: PUT - input-validation instance custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 24 - PUT - input-validation instance custom schema compiler encapsulated # time=3.465ms
    
    # Subtest: PUT - input-validation custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 25 - PUT - input-validation custom schema compiler encapsulated # time=3.425ms
    
    ok 26 - type is object
    ok 27 - type is Request
    ok 28 - type is object
    ok 29 - type is Request
    ok 30 - type is object
    ok 31 - type is Request
    ok 32 - type is object
    ok 33 - type is Request
    ok 34 - type is object
    ok 35 - type is Request
    ok 36 - type is object
    ok 37 - type is Request
    ok 38 - type is object
    ok 39 - type is Request
    ok 40 - type is object
    ok 41 - type is Request
    ok 42 - type is object
    ok 43 - type is Request
    ok 44 - type is object
    ok 45 - type is Request
    ok 46 - type is object
    ok 47 - type is Request
    ok 48 - type is object
    ok 49 - type is Request
    1..49
    # time=400.025ms
ok 115 - test/put.error-handler.test.js # time=400.025ms

# Subtest: test/put.test.js
    # Subtest: PUT can be created
        1..1
        ok 1 - (unnamed test)
    ok 1 - PUT can be created # time=7.125ms
    
    # Subtest: PUT without schema can be created
        1..1
        ok 1 - (unnamed test)
    ok 2 - PUT without schema can be created # time=1.711ms
    
    # Subtest: PUT with body and querystring
        1..1
        ok 1 - (unnamed test)
    ok 3 - PUT with body and querystring # time=1.289ms
    
    # Subtest: PUT with bodyLimit option
        1..1
        ok 1 - (unnamed test)
    ok 4 - PUT with bodyLimit option # time=1.402ms
    
    # Subtest: PUT can be created
        1..1
        ok 1 - (unnamed test)
    ok 5 - PUT can be created # time=2.219ms
    
    # Subtest: PUT - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 6 - PUT - correctly replies # time=51.075ms
    
    # Subtest: PUT - correctly replies with very large body
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 7 - PUT - correctly replies with very large body # time=6.28ms
    
    # Subtest: PUT - correctly replies if the content type has the charset
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 8 - PUT - correctly replies if the content type has the charset # time=3.979ms
    
    # Subtest: PUT without schema - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 9 - PUT without schema - correctly replies # time=3.526ms
    
    # Subtest: PUT with body and querystring - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 10 - PUT with body and querystring - correctly replies # time=3.576ms
    
    # Subtest: PUT with no body - correctly replies
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 11 - PUT with no body - correctly replies # time=12.478ms
    
    # Subtest: PUT returns 415 - incorrect media type if body is not json
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 12 - PUT returns 415 - incorrect media type if body is not json # time=4.01ms
    
    # Subtest: PUT returns 400 - Bad Request
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 13 - PUT returns 400 - Bad Request # time=4.597ms
    
    # Subtest: PUT returns 413 - Payload Too Large
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
    ok 14 - PUT returns 413 - Payload Too Large # time=9.716ms
    
    # Subtest: PUT should fail with empty body and application/json content-type
        1..12
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equivalent
        ok 9 - should not error
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equivalent
    ok 15 - PUT should fail with empty body and application/json content-type # time=12.055ms
    
    # Subtest: PUT - correctly replies
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 16 - PUT - correctly replies # time=3.851ms
    
    # Subtest: PUT - 400 on bad parameters
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 17 - PUT - 400 on bad parameters # time=3.883ms
    
    # Subtest: PUT - input-validation coerce
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 18 - PUT - input-validation coerce # time=3.229ms
    
    # Subtest: PUT - input-validation custom schema compiler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 19 - PUT - input-validation custom schema compiler # time=3.574ms
    
    # Subtest: PUT - input-validation joi schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 20 - PUT - input-validation joi schema compiler ok # time=4.929ms
    
    # Subtest: PUT - input-validation joi schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 21 - PUT - input-validation joi schema compiler ko # time=4.928ms
    
    # Subtest: PUT - input-validation yup schema compiler ok
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 22 - PUT - input-validation yup schema compiler ok # time=7.335ms
    
    # Subtest: PUT - input-validation yup schema compiler ko
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should match pattern provided
    ok 23 - PUT - input-validation yup schema compiler ko # time=4.849ms
    
    # Subtest: PUT - input-validation instance custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 24 - PUT - input-validation instance custom schema compiler encapsulated # time=3.492ms
    
    # Subtest: PUT - input-validation custom schema compiler encapsulated
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 25 - PUT - input-validation custom schema compiler encapsulated # time=3.431ms
    
    1..25
    # time=388.136ms
ok 116 - test/put.test.js # time=388.136ms

# Subtest: test/register.test.js
    # Subtest: register
        1..17
        ok 1 - should not be equal
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not be equal
        ok 6 - expect truthy value
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should not error
        ok 10 - should not error
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should be equivalent
        ok 14 - should not error
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equivalent
    ok 1 - register # time=84.081ms
    
    # Subtest: internal route declaration should pass the error generated by the register to the done handler / 1
        1..1
        ok 1 - should be equal
    ok 2 - internal route declaration should pass the error generated by the register to the done handler / 1 # time=4.974ms
    
    # Subtest: internal route declaration should pass the error generated by the register to the done handler / 2
        1..2
        ok 1 - should be equal
        ok 2 - should not error
    ok 3 - internal route declaration should pass the error generated by the register to the done handler / 2 # time=11.209ms
    
    # Subtest: awaitable register and after
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        1..3
    ok 4 - awaitable register and after # time=10.875ms
    
    # Subtest: awaitable register error handling
        ok 1 - expect rejected Promise: Error kaboom
        ok 2 - expect rejected Promise: Error kaboom
        ok 3 - expect rejected Promise: Error kaboom
        1..3
    ok 5 - awaitable register error handling # time=14.24ms
    
    # Subtest: awaitable after error handling
        ok 1 - expect rejected Promise: Error kaboom
        ok 2 - expect rejected Promise
        1..2
    ok 6 - awaitable after error handling # time=4.56ms
    
    # Subtest: chainable register
        1..3
        ok 1 - first loaded
        ok 2 - second loaded
        ok 3 - third loaded
    ok 7 - chainable register # time=9.16ms
    
    1..7
    # time=160.716ms
ok 117 - test/register.test.js # time=160.716ms

# Subtest: test/reply-code.test.js
    # Subtest: code should handle null/undefined/float
        1..8
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
    ok 1 - code should handle null/undefined/float # time=44.837ms
    
    # Subtest: code should handle 204
        1..13
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - stream ended
    ok 2 - code should handle 204 # time=10.363ms
    
    # Subtest: code should handle onSend hook on 204
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
    ok 3 - code should handle onSend hook on 204 # time=5.647ms
    
    1..3
    # time=88.357ms
ok 118 - test/reply-code.test.js # time=88.357ms

# Subtest: test/reply-error.test.js
    # Subtest: Reply error handling - code: 400
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - Reply error handling - code: 400 # time=135.599ms
    
    # Subtest: Reply error handling - code: 401
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 2 - Reply error handling - code: 401 # time=5.273ms
    
    # Subtest: Reply error handling - code: 402
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 3 - Reply error handling - code: 402 # time=9.305ms
    
    # Subtest: Reply error handling - code: 403
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 4 - Reply error handling - code: 403 # time=10.867ms
    
    # Subtest: Reply error handling - code: 404
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 5 - Reply error handling - code: 404 # time=4.812ms
    
    # Subtest: Reply error handling - code: 405
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 6 - Reply error handling - code: 405 # time=9.074ms
    
    # Subtest: Reply error handling - code: 406
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 7 - Reply error handling - code: 406 # time=7.593ms
    
    # Subtest: Reply error handling - code: 407
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 8 - Reply error handling - code: 407 # time=4.188ms
    
    # Subtest: Reply error handling - code: 408
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 9 - Reply error handling - code: 408 # time=9.173ms
    
    # Subtest: Reply error handling - code: 409
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 10 - Reply error handling - code: 409 # time=8.129ms
    
    # Subtest: Reply error handling - code: 410
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 11 - Reply error handling - code: 410 # time=6.793ms
    
    # Subtest: Reply error handling - code: 411
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 12 - Reply error handling - code: 411 # time=7.87ms
    
    # Subtest: Reply error handling - code: 412
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 13 - Reply error handling - code: 412 # time=6.91ms
    
    # Subtest: Reply error handling - code: 413
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 14 - Reply error handling - code: 413 # time=4.161ms
    
    # Subtest: Reply error handling - code: 414
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 15 - Reply error handling - code: 414 # time=19.718ms
    
    # Subtest: Reply error handling - code: 415
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 16 - Reply error handling - code: 415 # time=11.688ms
    
    # Subtest: Reply error handling - code: 416
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 17 - Reply error handling - code: 416 # time=9.107ms
    
    # Subtest: Reply error handling - code: 417
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 18 - Reply error handling - code: 417 # time=7.498ms
    
    # Subtest: Reply error handling - code: 418
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 19 - Reply error handling - code: 418 # time=4.087ms
    
    # Subtest: Reply error handling - code: 421
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 20 - Reply error handling - code: 421 # time=3.921ms
    
    # Subtest: Reply error handling - code: 422
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 21 - Reply error handling - code: 422 # time=9.194ms
    
    # Subtest: Reply error handling - code: 423
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 22 - Reply error handling - code: 423 # time=8.152ms
    
    # Subtest: Reply error handling - code: 424
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 23 - Reply error handling - code: 424 # time=12.365ms
    
    # Subtest: Reply error handling - code: 425
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 24 - Reply error handling - code: 425 # time=7.989ms
    
    # Subtest: Reply error handling - code: 426
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 25 - Reply error handling - code: 426 # time=8.708ms
    
    # Subtest: Reply error handling - code: 428
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 26 - Reply error handling - code: 428 # time=9.306ms
    
    # Subtest: Reply error handling - code: 429
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 27 - Reply error handling - code: 429 # time=10.986ms
    
    # Subtest: Reply error handling - code: 431
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 28 - Reply error handling - code: 431 # time=10.2ms
    
    # Subtest: Reply error handling - code: 451
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 29 - Reply error handling - code: 451 # time=5.66ms
    
    # Subtest: Reply error handling - code: 500
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 30 - Reply error handling - code: 500 # time=6.642ms
    
    # Subtest: Reply error handling - code: 501
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 31 - Reply error handling - code: 501 # time=3.665ms
    
    # Subtest: Reply error handling - code: 502
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 32 - Reply error handling - code: 502 # time=9.81ms
    
    # Subtest: Reply error handling - code: 503
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 33 - Reply error handling - code: 503 # time=4.264ms
    
    # Subtest: Reply error handling - code: 504
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 34 - Reply error handling - code: 504 # time=4.581ms
    
    # Subtest: Reply error handling - code: 505
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 35 - Reply error handling - code: 505 # time=3.528ms
    
    # Subtest: Reply error handling - code: 506
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 36 - Reply error handling - code: 506 # time=7.672ms
    
    # Subtest: Reply error handling - code: 507
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 37 - Reply error handling - code: 507 # time=4.273ms
    
    # Subtest: Reply error handling - code: 508
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 38 - Reply error handling - code: 508 # time=3.583ms
    
    # Subtest: Reply error handling - code: 509
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 39 - Reply error handling - code: 509 # time=6.442ms
    
    # Subtest: Reply error handling - code: 510
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 40 - Reply error handling - code: 510 # time=16.645ms
    
    # Subtest: Reply error handling - code: 511
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 41 - Reply error handling - code: 511 # time=9.802ms
    
    # Subtest: preHandler hook error handling with external code
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 42 - preHandler hook error handling with external code # time=7.703ms
    
    # Subtest: onRequest hook error handling with external done
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 43 - onRequest hook error handling with external done # time=3.789ms
    
    # Subtest: Should reply 400 on client error
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 44 - Should reply 400 on client error # time=16.639ms
    
    # Subtest: Should set the response from client error handler
        1..5
        ok 1 - should not error
        ok 2 - type is Error
        ok 3 - should be equal
        ok 4 - Log level is not warn
        ok 5 - should be equal
    ok 45 - Should set the response from client error handler # time=8.705ms
    
    # Subtest: Error instance sets HTTP status code
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 46 - Error instance sets HTTP status code # time=4.114ms
    
    # Subtest: Error status code below 400 defaults to 500
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 47 - Error status code below 400 defaults to 500 # time=7.823ms
    
    # Subtest: Error.status property support
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 48 - Error.status property support # time=3.553ms
    
    # Subtest: Support rejection with values that are not Error instances
        1..11
        # Subtest: Type: number
            1..4
            ok 1 - should be equal
            ok 2 - should not error
            ok 3 - should be equal
            ok 4 - should be equal
        ok 1 - Type: number # time=13.828ms
        
        # Subtest: Type: string
            1..4
            ok 1 - should be equal
            ok 2 - should not error
            ok 3 - should be equal
            ok 4 - should be equal
        ok 2 - Type: string # time=3.731ms
        
        # Subtest: Type: object
            1..4
            ok 1 - should be equivalent
            ok 2 - should not error
            ok 3 - should be equal
            ok 4 - should be equal
        ok 3 - Type: object # time=3.976ms
        
        # Subtest: Type: object
            1..4
            ok 1 - should be equivalent
            ok 2 - should not error
            ok 3 - should be equal
            ok 4 - should be equal
        ok 4 - Type: object # time=7.948ms
        
        # Subtest: Type: object
            1..4
            ok 1 - should be equivalent
            ok 2 - should not error
            ok 3 - should be equal
            ok 4 - should be equal
        ok 5 - Type: object # time=3.537ms
        
        # Subtest: Type: undefined
            1..4
            ok 1 - should be equal
            ok 2 - should not error
            ok 3 - should be equal
            ok 4 - should be equal
        ok 6 - Type: undefined # time=3.514ms
        
        # Subtest: Type: number
            1..4
            ok 1 - should be equal
            ok 2 - should not error
            ok 3 - should be equal
            ok 4 - should be equal
        ok 7 - Type: number # time=3.541ms
        
        # Subtest: Type: string
            1..4
            ok 1 - should be equal
            ok 2 - should not error
            ok 3 - should be equal
            ok 4 - should be equal
        ok 8 - Type: string # time=3.434ms
        
        # Subtest: Type: object
            1..4
            ok 1 - should be equivalent
            ok 2 - should not error
            ok 3 - should be equal
            ok 4 - should be equal
        ok 9 - Type: object # time=3.706ms
        
        # Subtest: Type: object
            1..4
            ok 1 - should be equivalent
            ok 2 - should not error
            ok 3 - should be equal
            ok 4 - should be equal
        ok 10 - Type: object # time=4.877ms
        
        # Subtest: Type: object
            1..4
            ok 1 - should be equivalent
            ok 2 - should not error
            ok 3 - should be equal
            ok 4 - should be equal
        ok 11 - Type: object # time=3.69ms
        
    ok 49 - Support rejection with values that are not Error instances # time=71.128ms
    
    # Subtest: invalid schema - ajv
        1..4
        ok 1 - expect truthy value
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 50 - invalid schema - ajv # time=50.419ms
    
    # Subtest: should set the status code and the headers from the error object (from route handler) (no custom error handler)
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 51 - should set the status code and the headers from the error object (from route handler) (no custom error handler) # time=4.307ms
    
    # Subtest: should set the status code and the headers from the error object (from custom error handler)
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 52 - should set the status code and the headers from the error object (from custom error handler) # time=4.621ms
    
    # Subtest: '*' should throw an error due to serializer can not handle the payload type
        1..3
        ok 1 - type is TypeError
        ok 2 - should be equal
        ok 3 - should be equal
    ok 53 - '*' should throw an error due to serializer can not handle the payload type # time=3.22ms
    
    # Subtest: should throw an error if the custom serializer does not serialize the payload to a valid type
        1..3
        ok 1 - type is TypeError
        ok 2 - should be equal
        ok 3 - should be equal
    ok 54 - should throw an error if the custom serializer does not serialize the payload to a valid type # time=3.177ms
    
    # Subtest: should not set headers or status code for custom error handler
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 55 - should not set headers or status code for custom error handler # time=4.862ms
    
    # Subtest: error thrown by custom error handler routes to default error handler
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 56 - error thrown by custom error handler routes to default error handler # time=9.642ms
    
    # Subtest: allow re-thrown error to default error handler when route handler is async and error handler is sync
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 57 - allow re-thrown error to default error handler when route handler is async and error handler is sync # time=6.728ms
    
    # Subtest: should throw error if error code is undefined
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 58 - should throw error if error code is undefined # time=15.076ms
    
    # Subtest: should throw error if error code is null
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 59 - should throw error if error code is null # time=2.625ms
    
    # Subtest: should throw error if error code is error_code
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 60 - should throw error if error code is error_code # time=3.317ms
    
    # Subtest: should throw error if error code is 0
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 61 - should throw error if error code is 0 # time=2.581ms
    
    # Subtest: should throw error if error code is 1
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 62 - should throw error if error code is 1 # time=2.695ms
    
    # Subtest: should throw error if error code is 99
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 63 - should throw error if error code is 99 # time=2.472ms
    
    # Subtest: should throw error if error code is 600
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 64 - should throw error if error code is 600 # time=2.551ms
    
    # Subtest: should throw error if error code is 700
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 65 - should throw error if error code is 700 # time=2.474ms
    
    # Subtest: error handler is triggered when a string is thrown from sync handler
        1..3
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
    ok 66 - error handler is triggered when a string is thrown from sync handler # time=3.35ms
    
    # Subtest: status code should be set to 500 and return an error json payload if route handler throws any non Error object expression
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 67 - status code should be set to 500 and return an error json payload if route handler throws any non Error object expression # time=3.492ms
    
    # Subtest: should preserve the status code set by the user if an expression is thrown in a sync route
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 68 - should preserve the status code set by the user if an expression is thrown in a sync route # time=3.322ms
    
    # Subtest: should trigger error handlers if a sync route throws any non-error object
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 69 - should trigger error handlers if a sync route throws any non-error object # time=3.048ms
    
    # Subtest: should trigger error handlers if a sync route throws undefined
        1..1
        ok 1 - should be equal
    ok 70 - should trigger error handlers if a sync route throws undefined # time=2.689ms
    
    # Subtest: setting content-type on reply object should not hang the server case 1
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 71 - setting content-type on reply object should not hang the server case 1 # time=26.877ms
    
    # Subtest: setting content-type on reply object should not hang the server case 2
        1..1
        ok 1 - should be equivalent
    ok 72 - setting content-type on reply object should not hang the server case 2 # time=11.738ms
    
    # Subtest: setting content-type on reply object should not hang the server case 3
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 73 - setting content-type on reply object should not hang the server case 3 # time=2.908ms
    
    # Subtest: pipe stream inside error handler should not cause error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 74 - pipe stream inside error handler should not cause error # time=13.831ms
    
    1..74
    # time=859.539ms
ok 119 - test/reply-error.test.js # time=859.539ms

# Subtest: test/reply-trailers.test.js
    # Subtest: send trailers when payload is empty string
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not contain all provided fields
    ok 1 - send trailers when payload is empty string # time=55.014ms
    
    # Subtest: send trailers when payload is empty buffer
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not contain all provided fields
    ok 2 - send trailers when payload is empty buffer # time=9.428ms
    
    # Subtest: send trailers when payload is undefined
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not contain all provided fields
    ok 3 - send trailers when payload is undefined # time=10.285ms
    
    # Subtest: send trailers when payload is json
        1..7
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not contain all provided fields
    ok 4 - send trailers when payload is json # time=10.92ms
    
    # Subtest: send trailers when payload is stream
        1..7
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not contain all provided fields
    ok 5 - send trailers when payload is stream # time=16.883ms
    
    # Subtest: send trailers when using async-await
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not contain all provided fields
    ok 6 - send trailers when using async-await # time=5.985ms
    
    # Subtest: error in trailers should be ignored
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not contain all provided fields
        ok 5 - should not contain all provided fields
    ok 7 - error in trailers should be ignored # time=10.675ms
    
    # Subtest: should emit deprecation warning when using direct return
        1..7
(node:1272) [FSTDEP013] DeprecationWarning: Direct return of "trailers" function is deprecated. Please use "callback" or "async-await" for return value. The support of direct return will removed in `fastify@5`.
(Use `node --trace-deprecation ...` to show where the warning was created)
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not contain all provided fields
    ok 8 - should emit deprecation warning when using direct return # time=12.733ms
    
    # Subtest: trailer handler counter
        1..2
        # Subtest: callback with timeout
            1..9
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should not error
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should not contain all provided fields
        ok 1 - callback with timeout # time=511.103ms
        
        # Subtest: async-await
            1..9
            ok 1 - should be equal
            ok 2 - should be equal
            ok 3 - should not error
            ok 4 - should be equal
            ok 5 - should be equal
            ok 6 - should be equal
            ok 7 - should be equal
            ok 8 - should be equal
            ok 9 - should not contain all provided fields
        ok 2 - async-await # time=512.257ms
        
    ok 9 - trailer handler counter # time=1042.084ms
    
    # Subtest: removeTrailer
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - expect falsey value
        ok 6 - should not contain all provided fields
    ok 10 - removeTrailer # time=8.243ms
    
    # Subtest: remove all trailers
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - expect falsey value
        ok 4 - expect falsey value
        ok 5 - expect falsey value
        ok 6 - should not contain all provided fields
    ok 11 - remove all trailers # time=12.49ms
    
    # Subtest: hasTrailer
        1..10
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - expect falsey value
        ok 10 - should not contain all provided fields
    ok 12 - hasTrailer # time=13.463ms
    
    # Subtest: throw error when trailer header name is not allowed
        1..14
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should not error
        ok 14 - should be equal
    ok 13 - throw error when trailer header name is not allowed # time=12.133ms
    
    # Subtest: throw error when trailer header value is not function
        1..10
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should not error
        ok 10 - should be equal
    ok 14 - throw error when trailer header value is not function # time=14.453ms
    
    1..14
    # time=1250.007ms
ok 120 - test/reply-trailers.test.js # time=1250.007ms

# Subtest: test/request-error.test.js
    # Subtest: default 400 on request error
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - default 400 on request error # time=78.353ms
    
    # Subtest: default 400 on request error with custom error handler
        1..6
        ok 1 - type is object
        ok 2 - type is Request
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 2 - default 400 on request error with custom error handler # time=7.362ms
    
    # Subtest: default clientError handler ignores ECONNRESET
        1..3
        ok 1 - should not error
        ok 2 - should match pattern provided
        ok 3 - should not match pattern provided
    ok 3 - default clientError handler ignores ECONNRESET # time=21.194ms
    
    # Subtest: default clientError handler ignores sockets in destroyed state
        1..1
        ok 1 - (unnamed test)
    ok 4 - default clientError handler ignores sockets in destroyed state # time=1.816ms
    
    # Subtest: default clientError handler destroys sockets in writable state
        1..2
        ok 1 - should match pattern provided
        ok 2 - destroy should be called
    ok 5 - default clientError handler destroys sockets in writable state # time=2.064ms
    
    # Subtest: default clientError handler destroys http sockets in non-writable state
        1..1
        ok 1 - destroy should be called
    ok 6 - default clientError handler destroys http sockets in non-writable state # time=1.385ms
    
    # Subtest: error handler binding
        1..5
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 7 - error handler binding # time=11.494ms
    
    # Subtest: encapsulated error handler binding
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should be equal
    ok 8 - encapsulated error handler binding # time=14.29ms
    
    # Subtest: default clientError replies with bad request on reused keep-alive connection
        1..2
        ok 1 - should not error
        ok 2 - should match pattern provided
    ok 9 - default clientError replies with bad request on reused keep-alive connection # time=9.435ms
    
    # Subtest: request.routeOptions should be immutable
        1..14
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - expected to throw: TypeError Cannot set property routeOptions of \#<Request> which has only a getter
        ok 5 - expected to throw: TypeError Cannot assign to read only property 'method' of object '\#<Object>'
        ok 6 - expected to throw: TypeError Cannot assign to read only property 'url' of object '\#<Object>'
        ok 7 - expected to throw: TypeError Cannot assign to read only property 'bodyLimit' of object '\#<Object>'
        ok 8 - expected to throw: TypeError Cannot assign to read only property 'attachValidation' of object '\#<Object>'
        ok 9 - expected to throw: TypeError Cannot assign to read only property 'logLevel' of object '\#<Object>'
        ok 10 - expected to throw: TypeError Cannot assign to read only property 'version' of object '\#<Object>'
        ok 11 - expected to throw: TypeError Cannot assign to read only property 'prefixTrailingSlash' of object '\#<Object>'
        ok 12 - expected to throw: TypeError Cannot add property newAttribute, object is not extensible
        ok 13 - should not error
        ok 14 - should be equal
    ok 10 - request.routeOptions should be immutable # time=20.39ms
    
    # Subtest: test request.routeOptions.version
        1..7
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
    ok 11 - test request.routeOptions.version # time=10.974ms
    
    1..11
    # time=196.569ms
ok 121 - test/request-error.test.js # time=196.569ms

# Subtest: test/request-id.test.js
    # Subtest: The request id header key can be customized
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 1 - The request id header key can be customized # time=37.646ms
    
    # Subtest: The request id header key can be customized
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 2 - The request id header key can be customized # time=4.549ms
    
    # Subtest: The request id header key can be customized
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 3 - The request id header key can be customized # time=61.536ms
    
    # Subtest: The request id header key can be customized
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 4 - The request id header key can be customized # time=6.948ms
    
    # Subtest: The request id header key can be customized
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 5 - The request id header key can be customized # time=13.056ms
    
    1..5
    # time=144.05ms
ok 122 - test/request-id.test.js # time=144.05ms

# Subtest: test/request.deprecated.test.js
    # Subtest: Should expose router options via getters on request and reply
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
    ok 1 - Should expose router options via getters on request and reply # time=83.004ms
    
    1..1
    # time=112.356ms
ok 123 - test/request.deprecated.test.js # time=112.356ms

# Subtest: test/requestTimeout.test.js
    # Subtest: requestTimeout passed to server
        1..5
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
    ok 1 - requestTimeout passed to server # time=40.421ms
    
    # Subtest: requestTimeout should be set
        1..1
        ok 1 - should be equivalent
    ok 2 - requestTimeout should be set # time=3.535ms
    
    # Subtest: requestTimeout should 0
        1..1
        ok 1 - should be equivalent
    ok 3 - requestTimeout should 0 # time=1.585ms
    
    1..3
    # time=73.719ms
ok 124 - test/requestTimeout.test.js # time=73.719ms

# Subtest: test/route-hooks.test.js
    # Subtest: preHandler
        1..3
        ok 1 - hook called
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 1 - preHandler # time=130.467ms
    
    # Subtest: preHandler option should be called after preHandler hook
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
    ok 2 - preHandler option should be called after preHandler hook # time=6.119ms
    
    # Subtest: preHandler option could accept an array of functions
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
    ok 3 - preHandler option could accept an array of functions # time=9.765ms
    
    # Subtest: preHandler option could accept an array of async functions
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
    ok 4 - preHandler option could accept an array of async functions # time=10.198ms
    
    # Subtest: preHandler option does not interfere with preHandler hook
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
    ok 5 - preHandler option does not interfere with preHandler hook # time=8.135ms
    
    # Subtest: onSend
        1..3
        ok 1 - hook called
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 6 - onSend # time=7.334ms
    
    # Subtest: onSend option should be called after onSend hook
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
    ok 7 - onSend option should be called after onSend hook # time=3.829ms
    
    # Subtest: onSend option could accept an array of functions
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
    ok 8 - onSend option could accept an array of functions # time=9.278ms
    
    # Subtest: onSend option could accept an array of async functions
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
    ok 9 - onSend option could accept an array of async functions # time=9.253ms
    
    # Subtest: onSend option does not interfere with onSend hook
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
    ok 10 - onSend option does not interfere with onSend hook # time=9.337ms
    
    # Subtest: onRequest
        1..3
        ok 1 - hook called
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 11 - onRequest # time=7.743ms
    
    # Subtest: onRequest option should be called after onRequest hook
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
    ok 12 - onRequest option should be called after onRequest hook # time=7.227ms
    
    # Subtest: onRequest option could accept an array of functions
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
    ok 13 - onRequest option could accept an array of functions # time=3.689ms
    
    # Subtest: onRequest option could accept an array of async functions
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
    ok 14 - onRequest option could accept an array of async functions # time=9.094ms
    
    # Subtest: onRequest option does not interfere with onRequest hook
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
    ok 15 - onRequest option does not interfere with onRequest hook # time=24.336ms
    
    # Subtest: onResponse
        1..3
        ok 1 - hook called
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 16 - onResponse # time=8.253ms
    
    # Subtest: onResponse option should be called after onResponse hook
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
    ok 17 - onResponse option should be called after onResponse hook # time=6.286ms
    
    # Subtest: onResponse option could accept an array of functions
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
    ok 18 - onResponse option could accept an array of functions # time=10.431ms
    
    # Subtest: onResponse option could accept an array of async functions
        1..3
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
    ok 19 - onResponse option could accept an array of async functions # time=3.748ms
    
    # Subtest: onResponse option does not interfere with onResponse hook
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
    ok 20 - onResponse option does not interfere with onResponse hook # time=11.654ms
    
    # Subtest: preValidation
        1..3
        ok 1 - hook called
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 21 - preValidation # time=10.097ms
    
    # Subtest: preValidation option should be called after preValidation hook
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
    ok 22 - preValidation option should be called after preValidation hook # time=3.783ms
    
    # Subtest: preValidation option could accept an array of functions
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
    ok 23 - preValidation option could accept an array of functions # time=13.194ms
    
    # Subtest: preValidation option could accept an array of async functions
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
    ok 24 - preValidation option could accept an array of async functions # time=4.753ms
    
    # Subtest: preValidation option does not interfere with preValidation hook
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
    ok 25 - preValidation option does not interfere with preValidation hook # time=11.385ms
    
    # Subtest: preParsing
        1..3
        ok 1 - hook called
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 26 - preParsing # time=12.257ms
    
    # Subtest: preParsing option should be called after preParsing hook
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
    ok 27 - preParsing option should be called after preParsing hook # time=14.531ms
    
    # Subtest: preParsing option could accept an array of functions
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
    ok 28 - preParsing option could accept an array of functions # time=7.545ms
    
    # Subtest: preParsing option could accept an array of async functions
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
    ok 29 - preParsing option could accept an array of async functions # time=9.235ms
    
    # Subtest: preParsing option does not interfere with preParsing hook
        1..7
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
    ok 30 - preParsing option does not interfere with preParsing hook # time=11.349ms
    
    # Subtest: preHandler option should be unique per route
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 31 - preHandler option should be unique per route # time=4.749ms
    
    # Subtest: preHandler option should handle errors
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 32 - preHandler option should handle errors # time=4.371ms
    
    # Subtest: preHandler option should handle throwing objects
        1..4
        ok 1 - the error object throws by the user
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 33 - preHandler option should handle throwing objects # time=5.033ms
    
    # Subtest: preHandler option should handle throwing objects by default
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 34 - preHandler option should handle throwing objects by default # time=4.489ms
    
    # Subtest: preHandler option should handle errors with custom status code
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 35 - preHandler option should handle errors with custom status code # time=3.684ms
    
    # Subtest: preHandler option should keep the context
        1..3
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 36 - preHandler option should keep the context # time=3.762ms
    
    # Subtest: preHandler option should keep the context (array)
        1..3
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 37 - preHandler option should keep the context (array) # time=7.427ms
    
    # Subtest: onRequest option should be unique per route
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 38 - onRequest option should be unique per route # time=4.249ms
    
    # Subtest: onRequest option should handle errors
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 39 - onRequest option should handle errors # time=3.147ms
    
    # Subtest: onRequest option should handle throwing objects
        1..4
        ok 1 - the error object throws by the user
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 40 - onRequest option should handle throwing objects # time=3.79ms
    
    # Subtest: onRequest option should handle throwing objects by default
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 41 - onRequest option should handle throwing objects by default # time=8.044ms
    
    # Subtest: onRequest option should handle errors with custom status code
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 42 - onRequest option should handle errors with custom status code # time=4.409ms
    
    # Subtest: onRequest option should keep the context
        1..3
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 43 - onRequest option should keep the context # time=3.388ms
    
    # Subtest: onRequest option should keep the context (array)
        1..3
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 44 - onRequest option should keep the context (array) # time=3.247ms
    
    # Subtest: preValidation option should be unique per route
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 45 - preValidation option should be unique per route # time=4.257ms
    
    # Subtest: preValidation option should handle errors
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 46 - preValidation option should handle errors # time=3.362ms
    
    # Subtest: preValidation option should handle throwing objects
        1..4
        ok 1 - the error object throws by the user
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 47 - preValidation option should handle throwing objects # time=7.738ms
    
    # Subtest: preValidation option should handle throwing objects by default
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 48 - preValidation option should handle throwing objects by default # time=6.077ms
    
    # Subtest: preValidation option should handle errors with custom status code
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 49 - preValidation option should handle errors with custom status code # time=15.285ms
    
    # Subtest: preValidation option should keep the context
        1..3
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 50 - preValidation option should keep the context # time=7.187ms
    
    # Subtest: preValidation option should keep the context (array)
        1..3
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 51 - preValidation option should keep the context (array) # time=6.357ms
    
    # Subtest: preParsing option should be unique per route
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 52 - preParsing option should be unique per route # time=8.421ms
    
    # Subtest: preParsing option should handle errors
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 53 - preParsing option should handle errors # time=3.186ms
    
    # Subtest: preParsing option should handle throwing objects
        1..4
        ok 1 - the error object throws by the user
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 54 - preParsing option should handle throwing objects # time=3.856ms
    
    # Subtest: preParsing option should handle throwing objects by default
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 55 - preParsing option should handle throwing objects by default # time=3.228ms
    
    # Subtest: preParsing option should handle errors with custom status code
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 56 - preParsing option should handle errors with custom status code # time=3.086ms
    
    # Subtest: preParsing option should keep the context
        1..3
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 57 - preParsing option should keep the context # time=3.451ms
    
    # Subtest: preParsing option should keep the context (array)
        1..3
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 58 - preParsing option should keep the context (array) # time=3.275ms
    
    # Subtest: preValidation option should be called before preHandler hook
        1..3
        ok 1 - expect truthy value
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 59 - preValidation option should be called before preHandler hook # time=3.724ms
    
    # Subtest: preSerialization option should be able to modify the payload
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 60 - preSerialization option should be able to modify the payload # time=3.801ms
    
    # Subtest: preParsing option should be called before preValidation hook
        1..3
        ok 1 - expect truthy value
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 61 - preParsing option should be called before preValidation hook # time=25.805ms
    
    # Subtest: preParsing option should be able to modify the payload
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 62 - preParsing option should be able to modify the payload # time=23.647ms
    
    # Subtest: preParsing option should be able to supply statusCode
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 63 - preParsing option should be able to supply statusCode # time=4.976ms
    
    # Subtest: onRequest option should be called before preParsing
        1..3
        ok 1 - expect truthy value
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 64 - onRequest option should be called before preParsing # time=4.158ms
    
    # Subtest: onTimeout on route
        1..4
        ok 1 - should not error
        ok 2 - onTimeout called
        ok 3 - type is Error
        ok 4 - should be equal
    ok 65 - onTimeout on route # time=517.484ms
    
    # Subtest: onError on route
        1..3
        ok 1 - should match pattern provided
        ok 2 - should not error
        ok 3 - should be equivalent
    ok 66 - onError on route # time=4.822ms
    
    1..66
    # time=1187.502ms
ok 125 - test/route-hooks.test.js # time=1187.502ms

# Subtest: test/route-prefix.test.js
    # Subtest: Prefix options should add a prefix for all the routes inside a register / 1
        1..6
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equivalent
    ok 1 - Prefix options should add a prefix for all the routes inside a register / 1 # time=75.871ms
    
    # Subtest: Prefix options should add a prefix for all the routes inside a register / 2
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 2 - Prefix options should add a prefix for all the routes inside a register / 2 # time=6.958ms
    
    # Subtest: Prefix options should add a prefix for all the chained routes inside a register / 3
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 3 - Prefix options should add a prefix for all the chained routes inside a register / 3 # time=13.163ms
    
    # Subtest: Prefix should support parameters as well
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 4 - Prefix should support parameters as well # time=9.64ms
    
    # Subtest: Prefix should support /
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 5 - Prefix should support / # time=9.265ms
    
    # Subtest: Prefix without /
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 6 - Prefix without / # time=32.733ms
    
    # Subtest: Prefix with trailing /
        1..6
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equivalent
    ok 7 - Prefix with trailing / # time=8.202ms
    
    # Subtest: Prefix works multiple levels deep
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 8 - Prefix works multiple levels deep # time=7.552ms
    
    # Subtest: Different register - encapsulation check
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 9 - Different register - encapsulation check # time=16.457ms
    
    # Subtest: Can retrieve prefix within encapsulated instances
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 10 - Can retrieve prefix within encapsulated instances # time=13.052ms
    
    # Subtest: matches both /prefix and /prefix/ with a / route
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 11 - matches both /prefix and /prefix/ with a / route # time=10.591ms
    
    # Subtest: prefix "/prefix/" does not match "/prefix" with a / route
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 12 - prefix "/prefix/" does not match "/prefix" with a / route # time=9.48ms
    
    # Subtest: matches both /prefix and /prefix/ with a / route - ignoreTrailingSlash: true
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 13 - matches both /prefix and /prefix/ with a / route - ignoreTrailingSlash: true # time=5.234ms
    
    # Subtest: matches both /prefix and /prefix/ with a / route - ignoreDuplicateSlashes: true
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 14 - matches both /prefix and /prefix/ with a / route - ignoreDuplicateSlashes: true # time=5.605ms
    
    # Subtest: matches both /prefix and /prefix/  with a / route - prefixTrailingSlash: "both", ignoreTrailingSlash: false
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 15 - matches both /prefix and /prefix/  with a / route - prefixTrailingSlash: "both", ignoreTrailingSlash: false # time=25.549ms
    
    # Subtest: matches both /prefix and /prefix/  with a / route - prefixTrailingSlash: "both", ignoreDuplicateSlashes: false
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 16 - matches both /prefix and /prefix/  with a / route - prefixTrailingSlash: "both", ignoreDuplicateSlashes: false # time=16.913ms
    
    # Subtest: matches both /prefix and /prefix/ with a / route - ignoreTrailingSlash: true, ignoreDuplicateSlashes: true
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 17 - matches both /prefix and /prefix/ with a / route - ignoreTrailingSlash: true, ignoreDuplicateSlashes: true # time=7.246ms
    
    # Subtest: matches both /prefix and /prefix/ with a / route - ignoreTrailingSlash: true, ignoreDuplicateSlashes: false
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 18 - matches both /prefix and /prefix/ with a / route - ignoreTrailingSlash: true, ignoreDuplicateSlashes: false # time=8.105ms
    
    # Subtest: returns 404 status code with /prefix/ and / route - prefixTrailingSlash: "both" (default), ignoreTrailingSlash: true
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 19 - returns 404 status code with /prefix/ and / route - prefixTrailingSlash: "both" (default), ignoreTrailingSlash: true # time=8.936ms
    
    # Subtest: matches both /prefix and /prefix/  with a / route - prefixTrailingSlash: "both", ignoreDuplicateSlashes: true
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 20 - matches both /prefix and /prefix/  with a / route - prefixTrailingSlash: "both", ignoreDuplicateSlashes: true # time=4.259ms
    
    # Subtest: matches both /prefix and /prefix/  with a / route - prefixTrailingSlash: "both", ignoreTrailingSlash: true, ignoreDuplicateSlashes: true
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 21 - matches both /prefix and /prefix/  with a / route - prefixTrailingSlash: "both", ignoreTrailingSlash: true, ignoreDuplicateSlashes: true # time=9.286ms
    
    # Subtest: matches both /prefix and /prefix/  with a / route - prefixTrailingSlash: "both", ignoreDuplicateSlashes: true
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 22 - matches both /prefix and /prefix/  with a / route - prefixTrailingSlash: "both", ignoreDuplicateSlashes: true # time=14.303ms
    
    # Subtest: matches only /prefix  with a / route - prefixTrailingSlash: "no-slash", ignoreTrailingSlash: false
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equal
    ok 23 - matches only /prefix  with a / route - prefixTrailingSlash: "no-slash", ignoreTrailingSlash: false # time=9.364ms
    
    # Subtest: matches only /prefix  with a / route - prefixTrailingSlash: "no-slash", ignoreDuplicateSlashes: false
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equal
    ok 24 - matches only /prefix  with a / route - prefixTrailingSlash: "no-slash", ignoreDuplicateSlashes: false # time=22.385ms
    
    # Subtest: matches only /prefix/  with a / route - prefixTrailingSlash: "slash", ignoreTrailingSlash: false
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equal
    ok 25 - matches only /prefix/  with a / route - prefixTrailingSlash: "slash", ignoreTrailingSlash: false # time=9.953ms
    
    # Subtest: calls onRoute only once when prefixing
        1..1
        ok 1 - should be equivalent
    ok 26 - calls onRoute only once when prefixing # time=4.866ms
    
    1..26
    # time=392.694ms
ok 126 - test/route-prefix.test.js # time=392.694ms

# Subtest: test/route.1.test.js
    # Subtest: route
        1..10
        # Subtest: route - get
            1..4
            ok 1 - expected to not throw
            ok 2 - should not error
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 1 - route - get # time=98.56ms
        
        # Subtest: missing schema - route
            1..4
            ok 1 - expected to not throw
            ok 2 - should not error
            ok 3 - should be equal
            ok 4 - should be equivalent
        ok 2 - missing schema - route # time=9.136ms
        
        # Subtest: invalid handler attribute - route
            1..1
            ok 1 - expected to throw
        ok 3 - invalid handler attribute - route # time=2.216ms
        
        # Subtest: Add Multiple methods per route all uppercase
            1..7
            ok 1 - expected to not throw
            ok 2 - should not error
            ok 3 - should be equal
            ok 4 - should be equivalent
            ok 5 - should not error
            ok 6 - should be equal
            ok 7 - should be equivalent
        ok 4 - Add Multiple methods per route all uppercase # time=16.56ms
        
        # Subtest: Add Multiple methods per route all lowercase
            1..7
            ok 1 - expected to not throw
            ok 2 - should not error
            ok 3 - should be equal
            ok 4 - should be equivalent
            ok 5 - should not error
            ok 6 - should be equal
            ok 7 - should be equivalent
        ok 5 - Add Multiple methods per route all lowercase # time=15.658ms
        
        # Subtest: Add Multiple methods per route mixed uppercase and lowercase
            1..7
            ok 1 - expected to not throw
            ok 2 - should not error
            ok 3 - should be equal
            ok 4 - should be equivalent
            ok 5 - should not error
            ok 6 - should be equal
            ok 7 - should be equivalent
        ok 6 - Add Multiple methods per route mixed uppercase and lowercase # time=12.074ms
        
        # Subtest: Add invalid Multiple methods per route
            1..1
            ok 1 - expected to throw: FastifyError Provided method is invalid!
        ok 7 - Add invalid Multiple methods per route # time=3.342ms
        
        # Subtest: Add method
            1..1
            ok 1 - expected to throw: FastifyError Provided method is invalid!
        ok 8 - Add method # time=1.857ms
        
        # Subtest: Add additional multiple methods to existing route
            1..7
            ok 1 - expected to not throw
            ok 2 - should not error
            ok 3 - should be equal
            ok 4 - should be equivalent
            ok 5 - should not error
            ok 6 - should be equal
            ok 7 - should be equivalent
        ok 9 - Add additional multiple methods to existing route # time=9.014ms
        
        # Subtest: cannot add another route after binding
            1..1
            ok 1 - expected to throw: FastifyError Fastify instance is already listening. Cannot add route!
        ok 10 - cannot add another route after binding # time=10.682ms
        
    ok 1 - route # time=197.269ms
    
    # Subtest: invalid schema - route
        1..3
        ok 1 - the error is throw on preReady
        ok 2 - should be equal
        ok 3 - should match pattern provided
    ok 2 - invalid schema - route # time=57.218ms
    
    1..2
    # time=260.278ms
ok 127 - test/route.1.test.js # time=260.278ms

# Subtest: test/route.2.test.js
    # Subtest: same route definition object on multiple prefixes
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 1 - same route definition object on multiple prefixes # time=24.373ms
    
    # Subtest: path can be specified in place of uri
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 2 - path can be specified in place of uri # time=20.396ms
    
    # Subtest: invalid bodyLimit option - route
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 3 - invalid bodyLimit option - route # time=2.714ms
    
    # Subtest: handler function in options of shorthand route should works correctly
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 4 - handler function in options of shorthand route should works correctly # time=10.941ms
    
    1..4
    # time=100.184ms
ok 128 - test/route.2.test.js # time=100.184ms

# Subtest: test/route.3.test.js
    # Subtest: does not mutate joi schemas
        1..4
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - does not mutate joi schemas # time=72.578ms
    
    # Subtest: multiple routes with one schema
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 2 - multiple routes with one schema # time=46.851ms
    
    # Subtest: route error handler overrides default error handler
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 3 - route error handler overrides default error handler # time=13.649ms
    
    # Subtest: route error handler does not affect other routes
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 4 - route error handler does not affect other routes # time=10.22ms
    
    # Subtest: async error handler for a route
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 5 - async error handler for a route # time=6.414ms
    
    1..5
    # time=170.474ms
ok 129 - test/route.3.test.js # time=170.474ms

# Subtest: test/route.4.test.js
    # Subtest: route error handler overrides global custom error handler
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 1 - route error handler overrides global custom error handler # time=42.08ms
    
    # Subtest: throws when route with empty url
        1..1
        ok 1 - should be equal
    ok 2 - throws when route with empty url # time=3.328ms
    
    # Subtest: throws when route with empty url in shorthand declaration
        1..1
        ok 1 - should be equal
    ok 3 - throws when route with empty url in shorthand declaration # time=1.881ms
    
    # Subtest: throws when route-level error handler is not a function
        1..1
        ok 1 - should be equal
    ok 4 - throws when route-level error handler is not a function # time=1.773ms
    
    # Subtest: route child logger factory overrides default child logger factory
        1..3
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
    ok 5 - route child logger factory overrides default child logger factory # time=4.711ms
    
    1..5
    # time=82.094ms
ok 130 - test/route.4.test.js # time=82.094ms

# Subtest: test/route.5.test.js
    # Subtest: route child logger factory does not affect other routes
        1..6
        ok 1 - should be equal
        ok 2 - should not match pattern provided
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
    ok 1 - route child logger factory does not affect other routes # time=53.765ms
    
    # Subtest: route child logger factory overrides global custom error handler
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
    ok 2 - route child logger factory overrides global custom error handler # time=6.975ms
    
    # Subtest: Creates a HEAD route for each GET one (default)
        1..8
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
    ok 3 - Creates a HEAD route for each GET one (default) # time=17.129ms
    
    # Subtest: Do not create a HEAD route for each GET one (exposeHeadRoutes: false)
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 4 - Do not create a HEAD route for each GET one (exposeHeadRoutes: false) # time=8.144ms
    
    # Subtest: Creates a HEAD route for each GET one
        1..8
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
    ok 5 - Creates a HEAD route for each GET one # time=11.506ms
    
    1..5
    # time=134.462ms
ok 131 - test/route.5.test.js # time=134.462ms

# Subtest: test/route.6.test.js
    # Subtest: Creates a HEAD route for a GET one with prefixTrailingSlash
        1..1
        ok 1 - expect truthy value
    ok 1 - Creates a HEAD route for a GET one with prefixTrailingSlash # time=26.971ms
    
    # Subtest: Will not create a HEAD route that is not GET
        1..11
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should not error
        ok 11 - should be equal
    ok 2 - Will not create a HEAD route that is not GET # time=23.641ms
    
    # Subtest: HEAD route should handle properly each response type
        1..25
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should not error
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should not error
        ok 17 - should be equal
        ok 18 - should be equal
        ok 19 - should be equal
        ok 20 - should be equal
        ok 21 - should not error
        ok 22 - should be equal
        ok 23 - should be equal
        ok 24 - should be equal
        ok 25 - should be equal
    ok 3 - HEAD route should handle properly each response type # time=15.367ms
    
    # Subtest: HEAD route should respect custom onSend handlers
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 4 - HEAD route should respect custom onSend handlers # time=10.551ms
    
    # Subtest: route onSend can be function or array of functions
        1..12
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
    ok 5 - route onSend can be function or array of functions # time=16.67ms
    
    # Subtest: no warning for exposeHeadRoute
        1..0
    ok 6 - no warning for exposeHeadRoute # time=30.49ms
    
    1..6
    # time=140.471ms
ok 132 - test/route.6.test.js # time=140.471ms

# Subtest: test/route.7.test.js
    # Subtest: HEAD route should handle stream.on('error')
        1..6
        ok 1 - should be equivalent
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 1 - HEAD route should handle stream.on('error') # time=57.864ms
    
    # Subtest: HEAD route should be exposed by default
        1..7
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
    ok 2 - HEAD route should be exposed by default # time=11.965ms
    
    # Subtest: HEAD route should be exposed if route exposeHeadRoute is set
        1..7
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
    ok 3 - HEAD route should be exposed if route exposeHeadRoute is set # time=12.924ms
    
    # Subtest: Set a custom HEAD route before GET one without disabling exposeHeadRoutes (global)
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
    ok 4 - Set a custom HEAD route before GET one without disabling exposeHeadRoutes (global) # time=10.011ms
    
    # Subtest: Set a custom HEAD route before GET one without disabling exposeHeadRoutes (route)
        1..7
        ok 1 - warning emitted
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
    ok 5 - Set a custom HEAD route before GET one without disabling exposeHeadRoutes (route) # time=25.263ms
    
    # Subtest: HEAD routes properly auto created for GET routes when prefixTrailingSlash: 'no-slash'
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 6 - HEAD routes properly auto created for GET routes when prefixTrailingSlash: 'no-slash' # time=14.987ms
    
    # Subtest: HEAD routes properly auto created for GET routes when prefixTrailingSlash: 'both'
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 7 - HEAD routes properly auto created for GET routes when prefixTrailingSlash: 'both' # time=7.908ms
    
    # Subtest: GET route with body schema should throw
        1..1
        ok 1 - expected to throw: Error Body validation schema for GET:/get route is not supported!
    ok 8 - GET route with body schema should throw # time=9.208ms
    
    # Subtest: HEAD route with body schema should throw
        1..1
        ok 1 - expected to throw: Error Body validation schema for HEAD:/shouldThrow route is not supported!
    ok 9 - HEAD route with body schema should throw # time=1.744ms
    
    # Subtest: [HEAD, GET] route with body schema should throw
        1..1
        ok 1 - expected to throw: Error Body validation schema for HEAD:/shouldThrowHead route is not supported!
    ok 10 - [HEAD, GET] route with body schema should throw # time=1.672ms
    
    # Subtest: GET route with body schema should throw - shorthand
        1..1
        ok 1 - expected to throw: Error Body validation schema for GET:/shouldThrow route is not supported!
    ok 11 - GET route with body schema should throw - shorthand # time=1.688ms
    
    # Subtest: HEAD route with body schema should throw - shorthand
        1..1
        ok 1 - expected to throw: Error Body validation schema for HEAD:/shouldThrow2 route is not supported!
    ok 12 - HEAD route with body schema should throw - shorthand # time=1.636ms
    
    1..12
    # time=197.023ms
ok 133 - test/route.7.test.js # time=197.023ms

# Subtest: test/route.8.test.js
    # Subtest: Request and Reply share the route config
        1..3
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - there are url and method additional properties
(node:1390) [FSTDEP012] DeprecationWarning: request.context property access is deprecated. Please use "request.routeOptions.config" or "request.routeOptions.schema" instead for accessing Route settings. The "request.context" will be removed in `fastify@5`.
(Use `node --trace-deprecation ...` to show where the warning was created)
(node:1390) [FSTDEP019] DeprecationWarning: reply.context property access is deprecated. Please use "request.routeOptions.config" or "request.routeOptions.schema" instead for accessing Route settings. The "reply.context" will be removed in `fastify@5`.
    ok 1 - Request and Reply share the route config # time=43.377ms
    
    # Subtest: Will not try to re-createprefixed HEAD route if it already exists and exposeHeadRoutes is true
        1..1
        ok 1 - expect truthy value
    ok 2 - Will not try to re-createprefixed HEAD route if it already exists and exposeHeadRoutes is true # time=5.389ms
    
    # Subtest: route with non-english characters
        1..4
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 3 - route with non-english characters # time=44.284ms
    
    # Subtest: invalid url attribute - non string URL
        1..1
        ok 1 - should be equal
    ok 4 - invalid url attribute - non string URL # time=1.89ms
    
    # Subtest: exposeHeadRoute should not reuse the same route option
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 5 - exposeHeadRoute should not reuse the same route option # time=2.257ms
    
    # Subtest: using fastify.all when a catchall is defined does not degrade performance
        1..1
        ok 1 - (unnamed test)
    ok 6 - using fastify.all when a catchall is defined does not degrade performance # time=150.455ms
    
    1..6
    # time=263.385ms
ok 134 - test/route.8.test.js # time=263.385ms

# Subtest: test/router-options.test.js
    # Subtest: Should honor ignoreTrailingSlash option
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 1 - Should honor ignoreTrailingSlash option # time=49.147ms
    
    # Subtest: Should honor ignoreDuplicateSlashes option
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 2 - Should honor ignoreDuplicateSlashes option # time=5.494ms
    
    # Subtest: Should honor ignoreTrailingSlash and ignoreDuplicateSlashes options
        1..4
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
    ok 3 - Should honor ignoreTrailingSlash and ignoreDuplicateSlashes options # time=14.412ms
    
    # Subtest: Should honor maxParamLength option
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 4 - Should honor maxParamLength option # time=12.582ms
    
    # Subtest: Should expose router options via getters on request and reply
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
(node:1401) [FSTDEP019] DeprecationWarning: reply.context property access is deprecated. Please use "request.routeOptions.config" or "request.routeOptions.schema" instead for accessing Route settings. The "reply.context" will be removed in `fastify@5`.
(Use `node --trace-deprecation ...` to show where the warning was created)
        ok 8 - should not error
        ok 9 - should be equal
    ok 5 - Should expose router options via getters on request and reply # time=58.922ms
    
    # Subtest: Should set is404 flag for unmatched paths
        1..3
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
    ok 6 - Should set is404 flag for unmatched paths # time=4.234ms
    
    # Subtest: Should honor frameworkErrors option - FST_ERR_BAD_URL
        1..3
        ok 1 - expect truthy value
        ok 2 - should not error
        ok 3 - should be equal
    ok 7 - Should honor frameworkErrors option - FST_ERR_BAD_URL # time=25.601ms
    
    # Subtest: Should supply Fastify request to the logger in frameworkErrors wrapper - FST_ERR_BAD_URL
        1..8
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
    ok 8 - Should supply Fastify request to the logger in frameworkErrors wrapper - FST_ERR_BAD_URL # time=28.773ms
    
    # Subtest: Should honor disableRequestLogging option in frameworkErrors wrapper - FST_ERR_BAD_URL
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 9 - Should honor disableRequestLogging option in frameworkErrors wrapper - FST_ERR_BAD_URL # time=7.127ms
    
    # Subtest: Should honor frameworkErrors option - FST_ERR_ASYNC_CONSTRAINT
        1..3
        ok 1 - expect truthy value
        ok 2 - should not error
        ok 3 - should be equal
    ok 10 - Should honor frameworkErrors option - FST_ERR_ASYNC_CONSTRAINT # time=8.819ms
    
    # Subtest: Should supply Fastify request to the logger in frameworkErrors wrapper - FST_ERR_ASYNC_CONSTRAINT
        1..8
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
    ok 11 - Should supply Fastify request to the logger in frameworkErrors wrapper - FST_ERR_ASYNC_CONSTRAINT # time=10.699ms
    
    # Subtest: Should honor disableRequestLogging option in frameworkErrors wrapper - FST_ERR_ASYNC_CONSTRAINT
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 12 - Should honor disableRequestLogging option in frameworkErrors wrapper - FST_ERR_ASYNC_CONSTRAINT # time=3.934ms
    
    1..12
    # time=245.902ms
ok 135 - test/router-options.test.js # time=245.902ms

# Subtest: test/same-shape.test.js
    # Subtest: same shape on Request
        1..1
        ok 1 - should be equal
    ok 1 - same shape on Request # time=35.841ms
    
    # Subtest: same shape on Request when object
        1..1
        ok 1 - should be equal
    ok 2 - same shape on Request when object # time=3.911ms
    
    # Subtest: same shape on Reply
        1..1
        ok 1 - should be equal
    ok 3 - same shape on Reply # time=9ms
    
    # Subtest: same shape on Reply when object
        1..1
        ok 1 - should be equal
    ok 4 - same shape on Reply when object # time=10.158ms
    
    1..4
    # time=95.005ms
ok 136 - test/same-shape.test.js # time=95.005ms

# Subtest: test/schema-examples.test.js
    # Subtest: Example - URI $id
        1..1
        ok 1 - should not error
    ok 1 - Example - URI $id # time=83.631ms
    
    # Subtest: Example - string $id
        1..1
        ok 1 - should not error
    ok 2 - Example - string $id # time=49.111ms
    
    # Subtest: Example - get schema
        1..1
        ok 1 - should be equivalent
    ok 3 - Example - get schema # time=4.744ms
    
    # Subtest: Example - get schema encapsulated
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        1..3
    ok 4 - Example - get schema encapsulated # time=21.409ms
    
    # Subtest: Example - validation
        1..1
        ok 1 - should not error
    ok 5 - Example - validation # time=32.782ms
    
    # Subtest: Example - ajv config
        1..1
        ok 1 - should not error
    ok 6 - Example - ajv config # time=66.897ms
    
    # Subtest: Example Joi
        1..1
        ok 1 - should not error
    ok 7 - Example Joi # time=52.473ms
    
    # Subtest: Example yup
        1..1
        ok 1 - should not error
    ok 8 - Example yup # time=9.188ms
    
    # Subtest: Example - serialization
        1..1
        ok 1 - should not error
    ok 9 - Example - serialization # time=15.955ms
    
    # Subtest: Example - serialization 2
        1..1
        ok 1 - should not error
    ok 10 - Example - serialization 2 # time=7.994ms
    
    # Subtest: Example - serializator
        1..1
        ok 1 - should not error
    ok 11 - Example - serializator # time=7.663ms
    
    # Subtest: Example - schemas examples
        1..1
        ok 1 - should not error
    ok 12 - Example - schemas examples # time=35.297ms
    
    # Subtest: should return custom error messages with ajv-errors
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 13 - should return custom error messages with ajv-errors # time=61.685ms
    
    # Subtest: should be able to handle formats of ajv-formats when added by plugins option
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 14 - should be able to handle formats of ajv-formats when added by plugins option # time=25.157ms
    
    # Subtest: should return localized error messages with ajv-i18n
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 15 - should return localized error messages with ajv-i18n # time=54.766ms
    
    1..15
    # time=547.131ms
ok 137 - test/schema-examples.test.js # time=547.131ms

# Subtest: test/schema-feature.test.js
    # Subtest: Should expose addSchema function
        1..1
        ok 1 - should be equal
    ok 1 - Should expose addSchema function # time=12.466ms
    
    # Subtest: Should expose getSchema function
        1..1
        ok 1 - should be equal
    ok 2 - Should expose getSchema function # time=1.615ms
    
    # Subtest: Should expose getSchemas function
        1..1
        ok 1 - should be equal
    ok 3 - Should expose getSchemas function # time=1.353ms
    
    # Subtest: Should expose setValidatorCompiler function
        1..1
        ok 1 - should be equal
    ok 4 - Should expose setValidatorCompiler function # time=1.327ms
    
    # Subtest: Should expose setSerializerCompiler function
        1..1
        ok 1 - should be equal
    ok 5 - Should expose setSerializerCompiler function # time=1.317ms
    
    # Subtest: cannot call setValidatorCompiler after binding
        1..2
        ok 1 - should not error
        ok 2 - (unnamed test)
    ok 6 - cannot call setValidatorCompiler after binding # time=89.218ms
    
    # Subtest: cannot call setSerializerCompiler after binding
        1..2
        ok 1 - should not error
        ok 2 - (unnamed test)
    ok 7 - cannot call setSerializerCompiler after binding # time=3.489ms
    
    # Subtest: The schemas should be added to an internal storage
        1..1
        ok 1 - should be equivalent
    ok 8 - The schemas should be added to an internal storage # time=4.887ms
    
    # Subtest: The schemas should be accessible via getSchemas
        1..1
        ok 1 - should be equivalent
    ok 9 - The schemas should be accessible via getSchemas # time=2.097ms
    
    # Subtest: The schema should be accessible by id via getSchema
        1..5
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should not error
    ok 10 - The schema should be accessible by id via getSchema # time=14.486ms
    
    # Subtest: Get validatorCompiler after setValidatorCompiler
        1..2
        ok 1 - expect truthy value
        ok 2 - should not error
    ok 11 - Get validatorCompiler after setValidatorCompiler # time=8.166ms
    
    # Subtest: Get serializerCompiler after setSerializerCompiler
        1..2
        ok 1 - expect truthy value
        ok 2 - should not error
    ok 12 - Get serializerCompiler after setSerializerCompiler # time=3.03ms
    
    # Subtest: Get compilers is empty when settle on routes
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 13 - Get compilers is empty when settle on routes # time=25.731ms
    
    # Subtest: Should throw if the $id property is missing
        1..1
        ok 1 - should be equal
    ok 14 - Should throw if the $id property is missing # time=1.378ms
    
    # Subtest: Cannot add multiple times the same id
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 15 - Cannot add multiple times the same id # time=1.661ms
    
    # Subtest: Cannot add schema for query and querystring
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 16 - Cannot add schema for query and querystring # time=3.381ms
    
    # Subtest: Should throw of the schema does not exists in input
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 17 - Should throw of the schema does not exists in input # time=47.767ms
    
    # Subtest: Should throw of the schema does not exists in output
        1..2
        ok 1 - should be equal
        ok 2 - should match pattern provided
    ok 18 - Should throw of the schema does not exists in output # time=27.109ms
    
    # Subtest: Should not change the input schemas
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - the $id is not removed
        ok 4 - should be equivalent
    ok 19 - Should not change the input schemas # time=50.401ms
    
    # Subtest: Should emit warning if the schema headers is undefined
        1..4
(node:1422) [FSTWRN001] FastifyWarning: The headers schema for POST: /:id is missing. This may indicate the schema is not well specified.
(Use `node --trace-warnings ...` to show where the warning was created)
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 20 - Should emit warning if the schema headers is undefined # time=5.482ms
    
    # Subtest: Should emit warning if the schema body is undefined
        1..4
(node:1422) [FSTWRN001] FastifyWarning: The body schema for POST: /:id is missing. This may indicate the schema is not well specified.
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 21 - Should emit warning if the schema body is undefined # time=9.591ms
    
    # Subtest: Should emit warning if the schema query is undefined
        1..4
(node:1422) [FSTWRN001] FastifyWarning: The querystring schema for POST: /:id is missing. This may indicate the schema is not well specified.
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 22 - Should emit warning if the schema query is undefined # time=9.578ms
    
    # Subtest: Should emit warning if the schema params is undefined
        1..4
(node:1422) [FSTWRN001] FastifyWarning: The params schema for POST: /:id is missing. This may indicate the schema is not well specified.
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 23 - Should emit warning if the schema params is undefined # time=6.444ms
    
    # Subtest: Should emit a warning for every route with undefined schema
        1..16
(node:1422) [FSTWRN001] FastifyWarning: The params schema for GET: /undefinedParams/:id is missing. This may indicate the schema is not well specified.
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
(node:1422) [FSTWRN001] FastifyWarning: The params schema for HEAD: /undefinedParams/:id is missing. This may indicate the schema is not well specified.
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
(node:1422) [FSTWRN001] FastifyWarning: The body schema for GET: /undefinedBody/:id is missing. This may indicate the schema is not well specified.
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
(node:1422) [FSTWRN001] FastifyWarning: The body schema for HEAD: /undefinedBody/:id is missing. This may indicate the schema is not well specified.
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should be equal
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should not error
        ok 16 - should be equal
    ok 24 - Should emit a warning for every route with undefined schema # time=23.006ms
    
    # Subtest: First level $ref
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 25 - First level $ref # time=30.52ms
    
    # Subtest: Customize validator compiler in instance and route
        1..28
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - headers evaluated
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - body evaluated
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - querystring evaluated
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - params evaluated
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should be equal
        ok 16 - should be equal
        ok 17 - should be equal
        ok 18 - should be equal
        ok 19 - should not error
        ok 20 - should be equal
        ok 21 - should be equivalent
        ok 22 - should be equivalent
        ok 23 - should be equivalent
        ok 24 - should be equivalent
        ok 25 - should match pattern provided
        ok 26 - should not error
        ok 27 - should be equal
        ok 28 - should be equivalent
    ok 26 - Customize validator compiler in instance and route # time=18.655ms
    
    # Subtest: Use the same schema across multiple routes
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 27 - Use the same schema across multiple routes # time=42.221ms
    
    # Subtest: Encapsulation should intervene
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 28 - Encapsulation should intervene # time=32.643ms
    
    # Subtest: Encapsulation isolation
        1..1
        ok 1 - should not error
    ok 29 - Encapsulation isolation # time=10.024ms
    
    # Subtest: Add schema after register
        1..5
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 30 - Add schema after register # time=65.305ms
    
    # Subtest: Encapsulation isolation for getSchemas
        1..5
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should be equivalent
    ok 31 - Encapsulation isolation for getSchemas # time=8.521ms
    
    # Subtest: Use the same schema id in different places
        1..1
        ok 1 - should not error
    ok 32 - Use the same schema id in different places # time=26.593ms
    
    # Subtest: Get schema anyway should not add `properties` if allOf is present
        1..1
        ok 1 - should not error
    ok 33 - Get schema anyway should not add `properties` if allOf is present # time=55.915ms
    
    # Subtest: Get schema anyway should not add `properties` if oneOf is present
        1..1
        ok 1 - should not error
    ok 34 - Get schema anyway should not add `properties` if oneOf is present # time=53.386ms
    
    # Subtest: Get schema anyway should not add `properties` if anyOf is present
        1..1
        ok 1 - should not error
    ok 35 - Get schema anyway should not add `properties` if anyOf is present # time=41.755ms
    
    # Subtest: Shared schema should be ignored in string enum
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 36 - Shared schema should be ignored in string enum # time=26.301ms
    
    # Subtest: Shared schema should NOT be ignored in != string enum
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 37 - Shared schema should NOT be ignored in != string enum # time=39.986ms
    
    # Subtest: Case insensitive header validation
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 38 - Case insensitive header validation # time=28.005ms
    
    # Subtest: Not evaluate json-schema $schema keyword
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 39 - Not evaluate json-schema $schema keyword # time=33.263ms
    
    # Subtest: Validation context in validation result
        1..5
        ok 1 - should be equal
        ok 2 - detailed errors
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 40 - Validation context in validation result # time=20.595ms
    
    # Subtest: The schema build should not modify the input
        1..3
        ok 1 - expect truthy value
        ok 2 - should not error
        ok 3 - expect truthy value
    ok 41 - The schema build should not modify the input # time=41.701ms
    
    # Subtest: Cross schema reference with encapsulation references
        1..1
        ok 1 - should not error
    ok 42 - Cross schema reference with encapsulation references # time=61.889ms
    
    # Subtest: Check how many AJV instances are built \#1
        1..12
        ok 1 - validator not initialized
        ok 2 - validator not initialized
        ok 3 - validator not initialized
        ok 4 - validator not initialized
        ok 5 - should not error
        ok 6 - validator initialized on preReady
        ok 7 - validator initialized on preReady
        ok 8 - validator is only one for all the instances
        ok 9 - validator initialized on preReady
        ok 10 - validator is only one for all the instances
        ok 11 - validator initialized on preReady
        ok 12 - validator is only one for all the instances
    ok 43 - Check how many AJV instances are built \#1 # time=42.893ms
    
    # Subtest: onReady hook has the compilers ready
        1..6
        ok 1 - expect truthy value
        ok 2 - expect truthy value
        ok 3 - expect truthy value
        ok 4 - expect truthy value
        ok 5 - should not error
        ok 6 - it is called once
    ok 44 - onReady hook has the compilers ready # time=25.89ms
    
    # Subtest: Check how many AJV instances are built \#2 - verify validatorPool
        1..13
        ok 1 - validator not initialized
        ok 2 - validator not initialized
        ok 3 - validator not initialized
        ok 4 - validator not initialized
        ok 5 - validator not initialized
        ok 6 - validator not initialized
        ok 7 - validator not initialized
        ok 8 - validator is initialized
        ok 9 - this context must share the validator with the same schemas
        ok 10 - this context must share the validator of the parent
        ok 11 - validator is initialized
        ok 12 - this context has its own compiler
        ok 13 - should not error
    ok 45 - Check how many AJV instances are built \#2 - verify validatorPool # time=46.913ms
    
    # Subtest: Add schema order should not break the startup
        1..1
        ok 1 - should not error
    ok 46 - Add schema order should not break the startup # time=27.064ms
    
    # Subtest: The schema compiler recreate itself if needed
        1..1
        ok 1 - should not error
    ok 47 - The schema compiler recreate itself if needed # time=14.838ms
    
    # Subtest: Schema controller setter
        1..2
        ok 1 - allow empty object
        ok 2 - should be equal
    ok 48 - Schema controller setter # time=1.864ms
    
    # Subtest: Schema controller bucket
        1..10
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should not error
        ok 9 - three schema added
        ok 10 - one bucket built for every register call + 1 for the root instance
    ok 49 - Schema controller bucket # time=7.95ms
    
    # Subtest: setSchemaController per instance
        1..7
        ok 1 - instance1 has created the bucket
        ok 2 - instance2 has created the bucket
        ok 3 - add is called
        ok 4 - getSchemas is called
        ok 5 - getSchema is called
        ok 6 - the schema are loaded
        ok 7 - should not error
    ok 50 - setSchemaController per instance # time=5.577ms
    
    # Subtest: setSchemaController: Inherits correctly parent schemas with a customized validator instance
        1..5
        ok 1 - Contains same number of schemas
        ok 2 - Contains expected schemas
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - Should not coearce the string into array
    ok 51 - setSchemaController: Inherits correctly parent schemas with a customized validator instance # time=43.792ms
    
    # Subtest: setSchemaController: Inherits buildSerializer from parent if not present within the instance
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - Should be called from the child
        ok 4 - Should not be called from the child
        ok 5 - Should be called from the child
        ok 6 - Should not coerce the string into array
    ok 52 - setSchemaController: Inherits buildSerializer from parent if not present within the instance # time=34.026ms
    
    # Subtest: setSchemaController: Inherits buildValidator from parent if not present within the instance
        1..6
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - Should be called from the child
        ok 4 - Should not be called from the child
        ok 5 - Should be called from the child
        ok 6 - Should not coearce the string into array
    ok 53 - setSchemaController: Inherits buildValidator from parent if not present within the instance # time=34.451ms
    
    # Subtest: Should throw if not default validator passed
        1..4
        ok 1 - should be equal
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - Should not coearce the string into array
    ok 54 - Should throw if not default validator passed # time=28.059ms
    
    # Subtest: Should coerce the array if the default validator is used
        1..2
        ok 1 - should be equal
        ok 2 - Should coearce the string into array
    ok 55 - Should coerce the array if the default validator is used # time=32.108ms
    
    # Subtest: Should return a human-friendly error if response status codes are not specified
        1..2
        ok 1 - should be equal
        ok 2 - should match pattern provided
    ok 56 - Should return a human-friendly error if response status codes are not specified # time=3.28ms
    
    # Subtest: setSchemaController: custom validator instance should not mutate headers schema
        1..2
        ok 1 - type is Headers
        ok 2 - type is Headers
    ok 57 - setSchemaController: custom validator instance should not mutate headers schema # time=4.89ms
    
    1..57
    # time=1404.022ms
ok 138 - test/schema-feature.test.js # time=1404.022ms

# Subtest: test/schema-serialization.test.js
    # Subtest: basic test
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 1 - basic test # time=72.407ms
    
    # Subtest: custom serializer options
        1..3
        ok 1 - should not error
        ok 2 - it must use the ceil rouding
        ok 3 - should be equal
    ok 2 - custom serializer options # time=6.068ms
    
    # Subtest: Different content types
        1..32
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should not error
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should be equal
        ok 12 - should not error
        ok 13 - should be equal
        ok 14 - should be equal
        ok 15 - should not error
        ok 16 - should be equal
        ok 17 - should be equal
        ok 18 - should not error
        ok 19 - should be equal
        ok 20 - should be equal
        ok 21 - should not error
        ok 22 - should be equal
        ok 23 - should be equal
        ok 24 - should not error
        ok 25 - should be equal
        ok 26 - should be equal
        ok 27 - should not error
        ok 28 - should be equal
        ok 29 - should be equal
        ok 30 - should not error
        ok 31 - should be equal
        ok 32 - should be equal
    ok 3 - Different content types # time=43.344ms
    
    # Subtest: Invalid multiple content schema, throw FST_ERR_SCH_CONTENT_MISSING_SCHEMA error
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 4 - Invalid multiple content schema, throw FST_ERR_SCH_CONTENT_MISSING_SCHEMA error # time=9.487ms
    
    # Subtest: Use the same schema id in different places
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 5 - Use the same schema id in different places # time=12.608ms
    
    # Subtest: Use shared schema and $ref with $id in response ($ref to $id)
        1..5
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 6 - Use shared schema and $ref with $id in response ($ref to $id) # time=92.012ms
    
    # Subtest: Shared schema should be pass to serializer and validator ($ref to shared schema /definitions)
        1..5
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 7 - Shared schema should be pass to serializer and validator ($ref to shared schema /definitions) # time=45.097ms
    
    # Subtest: Custom setSerializerCompiler
        1..7
        ok 1 - the serializer is set by the parent
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
        ok 6 - should not error
        ok 7 - should be equal
    ok 8 - Custom setSerializerCompiler # time=16.202ms
    
    # Subtest: Custom setSerializerCompiler returns bad serialized output
        1..4
        ok 1 - returning an invalid serialization
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent strictly
    ok 9 - Custom setSerializerCompiler returns bad serialized output # time=8.001ms
    
    # Subtest: Custom serializer per route
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - the custom and route serializer has been called
        1..4
    ok 10 - Custom serializer per route # time=17.875ms
    
    # Subtest: Reply serializer win over serializer 
        1..6
        ok 1 - the custom compiler has been created
        ok 2 - the custom compiler has been created
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equal
    ok 11 - Reply serializer win over serializer # time=8.759ms
    
    # Subtest: Reply serializer win over serializer 
        1..6
        ok 1 - the custom compiler has been created
        ok 2 - the custom compiler has been created
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equal
    ok 12 - Reply serializer win over serializer # time=5.068ms
    
    # Subtest: The schema compiler recreate itself if needed
        1..1
        ok 1 - should not error
    ok 13 - The schema compiler recreate itself if needed # time=15.138ms
    
    # Subtest: The schema changes the default error handler output
        1..4
        ok 1 - should be equal
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 14 - The schema changes the default error handler output # time=19.433ms
    
    # Subtest: do not crash if status code serializer errors
        ok 1 - should be equal
        ok 2 - should be equivalent
        1..2
    ok 15 - do not crash if status code serializer errors # time=54.909ms
    
    # Subtest: custom schema serializer error, empty message
        1..2
        ok 1 - should be equal
        ok 2 - should be equivalent
    ok 16 - custom schema serializer error, empty message # time=6.579ms
    
    # Subtest: error in custom schema serialize compiler, throw FST_ERR_SCH_SERIALIZATION_BUILD error
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 17 - error in custom schema serialize compiler, throw FST_ERR_SCH_SERIALIZATION_BUILD error # time=7.964ms
    
    # Subtest: Errors in searilizer sended to errorHandler
        ok 1 - should be equal
        ok 2 - should be equivalent
        ok 3 - error presents
        ok 4 - Serialization sign presents
        1..4
    ok 18 - Errors in searilizer sended to errorHandler # time=13.996ms
    
    # Subtest: capital X
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 19 - capital X # time=9.033ms
    
    # Subtest: allow default as status code and used as last fallback
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 20 - allow default as status code and used as last fallback # time=8.444ms
    
    1..20
    # time=498.67ms
ok 139 - test/schema-serialization.test.js # time=498.67ms

# Subtest: test/schema-special-usage.test.js
    # Subtest: Ajv plugins array parameter
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 1 - Ajv plugins array parameter # time=131.242ms
    
    # Subtest: Should handle root $merge keywords in header
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 2 - Should handle root $merge keywords in header # time=49.069ms
    
    # Subtest: Should handle root $patch keywords in header
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 3 - Should handle root $patch keywords in header # time=47.948ms
    
    # Subtest: Should handle $merge keywords in body
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 4 - Should handle $merge keywords in body # time=43.665ms
    
    # Subtest: Should handle $patch keywords in body
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 5 - Should handle $patch keywords in body # time=50.401ms
    
    # Subtest: serializer read validator's schemas
        1..4
        ok 1 - is always empty because fastify.addSchema is not called
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 6 - serializer read validator's schemas # time=91.125ms
    
    # Subtest: setSchemaController in a plugin
        1..5
        ok 1 - the bucket is created
        ok 2 - the querystring schema is compiled
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 7 - setSchemaController in a plugin # time=33.717ms
    
    # Subtest: side effect on schema let the server crash
        1..0
    ok 8 - side effect on schema let the server crash # time=47.823ms
    
    # Subtest: only response schema trigger AJV pollution
        1..0
    ok 9 - only response schema trigger AJV pollution # time=22.321ms
    
    # Subtest: only response schema trigger AJV pollution \#2
        1..0
    ok 10 - only response schema trigger AJV pollution \#2 # time=35.214ms
    
    # Subtest: setSchemaController in a plugin with head routes
        1..6
        ok 1 - the bucket is created
        ok 2 - the schema is reused
        ok 3 - the schema is reused
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 11 - setSchemaController in a plugin with head routes # time=43.739ms
    
    # Subtest: multiple refs with the same ids
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 12 - multiple refs with the same ids # time=31.539ms
    
    # Subtest: JOI validation overwrite request headers
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 13 - JOI validation overwrite request headers # time=8ms
    
    # Subtest: Custom schema object should not trigger FST_ERR_SCH_DUPLICATE
        ok 1 - fastify is ready
        1..1
    ok 14 - Custom schema object should not trigger FST_ERR_SCH_DUPLICATE # time=4.23ms
    
    # Subtest: The default schema compilers should not be called when overwritte by the user
        ok 1 - The custom validator compiler should be called
        ok 2 - The custom serializer compiler should be called
        1..2
    ok 15 - The default schema compilers should not be called when overwritte by the user # time=28.581ms
    
    # Subtest: Supports async JOI validation
        1..7
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should be equivalent
    ok 16 - Supports async JOI validation # time=7.815ms
    
    # Subtest: Supports async AJV validation
        1..12
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
        ok 10 - should not error
        ok 11 - should be equal
        ok 12 - should be equivalent
    ok 17 - Supports async AJV validation # time=85.442ms
    
    # Subtest: Check all the async AJV validation paths
        1..10
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should not error
        ok 10 - should be equal
    ok 18 - Check all the async AJV validation paths # time=27.623ms
    
    # Subtest: Check mixed sync and async AJV validations
        1..12
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should not error
        ok 10 - should be equal
        ok 11 - should not error
        ok 12 - should be equal
    ok 19 - Check mixed sync and async AJV validations # time=26.746ms
    
    # Subtest: Check if hooks and attachValidation work with AJV validations
        1..16
        ok 1 - should be equal
        ok 2 - preHandler called
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - preHandler called
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - preHandler called
        ok 11 - should not error
        ok 12 - should be equal
        ok 13 - should be equal
        ok 14 - preHandler called
        ok 15 - should not error
        ok 16 - should be equal
    ok 20 - Check if hooks and attachValidation work with AJV validations # time=67.508ms
    
    1..20
    # time=913.862ms
ok 140 - test/schema-special-usage.test.js # time=913.862ms

# Subtest: test/schema-validation.test.js
    # Subtest: Basic validation test
        1..6
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equal
    ok 1 - Basic validation test # time=133.764ms
    
    # Subtest: External AJV instance
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 2 - External AJV instance # time=67.666ms
    
    # Subtest: Encapsulation
        1..19
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
        ok 7 - should not error
        ok 8 - should be equal
        ok 9 - should be equivalent
        ok 10 - should not error
        ok 11 - should be equal
        ok 12 - the route validator does not change the instance one
        ok 13 - should not error
        ok 14 - should be equal
        ok 15 - should be equivalent
        ok 16 - should be equal
        ok 17 - should not error
        ok 18 - should be equal
        ok 19 - should be equivalent
    ok 3 - Encapsulation # time=51.313ms
    
    # Subtest: Triple $ref with a simple $id
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 4 - Triple $ref with a simple $id # time=59.28ms
    
    # Subtest: Extending schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 5 - Extending schema # time=42.974ms
    
    # Subtest: Should work with nested ids
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
    ok 6 - Should work with nested ids # time=56.57ms
    
    # Subtest: Use the same schema across multiple routes
        1..8
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 7 - Use the same schema across multiple routes # time=21.762ms
    
    # Subtest: JSON Schema validation keywords
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 8 - JSON Schema validation keywords # time=80.559ms
    
    # Subtest: Nested id calls
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 9 - Nested id calls # time=29.013ms
    
    # Subtest: Use the same schema id in different places
        1..2
        ok 1 - should not error
        ok 2 - should be equivalent
    ok 10 - Use the same schema id in different places # time=19.187ms
    
    # Subtest: Use shared schema and $ref with $id ($ref to $id)
        1..5
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 11 - Use shared schema and $ref with $id ($ref to $id) # time=49.386ms
    
    # Subtest: Use items with $ref
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 12 - Use items with $ref # time=27.688ms
    
    # Subtest: Use $ref to /definitions
        1..6
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equivalent
    ok 13 - Use $ref to /definitions # time=22.271ms
    
    # Subtest: Custom AJV settings - pt1
        1..4
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 14 - Custom AJV settings - pt1 # time=45.499ms
    
    # Subtest: Custom AJV settings - pt2
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 15 - Custom AJV settings - pt2 # time=35.203ms
    
    # Subtest: Custom AJV settings on different parameters - pt1
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 16 - Custom AJV settings on different parameters - pt1 # time=34.995ms
    
    # Subtest: Custom AJV settings on different parameters - pt2
        1..4
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
    ok 17 - Custom AJV settings on different parameters - pt2 # time=44.812ms
    
    # Subtest: The same $id in route's schema must not overwrite others
        1..4
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should not error
        ok 4 - should be equivalent
    ok 18 - The same $id in route's schema must not overwrite others # time=38.065ms
    
    # Subtest: Custom validator compiler should not mutate schema
        1..2
        ok 1 - type is Headers
        ok 2 - type is Headers
    ok 19 - Custom validator compiler should not mutate schema # time=3.677ms
    
    1..19
    # time=882.027ms
ok 141 - test/schema-validation.test.js # time=882.027ms

# Subtest: test/search.test.js
    # Subtest: search
        1..1
        ok 1 - (unnamed test)
    ok 1 - search # time=7.082ms
    
    # Subtest: search, params schema
        1..1
        ok 1 - (unnamed test)
    ok 2 - search, params schema # time=1.91ms
    
    # Subtest: search, querystring schema
        1..1
        ok 1 - (unnamed test)
    ok 3 - search, querystring schema # time=1.259ms
    
    # Subtest: search, body schema
        1..1
        ok 1 - (unnamed test)
    ok 4 - search, body schema # time=1.282ms
    
    ok 5 - should not error
    # Subtest: request - search
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 6 - request - search # time=40.159ms
    
    # Subtest: request search params schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 7 - request search params schema # time=5.094ms
    
    # Subtest: request search params schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 8 - request search params schema error # time=4.051ms
    
    # Subtest: request search querystring schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 9 - request search querystring schema # time=3.944ms
    
    # Subtest: request search querystring schema error
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equivalent
    ok 10 - request search querystring schema error # time=3.832ms
    
    # Subtest: request search body schema
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 11 - request search body schema # time=5.647ms
    
    # Subtest: request search body schema error
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equivalent
    ok 12 - request search body schema error # time=4.058ms
    
    1..12
    # time=178.29ms
ok 142 - test/search.test.js # time=178.29ms

# Subtest: test/server.test.js
    # Subtest: listen should accept null port
        1..1
        ok 1 - should not error
    ok 1 - listen should accept null port # time=55.231ms
    
    # Subtest: listen should accept undefined port
        1..1
        ok 1 - should not error
    ok 2 - listen should accept undefined port # time=11.7ms
    
    # Subtest: listen should accept stringified number port
        1..1
        ok 1 - should not error
    ok 3 - listen should accept stringified number port # time=7.53ms
    
    # Subtest: listen should accept log text resolution function
        1..3
        ok 1 - should be equal
        ok 2 - executed
        ok 3 - should not error
    ok 4 - listen should accept log text resolution function # time=7.63ms
    
    # Subtest: listen should reject string port
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 5 - listen should reject string port # time=8.846ms
    
    # Subtest: abort signal
        # Subtest: listen should not start server
            1..2
            ok 1 - should be equal
            ok 2 - type is [object Object]
        ok 1 - listen should not start server # time=7.523ms
        
        # Subtest: listen should not start server if already aborted
            1..2
            ok 1 - should be equal
            ok 2 - type is [object Object]
        ok 2 - listen should not start server if already aborted # time=7.649ms
        
        # Subtest: listen should throw if received invalid signal
            1..2
            ok 1 - should be equal
            ok 2 - should be equal
        ok 3 - listen should throw if received invalid signal # time=3.298ms
        
        1..3
    ok 6 - abort signal # time=30.525ms
    
    # Subtest: \#5180 - preClose should be called before closing secondary server
        1..2
        ok 1 - should not error
        ok 2 - expect truthy value
    ok 7 - \#5180 - preClose should be called before closing secondary server # time=273.406ms
    
    1..7
    # time=1162.021ms
ok 143 - test/server.test.js # time=1162.021ms

# Subtest: test/skip-reply-send.test.js
    # Subtest: skip automatic reply.send() with reply.sent = true and a body
        ok 1 - should not be equal
        ok 2 - should not be equal
        ok 3 - should not be equal
        ok 4 - should not be equal
        ok 5 - should be equal
        ok 6 - should be equal
        1..6
    ok 1 - skip automatic reply.send() with reply.sent = true and a body # time=51.286ms
    
    # Subtest: skip automatic reply.send() with reply.sent = true and no body
        ok 1 - should not be equal
        ok 2 - should not be equal
        ok 3 - should not be equal
        ok 4 - should not be equal
        ok 5 - should be equal
        ok 6 - should be equal
        1..6
    ok 2 - skip automatic reply.send() with reply.sent = true and no body # time=6.713ms
    
    # Subtest: skip automatic reply.send() with reply.sent = true and an error
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        1..5
    ok 3 - skip automatic reply.send() with reply.sent = true and an error # time=14.889ms
    
    # Subtest: Hijacking inside onRequest skips all the following hooks and handler execution
        1..4
        # Subtest: Sending a response using reply.raw => onResponse hook is called
            ok 1 - should not be equal
            ok 2 - should not be equal
            ok 3 - onResponse should be called
            ok 4 - should not be equal
            ok 5 - should not be equal
            ok 6 - should be equal
            ok 7 - should be equal
            1..7
        ok 1 - Sending a response using reply.raw => onResponse hook is called # time=24.511ms
        
        # Subtest: Sending a response using req.socket => onResponse not called
            ok 1 - should not be equal
            ok 2 - should not be equal
            ok 3 - should not be equal
            ok 4 - should not be equal
            ok 5 - should not error
            ok 6 - should not be equal
            ok 7 - should not be equal
            ok 8 - should match pattern provided
            1..8
        ok 2 - Sending a response using req.socket => onResponse not called # time=66.434ms
        
        # Subtest: Throwing an error doesnt trigger any hooks
            ok 1 - should not be equal
            ok 2 - should not be equal
            ok 3 - should not error
            1..3
        ok 3 - Throwing an error doesnt trigger any hooks # time=1004.054ms
        
        # Subtest: Calling reply.send() after hijacking logs a warning
            ok 1 - should be equal
            ok 2 - should not error
            ok 3 - should be equal
            1..3
        ok 4 - Calling reply.send() after hijacking logs a warning # time=1003.897ms
        
    ok 4 - Hijacking inside onRequest skips all the following hooks and handler execution # time=2117.218ms
    
    # Subtest: Hijacking inside preParsing skips all the following hooks and handler execution
        1..4
        # Subtest: Sending a response using reply.raw => onResponse hook is called
            ok 1 - should not be equal
            ok 2 - should not be equal
            ok 3 - onRequest should be called
            ok 4 - onResponse should be called
            ok 5 - should not be equal
            ok 6 - should not be equal
            ok 7 - should be equal
            ok 8 - should be equal
            1..8
        ok 1 - Sending a response using reply.raw => onResponse hook is called # time=13.17ms
        
        # Subtest: Sending a response using req.socket => onResponse not called
            ok 1 - should not be equal
            ok 2 - should not be equal
            ok 3 - should not be equal
            ok 4 - should not be equal
            ok 5 - should not error
            ok 6 - should not be equal
            ok 7 - should not be equal
            ok 8 - onRequest should be called
            ok 9 - should match pattern provided
            1..9
        ok 2 - Sending a response using req.socket => onResponse not called # time=18.978ms
        
        # Subtest: Throwing an error doesnt trigger any hooks
            ok 1 - should not be equal
            ok 2 - should not be equal
            ok 3 - onRequest should be called
            ok 4 - should not error
            1..4
        ok 3 - Throwing an error doesnt trigger any hooks # time=1003.595ms
        
        # Subtest: Calling reply.send() after hijacking logs a warning
            ok 1 - onRequest should be called
            ok 2 - should be equal
            ok 3 - should not error
            ok 4 - should be equal
            1..4
        ok 4 - Calling reply.send() after hijacking logs a warning # time=1004.604ms
        
    ok 5 - Hijacking inside preParsing skips all the following hooks and handler execution # time=2047.734ms
    
    # Subtest: Hijacking inside preValidation skips all the following hooks and handler execution
        1..4
        # Subtest: Sending a response using reply.raw => onResponse hook is called
            ok 1 - should not be equal
            ok 2 - should not be equal
            ok 3 - onRequest should be called
            ok 4 - preParsing should be called
            ok 5 - onResponse should be called
            ok 6 - should not be equal
            ok 7 - should not be equal
            ok 8 - should be equal
            ok 9 - should be equal
            1..9
        ok 1 - Sending a response using reply.raw => onResponse hook is called # time=22.434ms
        
        # Subtest: Sending a response using req.socket => onResponse not called
            ok 1 - should not be equal
            ok 2 - should not be equal
            ok 3 - should not be equal
            ok 4 - should not be equal
            ok 5 - should not error
            ok 6 - should not be equal
            ok 7 - should not be equal
            ok 8 - onRequest should be called
            ok 9 - preParsing should be called
            ok 10 - should match pattern provided
            1..10
        ok 2 - Sending a response using req.socket => onResponse not called # time=20.501ms
        
        # Subtest: Throwing an error doesnt trigger any hooks
            ok 1 - should not be equal
            ok 2 - should not be equal
            ok 3 - onRequest should be called
            ok 4 - preParsing should be called
            ok 5 - should not error
            1..5
        ok 3 - Throwing an error doesnt trigger any hooks # time=1003.118ms
        
        # Subtest: Calling reply.send() after hijacking logs a warning
            ok 1 - onRequest should be called
            ok 2 - preParsing should be called
            ok 3 - should be equal
            ok 4 - should not error
            ok 5 - should be equal
            1..5
        ok 4 - Calling reply.send() after hijacking logs a warning # time=1003.412ms
        
    ok 6 - Hijacking inside preValidation skips all the following hooks and handler execution # time=2058.308ms
    
    # Subtest: Hijacking inside preHandler skips all the following hooks and handler execution
        1..4
        # Subtest: Sending a response using reply.raw => onResponse hook is called
            ok 1 - should not be equal
            ok 2 - should not be equal
            ok 3 - onRequest should be called
            ok 4 - preParsing should be called
            ok 5 - preValidation should be called
            ok 6 - onResponse should be called
            ok 7 - should not be equal
            ok 8 - should not be equal
            ok 9 - should be equal
            ok 10 - should be equal
            1..10
        ok 1 - Sending a response using reply.raw => onResponse hook is called # time=17.975ms
        
        # Subtest: Sending a response using req.socket => onResponse not called
            ok 1 - should not be equal
            ok 2 - should not be equal
            ok 3 - should not be equal
            ok 4 - should not be equal
            ok 5 - should not error
            ok 6 - should not be equal
            ok 7 - should not be equal
            ok 8 - onRequest should be called
            ok 9 - preParsing should be called
            ok 10 - preValidation should be called
            ok 11 - should match pattern provided
            1..11
        ok 2 - Sending a response using req.socket => onResponse not called # time=14.427ms
        
        # Subtest: Throwing an error doesnt trigger any hooks
            ok 1 - should not be equal
            ok 2 - should not be equal
            ok 3 - onRequest should be called
            ok 4 - preParsing should be called
            ok 5 - preValidation should be called
            ok 6 - should not error
            1..6
        ok 3 - Throwing an error doesnt trigger any hooks # time=1002.288ms
        
        # Subtest: Calling reply.send() after hijacking logs a warning
            ok 1 - onRequest should be called
            ok 2 - preParsing should be called
            ok 3 - preValidation should be called
            ok 4 - should be equal
            ok 5 - should not error
            ok 6 - should be equal
            1..6
        ok 4 - Calling reply.send() after hijacking logs a warning # time=1003.058ms
        
    ok 7 - Hijacking inside preHandler skips all the following hooks and handler execution # time=2046.001ms
    
    # Subtest: Hijacking inside handler skips all the following hooks and handler execution
        1..4
        # Subtest: Sending a response using reply.raw => onResponse hook is called
            ok 1 - should not be equal
            ok 2 - should not be equal
            ok 3 - onRequest should be called
            ok 4 - preParsing should be called
            ok 5 - preValidation should be called
            ok 6 - onResponse should be called
            ok 7 - should not be equal
            ok 8 - should not be equal
            ok 9 - should be equal
            ok 10 - should be equal
            1..10
        ok 1 - Sending a response using reply.raw => onResponse hook is called # time=11.488ms
        
        # Subtest: Sending a response using req.socket => onResponse not called
            ok 1 - should not be equal
            ok 2 - should not be equal
            ok 3 - should not be equal
            ok 4 - should not be equal
            ok 5 - should not error
            ok 6 - should not be equal
            ok 7 - should not be equal
            ok 8 - onRequest should be called
            ok 9 - preParsing should be called
            ok 10 - preValidation should be called
            ok 11 - should match pattern provided
            1..11
        ok 2 - Sending a response using req.socket => onResponse not called # time=13.217ms
        
        # Subtest: Throwing an error doesnt trigger any hooks
            ok 1 - onRequest should be called
            ok 2 - preParsing should be called
            ok 3 - preValidation should be called
            ok 4 - should be equal
            ok 5 - should not error
            ok 6 - should be equal
            1..6
        ok 3 - Throwing an error doesnt trigger any hooks # time=1006.312ms
        
        # Subtest: Calling reply.send() after hijacking logs a warning
            ok 1 - onRequest should be called
            ok 2 - preParsing should be called
            ok 3 - preValidation should be called
            ok 4 - should be equal
            ok 5 - should not error
            ok 6 - should be equal
            1..6
        ok 4 - Calling reply.send() after hijacking logs a warning # time=1004.197ms
        
    ok 8 - Hijacking inside handler skips all the following hooks and handler execution # time=2041.28ms
    
    1..8
    # time=10402.659ms
ok 144 - test/skip-reply-send.test.js # time=10402.659ms

# Subtest: test/stream.1.test.js
    # Subtest: should respond with a stream
        1..6
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equal
    ok 1 - should respond with a stream # time=70.031ms
    
    # Subtest: should respond with a stream (error)
        1..3
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
    ok 2 - should respond with a stream (error) # time=9.08ms
    
    # Subtest: should trigger the onSend hook
        1..4
        ok 1 - expect truthy value
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
    ok 3 - should trigger the onSend hook # time=26.658ms
    
    # Subtest: should trigger the onSend hook only twice if pumping the stream fails, first with the stream, second with the serialized error
        1..5
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 4 - should trigger the onSend hook only twice if pumping the stream fails, first with the stream, second with the serialized error # time=11.462ms
    
    1..4
    # time=126.868ms
ok 145 - test/stream.1.test.js # time=126.868ms

# Subtest: test/stream.2.test.js
    # Subtest: onSend hook stream
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
    ok 1 - onSend hook stream # time=71.014ms
    
    # Subtest: onSend hook stream should work even if payload is not a proper stream
        1..1
        ok 1 - should be equal
    ok 2 - onSend hook stream should work even if payload is not a proper stream # time=18.905ms
    
    # Subtest: onSend hook stream should work on payload with "close" ending function
        1..1
        ok 1 - (unnamed test)
    ok 3 - onSend hook stream should work on payload with "close" ending function # time=13.313ms
    
    1..3
    # time=111.01ms
ok 146 - test/stream.2.test.js # time=111.01ms

# Subtest: test/stream.3.test.js
    # Subtest: Destroying streams prematurely
        1..6
        ok 1 - should not error
        ok 2 - Received request
        ok 3 - should be equal
        ok 4 - Response closed
        ok 5 - should be equal
        ok 6 - should be equal
    ok 1 - Destroying streams prematurely # time=71.184ms
    
    # Subtest: Destroying streams prematurely should call close method
        1..7
        ok 1 - should not error
        ok 2 - Received request
        ok 3 - should be equal
        ok 4 - Response closed
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - expect truthy value
    ok 2 - Destroying streams prematurely should call close method # time=11.391ms
    
    # Subtest: Destroying streams prematurely should call close method when destroy is not a function
        1..7
        ok 1 - should not error
        ok 2 - Received request
        ok 3 - should be equal
        ok 4 - Response closed
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - expect truthy value
    ok 3 - Destroying streams prematurely should call close method when destroy is not a function # time=18.211ms
    
    1..3
    # time=116.753ms
ok 147 - test/stream.3.test.js # time=116.753ms

# Subtest: test/stream.4.test.js
    # Subtest: Destroying streams prematurely should call abort method
        1..7
        ok 1 - should not error
        ok 2 - Received request
        ok 3 - should be equal
        ok 4 - Response closed
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - expect truthy value
    ok 1 - Destroying streams prematurely should call abort method # time=75.338ms
    
    # Subtest: Destroying streams prematurely, log is disabled
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - Response closed
        ok 4 - expect truthy value
    ok 2 - Destroying streams prematurely, log is disabled # time=9.073ms
    
    # Subtest: should respond with a stream1
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
    ok 3 - should respond with a stream1 # time=29.133ms
    
    # Subtest: return a 404 if the stream emits a 404 error
        1..5
        ok 1 - should not error
        ok 2 - Received request
        ok 3 - should not error
        ok 4 - should be equal
        ok 5 - should be equal
    ok 4 - return a 404 if the stream emits a 404 error # time=12.982ms
    
    ok 5 - should support send module 200 and 404 # SKIP
    1..5
    # skip: 1
    # time=135.222ms
ok 148 - test/stream.4.test.js # time=135.222ms

# Subtest: test/stream.5.test.js
    # Subtest: should destroy stream when response is ended
        1..4
        ok 1 - should not error
        ok 2 - expect truthy value
        ok 3 - should not error
        ok 4 - should be equal
    ok 1 - should destroy stream when response is ended # time=69.129ms
    
    # Subtest: should mark reply as sent before pumping the payload stream into response for async route handler
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 2 - should mark reply as sent before pumping the payload stream into response for async route handler # time=30.552ms
    
    # Subtest: reply.send handles aborted requests
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 3 - reply.send handles aborted requests # time=17.105ms
    
    # Subtest: request terminated should not crash fastify
        1..10
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should be equal
        ok 8 - should be equal
        ok 9 - should be equal
        ok 10 - should end properly
    ok 4 - request terminated should not crash fastify # time=120.386ms
    
    1..4
    # time=245.151ms
ok 149 - test/stream.5.test.js # time=245.151ms

# Subtest: test/sync-routes.test.js
    # Subtest: sync route
        ok 1 - should be equal
        ok 2 - should be equal
        1..2
    ok 1 - sync route # time=35.738ms
    
    # Subtest: sync route return null
        ok 1 - should be equal
        ok 2 - should be equal
        1..2
    ok 2 - sync route return null # time=4.448ms
    
    # Subtest: sync route, error
        ok 1 - should be equal
        1..1
    ok 3 - sync route, error # time=9.708ms
    
    1..3
    # time=92.839ms
ok 150 - test/sync-routes.test.js # time=92.839ms

# Subtest: test/throw.test.js
    # Subtest: Fastify should throw on wrong options
        1..2
        ok 1 - should be equal
        ok 2 - (unnamed test)
    ok 1 - Fastify should throw on wrong options # time=6.375ms
    
    # Subtest: Fastify should throw on multiple assignment to the same route
        1..1
        ok 1 - should be equal
    ok 2 - Fastify should throw on multiple assignment to the same route # time=11.465ms
    
    # Subtest: Fastify should throw for an invalid schema, printing the error route - headers
        1..2
        ok 1 - should be equal
        ok 2 - should match pattern provided
    ok 3 - Fastify should throw for an invalid schema, printing the error route - headers # time=76.595ms
    
    # Subtest: Fastify should throw for an invalid schema, printing the error route - body
        1..2
        ok 1 - should be equal
        ok 2 - should match pattern provided
    ok 4 - Fastify should throw for an invalid schema, printing the error route - body # time=52.929ms
    
    # Subtest: Fastify should throw for an invalid shorthand option type
        1..3
        ok 1 - should be equal
        ok 2 - should match pattern provided
        ok 3 - (unnamed test)
    ok 5 - Fastify should throw for an invalid shorthand option type # time=2.391ms
    
    # Subtest: Should throw on unsupported method
        1..1
        ok 1 - (unnamed test)
    ok 6 - Should throw on unsupported method # time=1.75ms
    
    # Subtest: Should throw on missing handler
        1..1
        ok 1 - (unnamed test)
    ok 7 - Should throw on missing handler # time=1.5ms
    
    # Subtest: Should throw if one method is unsupported
        1..1
        ok 1 - (unnamed test)
    ok 8 - Should throw if one method is unsupported # time=1.419ms
    
    # Subtest: Should throw on duplicate content type parser
        1..1
        ok 1 - (unnamed test)
    ok 9 - Should throw on duplicate content type parser # time=2.372ms
    
    # Subtest: Should throw on duplicate decorator
        1..1
        ok 1 - (unnamed test)
    ok 10 - Should throw on duplicate decorator # time=1.526ms
    
    # Subtest: Should not throw on duplicate decorator encapsulation
        1..1
        ok 1 - expected to not throw
    ok 11 - Should not throw on duplicate decorator encapsulation # time=7.865ms
    
    # Subtest: Should throw on duplicate request decorator
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 12 - Should throw on duplicate request decorator # time=3.012ms
    
    # Subtest: Should throw if request decorator dependencies are not met
        1..2
        ok 1 - should be equal
        ok 2 - should be equal
    ok 13 - Should throw if request decorator dependencies are not met # time=3.28ms
    
    # Subtest: Should throw on duplicate reply decorator
        1..1
        ok 1 - expect truthy value
    ok 14 - Should throw on duplicate reply decorator # time=2.961ms
    
    # Subtest: Should throw if reply decorator dependencies are not met
        1..1
        ok 1 - expect truthy value
    ok 15 - Should throw if reply decorator dependencies are not met # time=2.648ms
    
    # Subtest: Should throw if handler as the third parameter to the shortcut method is missing and the second parameter is not a function and also not an object
        1..5
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - (unnamed test)
        ok 4 - (unnamed test)
        ok 5 - (unnamed test)
    ok 16 - Should throw if handler as the third parameter to the shortcut method is missing and the second parameter is not a function and also not an object # time=5.052ms
    
    # Subtest: Should throw if handler as the third parameter to the shortcut method is missing and the second parameter is not a function and also not an object
        1..5
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - (unnamed test)
        ok 4 - (unnamed test)
        ok 5 - (unnamed test)
    ok 17 - Should throw if handler as the third parameter to the shortcut method is missing and the second parameter is not a function and also not an object # time=3.86ms
    
    # Subtest: Should throw if there is handler function as the third parameter to the shortcut method and options as the second parameter is not an object
        1..5
        ok 1 - (unnamed test)
        ok 2 - (unnamed test)
        ok 3 - (unnamed test)
        ok 4 - (unnamed test)
        ok 5 - (unnamed test)
    ok 18 - Should throw if there is handler function as the third parameter to the shortcut method and options as the second parameter is not an object # time=3.569ms
    
    # Subtest: Should throw if found duplicate handler as the third parameter to the shortcut method and in options
        1..1
        ok 1 - (unnamed test)
    ok 19 - Should throw if found duplicate handler as the third parameter to the shortcut method and in options # time=2.723ms
    
    1..19
    # time=217.64ms
ok 151 - test/throw.test.js # time=217.64ms

# Subtest: test/trace.test.js
    # Subtest: shorthand - trace
        1..1
        ok 1 - (unnamed test)
    ok 1 - shorthand - trace # time=7.127ms
    
    1..1
    # time=30.865ms
ok 152 - test/trace.test.js # time=30.865ms

# Subtest: test/trust-proxy.test.js
    # Subtest: trust proxy, not add properties to node req
        1..8
        ok 1 - should not error
        ok 2 - ip is defined
        ok 3 - gets ip from x-forwarded-for
        ok 4 - hostname is defined
        ok 5 - gets hostname from x-forwarded-host
        ok 6 - ip is defined
        ok 7 - gets ip from x-forwarded-for
        ok 8 - gets ips from x-forwarded-for
    ok 1 - trust proxy, not add properties to node req # time=66.274ms
    
    # Subtest: trust proxy chain
        1..3
        ok 1 - should not error
        ok 2 - ip is defined
        ok 3 - gets ip from x-forwarded-for
    ok 2 - trust proxy chain # time=11.526ms
    
    # Subtest: trust proxy function
        1..3
        ok 1 - should not error
        ok 2 - ip is defined
        ok 3 - gets ip from x-forwarded-for
    ok 3 - trust proxy function # time=5.82ms
    
    # Subtest: trust proxy number
        1..4
        ok 1 - should not error
        ok 2 - ip is defined
        ok 3 - gets ip from x-forwarded-for
        ok 4 - gets ips from x-forwarded-for
    ok 4 - trust proxy number # time=14.989ms
    
    # Subtest: trust proxy IP addresses
        1..4
        ok 1 - should not error
        ok 2 - ip is defined
        ok 3 - gets ip from x-forwarded-for
        ok 4 - gets ips from x-forwarded-for
    ok 5 - trust proxy IP addresses # time=12.811ms
    
    # Subtest: trust proxy protocol
        1..13
        ok 1 - should not error
        ok 2 - ip is defined
        ok 3 - gets ip from x-forwarded-for
        ok 4 - protocol is defined
        ok 5 - gets protocol from x-forwarded-proto
        ok 6 - ip is defined
        ok 7 - gets ip from x-forwarded-for
        ok 8 - protocol is defined
        ok 9 - gets protocol from x-forwarded-proto
        ok 10 - ip is defined
        ok 11 - gets ip from x-forwarded-for
        ok 12 - protocol is defined
        ok 13 - gets protocol from x-forwarded-proto
    ok 6 - trust proxy protocol # time=16.54ms
    
    1..6
    # time=162.42ms
ok 153 - test/trust-proxy.test.js # time=162.42ms

# Subtest: test/type-provider.test.js
    # Subtest: Should export withTypeProvider function
        1..1
        ok 1 - (unnamed test)
    ok 1 - Should export withTypeProvider function # time=12.666ms
    
    # Subtest: Should return same instance
        1..1
        ok 1 - should be equal
    ok 2 - Should return same instance # time=1.823ms
    
    1..2
    # time=40.077ms
ok 154 - test/type-provider.test.js # time=40.077ms

# Subtest: test/unlock.test.js
    # Subtest: can be created - unlock
        1..1
        ok 1 - (unnamed test)
    ok 1 - can be created - unlock # time=7.407ms
    
    ok 2 - should not error
    # Subtest: request - unlock
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 3 - request - unlock # time=24.958ms
    
    1..3
    # time=70.14ms
ok 155 - test/unlock.test.js # time=70.14ms

# Subtest: test/unsupported-httpversion.test.js
    # Subtest: Will return 505 HTTP error if HTTP version (2.0 when server is 1.1) is not supported
        ok 1 - should not error
        ok 2 - should match pattern provided
        1..2
    ok 1 - Will return 505 HTTP error if HTTP version (2.0 when server is 1.1) is not supported # time=58.185ms
    
    1..1
    # time=64.622ms
ok 156 - test/unsupported-httpversion.test.js # time=64.622ms

# Subtest: test/upgrade.test.js
    # Subtest: upgrade to both servers
        1..2
        ok 1 - upgrade event {"address":"127.0.0.1","family":"IPv4","port":33855}
        ok 2 - upgrade event {"address":"::1","family":"IPv6","port":33855}
    ok 1 - upgrade to both servers # time=39.162ms
    
    1..1
    # time=46.979ms
ok 157 - test/upgrade.test.js # time=46.979ms

# Subtest: test/url-rewriting.test.js
    # Subtest: Should rewrite url
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equivalent
        ok 5 - should be equal
    ok 1 - Should rewrite url # time=68.71ms
    
    # Subtest: Should not rewrite if the url is the same
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 2 - Should not rewrite if the url is the same # time=9.111ms
    
    # Subtest: Should throw an error
        1..5
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equal
    ok 3 - Should throw an error # time=17.682ms
    
    # Subtest: Should rewrite url but keep originalUrl unchanged
        1..7
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equivalent
        ok 7 - should be equal
    ok 4 - Should rewrite url but keep originalUrl unchanged # time=12.388ms
    
    1..4
    # time=121.993ms
ok 158 - test/url-rewriting.test.js # time=121.993ms

# Subtest: test/validation-error-handling.test.js
    # Subtest: should work with valid payload
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 1 - should work with valid payload # time=136.839ms
    
    # Subtest: should fail immediately with invalid payload
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 2 - should fail immediately with invalid payload # time=31.879ms
    
    # Subtest: should be able to use setErrorHandler specify custom validation error
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 3 - should be able to use setErrorHandler specify custom validation error # time=42.22ms
    
    # Subtest: validation error has 400 statusCode set
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 4 - validation error has 400 statusCode set # time=21.095ms
    
    # Subtest: error inside custom error handler should have validationContext
        1..1
        ok 1 - should be equal
    ok 5 - error inside custom error handler should have validationContext # time=7.985ms
    
    # Subtest: error inside custom error handler should have validationContext if specified by custom error handler
        1..1
        ok 1 - should be equal
    ok 6 - error inside custom error handler should have validationContext if specified by custom error handler # time=10.46ms
    
    # Subtest: should be able to attach validation to request
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 7 - should be able to attach validation to request # time=43.511ms
    
    # Subtest: should respect when attachValidation is explicitly set to false
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 8 - should respect when attachValidation is explicitly set to false # time=25.242ms
    
    # Subtest: Attached validation error should take precedence over setErrorHandler
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 9 - Attached validation error should take precedence over setErrorHandler # time=38.027ms
    
    # Subtest: should handle response validation error
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 10 - should handle response validation error # time=9.343ms
    
    # Subtest: should handle response validation error with promises
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 11 - should handle response validation error with promises # time=10.869ms
    
    # Subtest: should return a defined output message parsing AJV errors
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 12 - should return a defined output message parsing AJV errors # time=53.732ms
    
    # Subtest: should return a defined output message parsing JOI errors
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 13 - should return a defined output message parsing JOI errors # time=19.047ms
    
    # Subtest: should return a defined output message parsing JOI error details
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 14 - should return a defined output message parsing JOI error details # time=4.679ms
    
    # Subtest: the custom error formatter context must be the server instance
        1..4
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should be equal
    ok 15 - the custom error formatter context must be the server instance # time=25.357ms
    
    # Subtest: the custom error formatter context must be the server instance in options
        1..4
        ok 1 - should be equivalent
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should be equal
    ok 16 - the custom error formatter context must be the server instance in options # time=54.092ms
    
    # Subtest: should call custom error formatter
        1..9
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should be equivalent
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equivalent
        ok 9 - should be equal
    ok 17 - should call custom error formatter # time=25.213ms
    
    # Subtest: should catch error inside formatter and return message
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 18 - should catch error inside formatter and return message # time=26.776ms
    
    # Subtest: cannot create a fastify instance with wrong type of errorFormatter
        1..3
        ok 1 - should be equal
        ok 2 - should be equal
        ok 3 - should be equal
    ok 19 - cannot create a fastify instance with wrong type of errorFormatter # time=3.372ms
    
    # Subtest: should register a route based schema error formatter
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 20 - should register a route based schema error formatter # time=25.928ms
    
    # Subtest: prefer route based error formatter over global one
        1..9
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equivalent
        ok 9 - should be equal
    ok 21 - prefer route based error formatter over global one # time=32.427ms
    
    # Subtest: adding schemaErrorFormatter
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 22 - adding schemaErrorFormatter # time=17.495ms
    
    # Subtest: plugin override
        1..15
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equivalent
        ok 9 - should be equal
        ok 10 - should not error
        ok 11 - should be equivalent
        ok 12 - should be equal
        ok 13 - should not error
        ok 14 - should be equivalent
        ok 15 - should be equal
    ok 23 - plugin override # time=36.229ms
    
    1..23
    # time=723.778ms
ok 159 - test/validation-error-handling.test.js # time=723.778ms

# Subtest: test/versioned-routes.test.js
    # Subtest: Should register a versioned route
        1..11
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equivalent
        ok 9 - should be equal
        ok 10 - should not error
        ok 11 - should be equal
    ok 1 - Should register a versioned route # time=46.022ms
    
    # Subtest: Should register a versioned route via route constraints
        1..6
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equal
    ok 2 - Should register a versioned route via route constraints # time=6.18ms
    
    # Subtest: Should register the same route with different versions
        1..8
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 3 - Should register the same route with different versions # time=6.979ms
    
    # Subtest: The versioned route should take precedence
        1..3
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
    ok 4 - The versioned route should take precedence # time=9.776ms
    
    # Subtest: Versioned route but not version header should return a 404
        1..2
        ok 1 - should not error
        ok 2 - should be equal
    ok 5 - Versioned route but not version header should return a 404 # time=6.706ms
    
    # Subtest: Should register a versioned route
        1..6
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should be equivalent
        ok 5 - should not error
        ok 6 - should be equal
    ok 6 - Should register a versioned route # time=65.375ms
    
    # Subtest: Shorthand route declaration
        1..5
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 7 - Shorthand route declaration # time=6.698ms
    
    # Subtest: The not found handler should not erase the Accept-Version header
        1..13
        ok 1 - should be equivalent
        ok 2 - should be equivalent
        ok 3 - should be equivalent
        ok 4 - should be equivalent
        ok 5 - should be equivalent
        ok 6 - should be equivalent
        ok 7 - should be equivalent
        ok 8 - should be equivalent
        ok 9 - should be equivalent
        ok 10 - should be equivalent
        ok 11 - should not error
        ok 12 - should be equivalent
        ok 13 - should be equal
    ok 8 - The not found handler should not erase the Accept-Version header # time=16.952ms
    
    # Subtest: Bad accept version (inject)
        1..4
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should not error
        ok 4 - should be equal
    ok 9 - Bad accept version (inject) # time=8.683ms
    
    # Subtest: Bad accept version (server)
        1..5
        ok 1 - should not error
        ok 2 - should not error
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equal
    ok 10 - Bad accept version (server) # time=14.364ms
    
    # Subtest: test log stream
        1..3
        ok 1 - should not error
        ok 2 - should be equal
        ok 3 - should be equal
    ok 11 - test log stream # time=14.224ms
    
    # Subtest: Should register a versioned route with custom versioning strategy
        1..8
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should not error
        ok 5 - should be equivalent
        ok 6 - should be equal
        ok 7 - should not error
        ok 8 - should be equal
    ok 12 - Should register a versioned route with custom versioning strategy # time=26.327ms
    
    # Subtest: Should get error using an invalid a versioned route, using default validation (deprecated versioning option)
        1..3
        ok 1 - should be equal
        ok 2 - should not error
        ok 3 - should be equal
    ok 13 - Should get error using an invalid a versioned route, using default validation (deprecated versioning option) # time=9.768ms
    
    # Subtest: Vary header check (for documentation example)
        1..8
        ok 1 - should not error
        ok 2 - should be equivalent
        ok 3 - should be equal
        ok 4 - should be equal
        ok 5 - should not error
        ok 6 - should be equivalent
        ok 7 - should be equal
        ok 8 - should be equal
    ok 14 - Vary header check (for documentation example) # time=13.084ms
    
    # Subtest: Should trigger a warning when a versioned route is registered via version option
        1..4
        ok 1 - FSTDEP008 has been emitted
        ok 2 - should not error
        ok 3 - should be equivalent
        ok 4 - should be equal
    ok 15 - Should trigger a warning when a versioned route is registered via version option # time=23.895ms
    
    1..15
    # time=328.615ms
ok 160 - test/versioned-routes.test.js # time=328.615ms

# Subtest: test/wrapThenable.test.js
    # Subtest: should resolve immediately when reply[kReplyHijacked] is true
        1..0
    ok 1 - should resolve immediately when reply[kReplyHijacked] is true # time=3.703ms
    
    # Subtest: should reject immediately when reply[kReplyHijacked] is true
        1..1
        ok 1 - should be equal
    ok 2 - should reject immediately when reply[kReplyHijacked] is true # time=3.199ms
    
    1..2
    # time=20.415ms
ok 161 - test/wrapThenable.test.js # time=20.415ms

1..161
# time=131062.988ms
-----------------------------|---------|----------|---------|---------|-------------------
File                         | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
-----------------------------|---------|----------|---------|---------|-------------------
All files                    |     100 |      100 |     100 |     100 |                   
 src                         |     100 |      100 |     100 |     100 |                   
  fastify.js                 |     100 |      100 |     100 |     100 |                   
 src/lib                     |     100 |      100 |     100 |     100 |                   
  contentTypeParser.js       |     100 |      100 |     100 |     100 |                   
  context.js                 |     100 |      100 |     100 |     100 |                   
  decorate.js                |     100 |      100 |     100 |     100 |                   
  error-handler.js           |     100 |      100 |     100 |     100 |                   
  errors.js                  |     100 |      100 |     100 |     100 |                   
  fourOhFour.js              |     100 |      100 |     100 |     100 |                   
  handleRequest.js           |     100 |      100 |     100 |     100 |                   
  headRoute.js               |     100 |      100 |     100 |     100 |                   
  hooks.js                   |     100 |      100 |     100 |     100 |                   
  httpMethods.js             |     100 |      100 |     100 |     100 |                   
  initialConfigValidation.js |     100 |      100 |     100 |     100 |                   
  logger.js                  |     100 |      100 |     100 |     100 |                   
  noop-set.js                |     100 |      100 |     100 |     100 |                   
  pluginOverride.js          |     100 |      100 |     100 |     100 |                   
  pluginUtils.js             |     100 |      100 |     100 |     100 |                   
  reply.js                   |     100 |      100 |     100 |     100 |                   
  reqIdGenFactory.js         |     100 |      100 |     100 |     100 |                   
  request.js                 |     100 |      100 |     100 |     100 |                   
  route.js                   |     100 |      100 |     100 |     100 |                   
  schema-controller.js       |     100 |      100 |     100 |     100 |                   
  schemas.js                 |     100 |      100 |     100 |     100 |                   
  server.js                  |     100 |      100 |     100 |     100 |                   
  symbols.js                 |     100 |      100 |     100 |     100 |                   
  validation.js              |     100 |      100 |     100 |     100 |                   
  warnings.js                |     100 |      100 |     100 |     100 |                   
  wrapThenable.js            |     100 |      100 |     100 |     100 |                   
-----------------------------|---------|----------|---------|---------|-------------------

> fastify@4.25.2 test:typescript
> tsc test/types/import.ts && tsd

Tests finished with EXIT=0

==============================================
Resources info:
Memory:
               total        used        free      shared  buff/cache   available
Mem:           1.7Gi       478Mi       725Mi        38Mi       793Mi       1.3Gi
Swap:             0B          0B          0B
Storage:
Filesystem      Size  Used Avail Use% Mounted on
devtmpfs        4.0M     0  4.0M   0% /dev
tmpfs           889M   84K  888M   1% /dev/shm
tmpfs           356M   38M  318M  11% /run
/dev/vda1        20G  7.5G   13G  38% /
tmpfs           178M   12K  178M   1% /run/user/0
CPU
Architecture:                    x86_64
CPU op-mode(s):                  32-bit, 64-bit
Address sizes:                   46 bits physical, 57 bits virtual
Byte Order:                      Little Endian
CPU(s):                          1
On-line CPU(s) list:             0
Vendor ID:                       GenuineIntel
BIOS Vendor ID:                  Red Hat
Model name:                      Intel Xeon Processor (Icelake)
BIOS Model name:                 RHEL 7.6.0 PC (i440FX + PIIX, 1996)
CPU family:                      6
Model:                           134
Thread(s) per core:              1
Core(s) per socket:              1
Socket(s):                       1
Stepping:                        0
BogoMIPS:                        4589.21
Flags:                           fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush mmx fxsr sse sse2 ss syscall nx pdpe1gb rdtscp lm constant_tsc rep_good nopl xtopology cpuid tsc_known_freq pni pclmulqdq vmx ssse3 fma cx16 pcid sse4_1 sse4_2 x2apic movbe popcnt tsc_deadline_timer aes xsave avx f16c rdrand hypervisor lahf_lm abm 3dnowprefetch cpuid_fault invpcid_single ssbd ibrs ibpb stibp ibrs_enhanced tpr_shadow vnmi flexpriority ept vpid ept_ad fsgsbase tsc_adjust bmi1 avx2 smep bmi2 erms invpcid avx512f avx512dq rdseed adx smap avx512ifma clflushopt clwb avx512cd sha_ni avx512bw avx512vl xsaveopt xsavec xgetbv1 xsaves wbnoinvd arat avx512vbmi umip pku ospke avx512_vbmi2 gfni vaes vpclmulqdq avx512_vnni avx512_bitalg avx512_vpopcntdq la57 rdpid fsrm md_clear arch_capabilities
Virtualization:                  VT-x
Hypervisor vendor:               KVM
Virtualization type:             full
L1d cache:                       32 KiB (1 instance)
L1i cache:                       32 KiB (1 instance)
L2 cache:                        4 MiB (1 instance)
L3 cache:                        16 MiB (1 instance)
NUMA node(s):                    1
NUMA node0 CPU(s):               0
Vulnerability Itlb multihit:     Not affected
Vulnerability L1tf:              Not affected
Vulnerability Mds:               Not affected
Vulnerability Meltdown:          Not affected
Vulnerability Mmio stale data:   Vulnerable: Clear CPU buffers attempted, no microcode; SMT Host state unknown
Vulnerability Retbleed:          Not affected
Vulnerability Spec store bypass: Mitigation; Speculative Store Bypass disabled via prctl
Vulnerability Spectre v1:        Mitigation; usercopy/swapgs barriers and __user pointer sanitization
Vulnerability Spectre v2:        Mitigation; Enhanced IBRS, IBPB conditional, RSB filling, PBRSB-eIBRS Not affected
Vulnerability Srbds:             Not affected
Vulnerability Tsx async abort:   Mitigation; TSX disabled
==============================================
Image ubi9/nodejs-18:1 information:
==============================================
Uncompressed size of the image: 591MB
Compressed size of the image: 205MB

==============================================
Cleaning of testing containers and images started.
It may take a few seconds.
==============================================
Examining image ID files in $APP_ID_FILE_DIR=/tmp/tmp.KJoa1vbNWO
Untagged: localhost/ubi9/nodejs-18:1-fastify
Deleted: 0cbada0e7fe6783d6e7c6d357ed29c5e917bf4d1868c108c435eeb22183b2cb5
Deleted: e80fe421903a0bcfc4c106c53ff55c0c8dde14369605b5f8a9db50889e153120
Deleted: f7a3bf04147fdee8aca98d8819f08c02a2729afc3f0da82a10457e259964cc35
Deleted: e109049348753146988972e188dc016a3788bf5bcb8df439d18e183f18f3a6a2
Deleted: 219017c11f4e7071823e841fd32ce3831ad7c4be0779b960c27269eaf2e55275
Deleted: 85bc98b36eb1c5769e93e4907c5b4f60ab90ce896da2451687679821d55ac392
Deleted: f9bb149660ec985ec9c333b0c7cb7b63bc5e8be5b0da24a50c5bfb2f92ed297e
Deleted: edbbff9584a567077e4cf8c813efb261e6954c2f41f8ef897c3d98dbc61f7ac2
Deleted: ef4a5a8a3d45687beb5ee199106dcb14ade22982005bc240be892c54e2520dc8
Deleted: 9670cd46e81eb9714528a1198ff00f9111a2b83330d845c045244dc0c4e45411
Untagged: localhost/ubi9/nodejs-18:1-opossum
Deleted: c72fd74b81861557ef044485b111c59791a2eb0a2062e9efd91a70be8db540c3
Deleted: f82c7d6ed13ffd42e03a583e8fb1944e12796fc8a202a2a70e9998ddd1f672b7
Deleted: fa14403b05c06b369fbe42e5fe68e49aa808508d44786b3a0a47151a59f74ad7
Deleted: 92cb3ce29fe856f6bde28fd6875a3c84882bb2308831e384a6f7e05bcbc36842
Deleted: 3228c47783ece273361c75924c780a3c4bbb9df50e2eb7b5053ea4f6bc4d2225
Deleted: dcb35bc068eb13068b32d4736376a138a1db097a256b3104438fc5c92c412c69
Deleted: e83c4890fd088490ffc09c25271e3a05849ea450ce1571f9a387cb83c42860ee
Deleted: 6d9cf2554641607089c97ec4593c97481fab67e41ca449232f3801b912a407db
Deleted: 81fd243370bf06439e96bf6b160247e53745b2e9e46e76d824983256941b3302
Deleted: 9c5affb42dce0500c4300de434939ac3998685bcefa27f17555c3b7396fd912a
Untagged: localhost/ubi9/nodejs-18:1-express
Deleted: a6ee090bf6e3e7f7c166a226b667f7e90b61bce09b326084c62aeb7271fcf292
Deleted: ec97a677ee1708c9dd9ace1e07baf175c115856a209520fcfb49c4f3ba26dac9
Deleted: b8a141b18d6ccbfdd619e9ad75223da77510655f66f21bff4aee05cd662444aa
Deleted: f08a00586d25f29e6b3dbcda3079d1f99b9d9294c34a900f59cd9c69a6f9ad51
Deleted: f25a08968bfc36e77cc2fb15b634bd305b4e1b719984d98c8f42cfa5a493ea8f
Deleted: dd73a0b7054ab478051ef35ef7047b1d7d6f2097177ad5646b253455b099d70c
Deleted: 2cc92786e8260e03a686002f7d2d80e5a1924d0baff6393da905dffde9e09d25
Deleted: e13a3078743d6fe5a1b745a98fc0aab9e584f9a00fc799047335adae304da9dc
Deleted: 7785a44506332516bd8bcd5a646a4081142936ad4f4c01d4d286321e120b82ce
Deleted: fc35bf48393e1c28336360ae2f69bde9f42a08c885365b21ce20eb64b2634a4d
Untagged: localhost/ubi9/nodejs-18:1-prom-client
Deleted: 3db3b7470be39b108ba9573f6335bf5eadfb77271c06853ea5917e5ae9fdc513
Deleted: a1ed9ae3aca3ad580d0259bd5b13bffa5badb711dc26929363db8e6a3df5c355
Deleted: 96a7e4d8288c6111a6dbdab90cd52670409b6204513322e1593cc0cc90f54f6e
Deleted: da41e29050f26a7db49363fe78ec0fb0ccec01a7771d6da96d38ea6b9584f680
Deleted: 97e07848787f7d4a1c7cf588a407499eb98d2cb36fab2209cd27775c7d3a1f93
Deleted: 0dc21184e6fb73a6d1a1826563d185c5a2a3e1b764d4a41b3f95a086318e9626
Deleted: d35615cd9feaee64190c6573a1396051d9a67325cf59c68c31453ba83683e083
Deleted: 143cf0b62262d5e82f2c27a67fe9219f19e78c274860dcc4374d3c384316b84d
Deleted: 11ffaab6dbed20bbe4ed30a93407364ecace083589a869d71f8bf2bc0b8683ae
Deleted: 6c28615fe7665e2864800af1e03f81264d2ec7fc14c9a4388d5d98426feae811
Untagged: localhost/ubi9/nodejs-18:1-cloudevents
Deleted: e553ca769bba952351ca4f51d239a2b5203107562ed91a548039a5a20bde748a
Deleted: 70e163da76cc9f904eb89c00a2ef565ead4a96880e63d9722568f9a55886a5d4
Deleted: 9488255073fd3949b845cb6e783dde64217a0bc2c29bd5a0378cb9194b592ee1
Deleted: ee764915995aa85f0332b63e994ec5513d9f9a5b76eafe9bb0df8976c03894d9
Deleted: 3e6cf33b091a916df3a6c3dec4b9a8f31497a894d9605c4e072e09a692e29e0c
Deleted: 85f8b7554f04a187227eaf3fbb70ff80b0277162f960875e1411e6e11233a4f6
Deleted: 5df89d7a338ca1b09cae6568e2b8d69ee35d64757425890d7a6f26914092aa9d
Deleted: 2769933a363072fa843734275867a93c85d6a13e9e7dd97a14dd026aab71d484
Deleted: 1c3af3516e0a66de488926f30439bfdc94a4851d2fac5d922ffd400eaa32eb2d
Deleted: 02be2362ad5f92fd3edb50a1d474e1b7b829396a317ed96190eab023f034b666
Untagged: localhost/ubi9/nodejs-18:1-kube-service-bindings
Deleted: db0f95b55b332534f1832f3b8a6a145a4cb83cdc4bc1b09d59a329fe1452076e
Deleted: bac49a93a722bdcb62acf29639eff98b259e77e542e3b438900de04e8c273005
Deleted: 07d91f124b10eec4f9aa292818a69fc8838a7ffbce137633e7a23ce743676a9b
Deleted: ae9abdc5e8070dd1e74112388cd3d2a5bca80ed3967f128cb63360210161bed2
Deleted: 41339ddbe35eb6795cdfcffa29b1ad911ec3d16a2164e4019c47d900805752a9
Deleted: 8d83b01c0dfe7ec33f274c61393c0794677a6f519ceb3d7fa906779a4d527f7e
Deleted: 06d4c0edbe6b8c988f8a4c5ce5228e43a2d1530aec0d918363beb99f76aac7f4
Deleted: d3b5eba051280a820235a674cea140c02418f4c9b184ee58238a137995e88a0c
Deleted: ad579f4f33244ec61d138640921e11680b6d8ebb4ce15452a27830ee5280c1f4
Deleted: d4f8fc34a2d2af32388c0c61c5346ce5d0f2dedf8a29ab7f57ffa14828f4b17f
Untagged: localhost/ubi9/nodejs-18:1-faas-js-runtime
Deleted: 023fdd952550b626914974831b6e4f6feb845c9498b5fd9b9c6deb8610a494a3
Deleted: 0b3b56f772cfbb61eebd3621adf51c51eab6558eff13d6ec55048a6d9ca18061
Deleted: 3b51f173778ccae205cbb04ae67f2a4f26f77c9f3e9263b989160ab7c0fb5afb
Deleted: cc277b3b9b53bf84d51e5be7bfb790f7257c6aa7f28514f9c97282c2825e2a09
Deleted: 98d0816f4c298cadd302424ac5bb248f83c3c73fb310df3688b369fe46692c5b
Deleted: cc54b43a060689754e30a79fcf288bb390f452189b745b13e09d960f0ebe6c77
Deleted: c4bbe52ae95cb21505322f55ea5744dd1a0f8bff81bd6cfb2db704a9ee816608
Deleted: 4e83b0923132d1cf16580c95f0d211255ed32f57d6769885ab188ae94dc6578b
Deleted: be89082519cd8f0a00b8899d566637144c85ac9d635991ee7ea59bcdd6a36d8e
Deleted: 9cc117a03e340bd44e59e6c605193ea28f8bbb67476cf7fa2f4b9730512347d2
Examining CID files in $CID_FILE_DIR=/tmp/tmp.tI7Hr5ozZZ
==============================================
Tests were run for image ubi9/nodejs-18:1
==============================================
Test cases results:

 [PASSED] for 'clients' test_client_express (00:00:33)
 [PASSED] for 'clients' test_client_prom (00:01:12)
 [PASSED] for 'clients' test_client_opossum (00:00:55)
 [PASSED] for 'clients' test_client_kube (00:00:30)
 [PASSED] for 'clients' test_client_faas (00:01:15)
 [PASSED] for 'clients' test_client_cloudevents (00:01:39)
 [PASSED] for 'clients' test_client_fastify (00:04:29)

Tests for ubi9/nodejs-18:1 succeeded.
-> Upstream tests are not present, skipping
npm notice 
npm notice New minor version of npm available! 10.1.0 -> 10.3.0
npm notice Changelog: <https://github.com/npm/cli/releases/tag/v10.3.0>
npm notice Run `npm install -g npm@10.3.0` to update!
npm notice 
npm notice 
npm notice New minor version of npm available! 10.1.0 -> 10.3.0
npm notice Changelog: <https://github.com/npm/cli/releases/tag/v10.3.0>
npm notice Run `npm install -g npm@10.3.0` to update!
npm notice 
npm notice 
npm notice New minor version of npm available! 10.1.0 -> 10.3.0
npm notice Changelog: <https://github.com/npm/cli/releases/tag/v10.3.0>
npm notice Run `npm install -g npm@10.3.0` to update!
npm notice 
npm notice 
npm notice New minor version of npm available! 10.1.0 -> 10.3.0
npm notice Changelog: <https://github.com/npm/cli/releases/tag/v10.3.0>
npm notice Run `npm install -g npm@10.3.0` to update!
npm notice 
npm notice 
npm notice New minor version of npm available! 10.1.0 -> 10.3.0
npm notice Changelog: <https://github.com/npm/cli/releases/tag/v10.3.0>
npm notice Run `npm install -g npm@10.3.0` to update!
npm notice 
npm notice 
npm notice New minor version of npm available! 10.1.0 -> 10.3.0
npm notice Changelog: <https://github.com/npm/cli/releases/tag/v10.3.0>
npm notice Run `npm install -g npm@10.3.0` to update!
npm notice 

commit 863366c1c61c26a21804c00f61f14e05c6364ba8
Author: Zuzana Miklankova <zmiklank@redhat.com>
Date:   Mon Dec 4 17:01:00 2023 +0100

    rename test-upstream-unittests make target

Running tests for image ubi9/nodejs-20:1
-----------------------------------------------
Running test test_client_express (starting at 2024-01-23 20:40:01-05:00) ... 
-----------------------------------------------
Running express client test
Running express test suite
fatal: destination path '/var/tmp/daily_scl_tests/rhel9-test-upstream/plans/nightly-container-rhel9/data/s2i-nodejs-container/test/express' already exists and is not an empty directory.
STEP 1/11: FROM ubi9/nodejs-20:1
STEP 2/11: LABEL "io.openshift.s2i.build.image"="ubi9/nodejs-20:1"       "io.openshift.s2i.build.source-location"="file:///var/tmp/daily_scl_tests/rhel9-test-upstream/plans/nightly-container-rhel9/data/s2i-nodejs-container/test/express"
--> 2f508301d8cc
STEP 3/11: USER root
--> ff60289b548f
STEP 4/11: COPY upload/src/ /tmp/src
--> 2d74280c6344
STEP 5/11: RUN chown -R 1001:0 /tmp/src
--> 181521aa73d6
STEP 6/11: ENV NPM_MIRROR=https://repository.engineering.redhat.com/nexus/repository/registry.npmjs.org
--> 6690d0c6515a
STEP 7/11: ENV NODE_ENV=development
--> a87a23fc52c2
STEP 8/11: RUN cd /etc/pki/ca-trust/source/anchors && update-ca-trust extract
--> f475bbcf19f2
STEP 9/11: USER 1001
--> 8f7f2cc55a26
STEP 10/11: RUN /usr/libexec/s2i/assemble
---> Installing application source ...
---> Building your Node application from source

added 429 packages in 14s

63 packages are looking for funding
  run `npm fund` for details
npm notice 
npm notice New minor version of npm available! 10.1.0 -> 10.3.0
npm notice Changelog: <https://github.com/npm/cli/releases/tag/v10.3.0>
npm notice Run `npm install -g npm@10.3.0` to update!
npm notice 
--> b8c41028dbae
STEP 11/11: CMD /usr/libexec/s2i/run
COMMIT ubi9/nodejs-20:1-express
--> a034ec7ed161
Successfully tagged localhost/ubi9/nodejs-20:1-express
a034ec7ed161ca3198b819fc93fe34f076f06032600c59169274a7f952a64734

> express@4.18.2 test
> mocha --require test/support/env --reporter spec --bail --check-leaks test/ test/acceptance/



  Route
    \u2714 should work without handlers
    \u2714 should not stack overflow with a large sync stack (51ms)
    .all
      \u2714 should add handler
      \u2714 should handle VERBS
      \u2714 should stack
    .VERB
      \u2714 should support .get
      \u2714 should limit to just .VERB
      \u2714 should allow fallthrough
    errors
      \u2714 should handle errors via arity 4 functions
      \u2714 should handle throw
      \u2714 should handle throwing inside error handlers
      \u2714 should handle throw in .all
      \u2714 should handle single error handler

  Router
    \u2714 should return a function with router methods
    \u2714 should support .use of other routers
    \u2714 should support dynamic routes
    \u2714 should handle blank URL
    \u2714 should handle missing URL
    \u2714 should not stack overflow with many registered routes (122ms)
    \u2714 should not stack overflow with a large sync route stack (100ms)
    \u2714 should not stack overflow with a large sync middleware stack
    .handle
      \u2714 should dispatch
    .multiple callbacks
      \u2714 should throw if a callback is null
      \u2714 should throw if a callback is undefined
      \u2714 should throw if a callback is not a function
      \u2714 should not throw if all callbacks are functions
    error
      \u2714 should skip non error middleware
      \u2714 should handle throwing inside routes with params
      \u2714 should handle throwing in handler after async param
      \u2714 should handle throwing inside error handlers
    FQDN
      \u2714 should not obscure FQDNs
      \u2714 should ignore FQDN in search
      \u2714 should ignore FQDN in path
      \u2714 should adjust FQDN req.url
      \u2714 should adjust FQDN req.url with multiple handlers
      \u2714 should adjust FQDN req.url with multiple routed handlers
    .all
      \u2714 should support using .all to capture all http verbs
      \u2714 should be called for any URL when "*"
    .use
      \u2714 should require middleware
      \u2714 should reject string as middleware
      \u2714 should reject number as middleware
      \u2714 should reject null as middleware
      \u2714 should reject Date as middleware
      \u2714 should be called for any URL
      \u2714 should accept array of middleware
    .param
      \u2714 should call param function when routing VERBS
      \u2714 should call param function when routing middleware
      \u2714 should only call once per request
      \u2714 should call when values differ
    parallel requests
      \u2714 should not mix requests (51ms)

  app.all()
    \u2714 should add a router per method
    \u2714 should run the callback for a method just once

  app.del()
    \u2714 should alias app.delete()

  app
    .engine(ext, fn)
      \u2714 should map a template engine
      \u2714 should throw when the callback is missing
      \u2714 should work without leading "."
      \u2714 should work "view engine" setting
      \u2714 should work "view engine" with leading "."

  HEAD
    \u2714 should default to GET
    \u2714 should output the same headers as GET requests

  app.head()
    \u2714 should override

  app
    \u2714 should inherit from event emitter
    \u2714 should be callable
    \u2714 should 404 without routes

  app.parent
    \u2714 should return the parent when mounted

  app.mountpath
    \u2714 should return the mounted path

  app.router
    \u2714 should throw with notice

  app.path()
    \u2714 should return the canonical

  in development
    \u2714 should disable "view cache"

  in production
    \u2714 should enable "view cache"

  without NODE_ENV
    \u2714 should default to development

  app.listen()
    \u2714 should wrap with an HTTP server

  app
    .locals
      \u2714 should default object
      .settings
        \u2714 should contain app settings 

  OPTIONS
    \u2714 should default to the routes defined
    \u2714 should only include each method once
    \u2714 should not be affected by app.all
    \u2714 should not respond if the path is not defined
    \u2714 should forward requests down the middleware chain
    when error occurs in response handler
      \u2714 should pass error to callback

  app.options()
    \u2714 should override the default behavior

  app
    .param(fn)
      \u2714 should map app.param(name, ...) logic
      \u2714 should fail if not given fn
    .param(names, fn)
      \u2714 should map the array
    .param(name, fn)
      \u2714 should map logic for a single param
      \u2714 should only call once per request
      \u2714 should call when values differ
      \u2714 should support altering req.params across routes
      \u2714 should not invoke without route handler
      \u2714 should work with encoded values
      \u2714 should catch thrown error
      \u2714 should catch thrown secondary error
      \u2714 should defer to next route
      \u2714 should defer all the param routes
      \u2714 should not call when values differ on error
      \u2714 should call when values differ when using "next"

  app
    .render(name, fn)
      \u2714 should support absolute paths
      \u2714 should support absolute paths with "view engine"
      \u2714 should expose app.locals
      \u2714 should support index.<engine>
      \u2714 should handle render error throws
      when the file does not exist
        \u2714 should provide a helpful error
      when an error occurs
        \u2714 should invoke the callback
      when an extension is given
        \u2714 should render the template
      when "view engine" is given
        \u2714 should render the template
      when "views" is given
        \u2714 should lookup the file in the path
        when array of paths
          \u2714 should lookup the file in the path
          \u2714 should lookup in later paths until found
          \u2714 should error if file does not exist
      when a "view" constructor is given
        \u2714 should create an instance of it
      caching
        \u2714 should always lookup view without cache
        \u2714 should cache with "view cache" setting
    .render(name, options, fn)
      \u2714 should render the template
      \u2714 should expose app.locals
      \u2714 should give precedence to app.render() locals
      caching
        \u2714 should cache with cache option

  app
    .request
      \u2714 should extend the request prototype
      \u2714 should only extend for the referenced app
      \u2714 should inherit to sub apps
      \u2714 should allow sub app to override
      \u2714 should not pollute parent app

  app
    .response
      \u2714 should extend the response prototype
      \u2714 should only extend for the referenced app
      \u2714 should inherit to sub apps
      \u2714 should allow sub app to override
      \u2714 should not pollute parent app

  app.route
    \u2714 should return a new route
    \u2714 should all .VERB after .all
    \u2714 should support dynamic routes
    \u2714 should not error on empty routes

  app.router
    \u2714 should restore req.params after leaving router
    \u2714 should be .use()able
    \u2714 should allow escaped regexp
    \u2714 should allow literal "."
    \u2714 should allow rewriting of the url
    \u2714 should run in order added
    \u2714 should be chainable
    methods
      \u2714 should include ACL
      \u2714 should reject numbers for app.acl
      \u2714 should include BIND
      \u2714 should reject numbers for app.bind
      \u2714 should include CHECKOUT
      \u2714 should reject numbers for app.checkout
      \u2714 should include COPY
      \u2714 should reject numbers for app.copy
      \u2714 should include DELETE
      \u2714 should reject numbers for app.delete
      \u2714 should include GET
      \u2714 should reject numbers for app.get
      \u2714 should include HEAD
      \u2714 should reject numbers for app.head
      \u2714 should include LINK
      \u2714 should reject numbers for app.link
      \u2714 should include LOCK
      \u2714 should reject numbers for app.lock
      \u2714 should include M-SEARCH
      \u2714 should reject numbers for app.m-search
      \u2714 should include MERGE
      \u2714 should reject numbers for app.merge
      \u2714 should include MKACTIVITY
      \u2714 should reject numbers for app.mkactivity
      \u2714 should include MKCALENDAR
      \u2714 should reject numbers for app.mkcalendar
      \u2714 should include MKCOL
      \u2714 should reject numbers for app.mkcol
      \u2714 should include MOVE
      \u2714 should reject numbers for app.move
      \u2714 should include NOTIFY
      \u2714 should reject numbers for app.notify
      \u2714 should include OPTIONS
      \u2714 should reject numbers for app.options
      \u2714 should include PATCH
      \u2714 should reject numbers for app.patch
      \u2714 should include POST
      \u2714 should reject numbers for app.post
      \u2714 should include PROPFIND
      \u2714 should reject numbers for app.propfind
      \u2714 should include PROPPATCH
      \u2714 should reject numbers for app.proppatch
      \u2714 should include PURGE
      \u2714 should reject numbers for app.purge
      \u2714 should include PUT
      \u2714 should reject numbers for app.put
      \u2714 should include REBIND
      \u2714 should reject numbers for app.rebind
      \u2714 should include REPORT
      \u2714 should reject numbers for app.report
      \u2714 should include SEARCH
      \u2714 should reject numbers for app.search
      \u2714 should include SOURCE
      \u2714 should reject numbers for app.source
      \u2714 should include SUBSCRIBE
      \u2714 should reject numbers for app.subscribe
      \u2714 should include TRACE
      \u2714 should reject numbers for app.trace
      \u2714 should include UNBIND
      \u2714 should reject numbers for app.unbind
      \u2714 should include UNLINK
      \u2714 should reject numbers for app.unlink
      \u2714 should include UNLOCK
      \u2714 should reject numbers for app.unlock
      \u2714 should include UNSUBSCRIBE
      \u2714 should reject numbers for app.unsubscribe
      \u2714 should include DEL
      \u2714 should reject numbers for app.del
      \u2714 should re-route when method is altered
    decode params
      \u2714 should decode correct params
      \u2714 should not accept params in malformed paths
      \u2714 should not decode spaces
      \u2714 should work with unicode
    when given a regexp
      \u2714 should match the pathname only
      \u2714 should populate req.params with the captures
      \u2714 should ensure regexp matches path prefix
    case sensitivity
      \u2714 should be disabled by default
      when "case sensitive routing" is enabled
        \u2714 should match identical casing
        \u2714 should not match otherwise
    params
      \u2714 should overwrite existing req.params by default
      \u2714 should allow merging existing req.params
      \u2714 should use params from router
      \u2714 should merge numeric indices req.params
      \u2714 should merge numeric indices req.params when more in parent
      \u2714 should merge numeric indices req.params when parent has same number
      \u2714 should ignore invalid incoming req.params
      \u2714 should restore req.params
    trailing slashes
      \u2714 should be optional by default
      when "strict routing" is enabled
        \u2714 should match trailing slashes
        \u2714 should pass-though middleware
        \u2714 should pass-though mounted middleware
        \u2714 should match no slashes
        \u2714 should match middleware when omitting the trailing slash
        \u2714 should match middleware
        \u2714 should match middleware when adding the trailing slash
        \u2714 should fail when omitting the trailing slash
        \u2714 should fail when adding the trailing slash
    *
      \u2714 should capture everything
      \u2714 should decode the capture
      \u2714 should denote a greedy capture group
      \u2714 should work with several
      \u2714 should work cross-segment
      \u2714 should allow naming
      \u2714 should not be greedy immediately after param
      \u2714 should eat everything after /
      \u2714 should span multiple segments
      \u2714 should be optional
      \u2714 should require a preceding /
      \u2714 should keep correct parameter indexes
      \u2714 should work within arrays
    :name
      \u2714 should denote a capture group
      \u2714 should match a single segment only
      \u2714 should allow several capture groups
      \u2714 should work following a partial capture group
      \u2714 should work inside literal parenthesis
      \u2714 should work in array of paths
    :name?
      \u2714 should denote an optional capture group
      \u2714 should populate the capture group
    .:name
      \u2714 should denote a format
    .:name?
      \u2714 should denote an optional format
    when next() is called
      \u2714 should continue lookup
    when next("route") is called
      \u2714 should jump to next route
    when next("router") is called
      \u2714 should jump out of router
    when next(err) is called
      \u2714 should break out of app.router
      \u2714 should call handler in same route, if exists

  app
    .VERB()
      \u2714 should not get invoked without error handler on error
      \u2714 should only call an error handling routing callback when an error is propagated

  app
    \u2714 should emit "mount" when mounted
    .use(app)
      \u2714 should mount the app
      \u2714 should support mount-points
      \u2714 should set the child's .parent
      \u2714 should support dynamic routes
      \u2714 should support mounted app anywhere
    .use(middleware)
      \u2714 should accept multiple arguments
      \u2714 should invoke middleware for all requests
      \u2714 should accept array of middleware
      \u2714 should accept multiple arrays of middleware
      \u2714 should accept nested arrays of middleware
    .use(path, middleware)
      \u2714 should require middleware
      \u2714 should reject string as middleware
      \u2714 should reject number as middleware
      \u2714 should reject null as middleware
      \u2714 should reject Date as middleware
      \u2714 should strip path from req.url
      \u2714 should accept multiple arguments
      \u2714 should invoke middleware for all requests starting with path
      \u2714 should work if path has trailing slash
      \u2714 should accept array of middleware
      \u2714 should accept multiple arrays of middleware
      \u2714 should accept nested arrays of middleware
      \u2714 should support array of paths
      \u2714 should support array of paths with middleware array
      \u2714 should support regexp path
      \u2714 should support empty string path

  config
    .set()
      \u2714 should set a value
      \u2714 should set prototype values
      \u2714 should return the app
      \u2714 should return the app when undefined
      \u2714 should return set value
      \u2714 should return undefined for prototype values
      "etag"
        \u2714 should throw on bad value
        \u2714 should set "etag fn"
      "trust proxy"
        \u2714 should set "trust proxy fn"
    .get()
      \u2714 should return undefined when unset
      \u2714 should return undefined for prototype values
      \u2714 should otherwise return the value
      when mounted
        \u2714 should default to the parent app
        \u2714 should given precedence to the child
        \u2714 should inherit "trust proxy" setting
        \u2714 should prefer child "trust proxy" setting
    .enable()
      \u2714 should set the value to true
      \u2714 should set prototype values
    .disable()
      \u2714 should set the value to false
      \u2714 should set prototype values
    .enabled()
      \u2714 should default to false
      \u2714 should return true when set
      \u2714 should default to false for prototype values
    .disabled()
      \u2714 should default to true
      \u2714 should return false when set
      \u2714 should default to true for prototype values

  exports
    \u2714 should expose Router
    \u2714 should expose json middleware
    \u2714 should expose raw middleware
    \u2714 should expose static middleware
    \u2714 should expose text middleware
    \u2714 should expose urlencoded middleware
    \u2714 should expose the application prototype
    \u2714 should expose the request prototype
    \u2714 should expose the response prototype
    \u2714 should permit modifying the .application prototype
    \u2714 should permit modifying the .request prototype
    \u2714 should permit modifying the .response prototype
    \u2714 should throw on old middlewares

  express.json()
    \u2714 should parse JSON
    \u2714 should handle Content-Length: 0
    \u2714 should handle empty message-body
    \u2714 should handle no message-body
    \u2714 should 400 when only whitespace
    \u2714 should 400 when invalid content-length
    \u2714 should 500 if stream not readable
    \u2714 should handle duplicated middleware
    when JSON is invalid
      \u2714 should 400 for bad token
      \u2714 should 400 for incomplete
      \u2714 should include original body on error object
    with limit option
      \u2714 should 413 when over limit with Content-Length
      \u2714 should 413 when over limit with chunked encoding
      \u2714 should 413 when inflated body over limit
      \u2714 should accept number of bytes
      \u2714 should not change when options altered
      \u2714 should not hang response
      \u2714 should not error when inflating
    with inflate option
      when false
        \u2714 should not accept content-encoding
      when true
        \u2714 should accept content-encoding
    with strict option
      when undefined
        1) should 400 on primitives


  350 passing (1s)
  1 failing

  1) express.json()
       with strict option
         when undefined
           should 400 on primitives:
     Error: expected `[entity.parse.failed] Unexpected token 't', "#rue" is not valid JSON` response body, got `[entity.parse.failed] Unexpected token 't', "#" is not valid JSON`
      at Context.<anonymous> (test/express.json.js:265:12)
      at process.processImmediate (node:internal/timers:478:21)
  ----
      at error (node_modules/supertest/lib/test.js:335:15)
      at Test._assertBody (node_modules/supertest/lib/test.js:206:16)
      at /opt/app-root/src/node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)
      at Object.onceWrapper (node:events:628:28)
      at Server.emit (node:events:514:28)
      at emitCloseNT (node:net:2273:8)
      at process.processTicksAndRejections (node:internal/process/task_queues:81:21)



Test for image 'ubi9/nodejs-20:1' FAILED (exit code: 1)
Test for image 'ubi9/nodejs-20:1' FAILED (exit code: 1)
-----------------------------------------------
Running test test_client_prom (starting at 2024-01-23 20:40:32-05:00) ... 
-----------------------------------------------
Running prom-client test
Running prom-client test suite
fatal: destination path '/var/tmp/daily_scl_tests/rhel9-test-upstream/plans/nightly-container-rhel9/data/s2i-nodejs-container/test/prom-client' already exists and is not an empty directory.
STEP 1/11: FROM ubi9/nodejs-20:1
STEP 2/11: LABEL "io.openshift.s2i.build.image"="ubi9/nodejs-20:1"       "io.openshift.s2i.build.source-location"="file:///var/tmp/daily_scl_tests/rhel9-test-upstream/plans/nightly-container-rhel9/data/s2i-nodejs-container/test/prom-client"
--> e9db99579401
STEP 3/11: USER root
--> 63e4f4eadbe0
STEP 4/11: COPY upload/src/ /tmp/src
--> f8de5929b463
STEP 5/11: RUN chown -R 1001:0 /tmp/src
--> db1a07bcc8fa
STEP 6/11: ENV NPM_MIRROR=https://repository.engineering.redhat.com/nexus/repository/registry.npmjs.org
--> 3e844461034d
STEP 7/11: ENV NODE_ENV=development
--> 160434fd95a5
STEP 8/11: RUN cd /etc/pki/ca-trust/source/anchors && update-ca-trust extract
--> 262c8692fda8
STEP 9/11: USER 1001
--> 115a8617674c
STEP 10/11: RUN /usr/libexec/s2i/assemble
---> Installing application source ...
---> Building your Node application from source
npm notice 
npm notice New minor version of npm available! 10.1.0 -> 10.3.0
npm notice Changelog: <https://github.com/npm/cli/releases/tag/v10.3.0>
npm notice Run `npm install -g npm@10.3.0` to update!
npm notice 
npm ERR! code EMFILE
npm ERR! syscall open
npm ERR! path /opt/app-root/src/.npm/_cacache/index-v5/f7/b3/38948ab4b7b027eb2c982d64a08f09c93e74fc708fbf2075e69c843882ad
npm ERR! errno -24
npm ERR! EMFILE: too many open files, open '/opt/app-root/src/.npm/_cacache/index-v5/f7/b3/38948ab4b7b027eb2c982d64a08f09c93e74fc708fbf2075e69c843882ad'

npm ERR! A complete log of this run can be found in: /opt/app-root/src/.npm/_logs/2024-01-24T01_40_39_419Z-debug-0.log
Error: building at STEP "RUN /usr/libexec/s2i/assemble": while running runtime: exit status 232
  ERROR: Failed to to build /tmp/tmp.yCS3q39ZIY/Dockerfile.WZLo
Test for image 'ubi9/nodejs-20:1' FAILED (exit code: 1)
Error: short-name resolution enforced but cannot prompt without a TTY
Test for image 'ubi9/nodejs-20:1' FAILED (exit code: 125)
Test for image 'ubi9/nodejs-20:1' FAILED (exit code: 125)
-----------------------------------------------
Running test test_client_opossum (starting at 2024-01-23 20:41:07-05:00) ... 
-----------------------------------------------
Running opossum client test
Running opossum test suite
fatal: destination path '/var/tmp/daily_scl_tests/rhel9-test-upstream/plans/nightly-container-rhel9/data/s2i-nodejs-container/test/opossum' already exists and is not an empty directory.
STEP 1/11: FROM ubi9/nodejs-20:1
STEP 2/11: LABEL "io.openshift.s2i.build.image"="ubi9/nodejs-20:1"       "io.openshift.s2i.build.source-location"="file:///var/tmp/daily_scl_tests/rhel9-test-upstream/plans/nightly-container-rhel9/data/s2i-nodejs-container/test/opossum"
--> 5fd60d59512d
STEP 3/11: USER root
--> 8157211b4682
STEP 4/11: COPY upload/src/ /tmp/src
--> 2ac7f2b59ea0
STEP 5/11: RUN chown -R 1001:0 /tmp/src
--> 99e952313bf8
STEP 6/11: ENV NPM_MIRROR=https://repository.engineering.redhat.com/nexus/repository/registry.npmjs.org
--> cd4272d1830b
STEP 7/11: ENV NODE_ENV=development
--> d2d33a56e76c
STEP 8/11: RUN cd /etc/pki/ca-trust/source/anchors && update-ca-trust extract
--> d3e18eac230b
STEP 9/11: USER 1001
--> ef5c52e4239b
STEP 10/11: RUN /usr/libexec/s2i/assemble
---> Installing application source ...
---> Building your Node application from source
npm WARN deprecated eslint-plugin-standard@5.0.0: standard 16.0.0 and eslint-config-standard 16.0.0 no longer require the eslint-plugin-standard package. You can remove it from your dependencies with 'npm rm eslint-plugin-standard'. More info here: https://github.com/standard/standard/issues/1316
npm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.

> opossum@8.1.3 prepare
> husky install

husky - Git hooks installed

added 860 packages, and audited 861 packages in 21s

258 packages are looking for funding
  run `npm fund` for details

4 vulnerabilities (2 moderate, 1 high, 1 critical)

To address all issues, run:
  npm audit fix

Run `npm audit` for details.
npm notice 
npm notice New minor version of npm available! 10.1.0 -> 10.3.0
npm notice Changelog: <https://github.com/npm/cli/releases/tag/v10.3.0>
npm notice Run `npm install -g npm@10.3.0` to update!
npm notice 
--> afc18e38d4e7
STEP 11/11: CMD /usr/libexec/s2i/run
COMMIT ubi9/nodejs-20:1-opossum
--> 9a4e0df395f7
Successfully tagged localhost/ubi9/nodejs-20:1-opossum
9a4e0df395f767cb6b8c2b6c096c894361853ce7a4c6fc27b10c6f9f467bbb12

> opossum@8.1.3 pretest
> npm run lint


> opossum@8.1.3 lint
> eslint --ignore-path .gitignore .


> opossum@8.1.3 test
> nyc tape test/*.js | faucet


# # Using cache
[K

  ok [1m[32m1[0m does not hit the cache[K
  ok [1m[32m2[0m emits a cacheMiss[K
  ok [1m[32m3[0m fired once[K
  ok [1m[32m4[0m cache hits:misses 0:1[K
  ok [1m[32m5[0m hit the cache[K
  ok [1m[32m6[0m did not emit miss[K
  ok [1m[32m7[0m fired twice[K
  ok [1m[32m8[0m cache hits:misses 1:1[K
  ok [1m[32m9[0m cache hits:misses 1:2[K
[1A[1G[1m[32m\u2713 # Using cache
[0m[1B[1G
# # Using cache with TTL
[K

  ok [1m[32m10[0m does not hit the cache[K
  ok [1m[32m11[0m emits a cacheMiss[K
  ok [1m[32m12[0m fired once[K
  ok [1m[32m13[0m cache hits:misses 0:1[K
  ok [1m[32m14[0m hit the cache[K
  ok [1m[32m15[0m did not emit miss[K
  ok [1m[32m16[0m fired twice[K
  ok [1m[32m17[0m cache hits:misses 1:1[K
  ok [1m[32m18[0m hit the cache[K
  ok [1m[32m19[0m did not emit miss[K
  ok [1m[32m20[0m fired twice[K
  ok [1m[32m21[0m cache hits:misses 1:2[K
[1A[1G[1m[32m\u2713 # Using cache with TTL
[0m[1B[1G
# # Using cache with custom get cache key
[K

  ok [1m[32m22[0m does not hit the cache[K
  ok [1m[32m23[0m emits a cacheMiss[K
  ok [1m[32m24[0m fired once[K
  ok [1m[32m25[0m cache hits:misses 0:1[K
  ok [1m[32m26[0m hit the cache[K
  ok [1m[32m27[0m did not emit miss[K
  ok [1m[32m28[0m fired twice[K
  ok [1m[32m29[0m cache hits:misses 1:1[K
  ok [1m[32m30[0m cache hits:misses 1:2[K
[1A[1G[1m[32m\u2713 # Using cache with custom get cache key
[0m[1B[1G
# # Using cache with custom transport
[K

  ok [1m[32m31[0m does not hit the cache[K
  ok [1m[32m32[0m emits a cacheMiss[K
  ok [1m[32m33[0m fired once[K
  ok [1m[32m34[0m cache hits:misses 0:1[K
  ok [1m[32m35[0m hit the cache[K
  ok [1m[32m36[0m did not emit miss[K
  ok [1m[32m37[0m fired twice[K
  ok [1m[32m38[0m cache hits:misses 1:1[K
  ok [1m[32m39[0m cache hits:misses 1:2[K
[1A[1G[1m[32m\u2713 # Using cache with custom transport
[0m[1B[1G
# # EventEmitter max listeners
[K

[1A[1G[1m[32m\u2713 # EventEmitter max listeners
[0m[1B[1G
# # Circuit shuts down properly
[K

  ok [1m[32m40[0m breaker is active[K
  ok [1m[32m41[0m Breaker emits Shutdown[K
  ok [1m[32m42[0m breaker is shutdown[K
  ok [1m[32m43[0m breaker has been disabled[K
  ok [1m[32m44[0m should be strictly equal[K
  ok [1m[32m45[0m should be strictly equal[K
  ok [1m[32m46[0m isOurError() should return true[K
[1A[1G[1m[32m\u2713 # Circuit shuts down properly
[0m[1B[1G
# # When open, an existing request resolving does not close circuit
[K

  ok [1m[32m47[0m should be strictly equal[K
  ok [1m[32m48[0m should be open after initial fire[K
  ok [1m[32m49[0m should not be pending close after initial fire[K
  ok [1m[32m50[0m should be strictly equal[K
  ok [1m[32m51[0m should still be open even after first fire resolved[K
  ok [1m[32m52[0m should still not be pending close[K
[1A[1G[1m[32m\u2713 # When open, an existing request resolving does not close circuit
[0m[1B[1G
# # Allows applying a "this" context
[K

  ok [1m[32m53[0m should be strictly equal[K
  ok [1m[32m54[0m should be strictly equal[K
[1A[1G[1m[32m\u2713 # Allows applying a "this" context
[0m[1B[1G
# # The "this" context is used even when circuit is disabled
[K

  ok [1m[32m55[0m should be strictly equal[K
[1A[1G[1m[32m\u2713 # The "this" context is used even when circuit is disabled
[0m[1B[1G
# # The apply() method correctly passes arguments
[K

  ok [1m[32m56[0m should be strictly equal[K
[1A[1G[1m[32m\u2713 # The apply() method correctly passes arguments
[0m[1B[1G
# # Defaults to enabled
[K

  ok [1m[32m57[0m should be strictly equal[K
[1A[1G[1m[32m\u2713 # Defaults to enabled
[0m[1B[1G
# # Accepts options.enabled
[K

  ok [1m[32m58[0m should be strictly equal[K
[1A[1G[1m[32m\u2713 # Accepts options.enabled
[0m[1B[1G
# # When disabled the circuit should always be closed
[K

  ok [1m[32m59[0m should be strictly equal[K
  ok [1m[32m60[0m should be closed[K
  ok [1m[32m61[0m should not be pending close[K
  ok [1m[32m62[0m should be strictly equal[K
  ok [1m[32m63[0m should be closed[K
  ok [1m[32m64[0m should not be pending close[K
  ok [1m[32m65[0m should be strictly equal[K
  ok [1m[32m66[0m should be open[K
[1A[1G[1m[32m\u2713 # When disabled the circuit should always be closed
[0m[1B[1G
# # Bypasses failure stats if errorFilter returns true - Should return a success
[K

  ok [1m[32m67[0m should be strictly equal[K
  ok [1m[32m68[0m should be strictly equal[K
  ok [1m[32m69[0m should be strictly equal[K
  ok [1m[32m70[0m should be truthy[K
[1A[1G[1m[32m\u2713 # Bypasses failure stats if errorFilter returns true - Should return a success
[0m[1B[1G
# # Increments failure stats if errorFilter returns false
[K

  ok [1m[32m71[0m should be strictly equal[K
  ok [1m[32m72[0m should be strictly equal[K
  ok [1m[32m73[0m should be truthy[K
[1A[1G[1m[32m\u2713 # Increments failure stats if errorFilter returns false
[0m[1B[1G
# # Increments failure stats if no filter is provided
[K

  ok [1m[32m74[0m should be strictly equal[K
  ok [1m[32m75[0m should be strictly equal[K
  ok [1m[32m76[0m should be truthy[K
[1A[1G[1m[32m\u2713 # Increments failure stats if no filter is provided
[0m[1B[1G
# # Provides invocation parameters to error filter
[K

  ok [1m[32m77[0m should be strictly equal[K
  ok [1m[32m78[0m should be strictly equal[K
  ok [1m[32m79[0m should be strictly equal[K
[1A[1G[1m[32m\u2713 # Provides invocation parameters to error filter
[0m[1B[1G
# # A successful errorFilter should not invoke the fallback function
[K

  ok [1m[32m80[0m Error filter invoked[K
[1A[1G[1m[32m\u2713 # A successful errorFilter should not invoke the fallback function
[0m[1B[1G
# # A successful errorFilter should still return the error from function invocation
[K
Error: -1 is < 0

  ok [1m[32m81[0m Error filter invoked[K
  ok [1m[32m82[0m should be strictly equal[K
[1A[1G[1m[32m\u2713 # A successful errorFilter should still return the error from function invocation
[0m[1B[1G
# # When half-open, the circuit only allows one request through
[K

  ok [1m[32m83[0m should be strictly equal[K
  ok [1m[32m84[0m should be open after initial fire[K
  ok [1m[32m85[0m should not be pending close after initial fire[K
  ok [1m[32m86[0m should be halfOpen after timeout[K
  ok [1m[32m87[0m should be pending close after timeout[K
  ok [1m[32m88[0m should fail again[K
  ok [1m[32m89[0m should be open again after long failing function[K
  ok [1m[32m90[0m should not be halfOpen after long failing function[K
  ok [1m[32m91[0m should not be pending close after long failing func[K
  ok [1m[32m92[0m should be strictly equal[K
[1A[1G[1m[32m\u2713 # When half-open, the circuit only allows one request through
[0m[1B[1G
# # When half-open, a filtered error should close the circuit
[K

  ok [1m[32m93[0m should be strictly equal[K
  ok [1m[32m94[0m should be open after initial fire[K
  ok [1m[32m95[0m should not be pending close after initial fire[K
  ok [1m[32m96[0m should be halfOpen after timeout[K
  ok [1m[32m97[0m should be pending close after timeout[K
  ok [1m[32m98[0m should fail again[K
  ok [1m[32m99[0m should be closed after passing with filtered error[K
[1A[1G[1m[32m\u2713 # When half-open, a filtered error should close the circuit
[0m[1B[1G
# # Circuits accept a health check function
[K

  ok [1m[32m100[0m function called[K
[1A[1G[1m[32m\u2713 # Circuits accept a health check function
[0m[1B[1G
# # healthCheckFailed is emitted on failure
[K

  ok [1m[32m101[0m healthCheckFailed emitted[K
[1A[1G[1m[32m\u2713 # healthCheckFailed is emitted on failure
[0m[1B[1G
# # circuit opens on health check failure
[K

  ok [1m[32m102[0m circuit opened[K
[1A[1G[1m[32m\u2713 # circuit opens on health check failure
[0m[1B[1G
# # Health check function executes in the circuit breaker context
[K

  ok [1m[32m103[0m health check executes in circuit context[K
[1A[1G[1m[32m\u2713 # Health check function executes in the circuit breaker context
[0m[1B[1G
# # healthCheck() throws TypeError if interval duration is NaN
[K

  ok [1m[32m104[0m throws TypeError[K
  ok [1m[32m105[0m include correct message[K
[1A[1G[1m[32m\u2713 # healthCheck() throws TypeError if interval duration is NaN
[0m[1B[1G
# # healthCheck() throws TypeError if parameter is not a function
[K

  ok [1m[32m106[0m throws TypeError[K
  ok [1m[32m107[0m include correct message[K
[1A[1G[1m[32m\u2713 # healthCheck() throws TypeError if parameter is not a function
[0m[1B[1G
# # timeout defaults to 10000
[K

  ok [1m[32m108[0m should be set to 10000 by default[K
[1A[1G[1m[32m\u2713 # timeout defaults to 10000
[0m[1B[1G
# # timeout can be set to 0
[K

  ok [1m[32m109[0m should be set to 0[K
[1A[1G[1m[32m\u2713 # timeout can be set to 0
[0m[1B[1G
# # resetTimeout defaults to 30000
[K

  ok [1m[32m110[0m should be set to 30000 by default[K
[1A[1G[1m[32m\u2713 # resetTimeout defaults to 30000
[0m[1B[1G
# # resetTimeout can be set to 0
[K

  ok [1m[32m111[0m should be set to 0[K
[1A[1G[1m[32m\u2713 # resetTimeout can be set to 0
[0m[1B[1G
# # errorThresholdPercentage defaults to 50
[K

  ok [1m[32m112[0m should be set to 50 by default[K
[1A[1G[1m[32m\u2713 # errorThresholdPercentage defaults to 50
[0m[1B[1G
# # errorThresholdPercentage can be set to 0
[K

  ok [1m[32m113[0m should be set to 0[K
[1A[1G[1m[32m\u2713 # errorThresholdPercentage can be set to 0
[0m[1B[1G
# # rollingCountTimeout defaults to 10000
[K

  ok [1m[32m114[0m should be set to 10000 by default[K
[1A[1G[1m[32m\u2713 # rollingCountTimeout defaults to 10000
[0m[1B[1G
# # rollingCountTimeout can be set to 0
[K

  ok [1m[32m115[0m should be set to 0[K
[1A[1G[1m[32m\u2713 # rollingCountTimeout can be set to 0
[0m[1B[1G
# # rollingCountBuckets defaults to 10
[K

  ok [1m[32m116[0m should be set to 10 by default[K
[1A[1G[1m[32m\u2713 # rollingCountBuckets defaults to 10
[0m[1B[1G
# # rollingCountBuckets can be set to 0
[K

  ok [1m[32m117[0m should be set to 0[K
[1A[1G[1m[32m\u2713 # rollingCountBuckets can be set to 0
[0m[1B[1G
# # When disabled, the event emitter listener should be removed
[K

  ok [1m[32m118[0m listener attached automatically[K
  ok [1m[32m119[0m listener removed when breaker disabled[K
[1A[1G[1m[32m\u2713 # When disabled, the event emitter listener should be removed
[0m[1B[1G
# # Event listener should be removed only for the breaker that is disabled
[K

  ok [1m[32m120[0m 1 listener attached for each breaker[K
  ok [1m[32m121[0m 1 listener should be disabled and 1 should remain[K
[1A[1G[1m[32m\u2713 # Event listener should be removed only for the breaker that is disabled
[0m[1B[1G
# # Event listener should be re-added when circuit is re-enabled
[K

  ok [1m[32m122[0m listener attached automatically[K
  ok [1m[32m123[0m listener removed when breaker disabled[K
  ok [1m[32m124[0m listener re-attached when breaker re-enabled[K
[1A[1G[1m[32m\u2713 # Event listener should be re-added when circuit is re-enabled
[0m[1B[1G
# # Listener should not be attached with a call to enable if there is already a listener
[K

  ok [1m[32m125[0m listener attached automatically[K
  ok [1m[32m126[0m listener should not be added again[K
[1A[1G[1m[32m\u2713 # Listener should not be attached with a call to enable if there is already a listener
[0m[1B[1G
# # Listener should not be attached with a call to enable if there is already a listener and there is another breaker in the mix
[K

  ok [1m[32m127[0m listener attached automatically[K
  ok [1m[32m128[0m listener should not be added again[K
[1A[1G[1m[32m\u2713 # Listener should not be attached with a call to enable if there is already a listener and there is another breaker in the mix
[0m[1B[1G
# # Acquiring a semaphore reduces the number of locks available
[K

  ok [1m[32m129[0m Semaphore should start with one lock available[K
  ok [1m[32m130[0m Semaphore lock count reduced[K
[1A[1G[1m[32m\u2713 # Acquiring a semaphore reduces the number of locks available
[0m[1B[1G
# # Releasing a semaphore increases the number of locks available
[K

  ok [1m[32m131[0m Semaphore lock count reduced[K
  ok [1m[32m132[0m Semaphore lock count increased[K
[1A[1G[1m[32m\u2713 # Releasing a semaphore increases the number of locks available
[0m[1B[1G
# # Semaphores wait until a lock is available
[K

  ok [1m[32m133[0m Semaphore lock count reduced[K
  ok [1m[32m134[0m Semaphore lock count reduced[K
  ok [1m[32m135[0m Semaphore waits to provide a lock[K
  ok [1m[32m136[0m Semaphore lock count increased[K
[1A[1G[1m[32m\u2713 # Semaphores wait until a lock is available
[0m[1B[1G
# # User code cannot change the lock count
[K

  ok [1m[32m137[0m Semaphore starts with one lock[K
  ok [1m[32m138[0m Semaphore throws TypeError when user code attempts to change count[K
  ok [1m[32m139[0m Semaphore count is read only to user code[K
[1A[1G[1m[32m\u2713 # User code cannot change the lock count
[0m[1B[1G
# # A semaphore can time out waiting for a lock
[K

  ok [1m[32m140[0m Semaphore lock acquisition timed out[K
[1A[1G[1m[32m\u2713 # A semaphore can time out waiting for a lock
[0m[1B[1G
# # A user can test semaphore to see if a lock is available
[K

  ok [1m[32m141[0m test() returns true if a lock is available[K
  ok [1m[32m142[0m test() acquires an available lock[K
  ok [1m[32m143[0m test() returns false when a lock is unavailable[K
  ok [1m[32m144[0m test() returns true when a lock is eventually released[K
[1A[1G[1m[32m\u2713 # A user can test semaphore to see if a lock is available
[0m[1B[1G
# # CircuitBreaker State - export the state of a breaker instance
[K

  ok [1m[32m145[0m has the toJSON function[K
  ok [1m[32m146[0m enabled initialized value[K
  ok [1m[32m147[0m closed initialized value[K
  ok [1m[32m148[0m open initialized value[K
  ok [1m[32m149[0m half open initialized value[K
  ok [1m[32m150[0m warmup initialized value[K
  ok [1m[32m151[0m shutdown initialized value[K
  ok [1m[32m152[0m lastTimerAt initialized value[K
[1A[1G[1m[32m\u2713 # CircuitBreaker State - export the state of a breaker instance
[0m[1B[1G
# # CircuitBreaker State - export the state of a breaker instance using toJson
[K

  ok [1m[32m153[0m has the toJSON function[K
  ok [1m[32m154[0m name initialized value[K
  ok [1m[32m155[0m enabled initialized value[K
  ok [1m[32m156[0m closed initialized value[K
  ok [1m[32m157[0m open initialized value[K
  ok [1m[32m158[0m half open initialized value[K
  ok [1m[32m159[0m warmup initialized value[K
  ok [1m[32m160[0m shutdown initialized value[K
[1A[1G[1m[32m\u2713 # CircuitBreaker State - export the state of a breaker instance using toJson
[0m[1B[1G
# # CircuitBreaker State - initialize the breaker as Closed
[K

  ok [1m[32m161[0m enabled primed value[K
  ok [1m[32m162[0m closed primed value[K
  ok [1m[32m163[0m open primed value[K
  ok [1m[32m164[0m half open primed value[K
  ok [1m[32m165[0m warmup primed value[K
  ok [1m[32m166[0m shutdown primed value[K
  ok [1m[32m167[0m breaker should be open[K
  ok [1m[32m168[0m breaker should not be closed[K
[1A[1G[1m[32m\u2713 # CircuitBreaker State - initialize the breaker as Closed
[0m[1B[1G
# # Pre-populate state as Open(Closed === false) - Breaker resets after a configurable amount of time
[K

  ok [1m[32m169[0m breaker has reset[K
[1A[1G[1m[32m\u2713 # Pre-populate state as Open(Closed === false) - Breaker resets after a configurable amount of time
[0m[1B[1G
# # Enters halfOpen state if closed is false and more time has elapsed since resetTimeout
[K

  ok [1m[32m170[0m breaker should be halfOpen[K
  ok [1m[32m171[0m breaker has reset[K
[1A[1G[1m[32m\u2713 # Enters halfOpen state if closed is false and more time has elapsed since resetTimeout
[0m[1B[1G
# # When half-open, the circuit only allows one request through
[K

  ok [1m[32m172[0m should be halfOpen on initialize[K
  ok [1m[32m173[0m should be pending close on initialize[K
  ok [1m[32m174[0m should fail again[K
  ok [1m[32m175[0m should be open again after long failing function[K
  ok [1m[32m176[0m should not be halfOpen after long failing function[K
  ok [1m[32m177[0m should not be pending close after long failing func[K
  ok [1m[32m178[0m should be strictly equal[K
[1A[1G[1m[32m\u2713 # When half-open, the circuit only allows one request through
[0m[1B[1G
# # Circuit initialized as shutdown
[K

  ok [1m[32m179[0m breaker is shutdown[K
  ok [1m[32m180[0m breaker has been disabled[K
  ok [1m[32m181[0m should be strictly equal[K
  ok [1m[32m182[0m should be strictly equal[K
  ok [1m[32m183[0m isOurError() should return true[K
[1A[1G[1m[32m\u2713 # Circuit initialized as shutdown
[0m[1B[1G
# # CircuitBreaker State - imports the state and status of a breaker instance
[K

  ok [1m[32m184[0m cloned breaker enabled state[K
  ok [1m[32m185[0m cloned breaker closed state[K
  ok [1m[32m186[0m cloned breaker halfOpen state[K
  ok [1m[32m187[0m cloned breaker warmUp state[K
  ok [1m[32m188[0m cloned breaker open state[K
  ok [1m[32m189[0m cloned breaker shutdown state[K
  ok [1m[32m190[0m cloned stat failures value[K
  ok [1m[32m191[0m cloned stat fallbacks value[K
  ok [1m[32m192[0m cloned stat successes value[K
  ok [1m[32m193[0m cloned stat rejects value[K
  ok [1m[32m194[0m cloned stat fires value[K
  ok [1m[32m195[0m cloned stat timeouts value[K
  ok [1m[32m196[0m cloned stat cacheHits value[K
  ok [1m[32m197[0m cloned stat cacheMisses value[K
  ok [1m[32m198[0m cloned stat semaphoreRejections value[K
  ok [1m[32m199[0m cloned stat percentiles value[K
  ok [1m[32m200[0m cloned stat latencyTimes value[K
  ok [1m[32m201[0m cloned stat latencyMean value[K
[1A[1G[1m[32m\u2713 # CircuitBreaker State - imports the state and status of a breaker instance
[0m[1B[1G
# # CircuitBreaker status - new Status static method
[K

  ok [1m[32m202[0m returns a new Status instance[K
  ok [1m[32m203[0m status reports 1 failure[K
  ok [1m[32m204[0m status reports 1 reject[K
  ok [1m[32m205[0m status reports 1 fires[K
  ok [1m[32m206[0m status reports 1 fallback[K
  ok [1m[32m207[0m status reports 1 successes[K
  ok [1m[32m208[0m status reports 1 timeouts[K
  ok [1m[32m209[0m status reports 1 cacheHits[K
  ok [1m[32m210[0m status reports 1 semaphoreRejections[K
[1A[1G[1m[32m\u2713 # CircuitBreaker status - new Status static method
[0m[1B[1G
# # CircuitBreaker status - import stats
[K

  ok [1m[32m211[0m expected status values[K
  ok [1m[32m212[0m expected status values[K
  ok [1m[32m213[0m expected status values[K
  ok [1m[32m214[0m breaker fired 4 times[K
  ok [1m[32m215[0m fails with correct error message[K
  ok [1m[32m216[0m status reports 2 failures[K
  ok [1m[32m217[0m status reports 5 fires[K
  ok [1m[32m218[0m fallback is invoked[K
  ok [1m[32m219[0m status reports 2 failure[K
  ok [1m[32m220[0m status reports 2 reject[K
  ok [1m[32m221[0m status reports 6 fires[K
  ok [1m[32m222[0m status reports 2 fallback[K
[1A[1G[1m[32m\u2713 # CircuitBreaker status - import stats
[0m[1B[1G
# # CircuitBreaker status - import stats, but leave some out
[K

  ok [1m[32m223[0m failures was initialized[K
  ok [1m[32m224[0m fallbacks was initialized[K
  ok [1m[32m225[0m successes was initialized[K
[1A[1G[1m[32m\u2713 # CircuitBreaker status - import stats, but leave some out
[0m[1B[1G
# # CircuitBreaker status - import stats,but not a status object
[K

  ok [1m[32m226[0m (unnamed assert)[K
[1A[1G[1m[32m\u2713 # CircuitBreaker status - import stats,but not a status object
[0m[1B[1G
# # CircuitBreaker status - enableSnapshots defaults to true
[K

  ok [1m[32m227[0m enableSnapshots defaults to true[K
[1A[1G[1m[32m\u2713 # CircuitBreaker status - enableSnapshots defaults to true
[0m[1B[1G
# # CircuitBreaker status - enableSnapshots is true in Status when set to true
[K

  ok [1m[32m228[0m enableSnapshots propagates as true[K
[1A[1G[1m[32m\u2713 # CircuitBreaker status - enableSnapshots is true in Status when set to true
[0m[1B[1G
# # CircuitBreaker status - enableSnapshots is false in Status when set to false
[K

  ok [1m[32m229[0m enableSnapshots propagates as false[K
[1A[1G[1m[32m\u2713 # CircuitBreaker status - enableSnapshots is false in Status when set to false
[0m[1B[1G
# # CircuitBreaker status - breaker stats should not reset when rotateBucketController provided and no event emitted
[K

  ok [1m[32m230[0m failures do not reset because no rotate event is emitted[K
[1A[1G[1m[32m\u2713 # CircuitBreaker status - breaker stats should not reset when rotateBucketController provided and no event emitted
[0m[1B[1G
# # CircuitBreaker status - breaker stats should rotate when rotateBucketController provided and "rotate" event emitted
[K

  ok [1m[32m231[0m failures reset buckets are rotated by EventEmitter[K
[1A[1G[1m[32m\u2713 # CircuitBreaker status - breaker stats should rotate when rotateBucketController provided and "rotate" event emitted
[0m[1B[1G
# # CircuitBreaker status - breaker stats should reset when rotateBucketController not provided
[K

  ok [1m[32m232[0m failures reset because no event emitter is provided and rollingCountTimeout set to 10ms[K
[1A[1G[1m[32m\u2713 # CircuitBreaker status - breaker stats should reset when rotateBucketController not provided
[0m[1B[1G
# # api
[K

  ok [1m[32m233[0m CircuitBreaker[K
  ok [1m[32m234[0m CircuitBreaker.fire[K
  ok [1m[32m235[0m CircuitBreaker.opened[K
  ok [1m[32m236[0m CircuitBreaker.halfOpen[K
  ok [1m[32m237[0m CircuitBreaker.closed[K
  ok [1m[32m238[0m CircuitBreaker.status[K
  ok [1m[32m239[0m CircuitBreaker.options[K
  ok [1m[32m240[0m CircuitBreaker.action[K
[1A[1G[1m[32m\u2713 # api
[0m[1B[1G
# # has a name based on the function name
[K

  ok [1m[32m241[0m should be strictly equal[K
[1A[1G[1m[32m\u2713 # has a name based on the function name
[0m[1B[1G
# # accepts a name as an option
[K

  ok [1m[32m242[0m should be strictly equal[K
[1A[1G[1m[32m\u2713 # accepts a name as an option
[0m[1B[1G
# # uses UUID as a name when none is provided and the function is anonymoys
[K

  ok [1m[32m243[0m should be truthy[K
[1A[1G[1m[32m\u2713 # uses UUID as a name when none is provided and the function is anonymoys
[0m[1B[1G
# # accepts a group as an option
[K

  ok [1m[32m244[0m should be strictly equal[K
[1A[1G[1m[32m\u2713 # accepts a group as an option
[0m[1B[1G
# # uses name as a group when no group is provided
[K

  ok [1m[32m245[0m should be strictly equal[K
[1A[1G[1m[32m\u2713 # uses name as a group when no group is provided
[0m[1B[1G
# # errorThresholdPercentage defaults to 50
[K

  ok [1m[32m246[0m should be set to 50 by default[K
[1A[1G[1m[32m\u2713 # errorThresholdPercentage defaults to 50
[0m[1B[1G
# # errorThresholdPercentage can be set to 0
[K

  ok [1m[32m247[0m should be set to 0[K
[1A[1G[1m[32m\u2713 # errorThresholdPercentage can be set to 0
[0m[1B[1G
# # resetTimeout defaults to 30000
[K

  ok [1m[32m248[0m should be set to 30000 by default[K
[1A[1G[1m[32m\u2713 # resetTimeout defaults to 30000
[0m[1B[1G
# # resetTimeout can be set to 0
[K

  ok [1m[32m249[0m should be set to 0[K
[1A[1G[1m[32m\u2713 # resetTimeout can be set to 0
[0m[1B[1G
# # rollingCountTimeout defaults to 10000
[K

  ok [1m[32m250[0m should be set to 10000 by default[K
[1A[1G[1m[32m\u2713 # rollingCountTimeout defaults to 10000
[0m[1B[1G
# # rollingCountTimeout can be set to 0
[K

  ok [1m[32m251[0m should be set to 0[K
[1A[1G[1m[32m\u2713 # rollingCountTimeout can be set to 0
[0m[1B[1G
# # rollingCountBuckets defaults to 10
[K

  ok [1m[32m252[0m should be set to 10 by default[K
[1A[1G[1m[32m\u2713 # rollingCountBuckets defaults to 10
[0m[1B[1G
# # rollingCountBuckets can be set to 0
[K

  ok [1m[32m253[0m should be set to 0[K
[1A[1G[1m[32m\u2713 # rollingCountBuckets can be set to 0
[0m[1B[1G
# # Passes parameters to the circuit function
[K

  ok [1m[32m254[0m function parameters provided[K
[1A[1G[1m[32m\u2713 # Passes parameters to the circuit function
[0m[1B[1G
# # Fails when the circuit function fails
[K

  ok [1m[32m255[0m expected error caught[K
  ok [1m[32m256[0m isOurError() should return false[K
[1A[1G[1m[32m\u2713 # Fails when the circuit function fails
[0m[1B[1G
# # Fails when the circuit function times out
[K

  ok [1m[32m257[0m timeout message received[K
  ok [1m[32m258[0m ETIMEDOUT[K
  ok [1m[32m259[0m isOurError() should return true[K
[1A[1G[1m[32m\u2713 # Fails when the circuit function times out
[0m[1B[1G
# # When options.abortController is provided but does not contain an `abort()` function
[K

  ok [1m[32m260[0m throws TypeError[K
  ok [1m[32m261[0m should be strictly equal[K
[1A[1G[1m[32m\u2713 # When options.abortController is provided but does not contain an `abort()` function
[0m[1B[1G
# # When options.abortController is provided, the circuit breaker should call abort() upon timeout
[K

  ok [1m[32m262[0m AbortController.abort() was not called upon timeout[K
[1A[1G[1m[32m\u2713 # When options.abortController is provided, the circuit breaker should call abort() upon timeout
[0m[1B[1G
# # When options.abortController is provided, abort controller should not be aborted if request completes before timeout
[K

  ok [1m[32m263[0m AbortController.abort() was called when it shouldn't have[K
[1A[1G[1m[32m\u2713 # When options.abortController is provided, abort controller should not be aborted if request completes before timeout
[0m[1B[1G
# # Works with functions that do not return a promise
[K

  ok [1m[32m264[0m non-Promise returns expected value[K
[1A[1G[1m[32m\u2713 # Works with functions that do not return a promise
[0m[1B[1G
# # Works with non-functions
[K

  ok [1m[32m265[0m expected raw value returns[K
[1A[1G[1m[32m\u2713 # Works with non-functions
[0m[1B[1G
# # Works with callback functions
[K

  ok [1m[32m266[0m Works with a Promisified Callback[K
[1A[1G[1m[32m\u2713 # Works with callback functions
[0m[1B[1G
# # Works with callback functions that fail
[K

  ok [1m[32m267[0m caught expected error[K
[1A[1G[1m[32m\u2713 # Works with callback functions that fail
[0m[1B[1G
# # Breaker opens after a configurable number of failures
[K

  ok [1m[32m268[0m caught expected error[K
  ok [1m[32m269[0m breaker opens[K
  ok [1m[32m270[0m isOurError() should return true[K
[1A[1G[1m[32m\u2713 # Breaker opens after a configurable number of failures
[0m[1B[1G
# # Breaker resets after a configurable amount of time
[K

  ok [1m[32m271[0m breaker has reset[K
[1A[1G[1m[32m\u2713 # Breaker resets after a configurable amount of time
[0m[1B[1G
# # Breaker resets after a configurable amount of time when multiple jobs fail
[K

  ok [1m[32m272[0m breaker has reset[K
[1A[1G[1m[32m\u2713 # Breaker resets after a configurable amount of time when multiple jobs fail
[0m[1B[1G
# # Breaker status reflects open state
[K

  ok [1m[32m273[0m should be truthy[K
[1A[1G[1m[32m\u2713 # Breaker status reflects open state
[0m[1B[1G
# # Breaker resets for circuits with a fallback function
[K

  ok [1m[32m274[0m should be strictly equal[K
  ok [1m[32m275[0m breaker has reset[K
[1A[1G[1m[32m\u2713 # Breaker resets for circuits with a fallback function
[0m[1B[1G
# # Executes fallback action, if one exists, when breaker is open
[K

  ok [1m[32m276[0m fallback action executes[K
[1A[1G[1m[32m\u2713 # Executes fallback action, if one exists, when breaker is open
[0m[1B[1G
# # Passes error as last argument to the fallback function
[K

  ok [1m[32m277[0m fallback received error as last parameter[K
  ok [1m[32m278[0m isOurError() should return false[K
[1A[1G[1m[32m\u2713 # Passes error as last argument to the fallback function
[0m[1B[1G
# # Fallback called once for the same execution when timing out
[K

  ok [1m[32m279[0m should be truthy[K
[1A[1G[1m[32m\u2713 # Fallback called once for the same execution when timing out
[0m[1B[1G
# # Passes arguments to the fallback function
[K

  ok [1m[32m280[0m fallback received expected parameters[K
[1A[1G[1m[32m\u2713 # Passes arguments to the fallback function
[0m[1B[1G
# # Returns self from fallback()
[K

  ok [1m[32m281[0m instance returned from fallback[K
[1A[1G[1m[32m\u2713 # Returns self from fallback()
[0m[1B[1G
# # CircuitBreaker emits failure when action throws
[K

  ok [1m[32m282[0m expected failure status[K
  ok [1m[32m283[0m expected error message[K
[1A[1G[1m[32m\u2713 # CircuitBreaker emits failure when action throws
[0m[1B[1G
# # CircuitBreaker executes fallback when an action throws
[K

  ok [1m[32m284[0m expected failure status[K
  ok [1m[32m285[0m expected fallback status[K
  ok [1m[32m286[0m should be strictly equal[K
[1A[1G[1m[32m\u2713 # CircuitBreaker executes fallback when an action throws
[0m[1B[1G
# # CircuitBreaker emits failure when falling back
[K

  ok [1m[32m287[0m Expected failure[K
  ok [1m[32m288[0m isOurError() should return false[K
  ok [1m[32m289[0m fallback value is correct[K
[1A[1G[1m[32m\u2713 # CircuitBreaker emits failure when falling back
[0m[1B[1G
# # CircuitBreaker status
[K

  ok [1m[32m290[0m expected status values[K
  ok [1m[32m291[0m expected status values[K
  ok [1m[32m292[0m expected status values[K
  ok [1m[32m293[0m breaker fired 3 times[K
  ok [1m[32m294[0m fails with correct error message[K
  ok [1m[32m295[0m status reports a single failure[K
  ok [1m[32m296[0m status reports 4 fires[K
  ok [1m[32m297[0m fallback is invoked[K
  ok [1m[32m298[0m status reports 1 failure[K
  ok [1m[32m299[0m status reports 1 reject[K
  ok [1m[32m300[0m status reports 5 fires[K
  ok [1m[32m301[0m status reports 1 fallback[K
[1A[1G[1m[32m\u2713 # CircuitBreaker status
[0m[1B[1G
# # CircuitBreaker rolling counts
[K

  ok [1m[32m302[0m expected status values[K
  ok [1m[32m303[0m expected status values[K
  ok [1m[32m304[0m expected status values[K
  ok [1m[32m305[0m breaker succeeded 3 times[K
  ok [1m[32m306[0m should be truthy[K
  ok [1m[32m307[0m breaker reset stats[K
[1A[1G[1m[32m\u2713 # CircuitBreaker rolling counts
[0m[1B[1G
# # CircuitBreaker status listeners
[K

  ok [1m[32m308[0m has successes stat[K
  ok [1m[32m309[0m has fires stat[K
  ok [1m[32m310[0m has failures stat[K
  ok [1m[32m311[0m has fallbacks stat[K
  ok [1m[32m312[0m has rejects stat[K
  ok [1m[32m313[0m has timeouts stat[K
[1A[1G[1m[32m\u2713 # CircuitBreaker status listeners
[0m[1B[1G
# # CircuitBreaker fallback event
[K

  ok [1m[32m314[0m fallback value received[K
[1A[1G[1m[32m\u2713 # CircuitBreaker fallback event
[0m[1B[1G
# # CircuitBreaker events
[K

  ok [1m[32m315[0m fire event fired[K
  ok [1m[32m316[0m success event fired[K
  ok [1m[32m317[0m failure event did not fire[K
  ok [1m[32m318[0m reject event did not fire[K
  ok [1m[32m319[0m open event did not fire[K
  ok [1m[32m320[0m close event did not fire[K
  ok [1m[32m321[0m halfOpen event did not fire[K
  ok [1m[32m322[0m timeout event did not fire[K
  ok [1m[32m323[0m fire event fired[K
  ok [1m[32m324[0m success event did not fire[K
  ok [1m[32m325[0m failure event fired[K
  ok [1m[32m326[0m reject event did not fire[K
  ok [1m[32m327[0m open event fired[K
  ok [1m[32m328[0m close event did not fire[K
  ok [1m[32m329[0m halfOpen event did not fire[K
  ok [1m[32m330[0m timeout event did not fire[K
  ok [1m[32m331[0m fire event fired[K
  ok [1m[32m332[0m success event did not fire[K
  ok [1m[32m333[0m failure event did not fire[K
  ok [1m[32m334[0m reject event fired[K
  ok [1m[32m335[0m open event did not fire[K
  ok [1m[32m336[0m close event did not fire[K
  ok [1m[32m337[0m halfOpen event did not fire[K
  ok [1m[32m338[0m timeout event did not fire[K
  ok [1m[32m339[0m fire event did not fire[K
  ok [1m[32m340[0m success event did not fire[K
  ok [1m[32m341[0m failure event fired[K
  ok [1m[32m342[0m reject event did not fire[K
  ok [1m[32m343[0m open event did not fire[K
  ok [1m[32m344[0m close event did not fire[K
  ok [1m[32m345[0m halfOpen event fired[K
  ok [1m[32m346[0m timeout event did not fire[K
  ok [1m[32m347[0m fire event fired[K
  ok [1m[32m348[0m success event fired[K
  ok [1m[32m349[0m failure event fired[K
  ok [1m[32m350[0m reject event did not fire[K
  ok [1m[32m351[0m open event did not fire[K
  ok [1m[32m352[0m close event fired[K
  ok [1m[32m353[0m halfOpen event did not fire[K
  ok [1m[32m354[0m timeout event did not fire[K
  ok [1m[32m355[0m timeout event fired[K
[1A[1G[1m[32m\u2713 # CircuitBreaker events
[0m[1B[1G
# # circuit halfOpen
[K

  ok [1m[32m356[0m function should fail[K
  ok [1m[32m357[0m breaker should be open[K
  ok [1m[32m358[0m breaker should not be pending close[K
  ok [1m[32m359[0m breaker should be halfOpen[K
  ok [1m[32m360[0m breaker should be pending close[K
  ok [1m[32m361[0m function should fail again[K
  ok [1m[32m362[0m breaker should be open again[K
  ok [1m[32m363[0m breaker should not be halfOpen[K
  ok [1m[32m364[0m breaker should not be pending close[K
  ok [1m[32m365[0m breaker should be halfOpen again[K
  ok [1m[32m366[0m breaker should be pending close[K
  ok [1m[32m367[0m should be strictly equal[K
  ok [1m[32m368[0m breaker should be closed[K
  ok [1m[32m369[0m breaker should not be pending close[K
[1A[1G[1m[32m\u2713 # circuit halfOpen
[0m[1B[1G
# # CircuitBreaker fallback as a rejected promise
[K

  ok [1m[32m370[0m should be strictly equal[K
[1A[1G[1m[32m\u2713 # CircuitBreaker fallback as a rejected promise
[0m[1B[1G
# # CircuitBreaker fallback event as a rejected promise
[K

  ok [1m[32m371[0m should be strictly equal[K
[1A[1G[1m[32m\u2713 # CircuitBreaker fallback event as a rejected promise
[0m[1B[1G
# # CircuitBreaker fallback as a CircuitBreaker
[K

  ok [1m[32m372[0m Fallback value equals input[K
[1A[1G[1m[32m\u2713 # CircuitBreaker fallback as a CircuitBreaker
[0m[1B[1G
# # CircuitBreaker fallback as a CircuitBreaker that fails
[K

  ok [1m[32m373[0m Breaker should fail[K
[1A[1G[1m[32m\u2713 # CircuitBreaker fallback as a CircuitBreaker that fails
[0m[1B[1G
# # CircuitBreaker fallback as a CircuitBreaker
[K

  ok [1m[32m374[0m Fallback value equals input[K
[1A[1G[1m[32m\u2713 # CircuitBreaker fallback as a CircuitBreaker
[0m[1B[1G
# # CircuitBreaker fallback that throws returns a rejected Promise
[K

  ok [1m[32m375[0m should be strictly equal[K
[1A[1G[1m[32m\u2713 # CircuitBreaker fallback that throws returns a rejected Promise
[0m[1B[1G
# # options.maxFailures should be deprecated
[K

  ok [1m[32m376[0m should be strictly equal[K
[1A[1G[1m[32m\u2713 # options.maxFailures should be deprecated
[0m[1B[1G
# # rolling percentile enabled option defaults to true
[K

  ok [1m[32m377[0m rollingPercentilesEnabled should default to true[K
  ok [1m[32m378[0m latencyMean is starts at 0 when rollingPercentilesEnabled is true[K
  ok [1m[32m379[0m 0 percentile should be 0 at the start[K
  ok [1m[32m380[0m 0.25 percentile should be 0 at the start[K
  ok [1m[32m381[0m 0.5 percentile should be 0 at the start[K
  ok [1m[32m382[0m 0.75 percentile should be 0 at the start[K
  ok [1m[32m383[0m 0.9 percentile should be 0 at the start[K
  ok [1m[32m384[0m 0.95 percentile should be 0 at the start[K
  ok [1m[32m385[0m 0.99 percentile should be 0 at the start[K
  ok [1m[32m386[0m 0.995 percentile should be 0 at the start[K
  ok [1m[32m387[0m 1 percentile should be 0 at the start[K
[1A[1G[1m[32m\u2713 # rolling percentile enabled option defaults to true
[0m[1B[1G
# # rolling percentile enabled option set to false
[K

  ok [1m[32m388[0m rollingPercentilesEnabled set to false[K
  ok [1m[32m389[0m latencyMean is -1 when rollingPercentilesEnabled is false[K
  ok [1m[32m390[0m 0 percentile should be -1 when rollingPercentilesEnabled is false[K
  ok [1m[32m391[0m 0.25 percentile should be -1 when rollingPercentilesEnabled is false[K
  ok [1m[32m392[0m 0.5 percentile should be -1 when rollingPercentilesEnabled is false[K
  ok [1m[32m393[0m 0.75 percentile should be -1 when rollingPercentilesEnabled is false[K
  ok [1m[32m394[0m 0.9 percentile should be -1 when rollingPercentilesEnabled is false[K
  ok [1m[32m395[0m 0.95 percentile should be -1 when rollingPercentilesEnabled is false[K
  ok [1m[32m396[0m 0.99 percentile should be -1 when rollingPercentilesEnabled is false[K
  ok [1m[32m397[0m 0.995 percentile should be -1 when rollingPercentilesEnabled is false[K
  ok [1m[32m398[0m 1 percentile should be -1 when rollingPercentilesEnabled is false[K
[1A[1G[1m[32m\u2713 # rolling percentile enabled option set to false
[0m[1B[1G
# # Circuit Breaker success event emits latency
[K

  ok [1m[32m399[0m second argument is the latency[K
[1A[1G[1m[32m\u2713 # Circuit Breaker success event emits latency
[0m[1B[1G
# # Circuit Breaker failure event emits latency
[K

  ok [1m[32m400[0m second argument is the latency[K
[1A[1G[1m[32m\u2713 # Circuit Breaker failure event emits latency
[0m[1B[1G
# # Circuit Breaker failure event emits function parameters
[K

  ok [1m[32m401[0m third argument is the function args[K
  ok [1m[32m402[0m The args parameter is an array[K
  ok [1m[32m403[0m this is the first argument[K
  ok [1m[32m404[0m this is the second argument object[K
  ok [1m[32m405[0m this is the second argument object[K
  ok [1m[32m406[0m this is the third argument[K
[1A[1G[1m[32m\u2713 # Circuit Breaker failure event emits function parameters
[0m[1B[1G
# # Circuit Breaker timeout event emits latency
[K

  ok [1m[32m407[0m second argument is the latency[K
[1A[1G[1m[32m\u2713 # Circuit Breaker timeout event emits latency
[0m[1B[1G
# # Circuit Breaker timeout event emits function parameters
[K

  ok [1m[32m408[0m third argument is the function args[K
  ok [1m[32m409[0m The args parameter is an array[K
  ok [1m[32m410[0m this is the first argument[K
  ok [1m[32m411[0m this is the second argument object[K
  ok [1m[32m412[0m this is the second argument object[K
  ok [1m[32m413[0m this is the third argument[K
[1A[1G[1m[32m\u2713 # Circuit Breaker timeout event emits function parameters
[0m[1B[1G
# # Circuit Breaker timeout with semaphore released
[K

  ok [1m[32m414[0m should be strictly equal[K
[1A[1G[1m[32m\u2713 # Circuit Breaker timeout with semaphore released
[0m[1B[1G
# # CircuitBreaker semaphore rate limiting
[K

  ok [1m[32m415[0m Semaphore rejection status incremented[K
  ok [1m[32m416[0m Semaphore was locked[K
[1A[1G[1m[32m\u2713 # CircuitBreaker semaphore rate limiting
[0m[1B[1G
# # CircuitBreaker default capacity
[K

  ok [1m[32m417[0m should be strictly equal[K
[1A[1G[1m[32m\u2713 # CircuitBreaker default capacity
[0m[1B[1G
# # CircuitBreaker without a timeout
[K

  ok [1m[32m418[0m should be strictly equal[K
[1A[1G[1m[32m\u2713 # CircuitBreaker without a timeout
[0m[1B[1G
# # CircuitBreaker without an action
[K

  ok [1m[32m419[0m (unnamed assert)[K
[1A[1G[1m[32m\u2713 # CircuitBreaker without an action
[0m[1B[1G
# # By default does not have a volume threshold
[K

  ok [1m[32m420[0m should be strictly equal[K
  ok [1m[32m421[0m should be open after initial fire[K
  ok [1m[32m422[0m should not be pending close after initial fire[K
[1A[1G[1m[32m\u2713 # By default does not have a volume threshold
[0m[1B[1G
# # Has a volume threshold before tripping when option is provided
[K

  ok [1m[32m423[0m should not be open before volume threshold has been reached[K
  ok [1m[32m424[0m should not be pending close before volume threshold has been reached[K
  ok [1m[32m425[0m not open before volume threshold has been reached[K
  ok [1m[32m426[0m not pending close before volume threshold has been reached[K
  ok [1m[32m427[0m should be strictly equal[K
  ok [1m[32m428[0m should be open after volume threshold has been reached[K
[1A[1G[1m[32m\u2713 # Has a volume threshold before tripping when option is provided
[0m[1B[1G
# # volume threshold does not affect halfOpen state
[K

  ok [1m[32m429[0m breaker should still be open after one failure[K
  ok [1m[32m430[0m breaker should be open[K
  ok [1m[32m431[0m breaker should be in halfOpen state[K
  ok [1m[32m432[0m statistical window cleared[K
  ok [1m[32m433[0m breaker should be in the open state[K
[1A[1G[1m[32m\u2713 # volume threshold does not affect halfOpen state
[0m[1B[1G
# # By default does not allow for warmup
[K

  ok [1m[32m434[0m should be strictly equal[K
  ok [1m[32m435[0m should be open after initial fire[K
  ok [1m[32m436[0m should not be pending close after initial fire[K
[1A[1G[1m[32m\u2713 # By default does not allow for warmup
[0m[1B[1G
# # Allows for warmup when option is provided
[K

  ok [1m[32m437[0m should be strictly equal[K
  ok [1m[32m438[0m should not be open after initial fire[K
  ok [1m[32m439[0m should not be pending close after initial fire[K
[1A[1G[1m[32m\u2713 # Allows for warmup when option is provided
[0m[1B[1G
# # Only warms up for rollingCountTimeout
[K

  ok [1m[32m440[0m should be strictly equal[K
  ok [1m[32m441[0m should not be open after initial fire[K
  ok [1m[32m442[0m should not be pending close after initial fire[K
  ok [1m[32m443[0m Warmup should end after rollingCountTimeout[K
[1A[1G[1m[32m\u2713 # Only warms up for rollingCountTimeout
[0m[1B[1G
# # tests 443
[K

[1A[1G[1m[32m\u2713 # tests 443
[0m[1B[1G
# # pass  443
[K

[1A[1G[1m[32m\u2713 # pass  443
[0m[1B[1G
# # ok
[K
-----------------------------------------------
Running test test_client_kube (starting at 2024-01-23 20:42:07-05:00) ... 
-----------------------------------------------
Running kube-service-bindings client test
Running kube-service-bindings test suite
fatal: destination path '/var/tmp/daily_scl_tests/rhel9-test-upstream/plans/nightly-container-rhel9/data/s2i-nodejs-container/test/kube-service-bindings' already exists and is not an empty directory.
STEP 1/11: FROM ubi9/nodejs-20:1
STEP 2/11: LABEL "io.openshift.s2i.build.image"="ubi9/nodejs-20:1"       "io.openshift.s2i.build.source-location"="file:///var/tmp/daily_scl_tests/rhel9-test-upstream/plans/nightly-container-rhel9/data/s2i-nodejs-container/test/kube-service-bindings"
--> 3b97b8add6af
STEP 3/11: USER root
--> ebbf81665b2c
STEP 4/11: COPY upload/src/ /tmp/src
--> 56b833897041
STEP 5/11: RUN chown -R 1001:0 /tmp/src
--> bd07084af8ec
STEP 6/11: ENV NPM_MIRROR=https://repository.engineering.redhat.com/nexus/repository/registry.npmjs.org
--> 2c40f8eab3d1
STEP 7/11: ENV NODE_ENV=development
--> 6cc72b8125c5
STEP 8/11: RUN cd /etc/pki/ca-trust/source/anchors && update-ca-trust extract
--> f8deea76d3ff
STEP 9/11: USER 1001
--> 39ef47030cb7
STEP 10/11: RUN /usr/libexec/s2i/assemble
---> Installing application source ...
---> Building your Node application from source

added 507 packages, and audited 508 packages in 12s

102 packages are looking for funding
  run `npm fund` for details

4 vulnerabilities (2 moderate, 1 high, 1 critical)

To address all issues, run:
  npm audit fix

Run `npm audit` for details.
npm notice 
npm notice New minor version of npm available! 10.1.0 -> 10.3.0
npm notice Changelog: <https://github.com/npm/cli/releases/tag/v10.3.0>
npm notice Run `npm install -g npm@10.3.0` to update!
npm notice 
--> 69186e63a2b5
STEP 11/11: CMD /usr/libexec/s2i/run
COMMIT ubi9/nodejs-20:1-kube-service-bindings
--> dff72bf08d05
Successfully tagged localhost/ubi9/nodejs-20:1-kube-service-bindings
dff72bf08d0506fd48a6fde87e99d8c29f3c45490da2342bfb341a053137d5b9

> kube-service-bindings@3.0.0 pretest
> npm run lint


> kube-service-bindings@3.0.0 lint
> eslint --ignore-path .gitignore .


> kube-service-bindings@3.0.0 test
> nyc mocha --recursive



  basic tests
    \u2714 Should return raw bindings data.
Warning: Not specifying client will be deprecated in future version.
    \u2714 should throw error: Error: Unknown service type
    \u2714 should throw error: Error: Invalid Arguments
    \u2714 should throw error: Error: Unknown client
Warning: Not specifying client will be deprecated in future version.
    \u2714 no client
Warning: Passing id without using bindingOptions object is deprecated.
Set id as attribute of bindingOptions instead.
    \u2714 should throw error: Error: No Binding Found

  basic tests 2
Warning: Not specifying client will be deprecated in future version.
    \u2714 should throw error: Error: No Binding Found

  No service binding variable provided on process environment.
Warning: Not specifying client will be deprecated in future version.
    \u2714 should throw error: No SERVICE_BINDING_ROOT env variable Found
    \u2714 Should throw error: No SERVICE_BINDING_ROOT env variable Found

  AMQ
    rhea on amqp-bindings
      \u2714 Default behaviour
      \u2714 Does NOT Remove Unmapped Values
      \u2714 Remove Unmapped Values
    rhea on rabbitmq-bindings
      \u2714 Default behaviour
      \u2714 Does NOT Remove Unmapped Values
      \u2714 Remove Unmapped Values
    rhea passing amq bindng data as parameter.
      \u2714 Default behaviour
      \u2714 Do NOT Remove Unmapped Values
      \u2714 Remove Unmapped Values

  KAFKA
    kafkajs
      \u2714 Does NOT Remove Unmapped Values
      \u2714 Removes Unmapped Values
      \u2714 Defaul behaviour
      Passing bindng data as parameter.
        \u2714 Does NOT Remove Unmapped Values
        \u2714 Removes Unmapped Values
        \u2714 Defaul behaviour
    node-rdkafka
      \u2714 Does NOT Remove Unmapped Values
      \u2714 Removes Unmapped Values
      \u2714 Default behaviour
      Passing bindng data as parameter.
        \u2714 Does NOT Remove Unmapped Values
        \u2714 Removes Unmapped Values
        \u2714 Default behaviour

  MongoDB
    mongodb on mongodb-bindings
      \u2714 Default behaviour
    mongodb on mongodb-bindings-without-username-password
      \u2714 Default behaviour
    mongodb on mongodb-bindings-with-port
      \u2714 Default behaviour
    mongodb on passing binding data as arguments
      \u2714 Default behaviour
    mongoose on mongodb-bindings 
      \u2714 Default behavior
      \u2714 Remove unmapped values
      \u2714 Do NOT Remove unmapped values
    mongoose on mongodb-bindings-with-port
      \u2714 Default Behaviour
      \u2714 Remove unmapped values
      \u2714 Do NOT Remove unmapped values

  MySQL
    mysql2 on mysql-bindings
      \u2714 Default behaviour.
      \u2714 Do NOT Remove Unmapped Values
      \u2714 Remove Unmapped Values
    mysql2 Passing binding data as arguments
      \u2714 Default behaviour.
      \u2714 Do NOT Remove Unmapped Values
      \u2714 Removes Unmapped Values
    mysql on mysql-bindings
      \u2714 Default behaviour
      \u2714 Remove Unmapped Values
      \u2714 Does NOT Remove Unmapped Values
    mysql passing binding data as arguments
      \u2714 Default behaviour
      \u2714 Removes Unmapped Values
      \u2714 Does NOT Remove Unmapped Values
    ODBC Client on mysql-bindings
      \u2714 Default behaviour
      \u2714 Do NOT Remove Unmapped Values
      \u2714 Remove Unmapped Values
    ODBC Client passing binding data as arguments
      \u2714 Default behaviour
      \u2714 Do NOT Remove Unmapped Values
      \u2714 Remove Unmapped Values

  PSQL
    pg client on postgresql-rhoda
      \u2714 Default behaviour.
      \u2714 Removes Unmapped Values
      \u2714 Does NOT Remove Unmapped Values
    pg client on crunchy-data-postgres-operator
      \u2714 Default behaviour.
      \u2714 Removes Unmapped Values
      \u2714 Does NOT Remove Unmapped Values
    ODBC client on crunchy-data-postgres-operator
Warning: File tls.key does not have proper permissions.
Set allowCopy option to true, for copy/pasting file with proper permissions under app directory.
**By enabling this options, this might be a potential security risk**
      \u2714 Default behavior & Does NOT copy tls.key in another directory with proper permissions.
      \u2714 Removes Unmapped Values & copies tls.key file in another location with altered/proper permissions.
Warning: File tls.key does not have proper permissions.
Set allowCopy option to true, for copy/pasting file with proper permissions under app directory.
**By enabling this options, this might be a potential security risk**
      \u2714 Removes Unmapped Values & does NOT copy tls.key file in another directory.
      \u2714 Does NOT Remove Unmapped Values & copies tls.key file in another directory with altered/proper permissions.
Warning: File tls.key does not have proper permissions.
Set allowCopy option to true, for copy/pasting file with proper permissions under app directory.
**By enabling this options, this might be a potential security risk**
      \u2714 Does NOT Remove Unmapped Values & does NOT copy tls.key file in another directory with altered/proper permissions.
      \u2714 Removes Unmapped Values & copies tls.key file in another directory with altered/proper permissions.
Warning: File tls.key does not have proper permissions.
Set allowCopy option to true, for copy/pasting file with proper permissions under app directory.
**By enabling this options, this might be a potential security risk**
      \u2714 Removes Unmapped Values & does NOT copy tls.key file in another directory.

  Redis
    ioredis on redis-bindings
      \u2714 Default Behaviour
    ioredis on redis-bindings
      \u2714 Default Behaviour

  utils tests
    \u2714 buildOptionParam
    Validates the isKnownServiceType function
      \u2714 AMQP
      \u2714 KAFKA
      \u2714 MONGODB
      \u2714 MYSQL
      \u2714 POSTGRESQL
      \u2714 REDIS


  80 passing (248ms)

(node:45) [DEP0147] DeprecationWarning: In future versions of Node.js, fs.rmdir(path, { recursive: true }) will be removed. Use fs.rm(path, { recursive: true }) instead
(Use `node --trace-deprecation ...` to show where the warning was created)
------------------------|---------|----------|---------|---------|-------------------
File                    | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------------------|---------|----------|---------|---------|-------------------
All files               |     100 |    97.47 |   97.72 |     100 |                   
 src                    |     100 |      100 |     100 |     100 |                   
  index.js              |     100 |      100 |     100 |     100 |                   
 src/clients/AMQP       |     100 |      100 |     100 |     100 |                   
  rhea.js               |     100 |      100 |     100 |     100 |                   
 src/clients/KAFKA      |     100 |       75 |     100 |     100 |                   
  kafkajs.js            |     100 |       75 |     100 |     100 | 16                
  node-rdkafka.js       |     100 |      100 |     100 |     100 |                   
 src/clients/MONGODB    |     100 |      100 |     100 |     100 |                   
  mongodb.js            |     100 |      100 |     100 |     100 |                   
  mongoose.js           |     100 |      100 |     100 |     100 |                   
 src/clients/MYSQL      |     100 |      100 |     100 |     100 |                   
  mysql.js              |     100 |      100 |     100 |     100 |                   
  mysql2.js             |     100 |      100 |     100 |     100 |                   
  odbc.js               |     100 |      100 |     100 |     100 |                   
 src/clients/POSTGRESQL |     100 |      100 |     100 |     100 |                   
  odbc.js               |     100 |      100 |     100 |     100 |                   
  pg.js                 |     100 |      100 |     100 |     100 |                   
 src/clients/REDIS      |     100 |      100 |     100 |     100 |                   
  ioredis.js            |     100 |      100 |     100 |     100 |                   
  redis.js              |     100 |      100 |     100 |     100 |                   
 src/options            |     100 |      100 |     100 |     100 |                   
  defaultOptions.js     |     100 |      100 |     100 |     100 |                   
 src/utils              |     100 |    97.05 |   96.55 |     100 |                   
  index.js              |     100 |    97.05 |   96.55 |     100 | 104,216           
 src/utils/messages     |     100 |      100 |     100 |     100 |                   
  index.js              |     100 |      100 |     100 |     100 |                   
------------------------|---------|----------|---------|---------|-------------------
-----------------------------------------------
Running test test_client_faas (starting at 2024-01-23 20:42:39-05:00) ... 
-----------------------------------------------
Running faas-js-runtime client test
Running faas-js-runtime test suite
fatal: destination path '/var/tmp/daily_scl_tests/rhel9-test-upstream/plans/nightly-container-rhel9/data/s2i-nodejs-container/test/faas-js-runtime' already exists and is not an empty directory.
STEP 1/11: FROM ubi9/nodejs-20:1
STEP 2/11: LABEL "io.openshift.s2i.build.image"="ubi9/nodejs-20:1"       "io.openshift.s2i.build.source-location"="file:///var/tmp/daily_scl_tests/rhel9-test-upstream/plans/nightly-container-rhel9/data/s2i-nodejs-container/test/faas-js-runtime"
--> 2be7e45c636f
STEP 3/11: USER root
--> 883dbad548ae
STEP 4/11: COPY upload/src/ /tmp/src
--> d63412d7523a
STEP 5/11: RUN chown -R 1001:0 /tmp/src
--> c71665896242
STEP 6/11: ENV NPM_MIRROR=https://repository.engineering.redhat.com/nexus/repository/registry.npmjs.org
--> 7c88291dbd25
STEP 7/11: ENV NODE_ENV=development
--> 2abfaff09a0f
STEP 8/11: RUN cd /etc/pki/ca-trust/source/anchors && update-ca-trust extract
--> f9d4d7f59667
STEP 9/11: USER 1001
--> d2ee5432d3ed
STEP 10/11: RUN /usr/libexec/s2i/assemble
---> Installing application source ...
---> Building your Node application from source
npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: '@cyclonedx/cyclonedx-npm@1.12.1',
npm WARN EBADENGINE   required: { node: '>=14', npm: '6 - 9' },
npm WARN EBADENGINE   current: { node: 'v20.9.0', npm: '10.1.0' }
npm WARN EBADENGINE }

added 568 packages, and audited 569 packages in 22s

132 packages are looking for funding
  run `npm fund` for details

2 vulnerabilities (1 moderate, 1 critical)

To address all issues, run:
  npm audit fix

Run `npm audit` for details.
npm notice 
npm notice New minor version of npm available! 10.1.0 -> 10.3.0
npm notice Changelog: <https://github.com/npm/cli/releases/tag/v10.3.0>
npm notice Run `npm install -g npm@10.3.0` to update!
npm notice 
--> a907a9e5ca5a
STEP 11/11: CMD /usr/libexec/s2i/run
COMMIT ubi9/nodejs-20:1-faas-js-runtime
--> c2f86127ed56
Successfully tagged localhost/ubi9/nodejs-20:1-faas-js-runtime
c2f86127ed5680380094b1a32d2dd4ba31198c57a4a839c5443bfdc6d51fa502

> faas-js-runtime@2.2.3 pretest
> npm run lint


> faas-js-runtime@2.2.3 lint
> eslint --ignore-path .gitignore .


> faas-js-runtime@2.2.3 test
> npm run test:source && npm run test:types


> faas-js-runtime@2.2.3 test:source
> nyc --reporter=lcovonly tape test/test*.js | colortape

Browserslist: caniuse-lite is outdated. Please run:
  npx browserslist@latest --update-db
  Why you should do it regularly: https://github.com/browserslist/browserslist#browsers-data-updating
Installing dependencies for /opt/app-root/src/test/fixtures/cjs-module
Installing dependencies for /opt/app-root/src/test/fixtures/esm-module-mjs
Installing dependencies for /opt/app-root/src/test/fixtures/esm-module-type-module
Installing dependencies for /opt/app-root/src/test/fixtures/esm-module-type-up-dir
Installing dependencies for /opt/app-root/src/test/fixtures/http-get
TAP version 13
[36m# Handles CloudEvents with image/png data[0m
[32mok 1 No error[0m
[32mok 2 should be deeply equivalent[0m
[36m# Handles CloudEvents with image/jpg data[0m
[32mok 3 No error[0m
[32mok 4 should be deeply equivalent[0m
[36m# Handles CloudEvents with image/gif data[0m
[32mok 5 No error[0m
[32mok 6 should be deeply equivalent[0m
[36m# Provides HTTP request headers with the context parameter[0m
[32mok 7 should be strictly equal[0m
[32mok 8 No error[0m
[36m# Provides HTTP request body with the context parameter[0m
[32mok 9 should be deeply equivalent[0m
[32mok 10 No error[0m
[36m# Provides HTTP request rawBody with the context parameter[0m
[32mok 11 should be deeply equivalent[0m
[32mok 12 should be strictly equal[0m
[32mok 13 No error[0m
[36m# Provides HTTP request query parameters with the context parameter[0m
[32mok 14 No error[0m
[32mok 15 should be strictly equal[0m
[32mok 16 should be strictly equal[0m
[36m# Provides HTTP method information with the context parameter[0m
[32mok 17 No error[0m
[32mok 18 should be strictly equal[0m
[36m# Provides HTTP version information with the context parameter[0m
[32mok 19 No error[0m
[32mok 20 should be strictly equal[0m
[32mok 21 should be strictly equal[0m
[32mok 22 should be strictly equal[0m
[36m# Returns HTTP error code if a caught error has one[0m
[32mok 23 No error[0m
[32mok 24 Status code[0m
{"level":50,"time":1706060625384,"pid":65,"hostname":"921e583e925d","node_version":"v20.9.0","reqId":"req-1","msg":"Error processing user function"}
[36m# Prints an error message when an exception is thrown[0m
{"level":50,"time":1706060625399,"pid":65,"hostname":"921e583e925d","node_version":"v20.9.0","reqId":"req-1","msg":"Error processing user function"}
[32mok 25 No error[0m
[32mok 26 Error message[0m
[36m# Loads a CJS function[0m
[32mok 27 should be strictly equal[0m
[32mok 28 CJS function loaded[0m
[36m# Loads an ESM function with an .mjs extension[0m
[32mok 29 should be strictly equal[0m
[32mok 30 ESM module with a mjs ext loaded[0m
[36m# Loads an ESM function with the type=module in the package.json[0m
[32mok 31 should be strictly equal[0m
[32mok 32 ESM module with a type=module in the package.json[0m
[36m# Loads an ESM function with the type=module in package.json in a parent dir and a .js extension[0m
[32mok 33 should be strictly equal[0m
[32mok 34 ESM module with a type=module in a package.json in parent directory[0m
[36m# Provides HTTP POST string as string parameter[0m
[32mok 35 should be strictly equal[0m
[32mok 36 No error[0m
[36m# Provides HTTP POST string as string parameter and rawBody[0m
[32mok 37 should be strictly equal[0m
[32mok 38 should be strictly equal[0m
[32mok 39 No error[0m
[36m# Provides HTTP POST JSON as object parameter[0m
[32mok 40 should be deeply equivalent[0m
[32mok 41 No error[0m
[36m# Provides HTTP POST JSON as object parameter with correct rawBody[0m
[32mok 42 should be deeply equivalent[0m
[32mok 43 should be strictly equal[0m
[32mok 44 No error[0m
[36m# Provides HTTP POST empty body as empty string parameter[0m
[32mok 45 should be deeply equivalent[0m
[32mok 46 No error[0m
[36m# Provides HTTP POST empty body as empty string parameter and rawBody[0m
[32mok 47 should be strictly equal[0m
[32mok 48 should be strictly equal[0m
[32mok 49 No error[0m
[36m# Enforces the handle function to exist[0m
[32mok 50 handle function is required[0m
[36m# Calls init before the server has started[0m
[32mok 51 init was called[0m
[36m# Bubbles up any exceptions thrown by init()[0m
[32mok 52 init failed[0m
[36m# Calls shutdown after the server has stopped[0m
[32mok 53 shutdown was not called before server.close()[0m
[36m# Liveness endpoint can be provided[0m
[32mok 54 No error[0m
[32mok 55 should be strictly equal[0m
[36m# Liveness route can be provided[0m
[32mok 56 No error[0m
[32mok 57 should be strictly equal[0m
[36m# Readiness endpoint can be provided[0m
[32mok 58 No error[0m
[32mok 59 should be strictly equal[0m
[36m# Readiness route can be provided[0m
[32mok 60 No error[0m
[32mok 61 should be strictly equal[0m
[36m# Invocation count[0m
[32mok 62 # TYPE faas_invocations counter[0m
[36m# Error count[0m
[32mok 63 # TYPE faas_errors counter[0m
[36m# Cold start latency[0m
[32mok 64 # TYPE faas_cold_start_latency histogram[0m
[36m# Execution latency[0m
[32mok 65 # TYPE faas_execution_latency histogram[0m
[36m# Queue latency[0m
[32mok 66 # TYPE faas_queue_latency histogram[0m
[36m# CPU utilization[0m
[32mok 67 # TYPE faas_cpu_utilization gauge[0m
[36m# Memory utilization[0m
[32mok 68 # TYPE faas_mem_utilization gauge[0m
[36m# Network I/O utilization[0m
[32mok 69 # TYPE faas_netio_utilization gauge[0m
[36m# Exposes a /metrics endpoint[0m
[36m# Only cacluates metrics for calls to /[0m
[32mok 70 faas_invocations{faas_name="anonymous",faas_id="test",faas_instance="undefined",faas_version="undefined",faas_runtime="Node.js"} 1[0m
[32mok 71 faas_invocations{faas_name="anonymous",faas_id="test",faas_instance="undefined",faas_version="undefined",faas_runtime="Node.js"} 1[0m
[32mok 72 faas_invocations{faas_name="anonymous",faas_id="test",faas_instance="undefined",faas_version="undefined",faas_runtime="Node.js"} 2[0m
[36m# Does not have a global object[0m
[32mok 73 No error[0m
[32mok 74 should be strictly equal[0m
[36m# Has frozen this[0m
[32mok 75 No error[0m
[32mok 76 should be strictly equal[0m
[36m# Does not have a global object[0m
[32mok 77 No error[0m
[32mok 78 should be strictly equal[0m
[36m# Has unfrozen this[0m
[32mok 79 No error[0m
[32mok 80 should be strictly equal[0m
[36m# Loads a user function with dependencies[0m
[32mok 81 No error[0m
[32mok 82 should be strictly equal[0m
[36m# Can respond via an async function[0m
[32mok 83 No error[0m
[32mok 84 should be deeply equivalent[0m
[36m# Accepts HTTP POST requests[0m
[32mok 85 null[0m
[32mok 86 should be strictly equal[0m
[36m# Responds to 0.3 binary cloud events[0m
[32mok 87 No error[0m
[32mok 88 should be deeply equivalent[0m
[36m# Responds with 0.3 binary cloud event[0m
[32mok 89 No error[0m
[32mok 90 should be strictly equal[0m
[32mok 91 should be strictly equal[0m
[32mok 92 should be strictly equal[0m
[32mok 93 should be strictly equal[0m
[32mok 94 should be strictly equal[0m
[36m# Responds to 1.0 binary cloud events[0m
[32mok 95 No error[0m
[32mok 96 should be deeply equivalent[0m
[36m# Responds to 1.0 structured cloud events[0m
[32mok 97 No error[0m
[32mok 98 should be deeply equivalent[0m
[36m# Handles 1.0 CloudEvent responses[0m
[32mok 99 No error[0m
[32mok 100 should be strictly equal[0m
[36m# Handles 1.0 CloudEvent Message responses[0m
[32mok 101 No error[0m
[32mok 102 should be strictly equal[0m
[36m# Extracts event data as the second parameter to a function[0m
[32mok 103 should be strictly equal[0m
[32mok 104 No error[0m
[32mok 105 should be deeply equivalent[0m
[36m# Successfully handles events with no data[0m
[32mok 106 should be truthy[0m
[32mok 107 should be truthy[0m
[32mok 108 No error[0m
[32mok 109 should be deeply equivalent[0m
[36m# Respects response code set by the function[0m
[32mok 110 No error[0m
[36m# Responds HTTP 204 if response body has no content[0m
[32mok 111 No error[0m
[32mok 112 should be strictly equal[0m
[36m# Sends CORS headers in HTTP response[0m
[32mok 113 No error[0m
[32mok 114 should be strictly equal[0m
[36m# Respects headers set by the function[0m
[32mok 115 No error[0m
[32mok 116 should be strictly equal[0m
[36m# Respects content type set by the function[0m
[32mok 117 No error[0m
[32mok 118 should be strictly equal[0m
[36m# Accepts application/json content via HTTP post[0m
[32mok 119 No error[0m
[32mok 120 should be deeply equivalent[0m
[36m# Accepts x-www-form-urlencoded content via HTTP post[0m
[32mok 121 No error[0m
[32mok 122 should be deeply equivalent[0m
[36m# Exposes readiness URL[0m
[32mok 123 No error[0m
[32mok 124 should be strictly equal[0m
[36m# Exposes liveness URL[0m
[32mok 125 No error[0m
[32mok 126 should be strictly equal[0m
[36m# Function accepts destructured parameters[0m
[32mok 127 No error[0m
[32mok 128 should be strictly equal[0m
[36m# Provides logger with appropriate log level configured[0m
[32mok 129 No error[0m
[32mok 130 Logger provided[0m
[36m# Provides logger in context when logging is disabled[0m
[32mok 131 No error[0m
[32mok 132 Logger provided[0m
[36m# Accepts CloudEvents with content type of text/plain[0m
[32mok 133 No error[0m
[32mok 134 should be strictly equal[0m
[36m# Reads a func.yaml file for logLevel[0m
{"level":30,"time":1706060626731,"pid":65,"hostname":"921e583e925d","node_version":"v20.9.0","msg":"Server listening at http://[::]:8080"}
{"level":30,"time":1706060626740,"pid":65,"hostname":"921e583e925d","node_version":"v20.9.0","reqId":"req-1","req":{"method":"GET","url":"/","hostname":"127.0.0.1:8080","remoteAddress":"::ffff:127.0.0.1","remotePort":38500},"msg":"incoming request"}
{"level":40,"time":1706060626740,"pid":65,"hostname":"921e583e925d","node_version":"v20.9.0","reqId":"req-1"}
{"level":30,"time":1706060626741,"pid":65,"hostname":"921e583e925d","node_version":"v20.9.0","reqId":"req-1","res":{"statusCode":204},"responseTime":0.39655599975958467,"msg":"request completed"}
[32mok 135 No error[0m
[36m# Handles HTTP response provided as StructuredReturn[0m
[32mok 136 No error[0m
[32mok 137 should be strictly equal[0m
[32mok 138 body is a buffer[0m

1..138
[36m# tests 138[0m
[36m# pass  138[0m
[36m
# ok[0m


> faas-js-runtime@2.2.3 test:types
> tsd

-----------------------------------------------
Running test test_client_cloudevents (starting at 2024-01-23 20:43:56-05:00) ... 
-----------------------------------------------
Running CloudEvents client test
Running cloudevents test suite
fatal: destination path '/var/tmp/daily_scl_tests/rhel9-test-upstream/plans/nightly-container-rhel9/data/s2i-nodejs-container/test/cloudevents' already exists and is not an empty directory.
STEP 1/11: FROM ubi9/nodejs-20:1
STEP 2/11: LABEL "io.openshift.s2i.build.image"="ubi9/nodejs-20:1"       "io.openshift.s2i.build.source-location"="file:///var/tmp/daily_scl_tests/rhel9-test-upstream/plans/nightly-container-rhel9/data/s2i-nodejs-container/test/cloudevents"
--> 428ed69324e4
STEP 3/11: USER root
--> 96778d1e158f
STEP 4/11: COPY upload/src/ /tmp/src
--> 9561ab4dc6a6
STEP 5/11: RUN chown -R 1001:0 /tmp/src
--> 6c96532bc830
STEP 6/11: ENV NPM_MIRROR=https://repository.engineering.redhat.com/nexus/repository/registry.npmjs.org
--> 57b7d47582ef
STEP 7/11: ENV NODE_ENV=development
--> 1719516ee4ae
STEP 8/11: RUN cd /etc/pki/ca-trust/source/anchors && update-ca-trust extract
--> 40e072b77feb
STEP 9/11: USER 1001
--> 64674fbf0d24
STEP 10/11: RUN /usr/libexec/s2i/assemble
---> Installing application source ...
---> Building your Node application from source
npm WARN deprecated libnpmconfig@1.2.1: This module is not used anymore. npm config is parsed by npm itself and by @npmcli/config

added 777 packages, and audited 778 packages in 23s

219 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (5 moderate, 3 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
npm notice 
npm notice New minor version of npm available! 10.1.0 -> 10.3.0
npm notice Changelog: <https://github.com/npm/cli/releases/tag/v10.3.0>
npm notice Run `npm install -g npm@10.3.0` to update!
npm notice 
--> a4923e8cfad9
STEP 11/11: CMD /usr/libexec/s2i/run
COMMIT ubi9/nodejs-20:1-cloudevents
--> 391e86a8d6ed
Successfully tagged localhost/ubi9/nodejs-20:1-cloudevents
391e86a8d6ed73d5a134cf21a658c34fd33e90077aec00cc7ab2dd2ae780a4dc

> cloudevents@8.0.0 pretest
> npm run lint && npm run build && npm run conformance


> cloudevents@8.0.0 lint
> npm run lint:md && npm run lint:js


> cloudevents@8.0.0 lint:md
> remark .

[4m[32mAPI_TRANSITION_GUIDE.md[39m[24m: no issues found
[4m[32mCHANGELOG.md[39m[24m: no issues found
[4m[32mCONTRIBUTING.md[39m[24m: no issues found
[4m[32mREADME.md[39m[24m: no issues found
[4m[32mRELEASE_GUIDELINES.md[39m[24m: no issues found
[4m[32mexamples/express-ex/README.md[39m[24m: no issues found
[4m[32mexamples/mqtt-ex/README.md[39m[24m: no issues found
[4m[32mexamples/typescript-ex/README.md[39m[24m: no issues found
[4m[32mexamples/websocket/README.md[39m[24m: no issues found
[4m[32mmaintainer_guidelines.md[39m[24m: no issues found
[4m[32mpr_guidelines.md[39m[24m: no issues found

> cloudevents@8.0.0 lint:js
> eslint 'src/**/*.{js,ts}' 'test/**/*.{js,ts}' cucumber.js


> cloudevents@8.0.0 build
> npm run build:schema && npm run build:src && npm run build:browser


> cloudevents@8.0.0 build:schema
> ajv compile -c ./src/schema/formats.js -s src/schema/cloudevent.json --strict-types false -o src/schema/v1.js

schema src/schema/cloudevent.json is valid

> cloudevents@8.0.0 build:src
> tsc --project tsconfig.json


> cloudevents@8.0.0 build:browser
> tsc --project tsconfig.browser.json && webpack

asset cloudevents.js 105 KiB [emitted] [minimized] (name: cloudevents) 1 related asset
orphan modules 18.7 KiB [orphan] 14 modules
runtime modules 891 bytes 4 modules
modules by path ./ 305 KiB
  modules by path ./node_modules/ 222 KiB 30 modules
  modules by path ./browser/ 82.7 KiB
    modules by path ./browser/message/ 34.4 KiB 6 modules
    modules by path ./browser/*.js 7.27 KiB 3 modules
    modules by path ./browser/event/*.js 13.3 KiB 3 modules
    modules by path ./browser/transport/ 6.32 KiB 2 modules
    ./browser/schema/v1.js 21.5 KiB [built] [code generated]
http (ignored) 15 bytes [built] [code generated]
https (ignored) 15 bytes [built] [code generated]
webpack 5.76.0 compiled successfully in 4393 ms

> cloudevents@8.0.0 conformance
> cucumber-js ./conformance/features/*-protocol-binding.feature -p default

This Node.js version (v20.9.0) has not been tested with this version of Cucumber; it should work normally, but please raise an issue if you see anything unexpected.


0 scenarios
0 steps
0m00.000s (executing steps: 0m00.000s)
\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510
\u2502 Share your Cucumber Report with your team at https://reports.cucumber.io     \u2502
\u2502                                                                              \u2502
\u2502 Command line option:    --publish                                            \u2502
\u2502 Environment variable:   CUCUMBER_PUBLISH_ENABLED=true                        \u2502
\u2502                                                                              \u2502
\u2502 More information at https://cucumber.io/docs/cucumber/environment-variables/ \u2502
\u2502                                                                              \u2502
\u2502 To disable this message, add this to your ./cucumber.js:                     \u2502
\u2502 module.exports = { default: '--publish-quiet' }                              \u2502
\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518

> cloudevents@8.0.0 test
> mocha --require ts-node/register ./test/integration/**/*.ts



  A batched CloudEvent message over HTTP
    \u2714 Can be created with a typed Message

  A batched CloudEvent message over Kafka
    \u2714 Can be created with a typed Message

  A CloudEvent
    \u2714 Can be constructed with a typed Message
    \u2714 Can be constructed with loose validation
    \u2714 Loosely validated events can be cloned
    \u2714 Loosely validated events throw when validated
    \u2714 serializes as JSON with toString()
    \u2714 serializes as JSON with raw log
    \u2714 Throw a validation error for invalid extension names
    \u2714 Throw a validation error for invalid extension names, more than 20 chars
    \u2714 Throws a validation error for invalid uppercase extension names
    \u2714 CloudEventV1 interface fields should be enumerable
    \u2714 throws TypeError on trying to set any field value
    toJSON()
      \u2714 does not return data field if data_base64 field is set to comply with JSON format spec 3.1.1

  A 1.0 CloudEvent
    \u2714 has retreivable source and type attributes
    \u2714 defaults to specversion 1.0
    \u2714 generates an ID if one is not provided in the constructor
    \u2714 can be constructed with an ID
    \u2714 generates a timestamp by default
    \u2714 can be constructed with a timestamp
    \u2714 can be constructed with a datacontenttype
    \u2714 can be constructed with a dataschema
    \u2714 can be constructed with a subject
    \u2714 throws a TypeError when constructed with a schemaurl
    \u2714 can be constructed with data
    \u2714 can be constructed with data as an Array
    \u2714 can be constructed with data as a number
    \u2714 can be constructed with null data
    \u2714 can be constructed with data as a boolean
    \u2714 can be constructed with binary data
    \u2714 can be constructed with extensions
    \u2714 throws TypeError if the CloudEvent does not conform to the schema
    \u2714 correctly formats a CloudEvent as JSON
    \u2714 throws if the provded source is empty string

  Constants exposed by top level exports
    \u2714 Exports an ENCODING_BASE64 constant
    \u2714 Exports a DATA_ATTRIBUTE constant
    \u2714 Exports a MIME_JSON constant
    \u2714 Exports a MIME_OCTET_STREAM constant
    \u2714 Exports a MIME_CE constant
    \u2714 Exports a MIME_CE_JSON constant
    \u2714 Exports a HEADER_CONTENT_TYPE constant
    \u2714 Exports a DEFAULT_CONTENT_TYPE constant
    \u2714 Exports a DEFAULT_CE_CONTENT_TYPE constant
    V0.3 binary headers constants
      \u2714 Provides a TYPE header
      \u2714 Provides a SPEC_VERSION header
      \u2714 Provides a SOURCE header
      \u2714 Provides an ID header
      \u2714 Provides a TIME header
      \u2714 Provides a SCHEMA_URL header
      \u2714 Provides a CONTENT_ENCODING header
      \u2714 Provides a SUBJECT header
      \u2714 Provides an EXTENSIONS_PREFIX constant
    V0.3 structured attributes constants
      \u2714 Provides a TYPE attribute
      \u2714 Provides a SPEC_VERSION attribute
      \u2714 Provides a SOURCE attribute
      \u2714 Provides an ID attribute
      \u2714 Provides a TIME attribute
      \u2714 Provides a SCHEMA_URL attribute
      \u2714 Provides a CONTENT_ENCODING attribute
      \u2714 Provides a SUBJECT attribute
      \u2714 Provides a DATA attribute
    V01 binary headers constants
      \u2714 Provides a TYPE header
      \u2714 Provides a SPEC_VERSION header
      \u2714 Provides a SOURCE header
      \u2714 Provides an ID header
      \u2714 Provides a TIME header
      \u2714 Provides a DATA_SCHEMA header
      \u2714 Provides a SUBJECT header
      \u2714 Provides an EXTENSIONS_PREFIX constant
    V1 structured attributes constants
      \u2714 Provides a TYPE attribute
      \u2714 Provides a SPEC_VERSION attribute
      \u2714 Provides a SOURCE attribute
      \u2714 Provides an ID attribute
      \u2714 Provides a TIME attribute
      \u2714 Provides a DATA_SCHEMA attribute
      \u2714 Provides a CONTENT_TYPE attribute
      \u2714 Provides a SUBJECT attribute
      \u2714 Provides a DATA attribute
      \u2714 Provides a DATA_BASE64 attribute

  emitterFor() defaults
    \u2714 Defaults to HTTP binding, binary mode
    \u2714 Supports HTTP binding, structured mode

  HTTP Transport Binding for emitterFactory
    HTTPS builtin
      \u2714 Works as a binary event emitter
    HTTP builtin
      \u2714 Works as a binary event emitter
      \u2714 Works as a structured event emitter
    Axios
      \u2714 Works as a binary event emitter
      \u2714 Works as a structured event emitter
    SuperAgent
      \u2714 Works as a binary event emitter
      \u2714 Works as a structured event emitter
    Got
      \u2714 Works as a binary event emitter
      \u2714 Works as a structured event emitter

  Emitter Singleton
    \u2714 emit a Node.js 'cloudevent' event as an EventEmitter
    \u2714 emit a Node.js 'cloudevent' event as an EventEmitter with ensureDelivery
    \u2714 emit a Node.js 'cloudevent' event as an EventEmitter with ensureDelivery Error

  Kafka transport
    \u2714 Handles events with no content-type and no datacontenttype
    \u2714 Can detect invalid CloudEvent Messages
    \u2714 Can detect valid CloudEvent Messages
    \u2714 Handles CloudEvents with datacontenttype of text/plain
    \u2714 Respects extension attribute casing (even if against spec)
    \u2714 Can detect CloudEvent binary Messages with weird versions
    \u2714 Can detect CloudEvent structured Messages with weird versions
    \u2714 Does not throw an exception when converting an invalid Message to a CloudEvent
    \u2714 Does not allow an invalid CloudEvent to be converted to a Message
    \u2714 Maps `KafkaMessage#key` value to CloudEvent#partitionkey property
    \u2714 Maps CloudEvent#partitionkey value to a `key` in binary KafkaMessages
    \u2714 Binary Messages can be created from a CloudEvent
    \u2714 Structured Messages can be created from a CloudEvent
    \u2714 A CloudEvent can be converted from a binary Message
    \u2714 A CloudEvent can be converted from a binary Message
    \u2714 A CloudEvent can be converted from a structured Message
    \u2714 Converts binary data to base64 when serializing structured messages
    - Converts base64 encoded data to binary when deserializing structured messages
    \u2714 Converts base64 encoded data to binary when deserializing binary messages
    \u2714 Keeps binary data binary when serializing binary messages
    \u2714 Does not parse binary data from binary messages with content type application/json

  HTTP transport
    \u2714 validates extension attribute names for incoming messages
    \u2714 Includes extensions in binary mode when type is 'boolean' with a false value
    \u2714 Includes extensions in structured when type is 'boolean' with a false value
    \u2714 Handles big integers in structured mode
    \u2714 Handles big integers in binary mode
    \u2714 Handles events with no content-type and no datacontenttype
    \u2714 Can detect invalid CloudEvent Messages
    \u2714 Can detect valid CloudEvent Messages
    \u2714 Handles CloudEvents with datacontenttype of text/plain
    \u2714 Respects extension attribute casing (even if against spec)
    \u2714 Can detect CloudEvent binary Messages with weird versions
    \u2714 Can detect CloudEvent structured Messages with weird versions
    \u2714 Does not throw an exception when converting an invalid Message to a CloudEvent
    \u2714 Does not allow an invalid CloudEvent to be converted to a Message
    \u2714 Can be created with Node's IncomingHttpHeaders
    Specification version V1
      \u2714 Binary Messages can be created from a CloudEvent
      \u2714 Structured Messages can be created from a CloudEvent
      \u2714 A CloudEvent can be converted from a binary Message
      \u2714 A CloudEvent can be converted from a structured Message
      \u2714 Converts binary data to base64 when serializing structured messages
      \u2714 Converts base64 encoded data to binary when deserializing structured messages
      \u2714 Does not parse binary data from structured messages with content type application/json
      \u2714 Converts base64 encoded data to binary when deserializing binary messages
      \u2714 Keeps binary data binary when serializing binary messages
      \u2714 Does not parse binary data from binary messages with content type application/json
    Specification version V03
      \u2714 Binary Messages can be created from a CloudEvent
      \u2714 Structured Messages can be created from a CloudEvent
      \u2714 A CloudEvent can be converted from a binary Message
      \u2714 A CloudEvent can be converted from a structured Message
      \u2714 Converts binary data to base64 when serializing structured messages
      \u2714 Converts base64 encoded data to binary when deserializing structured messages
      \u2714 Converts base64 encoded data to binary when deserializing binary messages
      \u2714 Keeps binary data binary when serializing binary messages

  MQTT transport
    \u2714 Handles events with no content-type and no datacontenttype
    \u2714 Can detect invalid CloudEvent Messages
    \u2714 Can detect valid CloudEvent Messages
    \u2714 Handles CloudEvents with datacontenttype of text/plain
    \u2714 Respects extension attribute casing (even if against spec)
    \u2714 Can detect CloudEvent binary Messages with weird versions
    \u2714 Can detect CloudEvent structured Messages with weird versions
    \u2714 Does not throw an exception when converting an invalid Message to a CloudEvent
    \u2714 Does not allow an invalid CloudEvent to be converted to a Message
    \u2714 Binary Messages can be created from a CloudEvent
    \u2714 Sets User Properties on binary messages
    \u2714 Structured Messages can be created from a CloudEvent
    \u2714 A CloudEvent can be converted from a binary Message
    \u2714 A CloudEvent can be converted from a structured Message
    \u2714 Converts binary data to base64 when serializing structured messages
    \u2714 Converts base64 encoded data to binary when deserializing structured messages
    \u2714 Converts base64 encoded data to binary when deserializing binary messages
    \u2714 Keeps binary data binary when serializing binary messages
    \u2714 Does not parse binary data from binary messages with content type application/json

  JSON Event Format Parser
    \u2714 Throw error when payload is an integer
    \u2714 Throw error when payload is null
    \u2714 Throw error when payload is undefined
    \u2714 Throw error when payload is a float
    \u2714 Throw error when payload is an invalid JSON
    \u2714 Accepts a string as valid JSON
    \u2714 Must accept when the payload is a string well formed as JSON

  The SDK Requirements
    \u2714 should expose a CloudEvent type
    v0.3
      \u2714 should create an (invalid) event using the right spec version
    v1.0
      \u2714 should create an event using the right spec version
    Cloning events
      \u2714 should clone simple objects that adhere to the CloudEventV1 interface
      \u2714 should clone simple objects with data that adhere to the CloudEventV1 interface

  CloudEvents Spec v1.0
    REQUIRED Attributes
      \u2714 Should have 'id'
      \u2714 Should have 'source'
      \u2714 Should have 'specversion'
      \u2714 Should have 'type'
    OPTIONAL Attributes
      \u2714 Should have 'datacontenttype'
      \u2714 Should have 'dataschema'
      \u2714 Should have 'subject'
      \u2714 Should have 'time'
    Extensions Constraints
      \u2714 should be ok when type is 'boolean'
      \u2714 should be ok when type is 'integer'
      \u2714 should be ok when type is 'string'
      \u2714 should be ok when type is 'Uint32Array' for 'Binary'
      \u2714 should be ok when type is 'Date' for 'Timestamp'
      \u2714 should be ok when the type is an object
      \u2714 should be ok when the type is an string converted from an object
      \u2714 should only allow a-z|0-9 in the attribute names
    The Constraints check
      'id'
        \u2714 should throw an error when trying to remove
        \u2714 defaut ID create when an empty string
      'source'
        \u2714 should throw an error when trying to remove
      'specversion'
        \u2714 should throw an error when trying to remove
      'type'
        \u2714 should throw an error when trying to remove
      'subject'
        \u2714 should throw an error when is an empty string
      'time'
        \u2714 must adhere to the format specified in RFC 3339
    Event data constraints
      \u2714 Should have 'data'
      \u2714 should maintain the type of data when no datacontenttype is provided
      \u2714 should be ok when type is 'Int8Array' for 'Binary'
      \u2714 should be ok when type is 'Uint8Array' for 'Binary'
      \u2714 should be ok when type is 'Int16Array' for 'Binary'
      \u2714 should be ok when type is 'Uint16Array' for 'Binary'
      \u2714 should be ok when type is 'Int32Array' for 'Binary'
      \u2714 should be ok when type is 'Uint32Array' for 'Binary'
      \u2714 should be ok when type is 'Uint8ClampedArray' for 'Binary'
      \u2714 should be ok when type is 'Float32Array' for 'Binary'
      \u2714 should be ok when type is 'Float64Array' for 'Binary'

  Utilities
    isStringOrThrow
      \u2714 should throw when is not a string
      \u2714 should return true when is a string
    equalsOrThrow
      \u2714 should throw when they are not equals
      \u2714 should return true when they are equals
    isBase64
      \u2714 should return false when is not base64 string
      \u2714 should return true when is a base64 string
    asData
      \u2714 should throw error when data is not a valid json
      \u2714 should parse string content type as string
      \u2714 should parse 'application/json' as json object
      \u2714 should parse 'application/cloudevents+json' as json object
      \u2714 should parse 'text/json' as json object


  222 passing (437ms)
  1 pending

-----------------------------------------------
Running test test_client_fastify (starting at 2024-01-23 20:45:39-05:00) ... 
-----------------------------------------------
Running fastify client test
Running fastify test suite
fatal: destination path '/var/tmp/daily_scl_tests/rhel9-test-upstream/plans/nightly-container-rhel9/data/s2i-nodejs-container/test/fastify' already exists and is not an empty directory.
STEP 1/11: FROM ubi9/nodejs-20:1
STEP 2/11: LABEL "io.openshift.s2i.build.image"="ubi9/nodejs-20:1"       "io.openshift.s2i.build.source-location"="file:///var/tmp/daily_scl_tests/rhel9-test-upstream/plans/nightly-container-rhel9/data/s2i-nodejs-container/test/fastify"
--> 70a43d3e55b3
STEP 3/11: USER root
--> 0ab209ca6960
STEP 4/11: COPY upload/src/ /tmp/src
--> b6d2085ba9c3
STEP 5/11: RUN chown -R 1001:0 /tmp/src
--> cbe701ad1dee
STEP 6/11: ENV NPM_MIRROR=https://repository.engineering.redhat.com/nexus/repository/registry.npmjs.org
--> 95b12753f85a
STEP 7/11: ENV NODE_ENV=development
--> 3b6a48f58418
STEP 8/11: RUN cd /etc/pki/ca-trust/source/anchors && update-ca-trust extract
--> 4aaa072a8ce3
STEP 9/11: USER 1001
--> 090463e45301
STEP 10/11: RUN /usr/libexec/s2i/assemble
---> Installing application source ...
---> Building your Node application from source
npm notice 
npm notice New minor version of npm available! 10.1.0 -> 10.3.0
npm notice Changelog: <https://github.com/npm/cli/releases/tag/v10.3.0>
npm notice Run `npm install -g npm@10.3.0` to update!
npm notice 
npm ERR! code EMFILE
npm ERR! syscall open
npm ERR! path /opt/app-root/src/.npm/_cacache/index-v5/49/61/3db2d2d381d722298196f2287498b8dc2dcc1f053dec8b53c97ed026cf25
npm ERR! errno -24
npm ERR! EMFILE: too many open files, open '/opt/app-root/src/.npm/_cacache/index-v5/49/61/3db2d2d381d722298196f2287498b8dc2dcc1f053dec8b53c97ed026cf25'

npm ERR! A complete log of this run can be found in: /opt/app-root/src/.npm/_logs/2024-01-24T01_45_46_541Z-debug-0.log
Error: building at STEP "RUN /usr/libexec/s2i/assemble": while running runtime: exit status 232
  ERROR: Failed to to build /tmp/tmp.Zk9Vuo8qhj/Dockerfile.5VpQ
Test for image 'ubi9/nodejs-20:1' FAILED (exit code: 1)
Error: short-name resolution enforced but cannot prompt without a TTY
Test for image 'ubi9/nodejs-20:1' FAILED (exit code: 125)
Test for image 'ubi9/nodejs-20:1' FAILED (exit code: 125)
Tests finished with EXIT=0

==============================================
Resources info:
Memory:
               total        used        free      shared  buff/cache   available
Mem:           1.7Gi       519Mi       1.1Gi        39Mi       364Mi       1.2Gi
Swap:             0B          0B          0B
Storage:
Filesystem      Size  Used Avail Use% Mounted on
devtmpfs        4.0M     0  4.0M   0% /dev
tmpfs           889M   84K  888M   1% /dev/shm
tmpfs           356M   39M  317M  11% /run
/dev/vda1        20G  6.5G   14G  33% /
tmpfs           178M   12K  178M   1% /run/user/0
CPU
Architecture:                    x86_64
CPU op-mode(s):                  32-bit, 64-bit
Address sizes:                   46 bits physical, 57 bits virtual
Byte Order:                      Little Endian
CPU(s):                          1
On-line CPU(s) list:             0
Vendor ID:                       GenuineIntel
BIOS Vendor ID:                  Red Hat
Model name:                      Intel Xeon Processor (Icelake)
BIOS Model name:                 RHEL 7.6.0 PC (i440FX + PIIX, 1996)
CPU family:                      6
Model:                           134
Thread(s) per core:              1
Core(s) per socket:              1
Socket(s):                       1
Stepping:                        0
BogoMIPS:                        4589.21
Flags:                           fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush mmx fxsr sse sse2 ss syscall nx pdpe1gb rdtscp lm constant_tsc rep_good nopl xtopology cpuid tsc_known_freq pni pclmulqdq vmx ssse3 fma cx16 pcid sse4_1 sse4_2 x2apic movbe popcnt tsc_deadline_timer aes xsave avx f16c rdrand hypervisor lahf_lm abm 3dnowprefetch cpuid_fault invpcid_single ssbd ibrs ibpb stibp ibrs_enhanced tpr_shadow vnmi flexpriority ept vpid ept_ad fsgsbase tsc_adjust bmi1 avx2 smep bmi2 erms invpcid avx512f avx512dq rdseed adx smap avx512ifma clflushopt clwb avx512cd sha_ni avx512bw avx512vl xsaveopt xsavec xgetbv1 xsaves wbnoinvd arat avx512vbmi umip pku ospke avx512_vbmi2 gfni vaes vpclmulqdq avx512_vnni avx512_bitalg avx512_vpopcntdq la57 rdpid fsrm md_clear arch_capabilities
Virtualization:                  VT-x
Hypervisor vendor:               KVM
Virtualization type:             full
L1d cache:                       32 KiB (1 instance)
L1i cache:                       32 KiB (1 instance)
L2 cache:                        4 MiB (1 instance)
L3 cache:                        16 MiB (1 instance)
NUMA node(s):                    1
NUMA node0 CPU(s):               0
Vulnerability Itlb multihit:     Not affected
Vulnerability L1tf:              Not affected
Vulnerability Mds:               Not affected
Vulnerability Meltdown:          Not affected
Vulnerability Mmio stale data:   Vulnerable: Clear CPU buffers attempted, no microcode; SMT Host state unknown
Vulnerability Retbleed:          Not affected
Vulnerability Spec store bypass: Mitigation; Speculative Store Bypass disabled via prctl
Vulnerability Spectre v1:        Mitigation; usercopy/swapgs barriers and __user pointer sanitization
Vulnerability Spectre v2:        Mitigation; Enhanced IBRS, IBPB conditional, RSB filling, PBRSB-eIBRS Not affected
Vulnerability Srbds:             Not affected
Vulnerability Tsx async abort:   Mitigation; TSX disabled
==============================================
Image ubi9/nodejs-20:1 information:
==============================================
Uncompressed size of the image: 594MB
Compressed size of the image: 206MB

==============================================
Cleaning of testing containers and images started.
It may take a few seconds.
==============================================
Examining image ID files in $APP_ID_FILE_DIR=/tmp/tmp.8ZMY6dJaSU
Untagged: localhost/ubi9/nodejs-20:1-cloudevents
Deleted: 391e86a8d6ed73d5a134cf21a658c34fd33e90077aec00cc7ab2dd2ae780a4dc
Deleted: a4923e8cfad97cb33e1f87152c66d1833f478bed642a1887350120c7eece7c48
Deleted: 64674fbf0d24a7b7bb56efba1bf20c6b067206ad6ee223465224b587687caca5
Deleted: 40e072b77febe51428e90cf9e57f4337b6301e70daa68c1d837565c11b7186ae
Deleted: 1719516ee4aeec34da7da17484ada6c449d29db20ba8b3fbfaa508949e66ebbe
Deleted: 57b7d47582efd037ee0a3a6dda1e5402c9cb8f247d61f3d49c1e993353466d74
Deleted: 6c96532bc8302e942fdc2ca5675ce1948d7364309aa6c5f571918a6fb00558d8
Deleted: 9561ab4dc6a6db219d59fd2eb112d3d42a73eac172f03a5ed8f9d1503d5bed27
Deleted: 96778d1e158f23e96017a1669dcca17962ca36e71dd1b699ceac3c26134c3f03
Deleted: 428ed69324e441a46c90507697818b1824669414ff44eaa4ed289c1f7770867d
Untagged: localhost/ubi9/nodejs-20:1-opossum
Deleted: 9a4e0df395f767cb6b8c2b6c096c894361853ce7a4c6fc27b10c6f9f467bbb12
Deleted: afc18e38d4e727ccd581191633f9904648a541203570235c19873ac94fa6ec49
Deleted: ef5c52e4239bd04dded6d695aafbc55caf4efee620eba83c98dd131f6f819057
Deleted: d3e18eac230bfd5b946555b529aa203fb2cb853e513302daba092f6dd639a991
Deleted: d2d33a56e76c253aa60816941e5f4a8396f5cc47839d6e8055f30960c6b1fdb5
Deleted: cd4272d1830bb961c7349e0bd62fb8097f8ed208a4daaeedb3dd1071cf38ca8b
Deleted: 99e952313bf85c2044b49df4110f53d3f3361fb2dc6f3c53b9656dc99bf0f3f1
Deleted: 2ac7f2b59ea0b46852e2bb1f1b4b36d16f18a9413863c0bb361873c6f9c8b318
Deleted: 8157211b4682c18f6bd30a3874622a866e9490660c6cbcddef2420de3c5b7137
Deleted: 5fd60d59512d66d59c6344e990e2bd1b0ca8c54055cc646158a70c4039a8ad62
Untagged: localhost/ubi9/nodejs-20:1-express
Deleted: a034ec7ed161ca3198b819fc93fe34f076f06032600c59169274a7f952a64734
Deleted: b8c41028dbae5221f1f4978d5b835a4382c8eea8f4833060d4884dd3aa0d6f27
Deleted: 8f7f2cc55a267d797bd2483d1275c3c79e8fd0330db19292d381183fdd1a4b2e
Deleted: f475bbcf19f215cdda6aa205d6119eb8a478ed9c7bbf6d712580223e7302314c
Deleted: a87a23fc52c27d766ecf5dee79f11404bcb9714e8173bf0a393b75cb851d22ae
Deleted: 6690d0c6515aed8287d9cdcd344e0401ae84bacdee3227d46c8cf24f96ce2406
Deleted: 181521aa73d63a258c254d93c61e370c81e07ce540665b852c00d580b25fb323
Deleted: 2d74280c63449e494fd7057fbd6118d659f3cdeef3ee4d94d04964e598f3057b
Deleted: ff60289b548f52401c6005c4b2d485368c2f6539f93c7e2b6048837487525a26
Deleted: 2f508301d8cca85106a7b51b99784c36386914140c9ec8957597234a5684c2fc
Untagged: localhost/ubi9/nodejs-20:1-faas-js-runtime
Deleted: c2f86127ed5680380094b1a32d2dd4ba31198c57a4a839c5443bfdc6d51fa502
Deleted: a907a9e5ca5a9092a60588caec3bba165d47662bd758ac99b8ba76465e8809f6
Deleted: d2ee5432d3ed1525a54f9e28d3893e9a229e133db081d9efb7806bf21ebb8cd7
Deleted: f9d4d7f59667901c623514f4e48ed9786d93261f7d26e353da7c41a0404bb752
Deleted: 2abfaff09a0f02645e419208568848c8444c87b8432e40c70e706154450bbc22
Deleted: 7c88291dbd258a5f8fe52bfa329ebfb2e8416fd5a719f7327ee44510a960c8d9
Deleted: c716658962422c0cf085aa5cf78803f787e82dc47663ae943edcff287d410de7
Deleted: d63412d7523ab236442f01ab562e0d23a7db5d6a7aa2c43ab85766b0e83e3fb6
Deleted: 883dbad548aed9c8e21beb670bc5ebcb203042aa2c746012cb08b9fa2e10514c
Deleted: 2be7e45c636f8f5f573b6147eb80ff24a910c39df80d135ff796e558588d5282
Untagged: localhost/ubi9/nodejs-20:1-kube-service-bindings
Deleted: dff72bf08d0506fd48a6fde87e99d8c29f3c45490da2342bfb341a053137d5b9
Deleted: 69186e63a2b57f622a9a045ee03ae81779d2c7c9dedb44b7b3cef923df7a7423
Deleted: 39ef47030cb7c643d4519cc3e04c26d751b44638b4f85c4e16b77db666277ab8
Deleted: f8deea76d3ff7106449285cbd5bc9fd0a01ce2ec4ea59d202bca012b21d731f1
Deleted: 6cc72b8125c571947369429a6a7dcf3c6328d94ef6ed54bac266b7c0cd308d98
Deleted: 2c40f8eab3d157556a47fb3fa5170e557c5d65c504f868ec727cac7890ddbadb
Deleted: bd07084af8ecab9609a87e04c8cb9fe16d3ba2b340066aae20e30397c70ad641
Deleted: 56b8338970410811372e757a9d5e2fe3ddb817c67ff78754f5244627c9dc9443
Deleted: ebbf81665b2c24347d9ed6d90ae2028c3cc6d9feb5f94cb0478dbd1515f14bc8
Deleted: 3b97b8add6af233a338caf1b5140d37ce80ccc453f7415c782d9289184c4e666
Examining CID files in $CID_FILE_DIR=/tmp/tmp.fRAITkAPkS
==============================================
Tests were run for image ubi9/nodejs-20:1
==============================================
Test cases results:

 [FAILED] for 'clients' test_client_express (00:00:31)
 [FAILED] for 'clients' test_client_prom (00:00:35)
 [PASSED] for 'clients' test_client_opossum (00:01:00)
 [PASSED] for 'clients' test_client_kube (00:00:32)
 [PASSED] for 'clients' test_client_faas (00:01:17)
 [PASSED] for 'clients' test_client_cloudevents (00:01:43)
 [FAILED] for 'clients' test_client_fastify (00:00:36)

Tests for ubi9/nodejs-20:1 failed.
errexit on line 72, common/test.sh
make: *** [Makefile:14: test-upstream] Error 1
